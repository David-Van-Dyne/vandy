{"version":3,"file":"extension.js","mappings":";qiCAEA,MAAMA,EAAkB,IAAIC,IAAI,CAAC,cAAe,YAAa,QAAS,SAMtE,MAAMC,EACF,WAAAC,CAAYC,GACR,IAAIC,EACJC,KAAKC,UAAY,GACjBD,KAAKC,UAA6F,QAAhFF,EAAKD,aAA2C,EAASA,EAASI,MAAM,UAAuB,IAAPH,EAAgBA,EAAK,GAC/HC,KAAKG,sBAAmBC,CAC5B,CACA,SAAAC,CAAUC,EAAQC,EAAU,CAAC,GACzB,GAAIA,EAAQC,OAASD,EAAQE,WACzB,MAAM,IAAIC,MAAM,sDAEpB,GAAIH,EAAQC,QAAUd,EAAgBiB,IAAIJ,EAAQC,OAC9C,MAAM,IAAIE,MAAM,uBAAuBH,EAAQC,SAEnD,GAAID,EAAQE,aAAef,EAAgBiB,IAAIJ,EAAQE,YACnD,MAAM,IAAIC,MAAM,4BAA4BH,EAAQE,cAExDT,KAAKC,UAAUW,KAAK,CAChBN,SACAC,YAEJP,KAAKG,sBAAmBC,CAC5B,CACA,YAAAS,CAAaN,GACT,MAAMO,EAAkB,GAYxB,OAXAd,KAAKC,UAAYD,KAAKC,UAAUc,QAAQC,KAC/BT,EAAQU,MAAQD,EAAiBV,OAAOW,OAASV,EAAQU,MACzDV,EAAQC,OAASQ,EAAiBT,QAAQC,QAAUD,EAAQC,SAC7DM,EAAgBF,KAAKI,EAAiBV,SAC/B,KAMfN,KAAKG,sBAAmBC,EACjBU,CACX,CACA,WAAAI,CAAYC,EAAYC,GAOpB,OANiBpB,KAAKqB,qBACIC,aAAY,CAACC,EAAMjB,IACjCkB,GACGlB,EAAOY,YAAYM,EAAKD,KAEnCC,GAAQL,EAAWD,YAAYM,IAC5BC,CAASL,EACpB,CACA,kBAAAC,GAII,OAHKrB,KAAKG,mBACNH,KAAKG,iBAAmBH,KAAK0B,iBAE1B1B,KAAKG,gBAChB,CACA,KAAAwB,GACI,OAAO,IAAI/B,EAAaI,KAAKC,UACjC,CACA,aAAO2B,GACH,OAAO,IAAIhC,CACf,CACA,aAAA8B,GAoCI,MAAMG,EAAS,GAETC,EAAY,IAAIC,IACtB,SAASC,EAAYf,GACjB,MAAO,CACHA,OACAnB,SAAU,IAAIH,IACdsC,QAAQ,EACRC,kBAAkB,EAE1B,CAEA,MAAMC,EAAiBH,EAAY,aAC7BI,EAAUJ,EAAY,QACtBK,EAAmBL,EAAY,eAC/BM,EAAaN,EAAY,SACzBO,EAAYP,EAAY,QAExBQ,EAAgB,CAACL,EAAgBC,EAASC,EAAkBC,EAAYC,GAE9E,SAASE,EAASjC,GACd,MAAc,UAAVA,EACO8B,EAEQ,cAAV9B,EACE2B,EAEQ,gBAAV3B,EACE6B,EAEQ,SAAV7B,EACE+B,EAGAH,CAEf,CAEA,IAAK,MAAMM,KAAc1C,KAAKC,UAAW,CACrC,MAAMK,EAASoC,EAAWpC,OACpBC,EAAUmC,EAAWnC,QACrBoC,EAAarC,EAAOW,KAC1B,GAAIa,EAAUnB,IAAIgC,GACd,MAAM,IAAIjC,MAAM,kDAEpB,MAAMkC,EAAO,CACTtC,SACAuC,UAAW,IAAIlD,IACfmD,WAAY,IAAInD,KAEhBY,EAAQE,aACRmC,EAAKnC,WAAagC,EAASlC,EAAQE,YACnCmC,EAAKnC,WAAWyB,kBAAmB,GAEvCJ,EAAUiB,IAAIJ,EAAYC,GACZH,EAASlC,EAAQC,OACzBV,SAASkD,IAAIJ,EACvB,CAEA,IAAK,MAAMF,KAAc1C,KAAKC,UAAW,CACrC,MAAM,OAAEK,EAAM,QAAEC,GAAYmC,EACtBC,EAAarC,EAAOW,KACpB2B,EAAOd,EAAUmB,IAAIN,GAC3B,IAAKC,EACD,MAAM,IAAIlC,MAAM,2BAA2BiC,KAE/C,GAAIpC,EAAQ2C,cACR,IAAK,MAAMC,KAAmB5C,EAAQ2C,cAAe,CACjD,MAAME,EAAYtB,EAAUmB,IAAIE,GAC5BC,IAGAR,EAAKC,UAAUG,IAAII,GACnBA,EAAUN,WAAWE,IAAIJ,GAEjC,CAEJ,GAAIrC,EAAQ8C,eACR,IAAK,MAAMC,KAAoB/C,EAAQ8C,eAAgB,CACnD,MAAME,EAAazB,EAAUmB,IAAIK,GAC7BC,IAGAA,EAAWV,UAAUG,IAAIJ,GACzBA,EAAKE,WAAWE,IAAIO,GAE5B,CAER,CACA,SAASC,EAAUhD,GACfA,EAAMyB,QAAS,EAEf,IAAK,MAAMW,KAAQpC,EAAMV,SACrB,KAAI8C,EAAKnC,YAAgBmC,EAAKnC,WAAWwB,SAAUW,EAAKnC,WAAWX,SAAS2D,OAOhD,IAAxBb,EAAKC,UAAUY,KAAY,CAG3B5B,EAAOjB,KAAKgC,EAAKtC,QAGjB,IAAK,MAAMoD,KAAad,EAAKE,WACzBY,EAAUb,UAAUc,OAAOf,GAE/Bd,EAAU6B,OAAOf,EAAKtC,OAAOW,MAC7BT,EAAMV,SAAS6D,OAAOf,EAC1B,CAER,CACA,SAASgB,IACL,IAAK,MAAMpD,KAASgC,EAAe,CAG/B,GAFAgB,EAAUhD,GAENA,EAAMV,SAAS2D,KAAO,GAAKjD,IAAU4B,EAQrC,YAPKA,EAAQH,QAITuB,EAAUpB,IAKd5B,EAAM0B,kBAENsB,EAAUpB,EAElB,CACJ,CAEA,IAAIyB,EAAY,EAChB,KAAO/B,EAAU2B,KAAO,GAAG,CACvBI,IACA,MAAMC,EAAsBjC,EAAOkC,OAMnC,GAJAH,IAII/B,EAAOkC,QAAUD,GAAuBD,EAAY,EACpD,MAAM,IAAInD,MAAM,gEAExB,CACA,OAAOmB,CACX,EAMG,SAASmC,IACZ,OAAOpE,EAAagC,QACxB,eCjQO,MAAM,GAAS,QAAmB,sBCGlC,SAASqC,EAASC,GACrB,QAAyB,iBAAVA,GACD,OAAVA,GACCC,MAAMC,QAAQF,IACbA,aAAiBG,QACjBH,aAAiBI,KAC3B,CCTA,MAAMC,EAAiB,WAEjBC,EAA4B,CAC9B,yBACA,gCACA,iBACA,8BACA,kBACA,oBACA,QACA,2BACA,cACA,mCACA,+BACA,+BACA,8BACA,gCACA,yBACA,iCACA,gCACA,SACA,SACA,kBACA,gBACA,aACA,iBACA,eACA,OACA,OACA,UACA,WACA,oBACA,gBACA,sBACA,gBACA,SACA,aACA,cACA,SACA,oBACA,aACA,oBAEEC,EAAgC,CAAC,eAIhC,MAAMC,EACT,WAAA7E,EAAc8E,6BAA8BC,EAAqB,GAAIC,iCAAkCC,EAAyB,IAAQ,CAAC,GACrIF,EAAqBJ,EAA0BO,OAAOH,GACtDE,EAAyBL,EAA8BM,OAAOD,GAC9D9E,KAAK4E,mBAAqB,IAAIjF,IAAIiF,EAAmBI,KAAKC,GAAMA,EAAEC,iBAClElF,KAAK8E,uBAAyB,IAAInF,IAAImF,EAAuBE,KAAKG,GAAMA,EAAED,gBAC9E,CACA,QAAAE,CAASC,GACL,MAAMC,EAAO,IAAI3F,IACjB,OAAO4F,KAAKC,UAAUH,GAAK,CAACI,EAAKC,KAE7B,GAAIA,aAAiBhF,MACjB,OAAOiF,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGF,GAAQ,CAAEzE,KAAMyE,EAAMzE,KAAM4E,QAASH,EAAMG,UAEtF,GAAY,YAARJ,EACA,OAAOzF,KAAK8F,gBAAgBJ,GAE3B,GAAY,QAARD,EACL,OAAOzF,KAAK+F,YAAYL,GAEvB,GAAY,UAARD,EACL,OAAOzF,KAAKgG,cAAcN,GAEzB,GAAY,SAARD,GAIQ,aAARA,GAIQ,kBAARA,EAAJ,CAKA,GAAItB,MAAMC,QAAQsB,IAAUzB,EAASyB,GAAQ,CAC9C,GAAIJ,EAAK3E,IAAI+E,GACT,MAAO,aAEXJ,EAAKtC,IAAI0C,EACb,CACA,OAAOA,CADP,CACY,GACb,EACP,CACA,eAAAI,CAAgBT,GACZ,MAAMY,EAAY,CAAC,EACnB,IAAK,MAAMR,KAAOE,OAAOO,KAAKb,GACtBrF,KAAK4E,mBAAmBjE,IAAI8E,EAAIP,eAChCe,EAAUR,GAAOJ,EAAII,GAGrBQ,EAAUR,GAAOlB,EAGzB,OAAO0B,CACX,CACA,aAAAD,CAAcN,GACV,GAAqB,iBAAVA,GAAgC,OAAVA,EAC7B,OAAOA,EAEX,MAAMO,EAAY,CAAC,EACnB,IAAK,MAAME,KAAKR,OAAOO,KAAKR,GACpB1F,KAAK8E,uBAAuBnE,IAAIwF,EAAEjB,eAClCe,EAAUE,GAAKT,EAAMS,GAGrBF,EAAUE,GAAK5B,EAGvB,OAAO0B,CACX,CACA,WAAAF,CAAYL,GACR,GAAqB,iBAAVA,GAAgC,OAAVA,EAC7B,OAAOA,EAEX,MAAMU,EAAM,IAAIC,IAAIX,GACpB,IAAKU,EAAIE,OACL,OAAOZ,EAEX,IAAK,MAAOD,KAAQW,EAAIG,aACfvG,KAAK8E,uBAAuBnE,IAAI8E,EAAIP,gBACrCkB,EAAIG,aAAaxD,IAAI0C,EAAKlB,GAGlC,OAAO6B,EAAII,UACf,ECjIG,MAAMC,EAAgB,YAKtB,SAASC,EAAUnG,EAAU,CAAC,GACjC,IAAIR,EACJ,MAAM4G,EAAmC,QAAzB5G,EAAKQ,EAAQoG,cAA2B,IAAP5G,EAAgBA,EAAK,EAAW6G,KAC3EC,EAAY,IAAInC,EAAU,CAC5BC,6BAA8BpE,EAAQoE,6BACtCE,iCAAkCtE,EAAQsE,mCAE9C,MAAO,CACH5D,KAAMwF,EACN,iBAAMvF,CAAYE,EAASG,GACvB,IAAKoF,EAAOG,QACR,OAAOvF,EAAKH,GAEhBuF,EAAO,YAAYE,EAAUzB,SAAShE,MACtC,MAAM2F,QAAiBxF,EAAKH,GAG5B,OAFAuF,EAAO,yBAAyBI,EAASC,UACzCL,EAAO,YAAYE,EAAUzB,SAAS2B,EAASE,YACxCF,CACX,EAER,CC3BO,MAAMG,EAAqB,iBAI5BC,EAAkB,CAAC,MAAO,QAOzB,SAASC,EAAe7G,EAAU,CAAC,GACtC,MAAM,WAAE8G,EAAa,IAAO9G,EAC5B,MAAO,CACHU,KAAMiG,EACN,iBAAMhG,CAAYE,EAASG,GACvB,MAAMwF,QAAiBxF,EAAKH,GAC5B,OAAOkG,EAAe/F,EAAMwF,EAAUM,EAC1C,EAER,CACAE,eAAeD,EAAe/F,EAAMwF,EAAUM,EAAYG,EAAiB,GACvE,MAAM,QAAEpG,EAAO,OAAE4F,EAAM,QAAEC,GAAYF,EAC/BU,EAAiBR,EAAQhE,IAAI,YACnC,GAAIwE,IACY,MAAXT,GACe,MAAXA,GAAkBG,EAAgBO,SAAStG,EAAQuG,SACxC,MAAXX,GAAkBG,EAAgBO,SAAStG,EAAQuG,SACxC,MAAXX,GAAqC,SAAnB5F,EAAQuG,QAChB,MAAXX,IACJQ,EAAiBH,EAAY,CAC7B,MAAMjB,EAAM,IAAIC,IAAIoB,EAAgBrG,EAAQgF,KAC5ChF,EAAQgF,IAAMA,EAAII,WAGH,MAAXQ,IACA5F,EAAQuG,OAAS,MACjBvG,EAAQ6F,QAAQtD,OAAO,yBAChBvC,EAAQwG,MAEnBxG,EAAQ6F,QAAQtD,OAAO,iBACvB,MAAMkE,QAAYtG,EAAKH,GACvB,OAAOkG,EAAe/F,EAAMsG,EAAKR,EAAYG,EAAiB,EAClE,CACA,OAAOT,CACX,cChDO,MAAMe,EAAc,SACdC,EAA6B,ECkBnC,SAASC,EAAkBC,GAC9B,MAAMC,EAAc,IAAInG,ICVrB,IAAiCiD,EDWpCkD,EAAYnF,IAAI,qBAAsB+E,ICXF9C,EDYZkD,GCXpBnF,IAAI,OAAQoF,QAAQC,SACxBpD,EAAIjC,IAAI,KAAM,IAAI,YAAa,YAAa,gBDW5C,MAAMsF,EArBV,SAA4BC,GACxB,MAAMC,EAAQ,GACd,IAAK,MAAO9C,EAAKC,KAAU4C,EAAe,CACtC,MAAME,EAAQ9C,EAAQ,GAAGD,KAAOC,IAAUD,EAC1C8C,EAAM3H,KAAK4H,EACf,CACA,OAAOD,EAAME,KAAK,IACtB,CAcyBC,CAAmBR,GAExC,OADuBD,EAAS,GAAGA,KAAUI,IAAiBA,CAElE,CEzBA,MAAMM,EDIK,aCAEC,EAAsB,kBAM5B,SAASC,EAAgBtI,EAAU,CAAC,GACvC,MAAMuI,EAAiBd,EAAkBzH,EAAQwI,iBACjD,MAAO,CACH9H,KAAM2H,EACNrB,YAAiB,MAACnG,EAASG,KAClBH,EAAQ6F,QAAQtG,IAAIgI,IACrBvH,EAAQ6F,QAAQlE,IAAI4F,EAAqBG,GAEtCvH,EAAKH,IAGxB,CCnBO,MAAM4H,EAA+B,2BAKrC,SAASC,IACZ,MAAO,CACHhI,KAAM+H,EACNzB,YAAiB,MAACnG,EAASG,KAEA,SAAnBH,EAAQuG,QACRvG,EAAQ6F,QAAQlE,IAAI,kBAAmB,gBAEpCxB,EAAKH,IAGxB,CClBA,MAAM8H,EAAe,IAAIC,QACnBC,EAAa,IAAID,QAchB,MAAME,EACT,WAAAxJ,GAIIG,KAAKsJ,QAAU,KACfJ,EAAanG,IAAI/C,KAAM,IACvBoJ,EAAWrG,IAAI/C,MAAM,EACzB,CAMA,WAAIuJ,GACA,IAAKH,EAAWzI,IAAIX,MAChB,MAAM,IAAIwJ,UAAU,qDAExB,OAAOJ,EAAWnG,IAAIjD,KAC1B,CAMA,eAAWyJ,GACP,OAAO,IAAIJ,CACf,CAOA,gBAAAK,CAEAC,EAAOC,GACH,IAAKV,EAAavI,IAAIX,MAClB,MAAM,IAAIwJ,UAAU,qDAENN,EAAajG,IAAIjD,MACzBY,KAAKgJ,EACnB,CAOA,mBAAAC,CAEAF,EAAOC,GACH,IAAKV,EAAavI,IAAIX,MAClB,MAAM,IAAIwJ,UAAU,qDAExB,MAAMM,EAAYZ,EAAajG,IAAIjD,MAC7B+J,EAAQD,EAAUE,QAAQJ,GAC5BG,GAAS,GACTD,EAAUG,OAAOF,EAAO,EAEhC,CAIA,aAAAG,CAAcC,GACV,MAAM,IAAIzJ,MAAM,mHACpB,EAYG,SAAS0J,EAAYC,GACxB,GAAIA,EAAOd,QACP,OAEAc,EAAOf,SACPe,EAAOf,QAAQgB,KAAKD,GAExB,MAAMP,EAAYZ,EAAajG,IAAIoH,GAC/BP,GAIAA,EAAU5J,QAAQqK,SAASX,IACvBA,EAASU,KAAKD,EAAQ,CAAEG,KAAM,SAAU,IAGhDpB,EAAWrG,IAAIsH,GAAQ,EAC3B,CC5FO,MAAMI,UAAmB/J,MAC5B,WAAAb,CAAYgG,GACR6E,MAAM7E,GACN7F,KAAKiB,KAAO,YAChB,EAoCG,MAAM0J,EAET,WAAA9K,CAAY+K,GAER,GADA5K,KAAK6K,QAAU,IAAIxB,EACduB,EAAL,CAIKzG,MAAMC,QAAQwG,KAEfA,EAAgBE,WAEpB,IAAK,MAAMC,KAAgBH,EAGnBG,EAAaxB,QACbvJ,KAAKgL,QAILD,EAAarB,iBAAiB,SAAS,KACnC1J,KAAKgL,OAAO,GAfxB,CAmBJ,CAOA,UAAIX,GACA,OAAOrK,KAAK6K,OAChB,CAKA,KAAAG,GACIZ,EAAYpK,KAAK6K,QACrB,CAKA,cAAOI,CAAQC,GACX,MAAMb,EAAS,IAAIhB,EACb8B,EAAQC,WAAWhB,EAAac,EAAIb,GAK1C,MAH2B,mBAAhBc,EAAME,OACbF,EAAME,QAEHhB,CACX,EChHJ,MAAMiB,EAAuB,6BAUtB,SAASC,EAAMC,EAAW9F,EAAOnF,GACpC,OAAO,IAAIkL,SAAQ,CAACC,EAASC,KACzB,IAAIR,EACAS,EACJ,MAAMC,EAAgB,IACXF,EAAO,IAAIlB,GAAYlK,aAAyC,EAASA,EAAQuL,eAAiBvL,aAAyC,EAASA,EAAQuL,cAAgBR,IAEjLS,EAAkB,MACfxL,aAAyC,EAASA,EAAQ6J,cAAgBwB,GAC3ErL,EAAQ6J,YAAYP,oBAAoB,QAAS+B,EACrD,EASJ,GAPAA,EAAY,KACJT,GACAa,aAAab,GAEjBY,IACOF,MAENtL,aAAyC,EAASA,EAAQ6J,cAAgB7J,EAAQ6J,YAAYb,QAC/F,OAAOsC,IAEXV,EAAQC,YAAW,KACfW,IACAL,EAAQhG,EAAM,GACf8F,IACCjL,aAAyC,EAASA,EAAQ6J,cAC1D7J,EAAQ6J,YAAYV,iBAAiB,QAASkC,EAClD,GAER,CAKO,SAASK,EAAyBlF,EAAUmF,GAC/C,MAAMxG,EAAQqB,EAASE,QAAQhE,IAAIiJ,GACnC,IAAKxG,EACD,OACJ,MAAMyG,EAAaC,OAAO1G,GAC1B,OAAI0G,OAAOC,MAAMF,QAAjB,EAEOA,CACX,CCjDA,MAAMG,EAAmB,cAQnBC,EAAuB,CAAC,iBAAkB,sBAAuBD,GAUvE,SAASE,EAAkBzF,GACvB,GAAMA,GAAY,CAAC,IAAK,KAAKW,SAASX,EAASC,QAE/C,IAEI,IAAK,MAAMyF,KAAUF,EAAsB,CACvC,MAAMG,EAAkBT,EAAyBlF,EAAU0F,GAC3D,GAAwB,IAApBC,GAAyBA,EAIzB,OAAOA,GADmBD,IAAWH,EAAmB,IAAO,EAGvE,CAEA,MAAMK,EAAmB5F,EAASE,QAAQhE,IAAIqJ,GAC9C,IAAKK,EACD,OACJ,MACMC,EADOtI,KAAKuI,MAAMF,GACJrI,KAAKwI,MAEzB,OAAOV,OAAOW,SAASH,GAAQI,KAAKC,IAAI,EAAGL,QAAQxM,CACvD,CACA,MAAO8M,GACH,MACJ,CACJ,CAQO,SAASC,IACZ,MAAO,CACHlM,KAAM,0BACN,KAAAmM,EAAM,SAAErG,IACJ,MAAMsG,EAAiBb,EAAkBzF,GACzC,OAAKqF,OAAOW,SAASM,GAGd,CACHA,kBAHO,CAAEC,cAAc,EAK/B,EAER,CCnEA,MAAMC,EAAgC,IAChCC,EAAoC,KAMnC,SAASC,EAAyBlN,EAAU,CAAC,GAChD,IAAIR,EAAI2N,EACR,MAAMC,EAAkD,QAAjC5N,EAAKQ,EAAQqN,sBAAmC,IAAP7N,EAAgBA,EAAKwN,EAC/EM,EAAwD,QAApCH,EAAKnN,EAAQuN,yBAAsC,IAAPJ,EAAgBA,EAAKF,EAC3F,IAAIH,EAAiBM,EACrB,MAAO,CACH1M,KAAM,2BACN,KAAAmM,EAAM,WAAEW,EAAU,SAAEhH,EAAQ,cAAEiH,IAC1B,MAAMC,KAsCYC,EAtCuBF,KA0C5B,cAAbE,EAAIC,MACK,oBAAbD,EAAIC,MACS,iBAAbD,EAAIC,MACS,eAAbD,EAAIC,MACS,WAAbD,EAAIC,MA7CMC,EAAqBH,GAAsB1N,EAAQ6N,mBACnDC,EA0BX,SAAoCtH,GACvC,OAAOuH,QAAQvH,QACS3G,IAApB2G,EAASC,SACRD,EAASC,QAAU,KAA2B,MAApBD,EAASC,SAChB,MAApBD,EAASC,QACW,MAApBD,EAASC,OACjB,CAhCkCuH,CAA2BxH,GAC3CyH,EAA4BH,GAAiB9N,EAAQkO,sBACrDC,EAAkB3H,IDgC7B,SAAmCA,GACtC,OAAOqF,OAAOW,SAASP,EAAkBzF,GAC7C,CClCiD4H,CAA0B5H,KAAcsH,GAkClF,IAAuBH,EAjClB,GAAIQ,GAAmBF,GAA6BJ,EAChD,MAAO,CAAEd,cAAc,GAE3B,GAAIU,IAAkBC,IAAuBI,EACzC,MAAO,CAAEO,aAAcZ,GAG3B,MAAMa,EAAmBxB,EAAiBL,KAAK8B,IAAI,EAAGf,GAEhDgB,EAA0B/B,KAAKgC,IAAInB,EAAkBgB,GCxBhE,IAAmCG,EAAK/B,ED6BnC,OAFAI,EACI0B,EAA0B,GC5BAC,ED4B8B,EC5BzB/B,ED4B4B8B,EAA0B,EC1BjGC,EAAMhC,KAAKiC,KAAKD,GAChB/B,EAAMD,KAAKkC,MAAMjC,GAIFD,KAAKkC,MAAMlC,KAAKmC,UAAYlC,EAAM+B,EAAM,IACvCA,GDqBD,CAAE3B,iBACb,EAER,CEpCA,MAAM+B,GAAoB,QAAmB,kCAIvCC,EAAkB,cAIjB,SAASC,EAAYC,EAAYhP,EAAU,CAAE8G,WAAYU,IAC5D,MAAMpB,EAASpG,EAAQoG,QAAUyI,EACjC,MAAO,CACHnO,KAAMoO,EACN,iBAAMnO,CAAYE,EAASG,GACvB,IAAIxB,EAAI2N,EACR,IAAI3G,EACAiH,EACAD,GAAc,EAElByB,EAAc,OAAa,CACvBzB,GAAc,EACdhH,OAAW3G,EACX4N,OAAgB5N,EAChB,IACIuG,EAAOC,KAAK,SAASmH,gCAA0C3M,EAAQqO,WACvE1I,QAAiBxF,EAAKH,GACtBuF,EAAOC,KAAK,SAASmH,sCAAgD3M,EAAQqO,UACjF,CACA,MAAOvC,GAMH,GALAvG,EAAO+I,MAAM,SAAS3B,oCAA8C3M,EAAQqO,WAI5EzB,EAAgBd,GACXA,GAA4B,cAAvBc,EAAc/M,KACpB,MAAMiM,EAEVnG,EAAWiH,EAAcjH,QAC7B,CACA,GAAmC,QAA9BhH,EAAKqB,EAAQgJ,mBAAgC,IAAPrK,OAAgB,EAASA,EAAGwJ,QAGnE,MAFA5C,EAAO+I,MAAM,SAAS3B,uBACH,IAAItD,EAG3B,GAAIsD,IAA6C,QAA7BL,EAAKnN,EAAQ8G,kBAA+B,IAAPqG,EAAgBA,EAAK3F,GAA6B,CAEvG,GADApB,EAAOC,KAAK,SAASmH,0GACjBC,EACA,MAAMA,EAEL,GAAIjH,EACL,OAAOA,EAGP,MAAM,IAAIrG,MAAM,6DAExB,CACAiG,EAAOC,KAAK,SAASmH,iBAA0BwB,EAAWxL,4BAC1D4L,EAAgB,IAAK,MAAMC,KAAYL,EAAY,CAC/C,MAAMM,EAAiBD,EAASjJ,QAAUyI,EAC1CS,EAAejJ,KAAK,SAASmH,gCAAyC6B,EAAS3O,SAC/E,MAAM6O,EAAYF,EAASxC,MAAM,CAC7BW,aACAhH,WACAiH,kBAEJ,GAAI8B,EAAUxC,aAAc,CACxBuC,EAAejJ,KAAK,SAASmH,eAC7B,SAAS4B,CACb,CACA,MAAM,aAAEf,EAAY,eAAEvB,EAAc,WAAE0C,GAAeD,EACrD,GAAIlB,EAEA,MADAiB,EAAeH,MAAM,SAAS3B,qBAA8B6B,EAAS3O,qBAAsB2N,GACrFA,EAEV,GAAIvB,GAAqC,IAAnBA,EAAsB,CACxCwC,EAAejJ,KAAK,SAASmH,qBAA8B6B,EAAS3O,sBAAsBoM,WACpF9B,EAAM8B,OAAgBjN,EAAW,CAAEgK,YAAahJ,EAAQgJ,cAC9D,SAASoF,CACb,CACA,GAAIO,EAAY,CACZF,EAAejJ,KAAK,SAASmH,qBAA8B6B,EAAS3O,qBAAqB8O,KACzF3O,EAAQgF,IAAM2J,EACd,SAASP,CACb,CACJ,CACA,GAAIxB,EAEA,MADArH,EAAOC,KAAK,iFACNoH,EAEV,GAAIjH,EAEA,OADAJ,EAAOC,KAAK,qFACLG,CAKf,CACJ,EAER,CC/FO,MAAMiJ,EAAyB,qBAO/B,SAASC,EAAmB1P,EAAU,CAAC,GAC1C,IAAIR,EACJ,MAAO,CACHkB,KAAM+O,EACN9O,YAAaoO,EAAY,CAACnC,IAA2BM,EAAyBlN,IAAW,CACrF8G,WAA0C,QAA7BtH,EAAKQ,EAAQ8G,kBAA+B,IAAPtH,EAAgBA,EAAKgI,IACxE7G,YAEX,wBClBO,MAAMgP,EAAqB,iBAI3B,SAASC,IACZ,MAAO,CACHlP,KAAMiP,EACN,iBAAMhP,CAAYE,EAASG,GACvB,GAAIH,EAAQgP,SAAU,CAClB,MAAMC,EAAcjP,EAAQ6F,QAAQhE,IAAI,gBACpCoN,IAA6E,IAA9DA,EAAYrG,QAAQ,sCACnC5I,EAAQwG,KAW5B,SAA0BwI,GACtB,MAAME,EAAkB,IAAIC,gBAC5B,IAAK,MAAO9K,EAAKC,KAAUC,OAAO6K,QAAQJ,GACtC,GAAIjM,MAAMC,QAAQsB,GACd,IAAK,MAAM+K,KAAY/K,EACnB4K,EAAgBI,OAAOjL,EAAKgL,EAASjK,iBAIzC8J,EAAgBI,OAAOjL,EAAKC,EAAMc,YAG1C,OAAO8J,EAAgB9J,UAC3B,CAxBmCmK,CAAiBvP,EAAQgP,UACxChP,EAAQgP,cAAWhQ,SAwBvCmH,eAA+B6I,EAAUhP,GACrC,MAAMwP,EAAc,IAAI,KACxB,IAAK,MAAMC,KAAWlL,OAAOO,KAAKkK,GAAW,CACzC,MAAMU,EAAYV,EAASS,GAC3B,GAAI1M,MAAMC,QAAQ0M,GACd,IAAK,MAAML,KAAYK,EACnBF,EAAYF,OAAOG,EAASJ,QAIhCG,EAAYF,OAAOG,EAASC,EAEpC,CACA1P,EAAQwG,KAAOgJ,EACfxP,EAAQgP,cAAWhQ,EACnB,MAAMiQ,EAAcjP,EAAQ6F,QAAQhE,IAAI,gBACpCoN,IAA+D,IAAhDA,EAAYrG,QAAQ,wBACnC5I,EAAQ6F,QAAQlE,IAAI,eAAgB,iCAAiC6N,EAAYG,iBAErF,IACI,MAAMC,QAAsB,IAAIvF,SAAQ,CAACC,EAASC,KAC9CiF,EAAYK,WAAU,CAAC/C,EAAKnK,KACpBmK,EACAvC,EAAOuC,GAGPxC,EAAQ3H,EACZ,GACF,IAEN3C,EAAQ6F,QAAQlE,IAAI,iBAAkBiO,EAC1C,CACA,MAAO9D,GAEP,CACJ,CAxD0BgE,CAAgB9P,EAAQgP,SAAUhP,EAEhD,CACA,OAAOG,EAAKH,EAChB,EAER,CCzBA,IAAIrB,EAIG,MAAMoR,GAA4B,oBAAZhJ,SAA2BmG,QAAQnG,QAAQC,UAAYkG,QAAoC,QAA3BvO,EAAKoI,QAAQiJ,gBAA6B,IAAPrR,OAAgB,EAASA,EAAG6C,gCCD5J,MAAMyO,GAAc,cACdC,GAAa,aACbC,GAAY,YACZC,GAAW,WAIJC,GAAkB,cAKlBC,GAAoB,GACjC,IAAIC,IAAoB,EAExB,MAAMC,GAAoB,IAAI7P,IAC9B,SAAS8P,GAAoB5Q,GACzB,OAAIkH,QAAQ2J,IAAI7Q,GACLkH,QAAQ2J,IAAI7Q,GAEdkH,QAAQ2J,IAAI7Q,EAAKiE,eACfiD,QAAQ2J,IAAI7Q,EAAKiE,oBADvB,CAIT,CA+DO,SAAS6M,GAAwBC,GACpC,IAAKA,KACDA,EAhER,WACI,IAAK7J,QACD,OAEJ,MAAM8J,EAAaJ,GAAoBR,IACjCa,EAAWL,GAAoBN,IAC/BY,EAAYN,GAAoBP,IACtC,OAAOW,GAAcC,GAAYC,CACrC,CAwDmBC,IAEP,OAGR,MAAMC,EAAY,IAAIhM,IAAI2L,GAE1B,MAAO,CACHM,MAFWD,EAAUE,SAAWF,EAAUE,SAAW,KAAO,IAE7CF,EAAUG,SACzBC,KAAMrG,OAAOsG,SAASL,EAAUI,MAAQ,MACxCE,SAAUN,EAAUM,SACpBC,SAAUP,EAAUO,SAE5B,CAIO,SAASC,GAAqBC,GAAe,QAAE7L,EAAO,YAAE8L,IAC3D,IAAIC,EACJ,IACIA,EAAiB,IAAI3M,IAAIyM,EAAcR,KAC3C,CACA,MAAOW,GACH,MAAM,IAAIvS,MAAM,+DAA+DoS,EAAcR,SACjG,CACIS,GACA,EAAOG,QAAQ,yHAEnB,MAAMC,EAAoB,CACtBX,SAAUQ,EAAeR,SACzBC,KAAMK,EAAcL,KACpBF,SAAUS,EAAeT,SACzBtL,QAASA,EAAQmM,UAQrB,OANIN,EAAcH,UAAYG,EAAcF,SACxCO,EAAkBE,KAAO,GAAGP,EAAcH,YAAYG,EAAcF,WAE/DE,EAAcH,WACnBQ,EAAkBE,KAAO,GAAGP,EAAcH,YAEvCQ,CACX,CAkCO,SAASG,GAAYR,EAAgBf,KAA2BxR,GAC9DoR,IACDD,GAAkB9Q,QAhGnB,WACH,MAAM2S,EAAU1B,GAAoBL,IAEpC,OADAG,IAAoB,EAChB4B,EACOA,EACFC,MAAM,KACNxO,KAAKyO,GAASA,EAAKC,SACnB3S,QAAQ0S,GAASA,EAAK1P,SAExB,EACX,CAsFkC4P,IAE9B,MAAMC,EAAe,CAAC,EACtB,MAAO,CACH3S,KAAMwQ,GACN,iBAAMvQ,CAAYE,EAASG,GACvB,IAAIxB,EAQJ,OAPKqB,EAAQ0R,eAtIzB,SAAoBe,EAAKC,EAAaC,GAClC,GAA2B,IAAvBD,EAAY/P,OACZ,OAAO,EAEX,MAAMuO,EAAO,IAAIjM,IAAIwN,GAAKrB,SAC1B,GAAIuB,aAAiD,EAASA,EAAYpT,IAAI2R,GAC1E,OAAOyB,EAAY9Q,IAAIqP,GAE3B,IAAI0B,GAAiB,EACrB,IAAK,MAAMC,KAAWH,EACC,MAAfG,EAAQ,IAGJ3B,EAAK4B,SAASD,IAIV3B,EAAKvO,SAAWkQ,EAAQlQ,OAAS,GAAKuO,IAAS2B,EAAQ/T,MAAM,MAHjE8T,GAAiB,GASjB1B,IAAS2B,IACTD,GAAiB,GAK7B,OADAD,SAA0DA,EAAYhR,IAAIuP,EAAM0B,GACzEA,CACX,CAyGiBG,CAAW/S,EAAQgF,IAA4F,QAAtFrG,EAAKQ,aAAyC,EAASA,EAAQ6T,yBAAsC,IAAPrU,EAAgBA,EAAK2R,IAAoBnR,aAAyC,EAASA,EAAQ6T,wBAAqBhU,EAAYwR,MAC5PxQ,EAAQ0R,cAAgBA,GAExB1R,EAAQ0R,eA9CxB,SAAgC1R,EAASwS,GAGrC,GAAIxS,EAAQiT,MACR,OAEJ,MACMC,EAA8B,WADxB,IAAIjO,IAAIjF,EAAQgF,KACLmM,SACjBO,EAAgB1R,EAAQ0R,cAC9B,GAAIA,EACA,GAAIwB,EAAY,CACZ,IAAKV,EAAaW,eAAgB,CAC9B,MAAMpB,EAAoBN,GAAqBC,EAAe1R,GAC9DwS,EAAaW,eAAiB,IAAI,GAAAC,eAAerB,EACrD,CACA/R,EAAQiT,MAAQT,EAAaW,cACjC,KACK,CACD,IAAKX,EAAaa,gBAAiB,CAC/B,MAAMtB,EAAoBN,GAAqBC,EAAe1R,GAC9DwS,EAAaa,gBAAkB,IAAI,GAAAC,gBAAgBvB,EACvD,CACA/R,EAAQiT,MAAQT,EAAaa,eACjC,CAER,CAsBgBE,CAAuBvT,EAASwS,GAE7BrS,EAAKH,EAChB,EAER,CCvLO,MAAMwT,GAA+B,2BAOrC,SAASC,GAAyBC,EAAsB,0BAC3D,MAAO,CACH7T,KAAM2T,GACNrN,YAAiB,MAACnG,EAASG,KAClBH,EAAQ6F,QAAQtG,IAAImU,IACrB1T,EAAQ6F,QAAQlE,IAAI+R,EAAqB1T,EAAQqO,WAE9ClO,EAAKH,IAGxB,CCjBO,MAAM2T,GAAgB,YAItB,SAASC,GAAUjC,GACtB,MAAO,CACH9R,KAAM8T,GACN7T,YAAaqG,MAAO/F,EAAKD,KAEhBC,EAAIuR,cACLvR,EAAIuR,YAAcA,GAEfxR,EAAKC,IAGxB,CCjBO,MAAMyT,GAAmB,CAC5BC,KAAMC,OAAOC,IAAI,4BACjBC,UAAWF,OAAOC,IAAI,kCASnB,SAASE,GAAqB/U,EAAU,CAAC,GAC5C,IAAIgV,EAAU,IAAIC,GAAmBjV,EAAQkV,eAO7C,OANIlV,EAAQ2U,OACRK,EAAUA,EAAQG,SAAST,GAAiBC,KAAM3U,EAAQ2U,OAE1D3U,EAAQ8U,YACRE,EAAUA,EAAQG,SAAST,GAAiBI,UAAW9U,EAAQ8U,YAE5DE,CACX,CAEO,MAAMC,GACT,WAAA3V,CAAY8V,GACR3V,KAAK4V,YACDD,aAA0BH,GACpB,IAAIzT,IAAI4T,EAAeC,aACvB,IAAI7T,GAClB,CACA,QAAA2T,CAASjQ,EAAKC,GACV,MAAMmQ,EAAa,IAAIL,GAAmBxV,MAE1C,OADA6V,EAAWD,YAAY7S,IAAI0C,EAAKC,GACzBmQ,CACX,CACA,QAAAC,CAASrQ,GACL,OAAOzF,KAAK4V,YAAY3S,IAAIwC,EAChC,CACA,WAAAsQ,CAAYtQ,GACR,MAAMoQ,EAAa,IAAIL,GAAmBxV,MAE1C,OADA6V,EAAWD,YAAYjS,OAAO8B,GACvBoQ,CACX,ECpCG,MAAM,WAAQ,EC6Cd,SAASG,KAIZ,OAHK,GAAMC,6BACP,GAAMA,2BAjCH,CACHC,qBAAsB,KACX,CAAC,GAEZC,uBAAwB,KACJ,EAEpBC,UAAW,CAACC,EAAOC,KACR,CACHpB,KA1BL,CACHqB,IAAK,OAGLC,YAAa,KAAM,EACnBC,gBAAiB,OAGjBC,aAAc,OAGdC,UAAW,QAgBHC,eAAgBtB,GAAqB,CAAEG,cAAea,EAAYM,mBAG1EC,YAAW,CAACC,EAAUC,KAAaC,IACxBD,KAAYC,KAqBpB,GAAMf,0BACjB,CCnDO,SAASgB,GAAQ/J,GACpB,GAAIjJ,EAASiJ,GAAI,CACb,MAAMgK,EAA4B,iBAAXhK,EAAEjM,KACnBkW,EAAkC,iBAAdjK,EAAErH,QAC5B,OAAOqR,GAAWC,CACtB,CACA,OAAO,CACX,CAOO,SAASC,GAAgBlK,GAC5B,GAAI+J,GAAQ/J,GACR,OAAOA,EAAErH,QAER,CACD,IAAIwR,EACJ,IAEQA,EADa,iBAANnK,GAAkBA,EACX3H,KAAKC,UAAU0H,GAGfoK,OAAOpK,EAE7B,CACA,MAAOgB,GACHmJ,EAAc,6BAClB,CACA,MAAO,iBAAiBA,GAC5B,CACJ,CCrCO,MAAME,WAASC,QAAQD,OCExBE,GAAiB,IAAI/S,EAIpB,MAAMgT,WAAkBhX,MAC3B,WAAAb,CAAYgG,EAAStF,EAAU,CAAC,GAC5BmK,MAAM7E,GACN7F,KAAKiB,KAAO,YACZjB,KAAKmO,KAAO5N,EAAQ4N,KACpBnO,KAAK2X,WAAapX,EAAQoX,WAC1B3X,KAAKoB,QAAUb,EAAQa,QACvBpB,KAAK+G,SAAWxG,EAAQwG,SACxBpB,OAAOiS,eAAe5X,KAAM0X,GAAUG,UAC1C,CAIA,CAACN,MACG,MAAO,cAAcvX,KAAK6F,cAAc4R,GAAerS,SAASpF,OACpE,EAiBG,SAAS8X,GAAY5K,GACxB,OAAIA,aAAawK,IAGVT,GAAQ/J,IAAiB,cAAXA,EAAEjM,IAC3B,CAfAyW,GAAUK,mBAAqB,qBAK/BL,GAAUM,YAAc,cCzBjB,MAAMC,GAAoB,gBAO1B,SAASC,GAAc3X,EAAU,CAAC,GACrC,MAAM4X,EAAYnQ,EAAkBzH,EAAQwI,iBACtCqP,EAwBV,WACI,IACI,OCpCD,SAA6B7X,GAChC,MAAM,UAAE8U,EAAS,YAAEgD,EAAW,eAAEC,GAAmB/X,EACnD,SAAS6V,EAAUnV,EAAMsX,EAAkBjC,GACvC,IAAIvW,EACJ,MAAMyY,EAAkBxC,KAAkBI,UAAUnV,EAAM0E,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAG0Q,GAAc,CAAE+B,YAAaA,EAAaC,eAAgBA,EAAgB1B,eAA+H,QAA9G7W,EAAKwY,aAA2D,EAASA,EAAiBE,sBAAmC,IAAP1Y,OAAgB,EAASA,EAAG6W,kBACvU,IAAIA,EAAiB4B,EAAgB5B,eACrC,MAAM1B,EAAOsD,EAAgBtD,KAQ7B,OAPK0B,EAAed,SAASb,GAAiBI,aAC1CuB,EAAiBA,EAAelB,SAAST,GAAiBI,UAAWA,IAEzEH,EAAKwB,aAAa,eAAgBE,EAAed,SAASb,GAAiBI,YAIpE,CACHH,OACAwD,eALmB/S,OAAOC,OAAO,CAAC,EAAG2S,EAAkB,CACvDE,eAAgB9S,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAG2S,aAA2D,EAASA,EAAiBE,gBAAiB,CAAE7B,qBAMhK,CAgBA,SAASC,EAAYtB,EAASwB,KAAaC,GACvC,OAAOhB,KAAkBa,YAAYtB,EAASwB,KAAaC,EAC/D,CAmBA,MAAO,CACHZ,YACAuC,SAtCJpR,eAAwBtG,EAAMsX,EAAkBxB,EAAUT,GACtD,MAAM,KAAEpB,EAAI,eAAEwD,GAAmBtC,EAAUnV,EAAMsX,EAAkBjC,GACnE,IACI,MAAMzU,QAAegV,EAAY6B,EAAeD,eAAe7B,gBAAgB,IAAMnL,QAAQC,QAAQqL,EAAS2B,EAAgBxD,MAE9H,OADAA,EAAKyB,UAAU,CAAE3P,OAAQ,YAClBnF,CACX,CACA,MAAOqM,GAEH,MADAgH,EAAKyB,UAAU,CAAE3P,OAAQ,QAAS0I,MAAOxB,IACnCA,CACV,CACA,QACIgH,EAAKqB,KACT,CACJ,EAyBIM,cACAV,uBAhBJ,SAAgCyC,GAC5B,OAAO5C,KAAkBG,uBAAuByC,EACpD,EAeI1C,qBARJ,SAA8BU,GAC1B,OAAOZ,KAAkBE,qBAAqBU,EAClD,EAQJ,CD1BeiC,CAAoB,CACvBxD,UAAW,GACXgD,YAAa,4BACbC,eAAgBxQ,GAExB,CACA,MAAOoF,GAEH,YADA,EAAOgG,QAAQ,0CAA0CkE,GAAgBlK,KAE7E,CACJ,CApC0B4L,GACtB,MAAO,CACH7X,KAAMgX,GACN,iBAAM/W,CAAYE,EAASG,GACvB,IAAIxB,EAAI2N,EACR,IAAK0K,KAAqD,QAAjCrY,EAAKqB,EAAQqX,sBAAmC,IAAP1Y,OAAgB,EAASA,EAAG6W,gBAC1F,OAAOrV,EAAKH,GAEhB,MAAM,KAAE8T,EAAI,eAAE0B,GAA+E,QAA3DlJ,EA6B9C,SAAuB0K,EAAehX,EAAS+W,GAC3C,IAEI,MAAM,KAAEjD,EAAI,eAAEwD,GAAmBN,EAAchC,UAAU,QAAQhV,EAAQuG,SAAU,CAAE8Q,eAAgBrX,EAAQqX,gBAAkB,CAC3HM,SAAU,SACVC,eAAgB,CACZ,cAAe5X,EAAQuG,OACvB,WAAYvG,EAAQgF,IACpBqJ,UAAWrO,EAAQqO,aAI3B,IAAKyF,EAAKsB,cAEN,YADAtB,EAAKqB,MAGL4B,GACAjD,EAAKwB,aAAa,kBAAmByB,GAGzC,MAAMlR,EAAUmR,EAAclC,qBAAqBwC,EAAeD,eAAe7B,gBACjF,IAAK,MAAOnR,EAAKC,KAAUC,OAAO6K,QAAQvJ,GACtC7F,EAAQ6F,QAAQlE,IAAI0C,EAAKC,GAE7B,MAAO,CAAEwP,OAAM0B,eAAgB8B,EAAeD,eAAe7B,eACjE,CACA,MAAO1J,GAEH,YADA,EAAOgG,QAAQ,qDAAqDkE,GAAgBlK,KAExF,CACJ,CA3DmD+L,CAAcb,EAAehX,EAAS+W,UAA+B,IAAPzK,EAAgBA,EAAK,CAAC,EAC3H,IAAKwH,IAAS0B,EACV,OAAOrV,EAAKH,GAEhB,IACI,MAAM2F,QAAiBqR,EAAcvB,YAAYD,EAAgBrV,EAAMH,GAEvE,OAoEhB,SAA4B8T,EAAMnO,GAC9B,IACImO,EAAKwB,aAAa,mBAAoB3P,EAASC,QAC/C,MAAMkS,EAAmBnS,EAASE,QAAQhE,IAAI,mBAC1CiW,GACAhE,EAAKwB,aAAa,mBAAoBwC,GAE1ChE,EAAKyB,UAAU,CACX3P,OAAQ,YAEZkO,EAAKqB,KACT,CACA,MAAOrJ,GACH,EAAOgG,QAAQ,qDAAqDkE,GAAgBlK,KACxF,CACJ,CApFgBiM,CAAmBjE,EAAMnO,GAClBA,CACX,CACA,MAAOmH,GAEH,MAiDhB,SAAyBgH,EAAMxF,GAC3B,IACIwF,EAAKyB,UAAU,CACX3P,OAAQ,QACR0I,MAAOuH,GAAQvH,GAASA,OAAQtP,IAEhC0X,GAAYpI,IAAUA,EAAMiI,YAC5BzC,EAAKwB,aAAa,mBAAoBhH,EAAMiI,YAEhDzC,EAAKqB,KACT,CACA,MAAOrJ,GACH,EAAOgG,QAAQ,qDAAqDkE,GAAgBlK,KACxF,CACJ,CAhEgBkM,CAAgBlE,EAAMhH,GAChBA,CACV,CACJ,EAER,CEzBO,SAASmL,GAA0B9Y,GACtC,MAAMkB,EAAWuC,IAmBjB,OAlBImN,KACI5Q,EAAQ+Y,YACR7X,EAASpB,UAAU2U,GAAUzU,EAAQ+Y,aAEzC7X,EAASpB,UAAUiT,GAAY/S,EAAQgZ,eACvC9X,EAASpB,UAAU4I,MAEvBxH,EAASpB,UAAU8P,KACnB1O,EAASpB,UAAUwI,EAAgBtI,EAAQiZ,mBAC3C/X,EAASpB,UAAUwU,MACnBpT,EAASpB,UAAU4P,EAAmB1P,EAAQkZ,cAAe,CAAEjZ,MAAO,UACtEiB,EAASpB,UAAU6X,GAAc3X,EAAQiZ,kBAAmB,CAAE/Y,WAAY,UACtE0Q,IAGA1P,EAASpB,UAAU+G,EAAe7G,EAAQmZ,iBAAkB,CAAEjZ,WAAY,UAE9EgB,EAASpB,UAAUqG,EAAUnG,EAAQoZ,gBAAiB,CAAElZ,WAAY,SAC7DgB,CACX,iDCrCA,SAASmY,GAAc3Y,GACnB,OAAOA,EAAKiE,aAChB,CAMA,MAAM2U,GACF,WAAAha,CAAYia,GAER,GADA9Z,KAAK+Z,YAAc,IAAIhY,IACnB+X,EACA,IAAK,MAAM5N,KAAcvG,OAAOO,KAAK4T,GACjC9Z,KAAK+C,IAAImJ,EAAY4N,EAAW5N,GAG5C,CAOA,GAAAnJ,CAAI9B,EAAMyE,GACN1F,KAAK+Z,YAAYhX,IAAI6W,GAAc3Y,GAAO,CAAEA,OAAMyE,MAAO4R,OAAO5R,IACpE,CAMA,GAAAzC,CAAIhC,GACA,IAAIlB,EACJ,OAA4D,QAApDA,EAAKC,KAAK+Z,YAAY9W,IAAI2W,GAAc3Y,WAA2B,IAAPlB,OAAgB,EAASA,EAAG2F,KACpG,CAKA,GAAA/E,CAAIM,GACA,OAAOjB,KAAK+Z,YAAYpZ,IAAIiZ,GAAc3Y,GAC9C,CAKA,OAAOA,GACHjB,KAAK+Z,YAAYpW,OAAOiW,GAAc3Y,GAC1C,CAIA,MAAAmS,CAAO7S,EAAU,CAAC,GACd,MAAMsB,EAAS,CAAC,EAChB,GAAItB,EAAQyZ,aACR,IAAK,MAAMC,KAASja,KAAK+Z,YAAYG,SACjCrY,EAAOoY,EAAMhZ,MAAQgZ,EAAMvU,WAI/B,IAAK,MAAOyU,EAAgBF,KAAUja,KAAK+Z,YACvClY,EAAOsY,GAAkBF,EAAMvU,MAGvC,OAAO7D,CACX,CAIA,QAAA2E,GACI,OAAOjB,KAAKC,UAAUxF,KAAKoT,OAAO,CAAE4G,cAAc,IACtD,CAIA,CAAC7E,OAAOiF,YACJ,OAzER,UAAyBpV,GACrB,IAAK,MAAMiV,KAASjV,EAAIkV,cACd,CAACD,EAAMhZ,KAAMgZ,EAAMvU,MAEjC,CAqEe2U,CAAera,KAAK+Z,YAC/B,EAMG,SAASO,GAAkBR,GAC9B,OAAO,IAAID,GAAgBC,EAC/B,CC7EA,MAAMS,GAAuB,CAAC,EAC9B,SAASC,GAAiB5S,GACtB,OAAOA,GAA6B,mBAAdA,EAAK6S,IAC/B,CACA,SAASC,GAAiBC,GACtB,OAAO,IAAIlP,SAASC,IAChBiP,EAAOC,GAAG,QAASlP,GACnBiP,EAAOC,GAAG,MAAOlP,GACjBiP,EAAOC,GAAG,QAASlP,EAAQ,GAEnC,CACA,SAASmP,GAAcjT,GACnB,OAAOA,GAAmC,iBAApBA,EAAKkT,UAC/B,CACA,MAAMC,WAAwB,GAAAC,UAC1B,WAAAnb,CAAYob,GACRvQ,QACA1K,KAAKkb,YAAc,EACnBlb,KAAKib,iBAAmBA,CAC5B,CAEA,UAAAE,CAAWC,EAAOC,EAAWtE,GACzB/W,KAAKY,KAAKwa,GACVpb,KAAKkb,aAAeE,EAAMrX,OAC1B,IACI/D,KAAKib,iBAAiB,CAAEC,YAAalb,KAAKkb,cAC1CnE,GACJ,CACA,MAAO7J,GACH6J,EAAS7J,EACb,CACJ,EAMJ,MAAMoO,GACF,WAAAzb,GACIG,KAAKub,kBAAoB,IAAIpS,OACjC,CAKA,iBAAMjI,CAAYE,GACd,IAAIrB,EAAI2N,EAAI8N,EACZ,MAAMC,EAAkB,IAAI9Q,EAC5B,IAAI+Q,EACJ,GAAIta,EAAQgJ,YAAa,CACrB,GAAIhJ,EAAQgJ,YAAYb,QACpB,MAAM,IAAIkB,EAAW,8BAEzBiR,EAAiBC,IACM,UAAfA,EAAMnR,MACNiR,EAAgBzQ,OACpB,EAEJ5J,EAAQgJ,YAAYV,iBAAiB,QAASgS,EAClD,CACIta,EAAQ6J,QAAU,GAClBG,YAAW,KACPqQ,EAAgBzQ,OAAO,GACxB5J,EAAQ6J,SAEf,MAAM2Q,EAAiBxa,EAAQ6F,QAAQhE,IAAI,mBACrC4Y,GAAoBD,aAAuD,EAASA,EAAelU,SAAS,WAAakU,aAAuD,EAASA,EAAelU,SAAS,YACvN,IAOIoU,EAPAlU,EAA+B,mBAAjBxG,EAAQwG,KAAsBxG,EAAQwG,OAASxG,EAAQwG,KACzE,GAAIA,IAASxG,EAAQ6F,QAAQtG,IAAI,kBAAmB,CAChD,MAAMob,EAiOX,SAAuBnU,GAC1B,OAAKA,EAGIoU,OAAOC,SAASrU,GACdA,EAAK7D,OAEPyW,GAAiB5S,GACf,KAEFiT,GAAcjT,GACZA,EAAKkT,WAES,iBAATlT,EACLoU,OAAOE,KAAKtU,GAAM7D,OAGlB,KAfA,CAiBf,CApP+BoY,CAAcvU,GACd,OAAfmU,GACA3a,EAAQ6F,QAAQlE,IAAI,iBAAkBgZ,EAE9C,CAEA,IACI,GAAInU,GAAQxG,EAAQgb,iBAAkB,CAClC,MAAMA,EAAmBhb,EAAQgb,iBAC3BC,EAAqB,IAAItB,GAAgBqB,GAC/CC,EAAmBzB,GAAG,SAAU1N,IAC5B,EAAOwC,MAAM,2BAA4BxC,EAAE,IAE3CsN,GAAiB5S,GACjBA,EAAK6S,KAAK4B,GAGVA,EAAmB9F,IAAI3O,GAE3BA,EAAOyU,CACX,CACA,MAAMxU,QAAY7H,KAAKsc,YAAYlb,EAASqa,EAAiB7T,GACvDX,EAmJlB,SAA4BY,GACxB,MAAMZ,EAAUqT,KAChB,IAAK,MAAM7N,KAAU9G,OAAOO,KAAK2B,EAAIZ,SAAU,CAC3C,MAAMvB,EAAQmC,EAAIZ,QAAQwF,GACtBtI,MAAMC,QAAQsB,GACVA,EAAM3B,OAAS,GACfkD,EAAQlE,IAAI0J,EAAQ/G,EAAM,IAGzBA,GACLuB,EAAQlE,IAAI0J,EAAQ/G,EAE5B,CACA,OAAOuB,CACX,CAjK4BsV,CAAmB1U,GAE7Bd,EAAW,CACbC,OAFqC,QAAzBjH,EAAK8H,EAAI8P,kBAA+B,IAAP5X,EAAgBA,EAAK,EAGlEkH,UACA7F,WAIJ,GAAuB,SAAnBA,EAAQuG,OAIR,OADAE,EAAI2U,SACGzV,EAEX+U,EAAiBD,EAmJ7B,SAAkClB,EAAQ1T,GACtC,MAAMwV,EAAkBxV,EAAQhE,IAAI,oBACpC,GAAwB,SAApBwZ,EAA4B,CAC5B,MAAMC,EAAQ,kBAEd,OADA/B,EAAOF,KAAKiC,GACLA,CACX,CACK,GAAwB,YAApBD,EAA+B,CACpC,MAAME,EAAU,mBAEhB,OADAhC,EAAOF,KAAKkC,GACLA,CACX,CACA,OAAOhC,CACX,CAhKgDiC,CAAyB/U,EAAKZ,GAAWY,EAC7E,MAAMgV,EAAqBzb,EAAQyb,mBACnC,GAAIA,EAAoB,CACpB,MAAMC,EAAuB,IAAI/B,GAAgB8B,GACjDC,EAAqBlC,GAAG,SAAU1N,IAC9B,EAAOwC,MAAM,6BAA8BxC,EAAE,IAEjD4O,EAAerB,KAAKqC,GACpBhB,EAAiBgB,CACrB,CAUA,OAP8C,QAA5CpP,EAAKtM,EAAQ2b,iCAA8C,IAAPrP,OAAgB,EAASA,EAAG/M,IAAIyL,OAAO4Q,sBAC3C,QAA5CxB,EAAKpa,EAAQ2b,iCAA8C,IAAPvB,OAAgB,EAASA,EAAG7a,IAAIoG,EAASC,SAC/FD,EAASkW,mBAAqBnB,EAG9B/U,EAASmW,iBAgJHvC,EAhJmCmB,EAiJ9C,IAAIrQ,SAAQ,CAACC,EAASC,KACzB,MAAMwR,EAAS,GACfxC,EAAOC,GAAG,QAASQ,IACXY,OAAOC,SAASb,GAChB+B,EAAOvc,KAAKwa,GAGZ+B,EAAOvc,KAAKob,OAAOE,KAAKd,GAC5B,IAEJT,EAAOC,GAAG,OAAO,KACblP,EAAQsQ,OAAOjX,OAAOoY,GAAQ3W,SAAS,QAAQ,IAEnDmU,EAAOC,GAAG,SAAU1N,IACZA,GAAwD,gBAAlDA,aAA6B,EAASA,EAAEjM,MAC9C0K,EAAOuB,GAGPvB,EAAO,IAAI+L,GAAU,mCAAmCxK,EAAErH,UAAW,CACjEsI,KAAMuJ,GAAUM,cAExB,GACF,KArKSjR,CACX,CACA,QAEI,GAAI3F,EAAQgJ,aAAesR,EAAe,CACtC,IAAI0B,EAAmB3R,QAAQC,UAC3B8O,GAAiB5S,KACjBwV,EAAmB1C,GAAiB9S,IAExC,IAAIyV,EAAqB5R,QAAQC,UAC7B8O,GAAiBsB,KACjBuB,EAAqB3C,GAAiBoB,IAE1CrQ,QAAQ6R,IAAI,CAACF,EAAkBC,IAC1BE,MAAK,KACN,IAAIxd,EAEA2b,IAC+B,QAA9B3b,EAAKqB,EAAQgJ,mBAAgC,IAAPrK,GAAyBA,EAAG8J,oBAAoB,QAAS6R,GACpG,IAEC8B,OAAOtQ,IACR,EAAOgG,QAAQ,sDAAuDhG,EAAE,GAEhF,CACJ,CAqHR,IAAsByN,CApHlB,CACA,WAAA2B,CAAYlb,EAASqa,EAAiB7T,GAClC,IAAI7H,EACJ,MAAMqG,EAAM,IAAIC,IAAIjF,EAAQgF,KACtBkO,EAA8B,WAAjBlO,EAAImM,SACvB,GAAI+B,IAAelT,EAAQqc,wBACvB,MAAM,IAAI/c,MAAM,qBAAqBU,EAAQgF,+CAEjD,MACM7F,EAAU,CACZ8T,MAFmC,QAAxBtU,EAAKqB,EAAQiT,aAA0B,IAAPtU,EAAgBA,EAAKC,KAAK0d,iBAAiBtc,EAASkT,GAG/F9B,SAAUpM,EAAIoM,SACdmL,KAAM,GAAGvX,EAAIwX,WAAWxX,EAAIE,SAC5BmM,KAAMrM,EAAIqM,KACV9K,OAAQvG,EAAQuG,OAChBV,QAAS7F,EAAQ6F,QAAQmM,OAAO,CAAE4G,cAAc,KAEpD,OAAO,IAAIvO,SAAQ,CAACC,EAASC,KACzB,MAAMnK,EAAM8S,EAAa,WAAa/T,EAASmL,GAAW,WAAcnL,EAASmL,GACjFlK,EAAIqc,KAAK,SAAU3P,IACf,IAAInO,EACJ4L,EAAO,IAAI+L,GAAUxJ,EAAIrI,QAAS,CAAEsI,KAA0B,QAAnBpO,EAAKmO,EAAIC,YAAyB,IAAPpO,EAAgBA,EAAK2X,GAAUK,mBAAoB3W,YAAW,IAExIqa,EAAgBpR,OAAOX,iBAAiB,SAAS,KAC7C,MAAMoU,EAAa,IAAIrT,EAAW,8BAClCjJ,EAAIuc,QAAQD,GACZnS,EAAOmS,EAAW,IAElBlW,GAAQ4S,GAAiB5S,GACzBA,EAAK6S,KAAKjZ,GAELoG,EACe,iBAATA,GAAqBoU,OAAOC,SAASrU,GAC5CpG,EAAI+U,IAAI3O,GAEHiT,GAAcjT,GACnBpG,EAAI+U,IAAIyH,YAAYC,OAAOrW,GAAQoU,OAAOE,KAAKtU,EAAKuV,QAAUnB,OAAOE,KAAKtU,KAG1E,EAAO8H,MAAM,yBAA0B9H,GACvC+D,EAAO,IAAI+L,GAAU,4BAKzBlW,EAAI+U,KACR,GAER,CACA,gBAAAmH,CAAiBtc,EAASkT,GACtB,IAAIvU,EACJ,MAAMme,EAAmB9c,EAAQ8c,iBAEjC,GAAI5J,EACA,OAAI4J,EAEO,gBAENle,KAAKme,kBAENne,KAAKme,gBAAkB,IAAI,SAAW,CAAEC,WAAW,KAEhDpe,KAAKme,iBAEX,CACD,GAAID,IAAqB9c,EAAQ2R,YAG7B,OAAO,eAGX,MAAMA,EAA6C,QAA9BhT,EAAKqB,EAAQ2R,mBAAgC,IAAPhT,EAAgBA,EAAKwa,GAGhF,IAAIlG,EAAQrU,KAAKub,kBAAkBtY,IAAI8P,GACvC,OAAIsB,GAASA,EAAM9T,QAAQ6d,aAAeF,IAG1C,EAAOtX,KAAK,mDACZyN,EAAQ,IAAI,SAAY1O,OAAOC,OAAO,CAElCwY,WAAYF,GAAoBnL,IACpC/S,KAAKub,kBAAkBxY,IAAIgQ,EAAasB,IAN7BA,CAQf,CACJ,EChPG,SAASgK,KACZ,ODkUO,IAAI/C,ECjUf,2BCPA,MAAMgD,GAAY,IAAIC,WAAW,KAEjC,IAAIC,GAAUF,GAAUva,OACT,SAAS0a,KAMtB,OALID,GAAUF,GAAUva,OAAS,KAC/B,oBAAsBua,IACtBE,GAAU,GAGLF,GAAUpe,MAAMse,GAASA,IAAW,GAC7C,CCXA,+HCMME,GAAY,GAElB,IAAK,IAAIC,EAAI,EAAGA,EAAI,MAAOA,EACzBD,GAAU9d,MAAM+d,EAAI,KAAOnY,SAAS,IAAIoY,OAAO,IAmBjD,SAhBA,SAAmBC,EAAKC,EAAS,GAG/B,MAAMC,GAAQL,GAAUG,EAAIC,EAAS,IAAMJ,GAAUG,EAAIC,EAAS,IAAMJ,GAAUG,EAAIC,EAAS,IAAMJ,GAAUG,EAAIC,EAAS,IAAM,IAAMJ,GAAUG,EAAIC,EAAS,IAAMJ,GAAUG,EAAIC,EAAS,IAAM,IAAMJ,GAAUG,EAAIC,EAAS,IAAMJ,GAAUG,EAAIC,EAAS,IAAM,IAAMJ,GAAUG,EAAIC,EAAS,IAAMJ,GAAUG,EAAIC,EAAS,IAAM,IAAMJ,GAAUG,EAAIC,EAAS,KAAOJ,GAAUG,EAAIC,EAAS,KAAOJ,GAAUG,EAAIC,EAAS,KAAOJ,GAAUG,EAAIC,EAAS,KAAOJ,GAAUG,EAAIC,EAAS,KAAOJ,GAAUG,EAAIC,EAAS,MAAM5Z,cAM3f,ICnBF,SAAkB6Z,GAChB,MAAuB,iBAATA,GAAqB,GAAMC,KAAKD,EAChD,CDiBO,CAASA,GACZ,MAAMvV,UAAU,+BAGlB,OAAOuV,CACT,EEHA,GApBA,SAAYxe,EAAS0e,EAAKH,GAExB,MAAMI,GADN3e,EAAUA,GAAW,CAAC,GACD4O,SAAW5O,EAAQke,KAAOA,MAK/C,GAHAS,EAAK,GAAe,GAAVA,EAAK,GAAY,GAC3BA,EAAK,GAAe,GAAVA,EAAK,GAAY,IAEvBD,EAAK,CACPH,EAASA,GAAU,EAEnB,IAAK,IAAIH,EAAI,EAAGA,EAAI,KAAMA,EACxBM,EAAIH,EAASH,GAAKO,EAAKP,GAGzB,OAAOM,CACT,CAEA,OAAO,GAAUC,EACnB,ECjBA,MAAMC,GACF,WAAAtf,CAAYU,GACR,IAAIR,EAAI2N,EAAI8N,EAAI4D,EAAIC,EAAIC,EAAIC,EAC5Bvf,KAAKoG,IAAM7F,EAAQ6F,IACnBpG,KAAK4H,KAAOrH,EAAQqH,KACpB5H,KAAKiH,QAAqC,QAA1BlH,EAAKQ,EAAQ0G,eAA4B,IAAPlH,EAAgBA,EAAKua,KACvEta,KAAK2H,OAAmC,QAAzB+F,EAAKnN,EAAQoH,cAA2B,IAAP+F,EAAgBA,EAAK,MACrE1N,KAAKiL,QAAqC,QAA1BuQ,EAAKjb,EAAQ0K,eAA4B,IAAPuQ,EAAgBA,EAAK,EACvExb,KAAKoQ,SAAW7P,EAAQ6P,SACxBpQ,KAAKke,iBAAuD,QAAnCkB,EAAK7e,EAAQ2d,wBAAqC,IAAPkB,GAAgBA,EACpFpf,KAAK8S,cAAgBvS,EAAQuS,cAC7B9S,KAAK+c,0BAA4Bxc,EAAQwc,0BACzC/c,KAAKwf,gBAAqD,QAAlCH,EAAK9e,EAAQif,uBAAoC,IAAPH,GAAgBA,EAClFrf,KAAKoK,YAAc7J,EAAQ6J,YAC3BpK,KAAKyY,eAAiBlY,EAAQkY,eAC9BzY,KAAKoc,iBAAmB7b,EAAQ6b,iBAChCpc,KAAK6c,mBAAqBtc,EAAQsc,mBAClC7c,KAAKyP,UAAYlP,EAAQkP,WCXtB,KDYHzP,KAAKyd,wBAAqE,QAA1C6B,EAAK/e,EAAQkd,+BAA4C,IAAP6B,GAAgBA,EAClGtf,KAAKyf,qBAA+D,QAAvCF,EAAKhf,EAAQkf,4BAAyC,IAAPF,GAAgBA,CAChG,EAOG,SAASG,GAAsBnf,GAClC,OAAO,IAAI4e,GAAoB5e,EACnC,CEzBO,MAAMof,GAA6B,yBAKnC,SAASC,GAAuBrf,EAAU,CAAC,GAC9C,IAAIR,EACJ,OAAOuP,EAAY,CACf7B,EAAyB9H,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGrF,GAAU,CAAE6N,oBAAoB,MAC1F,CACC/G,WAA0C,QAA7BtH,EAAKQ,EAAQ8G,kBAA+B,IAAPtH,EAAgBA,EAAKgI,GAE/E,CCZO,MAAM8X,GAA6B,yBAOnC,SAASC,GAAuBvf,EAAU,CAAC,GAC9C,IAAIR,EACJ,MAAO,CACHkB,KAAM4e,GACN3e,YAAaoO,EAAY,CACrB7B,EAAyB9H,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGrF,GAAU,CAAEkO,uBAAuB,MAC7F,CACCpH,WAA0C,QAA7BtH,EAAKQ,EAAQ8G,kBAA+B,IAAPtH,EAAgBA,EAAKgI,IACxE7G,YAEX,CCjBO,MAAM6e,GAA4B,wBAWlC,SAASC,GAAsBzf,EAAU,CAAC,GAC7C,IAAIR,EACJ,MAAO,CACHkB,KAAM8e,GACN7e,YAAaoO,EAAY,CAACnC,KAA4B,CAClD9F,WAA0C,QAA7BtH,EAAKQ,EAAQ8G,kBAA+B,IAAPtH,EAAgBA,EAAKgI,IACxE7G,YAEX,CCvBO,MAAM+e,GAAyB,CAClCC,wBAAyB,IACzBC,kBAAmB,IACnBC,kBAAmB,MCAhB,MAAMC,GAAsC,kCAInD9Y,eAAe+Y,GAAwB/f,GACnC,MAAM,OAAEggB,EAAM,eAAEC,EAAc,QAAEpf,GAAYb,EACtCkgB,EAAkB,CACpBrW,YAAahJ,EAAQgJ,YACrBqO,eAAgBrX,EAAQqX,gBAEtBiI,QAAoBF,EAAeD,EAAQE,GAC7CC,GACAngB,EAAQa,QAAQ6F,QAAQlE,IAAI,gBAAiB,UAAU2d,EAAYlY,QAE3E,CAgBO,SAASmY,GAAgCpgB,GAC5C,IAAIR,EACJ,MAAM,WAAE6gB,EAAU,OAAEL,EAAM,mBAAEM,GAAuBtgB,EAC7CoG,EAASpG,EAAQoG,QAAU,EAC3Bma,EAAYnb,OAAOC,OAAO,CAAEmb,iBAAyI,QAAtHhhB,EAAK8gB,aAA+D,EAASA,EAAmBE,wBAAqC,IAAPhhB,EAAgBA,EAAKugB,GAAyBU,4BAA6BH,aAA+D,EAASA,EAAmBG,6BAA+BH,GAKlXL,EAAiBI,EDepB,SAA2BA,EAAYK,GAC1C,IAEIC,EAFAC,EAAgB,KAChB3Y,EAAQ,KAEZ,MAAMjI,EAAUoF,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGqa,IAAyBgB,GAKnEG,EAAS,CAIX,gBAAIC,GACA,OAAyB,OAAlBF,CACX,EAKA,iBAAIG,GACA,IAAIvhB,EACJ,OAASqhB,EAAOC,eACuE,QAAjFthB,EAAKyI,aAAqC,EAASA,EAAM+Y,0BAAuC,IAAPxhB,EAAgBA,EAAK,GAAKQ,EAAQ6f,kBAAoB9b,KAAKwI,KAC9J,EAKA,eAAI0U,GACA,OAAkB,OAAVhZ,GAAkBA,EAAM+Y,mBAAqBhhB,EAAQ2f,wBAA0B5b,KAAKwI,KAChG,GAMJ,SAAS2U,EAAQlB,EAAQE,GACrB,IAAI1gB,EAyBJ,OAxBKqhB,EAAOC,eAKRF,EAtFZ5Z,eAA4BiZ,EAAgBL,EAAmBuB,GAG3Dna,eAAeoa,IACX,KAAIrd,KAAKwI,MAAQ4U,GAQZ,CACD,MAAME,QAAmBpB,IAEzB,GAAmB,OAAfoB,EACA,MAAM,IAAIlhB,MAAM,mCAEpB,OAAOkhB,CACX,CAdI,IACI,aAAapB,GACjB,CACA,MAAOzgB,GACH,OAAO,IACX,CAUR,CACA,IAAIyI,QAAcmZ,IAClB,KAAiB,OAAVnZ,SACG+C,EAAM4U,GACZ3X,QAAcmZ,IAElB,OAAOnZ,CACX,CA2D4BqZ,EAHU,IAAMjB,EAAWkB,SAASvB,EAAQE,IAGZlgB,EAAQ4f,kBAE0B,QAAjFpgB,EAAKyI,aAAqC,EAASA,EAAM+Y,0BAAuC,IAAPxhB,EAAgBA,EAAKuE,KAAKwI,OAC/GyQ,MAAMwE,IACPZ,EAAgB,KAChB3Y,EAAQuZ,EACRb,EAAWT,EAAgBS,SACpB1Y,KAENgV,OAAOwE,IAOR,MAHAb,EAAgB,KAChB3Y,EAAQ,KACR0Y,OAAW9gB,EACL4hB,CAAM,KAGbb,CACX,CACA,OAAO5Z,MAAOgZ,EAAQ0B,IAaEf,IAAae,EAAaf,UAAY5S,QAAQ2T,EAAaC,SAAWd,EAAOI,YAEtFC,EAAQlB,EAAQ0B,IACvBb,EAAOE,eACPG,EAAQlB,EAAQ0B,GAEbzZ,EAEf,CCpGU2Z,CAAkBvB,GAClB,IAAMnV,QAAQC,QAAQ,MAC5B,MAAO,CACHzK,KAAMof,GAcN,iBAAMnf,CAAYE,EAASG,GACvB,IAAKH,EAAQgF,IAAIlB,cAAckd,WAAW,YACtC,MAAM,IAAI1hB,MAAM,wFAQpB,IAAIqG,EACA2I,QAPEoR,EAAUC,iBAAiB,CAC7BR,OAAQpc,MAAMC,QAAQmc,GAAUA,EAAS,CAACA,GAC1Cnf,UACAof,iBACA7Z,WAIJ,IACII,QAAiBxF,EAAKH,EAC1B,CACA,MAAO8M,GACHwB,EAAQxB,EACRnH,EAAWmH,EAAInH,QACnB,CACA,GAAI+Z,EAAUE,6BACgE,OAAzEja,aAA2C,EAASA,EAASC,SA1D9E,SAAsBD,GAClB,MAAMsb,EAAYtb,EAASE,QAAQhE,IAAI,oBACvC,GAAwB,MAApB8D,EAASC,QAAkBqb,EAC3B,OAAOA,CAGf,CAqDgBC,CAAavb,UAEmB+Z,EAAUE,4BAA4B,CAClET,OAAQpc,MAAMC,QAAQmc,GAAUA,EAAS,CAACA,GAC1Cnf,UACA2F,WACAyZ,iBACA7Z,WAGA,OAAOpF,EAAKH,GAGpB,GAAIsO,EACA,MAAMA,EAGN,OAAO3I,CAEf,EAER,CCrGO,MAAMwb,GAAmB,eAIzB,SAASC,KACZ,MAAO,CACHvhB,KAAMshB,GACN,iBAAMrhB,CAAYE,EAASG,GAEvB,GAA4B,iBAAjBH,EAAQwG,MAAqBxG,EAAQwG,KAAKwa,WAAW,KAAM,CAClE,MAAMxa,EAAOrC,KAAKsH,MAAMzL,EAAQwG,MAC5BzD,MAAMC,QAAQwD,KACdxG,EAAQwG,KAAOA,EAAK5C,KAAKyO,GAASlO,KAAKC,UAAUiO,GAAQ,OAAMhL,KAAK,IAE5E,CACA,OAAOlH,EAAKH,EAChB,EAER,4BCtBAuE,OAAO8c,eAAeC,EAAS,aAAc,CAAEhd,OAAO,IAqBtDgd,EAAA,QApBA,SAAcC,EAAS1hB,GAAM,OAAEoJ,GAAW,CAAC,GACvC,OAAO,IAAIoB,SAAQ,CAACC,EAASC,KACzB,SAASiX,IACLvY,SAAgDA,EAAOR,oBAAoB,QAAS+Y,GACpFD,EAAQE,eAAe5hB,EAAM6hB,GAC7BH,EAAQE,eAAe,QAASE,EACpC,CACA,SAASD,KAAWE,GAChBJ,IACAlX,EAAQsX,EACZ,CACA,SAASD,EAAQ7U,GACb0U,IACAjX,EAAOuC,EACX,CACA7D,SAAgDA,EAAOX,iBAAiB,QAASkZ,GACjFD,EAAQ/H,GAAG3Z,EAAM6hB,GACjBH,EAAQ/H,GAAG,QAASmI,EAAQ,GAEpC,qCCpBA,IAAIE,EAAajjB,MAAQA,KAAKijB,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAI3X,WAAU,SAAUC,EAASC,GAC/C,SAAS2X,EAAU5d,GAAS,IAAM6d,EAAKF,EAAU9hB,KAAKmE,GAAS,CAAE,MAAOwH,GAAKvB,EAAOuB,EAAI,CAAE,CAC1F,SAASsW,EAAS9d,GAAS,IAAM6d,EAAKF,EAAiB,MAAE3d,GAAS,CAAE,MAAOwH,GAAKvB,EAAOuB,EAAI,CAAE,CAC7F,SAASqW,EAAK1hB,GAJlB,IAAe6D,EAIa7D,EAAO4hB,KAAO/X,EAAQ7J,EAAO6D,QAJ1CA,EAIyD7D,EAAO6D,MAJhDA,aAAiB0d,EAAI1d,EAAQ,IAAI0d,GAAE,SAAU1X,GAAWA,EAAQhG,EAAQ,KAIjB6X,KAAK+F,EAAWE,EAAW,CAC7GD,GAAMF,EAAYA,EAAUK,MAAMR,EAASC,GAAc,KAAK5hB,OAClE,GACJ,EACIoiB,EAAmB3jB,MAAQA,KAAK2jB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACAje,OAAO8c,eAAeC,EAAS,aAAc,CAAEhd,OAAO,IACtD,MAAMoe,EAAQH,EAAgB,EAAQ,OAChCI,EAAQJ,EAAgB,EAAQ,OAChCK,EAAQL,EAAgB,EAAQ,OAChCM,EAAUN,EAAgB,EAAQ,MAClCO,EAASP,EAAgB,EAAQ,MACjCQ,EAAe,EAAQ,MACvBC,GAAQ,EAAIH,EAAQI,SAAS,oBAUnC,MAAM7P,UAAuB2P,EAAaG,MACtC,WAAAzkB,CAAY0kB,GACR,IAAIC,EAOJ,GALIA,EADiB,iBAAVD,EACAP,EAAMK,QAAQxX,MAAM0X,GAGpBA,GAENC,EACD,MAAM,IAAI9jB,MAAM,gEAEpB0jB,EAAM,2CAA4CI,GAClD9Z,MAAM8Z,GACN,MAAMC,EAAQ9e,OAAOC,OAAO,CAAC,EAAG4e,GAvBxC,IAAiBjS,EA0BTvS,KAAK0kB,YAAcF,EAAKE,aAzBD,iBADdnS,EA0BsCkS,EAAMlS,WAzBnB,aAAayM,KAAKzM,GA2BpDkS,EAAMnS,KAAOmS,EAAMjS,UAAYiS,EAAMnS,KACX,iBAAfmS,EAAMhS,OACbgS,EAAMhS,KAAOC,SAAS+R,EAAMhS,KAAM,MAEjCgS,EAAMhS,MAAQgS,EAAMnS,OACrBmS,EAAMhS,KAAOzS,KAAK0kB,YAAc,IAAM,IAEtCD,EAAMnS,MAAQmS,EAAM9G,cAKb8G,EAAM9G,YACN8G,EAAM7G,UAEjB5d,KAAKykB,MAAQA,CACjB,CAOA,QAAA1N,CAASvV,EAAKgjB,GACV,OAAOvB,EAAUjjB,UAAM,OAAQ,GAAQ,YACnC,MAAM,MAAEykB,EAAK,YAAEC,GAAgB1kB,KACzB2kB,EAASX,EAAMK,QAAQxX,MAAMrL,EAAImc,MAuBvC,IAAIiH,EAYJ,GAlCKD,EAAOpS,WACRoS,EAAOpS,SAAW,SAEjBoS,EAAOnS,WACRmS,EAAOnS,SAAWgS,EAAKhS,UAAYgS,EAAKlS,MAAQ,MAEjC,MAAfqS,EAAOlS,OAAuB+R,EAAK/R,KAAZ,KACvBkS,EAAOlS,KAAO6E,OAAOkN,EAAK/R,OAEV,OAAhBkS,EAAOlS,OAGPkS,EAAOlS,KAAO,IAIlBjR,EAAImc,KAAOqG,EAAMK,QAAQQ,OAAOF,GAE5BF,EAAMpR,MACN7R,EAAIsjB,UAAU,sBAAuB,SAAS9I,OAAOE,KAAKuI,EAAMpR,MAAM7M,SAAS,aAI/Eke,GACAN,EAAM,4BAA6BK,GACnCG,EAASb,EAAMM,QAAQU,QAAQN,KAG/BL,EAAM,4BAA6BK,GACnCG,EAASd,EAAMO,QAAQU,QAAQN,IAK/BjjB,EAAIwjB,QAAS,CACb,IAAIC,EACAC,EACJd,EAAM,sDACN5iB,EAAIwjB,QAAU,KACdxjB,EAAI2jB,kBACA3jB,EAAI4jB,QAAU5jB,EAAI4jB,OAAOrhB,OAAS,GAElCqgB,EAAM,iEACNa,EAAQzjB,EAAI4jB,OAAO,GACnBF,EAAeD,EAAMjb,QAAQ,YAAc,EAC3CxI,EAAI4jB,OAAO,GAAK5jB,EAAIwjB,QAAUC,EAAMI,UAAUH,GAC9Cd,EAAM,oBAAqB5iB,EAAI4jB,SAE1B5jB,EAAI8jB,YAAc9jB,EAAI8jB,WAAWvhB,OAAS,IAE/CqgB,EAAM,iEACNa,EAAQzjB,EAAI8jB,WAAW,GAAGC,KAC1BL,EAAeD,EAAMjb,QAAQ,YAAc,EAC3CxI,EAAI8jB,WAAW,GAAGC,KACd/jB,EAAIwjB,QAAUC,EAAMI,UAAUH,GAClCd,EAAM,oBAAqB5iB,EAAI8jB,WAAW,GAAGC,MAErD,CAMA,aADM,EAAIrB,EAAOG,SAASO,EAAQ,WAC3BA,CACX,GACJ,EAEJlC,EAAA,QAAkBlO,qCC3IlB,MAAMgR,GAHiBxlB,MAAQA,KAAK2jB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,GACgC,EAAQ,OACxC,SAAS6B,EAAqBjB,GAC1B,OAAO,IAAIgB,EAAQnB,QAAQG,EAC/B,EACA,SAAWiB,GACPA,EAAqBjR,eAAiBgR,EAAQnB,QAC9CoB,EAAqB5N,UAAY2N,EAAQnB,QAAQxM,SACpD,CAHD,CAGG4N,IAAyBA,EAAuB,CAAC,IACpDC,EAAOhD,QAAU+C,gGCNV,MAAM9e,GAAS,cAAmB,uICHlC,MAAMgf,EACT,WAAA9lB,CAAYqV,GACRlV,KAAK4lB,MAAQ1Q,CACjB,CACA,SAAAyB,CAAU3P,GACgB,UAAlBA,EAAOA,OACHA,EAAO0I,OACP1P,KAAK4lB,MAAMjP,UAAU,CAAExI,KAAM,IAAe0X,MAAOhgB,QAASmB,EAAO0I,MAAMlJ,aACzExG,KAAKyW,gBAAgBzP,EAAO0I,QAG5B1P,KAAK4lB,MAAMjP,UAAU,CAAExI,KAAM,IAAe0X,QAGzB,YAAlB7e,EAAOA,QACZhH,KAAK4lB,MAAMjP,UAAU,CAAExI,KAAM,IAAe2X,IAEpD,CACA,YAAApP,CAAazV,EAAMyE,GACXA,SACA1F,KAAK4lB,MAAMlP,aAAazV,EAAMyE,EAEtC,CACA,GAAA6Q,GACIvW,KAAK4lB,MAAMrP,KACf,CACA,eAAAE,CAAgBsP,GACZ/lB,KAAK4lB,MAAMnP,gBAAgBsP,EAC/B,CACA,WAAAvP,GACI,OAAOxW,KAAK4lB,MAAMpP,aACtB,CAOA,MAAAwP,GACI,OAAOhmB,KAAK4lB,KAChB,ECzCG,MAMMK,EAAmB,IAAIlkB,IAO7B,SAASmkB,EAAgBzgB,GAC5B,IAAI1F,EACCkmB,EAAiBtlB,IAAI8E,IAM9B,SAAiCA,GAC7B,IAAI1F,EACJ,GAAuB,oBAAZoI,SAA2BA,QAAQ2J,IAAK,CAC/C,MAAMqU,EAAuC,QAA3BpmB,EAAKoI,QAAQ2J,IAAIrM,UAAyB,IAAP1F,EAAgBA,EAAKoI,QAAQ2J,IAAIrM,EAAIP,eAC1F+gB,EAAiBljB,IAAI0C,EAAK0gB,EAC9B,CACJ,CAXQC,CAAwB3gB,GAE5B,MAAMC,GAA8C,QAApC3F,EAAKkmB,EAAiBhjB,IAAIwC,UAAyB,IAAP1F,EAAgBA,EAAK,IAAImF,cACrF,MAAiB,UAAVQ,GAA+B,MAAVA,GAAiB4I,QAAQ5I,EACzD,eCgBA,SAAS2gB,EAA8BrN,GACnC,MAAMsN,EAAa,CAAC,EACpB,IAAK,MAAM7gB,KAAOuT,EAEc,OAAxBA,EAAevT,SAAyCrF,IAAxB4Y,EAAevT,KAC/C6gB,EAAW7gB,GAAOuT,EAAevT,IAGzC,OAAO6gB,CACX,CCvCO,MAAMC,EAAa,IAAIC,EAAA,GACvB,MAAMC,EACT,SAAArQ,CAAUnV,EAAMqV,GACZ,IACIpB,EADAwR,GAAOpQ,aAAiD,EAASA,EAAYM,iBAAmB,IAAQ+P,SAiB5G,OAfIT,EAAgB,0BAEhBhR,EAAO,IAAM0R,gBAAgB,OAI7B1R,EAAO,IACF2R,UAAUvQ,EAAY+B,YAAa/B,EAAYgC,gBAC/ClC,UAAUnV,EDiCpB,SAAuBqV,GAC1B,MAAM,eAAE0C,EAAc,UAAE8N,EAAS,SAAE/N,GAAazC,GAAe,CAAC,EAC1DgQ,EAAaD,EAA8BrN,GAC3C+N,EA/CH,SAAiCC,GACpC,MAAMvhB,GAAOuhB,GAAmB,YAAYC,cAC5C,OAAO,IAASxhB,EACpB,CA4CiByhB,CAAwBnO,GAC/BoO,EAtCV,SAA8BL,EAAY,IACtC,OAAOA,EAAUM,QAAO,CAACC,EAAKC,KAC1B,MAAMC,EAAc,IAAMC,eAAeF,EAAgB1Q,gBAOzD,OANI2Q,GACAF,EAAIzmB,KAAK,CACL2U,QAASgS,EACTjB,WAAYD,EAA8BiB,EAAgBhB,cAG3De,CAAG,GACX,GACP,CA2BkBI,CAAqBX,GACnC,MAAO,CACHR,aACAS,OACAI,QAER,CC3CiCO,CAAcpR,GAAcoQ,GAC7CR,EAAgB,yCAChBjlB,EAAKgmB,cAAc7E,WAAW,UAE9BsE,GAAM,QAAgBA,KAGvB,CACHxR,KAAM,IAAIyQ,EAAyBzQ,GACnC0B,eAAgB,IAAM+Q,QAAQjB,EAAKxR,GAE3C,CACA,WAAA2B,CAAYD,EAAgBG,KAAaC,GACrC,OAAO,IAAQ4Q,KAAKhR,EAAgBG,OACyB3W,KAAc4W,EAC/E,CACA,sBAAAb,CAAuByC,GACnB,OAAO2N,EAAWsB,QAAQ,IAAQlB,SAAU,CAAEmB,YAAalP,GAAqB,IACpF,CACA,oBAAA1C,CAAqBU,GACjB,MAAM3P,EAAU,CAAC,EAEjB,OADAsf,EAAWwB,OAAOnR,GAAkB,IAAQ+P,SAAU1f,EAAS,KACxDA,CACX,ECpCJ,MAAM+gB,UAAgC,IAClC,WAAAnoB,CAAYU,EAAU,CAAC,GACnBmK,MAAM,iDHRa,eGQkD/E,OAAOC,OAAO,CAAC,EAAGrF,GAC3F,CAMA,IAAA0nB,GACI,MAAMpmB,EAAS,IAAI,IAAoC,sBAAuB,CAAC,oBAAqB,WAAYqmB,IAC/D,mBAAlCA,EAAcC,iBACrBD,EAAcC,gBAAgB,IAAI1B,GAE/ByB,KAIX,OADArmB,EAAOumB,mBAAoB,EACpBvmB,CACX,EAqBG,SAASwmB,EAA8B9nB,EAAU,CAAC,GACrD,OAAO,IAAIynB,EAAwBznB,EACvC,gEC9CA,IAAI+nB,EAAa,yoJCqCbC,EAAoC,WACpC,SAASA,IACT,CAoBA,OAnBAA,EAAmB1Q,UAAU8O,OAAS,WAClC,OAAO,GACX,EACA4B,EAAmB1Q,UAAU+P,KAAO,SAAU9Q,EAAU0R,EAAItF,GAExD,IADA,IAAIF,EAAO,GACFyF,EAAK,EAAGA,EAAK3d,UAAU/G,OAAQ0kB,IACpCzF,EAAKyF,EAAK,GAAK3d,UAAU2d,GAE7B,OAAOD,EAAGle,KAAKoZ,MAAM8E,EArBuB,SAAUE,EAAIxM,EAAMyM,GACpE,GAAIA,GAA6B,IAArB7d,UAAU/G,OAAc,IAAK,IAA4B6kB,EAAxBjK,EAAI,EAAGkK,EAAI3M,EAAKnY,OAAY4a,EAAIkK,EAAGlK,KACxEiK,GAAQjK,KAAKzC,IACR0M,IAAIA,EAAKzkB,MAAM0T,UAAU3X,MAAMoK,KAAK4R,EAAM,EAAGyC,IAClDiK,EAAGjK,GAAKzC,EAAKyC,IAGrB,OAAO+J,EAAG3jB,OAAO6jB,GAAMzkB,MAAM0T,UAAU3X,MAAMoK,KAAK4R,GACtD,CAaiC4M,CAAc,CAAC5F,GArCV,SAAU6F,EAAG9jB,GAC/C,IAAI+jB,EAAsB,mBAAX7T,QAAyB4T,EAAE5T,OAAOiF,UACjD,IAAK4O,EAAG,OAAOD,EACf,IAAmBE,EAAY/b,EAA3ByR,EAAIqK,EAAE1e,KAAKye,GAAOH,EAAK,GAC3B,IACI,WAAc,IAAN3jB,GAAgBA,KAAM,MAAQgkB,EAAItK,EAAEpd,QAAQkiB,MAAMmF,EAAGhoB,KAAKqoB,EAAEvjB,MACxE,CACA,MAAOgK,GAASxC,EAAI,CAAEwC,MAAOA,EAAS,CACtC,QACI,IACQuZ,IAAMA,EAAExF,OAASuF,EAAIrK,EAAU,SAAIqK,EAAE1e,KAAKqU,EAClD,CACA,QAAU,GAAIzR,EAAG,MAAMA,EAAEwC,KAAO,CACpC,CACA,OAAOkZ,CACX,CAsB0DM,CAAOlG,IAAO,GACpE,EACAuF,EAAmB1Q,UAAUsR,KAAO,SAAUrS,EAAUsS,GACpD,OAAOA,CACX,EACAb,EAAmB1Q,UAAUwR,OAAS,WAClC,OAAOrpB,IACX,EACAuoB,EAAmB1Q,UAAUyR,QAAU,WACnC,OAAOtpB,IACX,EACOuoB,CACX,CAvBuC,uBCEnCgB,EAAW,UACXC,EAAuB,IAAIjB,EAI3BkB,EAA4B,WAE5B,SAASA,IACT,CAuDA,OArDAA,EAAWC,YAAc,WAIrB,OAHK1pB,KAAK2pB,YACN3pB,KAAK2pB,UAAY,IAAIF,GAElBzpB,KAAK2pB,SAChB,EAMAF,EAAW5R,UAAU+R,wBAA0B,SAAUC,GACrD,OAAO,QAAeN,EAAUM,EAAgB,IAAQC,WAC5D,EAIAL,EAAW5R,UAAU8O,OAAS,WAC1B,OAAO3mB,KAAK+pB,qBAAqBpD,QACrC,EASA8C,EAAW5R,UAAU+P,KAAO,SAAUrS,EAASiT,EAAItF,GAG/C,IAFA,IAAInjB,EACAijB,EAAO,GACFyF,EAAK,EAAGA,EAAK3d,UAAU/G,OAAQ0kB,IACpCzF,EAAKyF,EAAK,GAAK3d,UAAU2d,GAE7B,OAAQ1oB,EAAKC,KAAK+pB,sBAAsBnC,KAAKlE,MAAM3jB,EAxDP,SAAU2oB,EAAIxM,EAAMyM,GACpE,GAAIA,GAA6B,IAArB7d,UAAU/G,OAAc,IAAK,IAA4B6kB,EAAxBjK,EAAI,EAAGkK,EAAI3M,EAAKnY,OAAY4a,EAAIkK,EAAGlK,KACxEiK,GAAQjK,KAAKzC,IACR0M,IAAIA,EAAKzkB,MAAM0T,UAAU3X,MAAMoK,KAAK4R,EAAM,EAAGyC,IAClDiK,EAAGjK,GAAKzC,EAAKyC,IAGrB,OAAO+J,EAAG3jB,OAAO6jB,GAAMzkB,MAAM0T,UAAU3X,MAAMoK,KAAK4R,GACtD,CAgD+D,CAAc,CAAC3G,EAASiT,EAAItF,GAxErD,SAAU6F,EAAG9jB,GAC/C,IAAI+jB,EAAsB,mBAAX7T,QAAyB4T,EAAE5T,OAAOiF,UACjD,IAAK4O,EAAG,OAAOD,EACf,IAAmBE,EAAY/b,EAA3ByR,EAAIqK,EAAE1e,KAAKye,GAAOH,EAAK,GAC3B,IACI,WAAc,IAAN3jB,GAAgBA,KAAM,MAAQgkB,EAAItK,EAAEpd,QAAQkiB,MAAMmF,EAAGhoB,KAAKqoB,EAAEvjB,MACxE,CACA,MAAOgK,GAASxC,EAAI,CAAEwC,MAAOA,EAAS,CACtC,QACI,IACQuZ,IAAMA,EAAExF,OAASuF,EAAIrK,EAAU,SAAIqK,EAAE1e,KAAKqU,EAClD,CACA,QAAU,GAAIzR,EAAG,MAAMA,EAAEwC,KAAO,CACpC,CACA,OAAOkZ,CACX,CAyDqG,CAAO5F,IAAO,GAC/G,EAOAyG,EAAW5R,UAAUsR,KAAO,SAAU5T,EAAS6T,GAC3C,OAAOppB,KAAK+pB,qBAAqBZ,KAAK5T,EAAS6T,EACnD,EACAK,EAAW5R,UAAUkS,mBAAqB,WACtC,OAAO,QAAUR,IAAaC,CAClC,EAEAC,EAAW5R,UAAUyR,QAAU,WAC3BtpB,KAAK+pB,qBAAqBT,WAC1B,QAAiBC,EAAU,IAAQO,WACvC,EACOL,CACX,CA3D+B,+DCE3BO,EAAqC,WACrC,SAASA,EAAoBC,GACzBjqB,KAAKkqB,WAAaD,EAAM5U,WAAa,qBACzC,CAoCA,OAnCA2U,EAAoBnS,UAAUuM,MAAQ,WAElC,IADA,IAAIpB,EAAO,GACFyF,EAAK,EAAGA,EAAK3d,UAAU/G,OAAQ0kB,IACpCzF,EAAKyF,GAAM3d,UAAU2d,GAEzB,OAAO0B,EAAS,QAASnqB,KAAKkqB,WAAYlH,EAC9C,EACAgH,EAAoBnS,UAAUnI,MAAQ,WAElC,IADA,IAAIsT,EAAO,GACFyF,EAAK,EAAGA,EAAK3d,UAAU/G,OAAQ0kB,IACpCzF,EAAKyF,GAAM3d,UAAU2d,GAEzB,OAAO0B,EAAS,QAASnqB,KAAKkqB,WAAYlH,EAC9C,EACAgH,EAAoBnS,UAAUjR,KAAO,WAEjC,IADA,IAAIoc,EAAO,GACFyF,EAAK,EAAGA,EAAK3d,UAAU/G,OAAQ0kB,IACpCzF,EAAKyF,GAAM3d,UAAU2d,GAEzB,OAAO0B,EAAS,OAAQnqB,KAAKkqB,WAAYlH,EAC7C,EACAgH,EAAoBnS,UAAUuS,KAAO,WAEjC,IADA,IAAIpH,EAAO,GACFyF,EAAK,EAAGA,EAAK3d,UAAU/G,OAAQ0kB,IACpCzF,EAAKyF,GAAM3d,UAAU2d,GAEzB,OAAO0B,EAAS,OAAQnqB,KAAKkqB,WAAYlH,EAC7C,EACAgH,EAAoBnS,UAAUwS,QAAU,WAEpC,IADA,IAAIrH,EAAO,GACFyF,EAAK,EAAGA,EAAK3d,UAAU/G,OAAQ0kB,IACpCzF,EAAKyF,GAAM3d,UAAU2d,GAEzB,OAAO0B,EAAS,UAAWnqB,KAAKkqB,WAAYlH,EAChD,EACOgH,CACX,CAxCwC,GA0CxC,SAASG,EAASG,EAAUjV,EAAW2N,GACnC,IAAIrc,GAAS,QAAU,QAEvB,GAAKA,EAIL,OADAqc,EAAKuH,QAAQlV,GACN1O,EAAO2jB,GAAU5G,MAAM/c,EApEkB,SAAU+hB,EAAIxM,EAAMyM,GACpE,GAAIA,GAA6B,IAArB7d,UAAU/G,OAAc,IAAK,IAA4B6kB,EAAxBjK,EAAI,EAAGkK,EAAI3M,EAAKnY,OAAY4a,EAAIkK,EAAGlK,KACxEiK,GAAQjK,KAAKzC,IACR0M,IAAIA,EAAKzkB,MAAM0T,UAAU3X,MAAMoK,KAAK4R,EAAM,EAAGyC,IAClDiK,EAAGjK,GAAKzC,EAAKyC,IAGrB,OAAO+J,EAAG3jB,OAAO6jB,GAAMzkB,MAAM0T,UAAU3X,MAAMoK,KAAK4R,GACtD,CA4D0C4M,CAAc,GApFlB,SAAUC,EAAG9jB,GAC/C,IAAI+jB,EAAsB,mBAAX7T,QAAyB4T,EAAE5T,OAAOiF,UACjD,IAAK4O,EAAG,OAAOD,EACf,IAAmBE,EAAY/b,EAA3ByR,EAAIqK,EAAE1e,KAAKye,GAAOH,EAAK,GAC3B,IACI,WAAc,IAAN3jB,GAAgBA,KAAM,MAAQgkB,EAAItK,EAAEpd,QAAQkiB,MAAMmF,EAAGhoB,KAAKqoB,EAAEvjB,MACxE,CACA,MAAOgK,GAASxC,EAAI,CAAEwC,MAAOA,EAAS,CACtC,QACI,IACQuZ,IAAMA,EAAExF,OAASuF,EAAIrK,EAAU,SAAIqK,EAAE1e,KAAKqU,EAClD,CACA,QAAU,GAAIzR,EAAG,MAAMA,EAAEwC,KAAO,CACpC,CACA,OAAOkZ,CACX,CAqE4DM,CAAOlG,IAAO,GAC1E,cCnDIwH,EAAyB,WAKzB,SAASA,IACL,SAASC,EAAUH,GACf,OAAO,WAEH,IADA,IAAItH,EAAO,GACFyF,EAAK,EAAGA,EAAK3d,UAAU/G,OAAQ0kB,IACpCzF,EAAKyF,GAAM3d,UAAU2d,GAEzB,IAAI9hB,GAAS,QAAU,QAEvB,GAAKA,EAEL,OAAOA,EAAO2jB,GAAU5G,MAAM/c,EAlCM,SAAU+hB,EAAIxM,EAAMyM,GACpE,GAAIA,GAA6B,IAArB7d,UAAU/G,OAAc,IAAK,IAA4B6kB,EAAxBjK,EAAI,EAAGkK,EAAI3M,EAAKnY,OAAY4a,EAAIkK,EAAGlK,KACxEiK,GAAQjK,KAAKzC,IACR0M,IAAIA,EAAKzkB,MAAM0T,UAAU3X,MAAMoK,KAAK4R,EAAM,EAAGyC,IAClDiK,EAAGjK,GAAKzC,EAAKyC,IAGrB,OAAO+J,EAAG3jB,OAAO6jB,GAAMzkB,MAAM0T,UAAU3X,MAAMoK,KAAK4R,GACtD,CA0BsD,CAAc,GAlD9B,SAAU6M,EAAG9jB,GAC/C,IAAI+jB,EAAsB,mBAAX7T,QAAyB4T,EAAE5T,OAAOiF,UACjD,IAAK4O,EAAG,OAAOD,EACf,IAAmBE,EAAY/b,EAA3ByR,EAAIqK,EAAE1e,KAAKye,GAAOH,EAAK,GAC3B,IACI,WAAc,IAAN3jB,GAAgBA,KAAM,MAAQgkB,EAAItK,EAAEpd,QAAQkiB,MAAMmF,EAAGhoB,KAAKqoB,EAAEvjB,MACxE,CACA,MAAOgK,GAASxC,EAAI,CAAEwC,MAAOA,EAAS,CACtC,QACI,IACQuZ,IAAMA,EAAExF,OAASuF,EAAIrK,EAAU,SAAIqK,EAAE1e,KAAKqU,EAClD,CACA,QAAU,GAAIzR,EAAG,MAAMA,EAAEwC,KAAO,CACpC,CACA,OAAOkZ,CACX,CAmCwE,CAAO5F,IAAO,GAC1E,CACJ,CAEA,IAAI0H,EAAO1qB,KA4BX0qB,EAAKC,UA1BW,SAAUhkB,EAAQikB,GAC9B,IAAI7qB,EAAI2N,EAAI8N,EAEZ,QAD0B,IAAtBoP,IAAgCA,EAAoB,CAAEC,SAAU,IAAaC,OAC7EnkB,IAAW+jB,EAAM,CAIjB,IAAIxc,EAAM,IAAIxN,MAAM,sIAEpB,OADAgqB,EAAKhb,MAA2B,QAApB3P,EAAKmO,EAAI6c,aAA0B,IAAPhrB,EAAgBA,EAAKmO,EAAIrI,UAC1D,CACX,CACiC,iBAAtB+kB,IACPA,EAAoB,CAChBC,SAAUD,IAGlB,IAAII,GAAY,QAAU,QACtBC,ECxET,SAAkCC,EAAUvkB,GAS/C,SAASwkB,EAAYb,EAAUc,GAC3B,IAAIC,EAAU1kB,EAAO2jB,GACrB,MAAuB,mBAAZe,GAA0BH,GAAYE,EACtCC,EAAQlC,KAAKxiB,GAEjB,WAAc,CACzB,CACA,OAfIukB,EAAW,IAAaI,KACxBJ,EAAW,IAAaI,KAEnBJ,EAAW,IAAaK,MAC7BL,EAAW,IAAaK,KAG5B5kB,EAASA,GAAU,CAAC,EAQb,CACH+I,MAAOyb,EAAY,QAAS,IAAatF,OACzCuE,KAAMe,EAAY,OAAQ,IAAaK,MACvC5kB,KAAMukB,EAAY,OAAQ,IAAaL,MACvC1G,MAAO+G,EAAY,QAAS,IAAaM,OACzCpB,QAASc,EAAY,UAAW,IAAaO,SAErD,CDiD4BC,CAA+D,QAArCje,EAAKkd,EAAkBC,gBAA6B,IAAPnd,EAAgBA,EAAK,IAAaod,KAAMnkB,GAE/H,GAAIqkB,IAAcJ,EAAkBgB,wBAAyB,CACzD,IAAIb,EAAqC,QAA5BvP,GAAK,IAAI9a,OAAQqqB,aAA0B,IAAPvP,EAAgBA,EAAK,kCACtEwP,EAAUZ,KAAK,2CAA6CW,GAC5DE,EAAUb,KAAK,6DAA+DW,EAClF,CACA,OAAO,QAAe,OAAQE,EAAWP,GAAM,EACnD,EAEAA,EAAKpB,QAAU,YACX,QAvDG,OAuDwBoB,EAC/B,EACAA,EAAKmB,sBAAwB,SAAUtrB,GACnC,OAAO,IAAIypB,EAAoBzpB,EACnC,EACAmqB,EAAKL,QAAUI,EAAU,WACzBC,EAAKtG,MAAQqG,EAAU,SACvBC,EAAK9jB,KAAO6jB,EAAU,QACtBC,EAAKN,KAAOK,EAAU,QACtBC,EAAKhb,MAAQ+a,EAAU,QAC3B,CAQA,OANAD,EAAQV,SAAW,WAIf,OAHK9pB,KAAK2pB,YACN3pB,KAAK2pB,UAAY,IAAIa,GAElBxqB,KAAK2pB,SAChB,EACOa,CACX,CArE4B,uEEPxBsB,EAA6B,WAC7B,SAASA,EAAYtb,GACjBxQ,KAAK+rB,SAAWvb,EAAU,IAAIzO,IAAIyO,GAAW,IAAIzO,GACrD,CAiDA,OAhDA+pB,EAAYjU,UAAUmU,SAAW,SAAUvmB,GACvC,IAAIwU,EAAQja,KAAK+rB,SAAS9oB,IAAIwC,GAC9B,GAAKwU,EAGL,OAAOtU,OAAOC,OAAO,CAAC,EAAGqU,EAC7B,EACA6R,EAAYjU,UAAUoU,cAAgB,WAClC,OAAO9nB,MAAM+X,KAAKlc,KAAK+rB,SAASvb,WAAWxL,KAAI,SAAUjF,GACrD,IAAI2N,EAxCsB,SAAUqb,EAAG9jB,GAC/C,IAAI+jB,EAAsB,mBAAX7T,QAAyB4T,EAAE5T,OAAOiF,UACjD,IAAK4O,EAAG,OAAOD,EACf,IAAmBE,EAAY/b,EAA3ByR,EAAIqK,EAAE1e,KAAKye,GAAOH,EAAK,GAC3B,IACI,WAAc,IAAN3jB,GAAgBA,KAAM,MAAQgkB,EAAItK,EAAEpd,QAAQkiB,MAAMmF,EAAGhoB,KAAKqoB,EAAEvjB,MACxE,CACA,MAAOgK,GAASxC,EAAI,CAAEwC,MAAOA,EAAS,CACtC,QACI,IACQuZ,IAAMA,EAAExF,OAASuF,EAAIrK,EAAU,SAAIqK,EAAE1e,KAAKqU,EAClD,CACA,QAAU,GAAIzR,EAAG,MAAMA,EAAEwC,KAAO,CACpC,CACA,OAAOkZ,CACX,CAyBqBM,CAAOnpB,EAAI,GACpB,MAAO,CADqB2N,EAAG,GAAQA,EAAG,GAE9C,GACJ,EACAoe,EAAYjU,UAAUqU,SAAW,SAAUzmB,EAAKwU,GAC5C,IAAIkS,EAAa,IAAIL,EAAY9rB,KAAK+rB,UAEtC,OADAI,EAAWJ,SAAShpB,IAAI0C,EAAKwU,GACtBkS,CACX,EACAL,EAAYjU,UAAUuU,YAAc,SAAU3mB,GAC1C,IAAI0mB,EAAa,IAAIL,EAAY9rB,KAAK+rB,UAEtC,OADAI,EAAWJ,SAASpoB,OAAO8B,GACpB0mB,CACX,EACAL,EAAYjU,UAAUwU,cAAgB,WAGlC,IAFA,IAAIC,EAAKvsB,EACLmG,EAAO,GACFuiB,EAAK,EAAGA,EAAK3d,UAAU/G,OAAQ0kB,IACpCviB,EAAKuiB,GAAM3d,UAAU2d,GAEzB,IAAI0D,EAAa,IAAIL,EAAY9rB,KAAK+rB,UACtC,IACI,IAAK,IAAIQ,EA9CqB,SAASxD,GAC/C,IAAIyD,EAAsB,mBAAXrX,QAAyBA,OAAOiF,SAAU4O,EAAIwD,GAAKzD,EAAEyD,GAAI7N,EAAI,EAC5E,GAAIqK,EAAG,OAAOA,EAAE1e,KAAKye,GACrB,GAAIA,GAAyB,iBAAbA,EAAEhlB,OAAqB,MAAO,CAC1CxC,KAAM,WAEF,OADIwnB,GAAKpK,GAAKoK,EAAEhlB,SAAQglB,OAAI,GACrB,CAAErjB,MAAOqjB,GAAKA,EAAEpK,KAAM8E,MAAOsF,EACxC,GAEJ,MAAM,IAAIvf,UAAUgjB,EAAI,0BAA4B,kCACxD,CAoC8BC,CAASvmB,GAAOwmB,EAAWH,EAAOhrB,QAASmrB,EAASjJ,KAAMiJ,EAAWH,EAAOhrB,OAAQ,CAClG,IAAIkE,EAAMinB,EAAShnB,MACnBymB,EAAWJ,SAASpoB,OAAO8B,EAC/B,CACJ,CACA,MAAOknB,GAASL,EAAM,CAAE5c,MAAOid,EAAS,CACxC,QACI,IACQD,IAAaA,EAASjJ,OAAS1jB,EAAKwsB,EAAOK,SAAS7sB,EAAGuK,KAAKiiB,EACpE,CACA,QAAU,GAAID,EAAK,MAAMA,EAAI5c,KAAO,CACxC,CACA,OAAOyc,CACX,EACAL,EAAYjU,UAAUgV,MAAQ,WAC1B,OAAO,IAAIf,CACf,EACOA,CACX,CArDgC,GCxBrBgB,EAA6B3X,OAAO,wBCA3C,EAAO,IAAQ2U,WAMZ,SAASiD,EAAcvc,GAE1B,YADgB,IAAZA,IAAsBA,EAAU,CAAC,GAC9B,IAAIsb,EAAY,IAAI/pB,IAAI4D,OAAO6K,QAAQA,IAClD,CAOO,SAASwc,EAA+BC,GAK3C,MAJmB,iBAARA,IACP,EAAKvd,MAAM,4DAA8Dud,GACzEA,EAAM,IAEH,CACHC,SAAUJ,EACVtmB,SAAU,WACN,OAAOymB,CACX,EAER,oDC1BW1X,UAAU,EAAWmU,2CCHzB,SAASyD,EAAiBC,GAO7B,OAAOjY,OAAOC,IAAIgY,EACtB,0BACA,IAyBWC,EAAe,IAnBtB,SAASC,EAAY7X,GAEjB,IAAIiV,EAAO1qB,KACX0qB,EAAK6C,gBAAkB9X,EAAgB,IAAI1T,IAAI0T,GAAiB,IAAI1T,IACpE2oB,EAAK5U,SAAW,SAAUrQ,GAAO,OAAOilB,EAAK6C,gBAAgBtqB,IAAIwC,EAAM,EACvEilB,EAAKhV,SAAW,SAAUjQ,EAAKC,GAC3B,IAAI6P,EAAU,IAAI+X,EAAY5C,EAAK6C,iBAEnC,OADAhY,EAAQgY,gBAAgBxqB,IAAI0C,EAAKC,GAC1B6P,CACX,EACAmV,EAAK3U,YAAc,SAAUtQ,GACzB,IAAI8P,EAAU,IAAI+X,EAAY5C,EAAK6C,iBAEnC,OADAhY,EAAQgY,gBAAgB5pB,OAAO8B,GACxB8P,CACX,CACJ,oDCtBOiY,UAAO,EAAQ1D,uCCJnB,IAAI2D,mBACX,SAAWA,GAEPA,EAAaA,EAAmB,KAAI,GAAK,OAEzCA,EAAaA,EAAoB,MAAI,IAAM,QAE3CA,EAAaA,EAAmB,KAAI,IAAM,OAE1CA,EAAaA,EAAmB,KAAI,IAAM,OAE1CA,EAAaA,EAAoB,MAAI,IAAM,QAK3CA,EAAaA,EAAsB,QAAI,IAAM,UAE7CA,EAAaA,EAAkB,IAAI,MAAQ,KAC9C,CAlBD,CAkBGA,IAAiBA,EAAe,CAAC,4qBCvBzBC,sBCDPC,EAAa,CACb,CAAE1oB,EAAG,QAAS2oB,EAAG,SACjB,CAAE3oB,EAAG,OAAQ2oB,EAAG,QAChB,CAAE3oB,EAAG,OAAQ2oB,EAAG,QAChB,CAAE3oB,EAAG,QAAS2oB,EAAG,SACjB,CAAE3oB,EAAG,UAAW2oB,EAAG,UAOnBC,EACA,WACI,SAASC,EAAaxD,GAClB,OAAO,WAEH,IADA,IAAItH,EAAO,GACFyF,EAAK,EAAGA,EAAK3d,UAAU/G,OAAQ0kB,IACpCzF,EAAKyF,GAAM3d,UAAU2d,GAEzB,GAAIsF,QAAS,CAGT,IAAI1C,EAAU0C,QAAQzD,GAOtB,GANuB,mBAAZe,IAGPA,EAAU0C,QAAQC,KAGC,mBAAZ3C,EACP,OAAOA,EAAQ3H,MAAMqK,QAAS/K,EAEtC,CACJ,CACJ,CACA,IAAK,IAAIrE,EAAI,EAAGA,EAAIgP,EAAW5pB,OAAQ4a,IACnC3e,KAAK2tB,EAAWhP,GAAG1Z,GAAK6oB,EAAaH,EAAWhP,GAAGiP,EAE3D,sBDrCJ,SAAWF,GACPA,EAAUA,EAAe,IAAI,GAAK,MAClCA,EAAUA,EAAkB,OAAI,GAAK,QACxC,CAHD,CAGGA,IAAcA,EAAY,CAAC,6EEL1BO,EAAuB,eAGvBC,EAAkB,IAAI7pB,OAAO,YAFP4pB,EAEO,mBADGA,EAAuB,gBAAkBA,EAC5C,YAC7BE,EAAyB,sBACzBC,EAAkC,MCSlCC,EAAgC,WAChC,SAASA,EAAeC,GACpBtuB,KAAKuuB,eAAiB,IAAIxsB,IACtBusB,GACAtuB,KAAKwuB,OAAOF,EACpB,CAgEA,OA/DAD,EAAexW,UAAU9U,IAAM,SAAU0C,EAAKC,GAG1C,IAAI+oB,EAAazuB,KAAK0uB,SAKtB,OAJID,EAAWF,eAAe5tB,IAAI8E,IAC9BgpB,EAAWF,eAAe5qB,OAAO8B,GAErCgpB,EAAWF,eAAexrB,IAAI0C,EAAKC,GAC5B+oB,CACX,EACAJ,EAAexW,UAAU8W,MAAQ,SAAUlpB,GACvC,IAAIgpB,EAAazuB,KAAK0uB,SAEtB,OADAD,EAAWF,eAAe5qB,OAAO8B,GAC1BgpB,CACX,EACAJ,EAAexW,UAAU5U,IAAM,SAAUwC,GACrC,OAAOzF,KAAKuuB,eAAetrB,IAAIwC,EACnC,EACA4oB,EAAexW,UAAU+W,UAAY,WACjC,IAAIC,EAAQ7uB,KACZ,OAAOA,KAAK8uB,QACP1H,QAAO,SAAU2H,EAAKtpB,GAEvB,OADAspB,EAAInuB,KAAK6E,EAtCgB,IAsCuBopB,EAAM5rB,IAAIwC,IACnDspB,CACX,GAAG,IACEtmB,KA1CgB,IA2CzB,EACA4lB,EAAexW,UAAU2W,OAAS,SAAUF,GACpCA,EAAcvqB,OA9CA,MAgDlB/D,KAAKuuB,eAAiBD,EACjB9a,MAhDgB,KAiDhBwb,UACA5H,QAAO,SAAU2H,EAAKE,GACvB,IAAIC,EAAaD,EAAKvb,OAClBiL,EAAIuQ,EAAWllB,QAnDM,KAoDzB,IAAW,IAAP2U,EAAU,CACV,IAAIlZ,EAAMypB,EAAWhvB,MAAM,EAAGye,GAC1BjZ,EAAQwpB,EAAWhvB,MAAMye,EAAI,EAAGsQ,EAAKlrB,SD5ClD,SAAqB0B,GACxB,OAAOyoB,EAAgBlP,KAAKvZ,EAChC,EC2CoB0pB,CAAY1pB,IDtCzB,SAAuBC,GAC1B,OAAQyoB,EAAuBnP,KAAKtZ,KAC/B0oB,EAAgCpP,KAAKtZ,EAC9C,CCmCwC0pB,CAAc1pB,IAClCqpB,EAAIhsB,IAAI0C,EAAKC,EAKrB,CACA,OAAOqpB,CACX,GAAG,IAAIhtB,KAEH/B,KAAKuuB,eAAe9qB,KApEJ,KAqEhBzD,KAAKuuB,eAAiB,IAAIxsB,IAAIoC,MAAM+X,KAAKlc,KAAKuuB,eAAe/d,WACxDwe,UACA9uB,MAAM,EAvEK,MAyExB,EACAmuB,EAAexW,UAAUiX,MAAQ,WAC7B,OAAO3qB,MAAM+X,KAAKlc,KAAKuuB,eAAeroB,QAAQ8oB,SAClD,EACAX,EAAexW,UAAU6W,OAAS,WAC9B,IAAID,EAAa,IAAIJ,EAErB,OADAI,EAAWF,eAAiB,IAAIxsB,IAAI/B,KAAKuuB,gBAClCE,CACX,EACOJ,CACX,CAtEmC,GCb5B,SAASgB,EAAiBf,GAC7B,OAAO,IAAID,EAAeC,EAC9B,yEC2BA,SACI/Y,QAAS,IACTiY,KAAM,IACN8B,QAAS,IACTC,YAAa,IACbC,MAAO,sECjCJ,IAAIC,EAAoC,iBAAfC,WAA0BA,WAAaC,OCD5DC,EAAU,QCAjBC,EAAK,gCAoGEC,EAnFJ,SAAiCC,GACpC,IAAIC,EAAmB,IAAIrwB,IAAI,CAACowB,IAC5BE,EAAmB,IAAItwB,IACvBuwB,EAAiBH,EAAWI,MAAMN,GACtC,IAAKK,EAED,OAAO,WAAc,OAAO,CAAO,EAEvC,IAAIE,GACQF,EAAe,GADvBE,GAEQF,EAAe,GAFvBE,GAGQF,EAAe,GAI3B,GAAmC,MAHnBA,EAAe,GAI3B,OAAO,SAAsBG,GACzB,OAAOA,IAAkBN,CAC7B,EAEJ,SAASO,EAAQC,GAEb,OADAN,EAAiBjtB,IAAIutB,IACd,CACX,CACA,SAASC,EAAQD,GAEb,OADAP,EAAiBhtB,IAAIutB,IACd,CACX,CACA,OAAO,SAAsBF,GACzB,GAAIL,EAAiBrvB,IAAI0vB,GACrB,OAAO,EAEX,GAAIJ,EAAiBtvB,IAAI0vB,GACrB,OAAO,EAEX,IAAII,EAAqBJ,EAAcF,MAAMN,GAC7C,IAAKY,EAGD,OAAOH,EAAQD,GAEnB,IAAIK,GACQD,EAAmB,GAD3BC,GAEQD,EAAmB,GAF3BC,GAGQD,EAAmB,GAI/B,OAAsC,MAHtBA,EAAmB,IAO/BL,IAA2BM,EAHpBJ,EAAQD,GAMY,IAA3BD,EACIA,IAA2BM,GAC3BN,GAA0BM,EACnBF,EAAQH,GAEZC,EAAQD,GAEfD,GAA0BM,EACnBF,EAAQH,GAEZC,EAAQD,EACnB,CACJ,CAgB0BM,CAAwBf,GClG9CgB,EAAQhB,EAAQpc,MAAM,KAAK,GAC3Bqd,EAA+B1b,OAAOC,IAAI,wBAA0Bwb,GACpEE,EAAUrB,EACP,SAASsB,EAAevmB,EAAMsf,EAAU0D,EAAMwD,GACjD,IAAIjxB,OACkB,IAAlBixB,IAA4BA,GAAgB,GAChD,IAAIC,EAAOH,EAAQD,GAAiF,QAAhD9wB,EAAK+wB,EAAQD,UAAkD,IAAP9wB,EAAgBA,EAAK,CAC7HqI,QAASwnB,GAEb,IAAKoB,GAAiBC,EAAIzmB,GAAO,CAE7B,IAAI0D,EAAM,IAAIxN,MAAM,gEAAkE8J,GAEtF,OADAgjB,EAAK9d,MAAMxB,EAAI6c,OAAS7c,EAAIrI,UACrB,CACX,CACA,OAAIorB,EAAI7oB,UAAYwnB,GAEZ1hB,EAAM,IAAIxN,MAAM,gDAAkDuwB,EAAI7oB,QAAU,QAAUoC,EAAO,8CAAgDolB,GACrJpC,EAAK9d,MAAMxB,EAAI6c,OAAS7c,EAAIrI,UACrB,IAEXorB,EAAIzmB,GAAQsf,EACZ0D,EAAKpJ,MAAM,+CAAiD5Z,EAAO,KAAOolB,EAAU,MAC7E,EACX,CACO,SAASsB,EAAU1mB,GACtB,IAAIzK,EAAI2N,EACJ2iB,EAAiE,QAAhDtwB,EAAK+wB,EAAQD,UAAkD,IAAP9wB,OAAgB,EAASA,EAAGqI,QACzG,GAAKioB,GAAkBP,EAAaO,GAGpC,OAAwD,QAAhD3iB,EAAKojB,EAAQD,UAAkD,IAAPnjB,OAAgB,EAASA,EAAGlD,EAChG,CACO,SAAS2mB,EAAiB3mB,EAAMgjB,GACnCA,EAAKpJ,MAAM,kDAAoD5Z,EAAO,KAAOolB,EAAU,KACvF,IAAIqB,EAAMH,EAAQD,GACdI,UACOA,EAAIzmB,EAEnB,6DC5BW4mB,EAAsB,IATM,WACnC,SAASC,IACT,CAIA,OAHAA,EAAkBxZ,UAAUyZ,SAAW,SAAUjb,EAAOkb,EAAUC,GAC9D,OAAO,IACX,EACOH,CACX,CAPsC,wBCFlC9H,EAAW,UCCJ+F,EDGqB,WAE5B,SAASmC,IACT,CA+BA,OA7BAA,EAAW/H,YAAc,WAIrB,OAHK1pB,KAAK2pB,YACN3pB,KAAK2pB,UAAY,IAAI8H,GAElBzxB,KAAK2pB,SAChB,EAKA8H,EAAW5Z,UAAU6Z,uBAAyB,SAAUC,GACpD,OAAO,QAAepI,EAAUoI,EAAU,IAAQ7H,WACtD,EAIA2H,EAAW5Z,UAAU+Z,iBAAmB,WACpC,OAAO,QAAUrI,IAAa6H,CAClC,EAIAK,EAAW5Z,UAAUyZ,SAAW,SAAUrwB,EAAMmH,EAAS7H,GACrD,OAAOP,KAAK4xB,mBAAmBN,SAASrwB,EAAMmH,EAAS7H,EAC3D,EAEAkxB,EAAW5Z,UAAUyR,QAAU,YAC3B,QAAiBC,EAAU,IAAQO,WACvC,EACO2H,CACX,CAnC+B,GCHC/H,sECJhC,IACQmI,EADJC,GACID,EAAgB,SAAUE,EAAGC,GAI7B,OAHAH,EAAgBlsB,OAAOiS,gBAClB,CAAEqa,UAAW,cAAgB9tB,OAAS,SAAU4tB,EAAGC,GAAKD,EAAEE,UAAYD,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAI7sB,KAAK6sB,EAAOrsB,OAAOkS,UAAUqa,eAAe5nB,KAAK0nB,EAAG7sB,KAAI4sB,EAAE5sB,GAAK6sB,EAAE7sB,GAAI,EAC7F0sB,EAAcE,EAAGC,EAC5B,EACO,SAAUD,EAAGC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIxoB,UAAU,uBAAyB8N,OAAO0a,GAAK,iCAE7D,SAASG,IAAOnyB,KAAKH,YAAckyB,CAAG,CADtCF,EAAcE,EAAGC,GAEjBD,EAAEla,UAAkB,OAANma,EAAarsB,OAAO/D,OAAOowB,IAAMG,EAAGta,UAAYma,EAAEna,UAAW,IAAIsa,EACnF,GAMAC,EAA2B,WAC3B,SAASA,IACT,CAmDA,OA/CAA,EAAUva,UAAUwa,YAAc,SAAUhc,EAAOmb,GAC/C,OAAOc,CACX,EAIAF,EAAUva,UAAU0a,gBAAkB,SAAUlc,EAAOmb,GACnD,OAAOgB,CACX,EAIAJ,EAAUva,UAAU4a,cAAgB,SAAUpc,EAAOmb,GACjD,OAAOkB,CACX,EAIAN,EAAUva,UAAU8a,oBAAsB,SAAUtc,EAAOmb,GACvD,OAAOoB,CACX,EAIAR,EAAUva,UAAUgb,sBAAwB,SAAUxc,EAAOmb,GACzD,OAAOsB,CACX,EAIAV,EAAUva,UAAUkb,wBAA0B,SAAU1c,EAAOmb,GAC3D,OAAOwB,CACX,EAIAZ,EAAUva,UAAUob,8BAAgC,SAAU5c,EAAOmb,GACjE,OAAO0B,CACX,EAIAd,EAAUva,UAAUsb,2BAA6B,SAAUC,EAAWC,GAAgB,EAItFjB,EAAUva,UAAUyb,8BAAgC,SAAUF,GAAa,EACpEhB,CACX,CAtD8B,GAwD1BmB,EACA,WACA,EAIAC,EAAmC,SAAUC,GAE7C,SAASD,IACL,OAAkB,OAAXC,GAAmBA,EAAO/P,MAAM1jB,KAAM8K,YAAc9K,IAC/D,CAEA,OALA8xB,EAAU0B,EAAmBC,GAI7BD,EAAkB3b,UAAU7U,IAAM,SAAU0wB,EAAQC,GAAe,EAC5DH,CACX,CAPsC,CAOpCD,GAEEK,EAAyC,SAAUH,GAEnD,SAASG,IACL,OAAkB,OAAXH,GAAmBA,EAAO/P,MAAM1jB,KAAM8K,YAAc9K,IAC/D,CAEA,OALA8xB,EAAU8B,EAAyBH,GAInCG,EAAwB/b,UAAU7U,IAAM,SAAU0wB,EAAQC,GAAe,EAClEC,CACX,CAP4C,CAO1CL,GAEEM,EAAiC,SAAUJ,GAE3C,SAASI,IACL,OAAkB,OAAXJ,GAAmBA,EAAO/P,MAAM1jB,KAAM8K,YAAc9K,IAC/D,CAEA,OALA8xB,EAAU+B,EAAiBJ,GAI3BI,EAAgBhc,UAAUic,OAAS,SAAUJ,EAAQC,GAAe,EAC7DE,CACX,CAPoC,CAOlCN,GAEEQ,EAAqC,SAAUN,GAE/C,SAASM,IACL,OAAkB,OAAXN,GAAmBA,EAAO/P,MAAM1jB,KAAM8K,YAAc9K,IAC/D,CAEA,OALA8xB,EAAUiC,EAAqBN,GAI/BM,EAAoBlc,UAAUic,OAAS,SAAUJ,EAAQC,GAAe,EACjEI,CACX,CAPwC,CAOtCR,GAEES,EAAsC,WACtC,SAASA,IACT,CAGA,OAFAA,EAAqBnc,UAAUoc,YAAc,SAAUb,GAAa,EACpEY,EAAqBnc,UAAUqc,eAAiB,SAAUd,GAAa,EAChEY,CACX,CANyC,GAQrCG,EAA6C,SAAUV,GAEvD,SAASU,IACL,OAAkB,OAAXV,GAAmBA,EAAO/P,MAAM1jB,KAAM8K,YAAc9K,IAC/D,CACA,OAJA8xB,EAAUqC,EAA6BV,GAIhCU,CACX,CANgD,CAM9CH,GAEEI,EAA2C,SAAUX,GAErD,SAASW,IACL,OAAkB,OAAXX,GAAmBA,EAAO/P,MAAM1jB,KAAM8K,YAAc9K,IAC/D,CACA,OAJA8xB,EAAUsC,EAA2BX,GAI9BW,CACX,CAN8C,CAM5CJ,GAEEK,EAAmD,SAAUZ,GAE7D,SAASY,IACL,OAAkB,OAAXZ,GAAmBA,EAAO/P,MAAM1jB,KAAM8K,YAAc9K,IAC/D,CACA,OAJA8xB,EAAUuC,EAAmCZ,GAItCY,CACX,CANsD,CAMpDL,GAESM,EAAa,IAAIlC,EAEjBM,EAAsB,IAAIc,EAC1BlB,EAAoB,IAAIuB,EACxBrB,EAAwB,IAAIuB,EAC5BnB,EAA8B,IAAIgB,EAElCZ,EAAiC,IAAImB,EACrCrB,EAA+B,IAAIsB,EACnClB,EAAyC,IAAImB,EAIjD,SAASE,IACZ,OAAOD,CACX,6DCjKIE,EAAuC,WACvC,SAASA,IACT,CAUA,OARAA,EAAsB3c,UAAUkQ,OAAS,SAAUjR,EAAU2d,GAAY,EAEzED,EAAsB3c,UAAUgQ,QAAU,SAAUtS,EAASkf,GACzD,OAAOlf,CACX,EACAif,EAAsB3c,UAAU6c,OAAS,WACrC,MAAO,EACX,EACOF,CACX,CAb0C,sBCEtCG,GAAc,aAAiB,6BAO5B,SAASC,EAAWrf,GACvB,OAAOA,EAAQO,SAAS6e,SAAgBv0B,CAC5C,CAMO,SAASy0B,IACZ,OAAOD,EAAW,IAAWlL,cAAc/C,SAC/C,CAOO,SAASmO,EAAWvf,EAASwf,GAChC,OAAOxf,EAAQG,SAASif,EAAaI,EACzC,CAMO,SAASC,EAAczf,GAC1B,OAAOA,EAAQQ,YAAY4e,EAC/B,yBCjCIpL,EAAW,cACX0L,EAA2B,IAAIT,EAI/BU,EAAgC,WAEhC,SAASA,IACLl1B,KAAK+sB,cAAgB,IACrB/sB,KAAK40B,WAAaA,EAClB50B,KAAK60B,iBAAmBA,EACxB70B,KAAK80B,WAAaA,EAClB90B,KAAKg1B,cAAgBA,CACzB,CAmDA,OAjDAE,EAAexL,YAAc,WAIzB,OAHK1pB,KAAK2pB,YACN3pB,KAAK2pB,UAAY,IAAIuL,GAElBl1B,KAAK2pB,SAChB,EAMAuL,EAAerd,UAAUsd,oBAAsB,SAAU5O,GACrD,OAAO,QAAegD,EAAUhD,EAAY,IAAQuD,WACxD,EAQAoL,EAAerd,UAAUkQ,OAAS,SAAUxS,EAAS6f,EAASC,GAE1D,YADe,IAAXA,IAAqBA,EAAS,KAC3Br1B,KAAKs1B,uBAAuBvN,OAAOxS,EAAS6f,EAASC,EAChE,EAQAH,EAAerd,UAAUgQ,QAAU,SAAUtS,EAAS6f,EAASG,GAE3D,YADe,IAAXA,IAAqBA,EAAS,KAC3Bv1B,KAAKs1B,uBAAuBzN,QAAQtS,EAAS6f,EAASG,EACjE,EAIAL,EAAerd,UAAU6c,OAAS,WAC9B,OAAO10B,KAAKs1B,uBAAuBZ,QACvC,EAEAQ,EAAerd,UAAUyR,QAAU,YAC/B,QAAiBC,EAAU,IAAQO,WACvC,EACAoL,EAAerd,UAAUyd,qBAAuB,WAC5C,OAAO,QAAU/L,IAAa0L,CAClC,EACOC,CACX,CA5DmC,GCPxB3F,EAAc2F,EAAexL,mECJjC,IAAI8L,EAAuB,CAC9BvyB,IAAK,SAAUmyB,EAAS3vB,GACpB,GAAe,MAAX2vB,EAGJ,OAAOA,EAAQ3vB,EACnB,EACAS,KAAM,SAAUkvB,GACZ,OAAe,MAAXA,EACO,GAEJzvB,OAAOO,KAAKkvB,EACvB,GAEOK,EAAuB,CAC9B1yB,IAAK,SAAUqyB,EAAS3vB,EAAKC,GACV,MAAX0vB,IAGJA,EAAQ3vB,GAAOC,EACnB,uGCfA6jB,EAAW,QCDJiG,EDKmB,WAE1B,SAASkG,IACL11B,KAAK21B,qBAAuB,IAAIC,EAAA,EAChC51B,KAAK4mB,gBAAkB,KACvB5mB,KAAK61B,mBAAqB,KAC1B71B,KAAK81B,WAAa,KAClB91B,KAAK+1B,QAAU,KACf/1B,KAAKg2B,cAAgB,KACrBh2B,KAAKwnB,eAAiB,KACtBxnB,KAAK2nB,QAAU,KACf3nB,KAAKi2B,eAAiB,IAC1B,CAqCA,OAnCAP,EAAShM,YAAc,WAInB,OAHK1pB,KAAK2pB,YACN3pB,KAAK2pB,UAAY,IAAI+L,GAElB11B,KAAK2pB,SAChB,EAMA+L,EAAS7d,UAAUqe,wBAA0B,SAAUvE,GACnD,IAAIwE,GAAU,QAAe5M,EAAUvpB,KAAK21B,qBAAsB,IAAQ7L,YAI1E,OAHIqM,GACAn2B,KAAK21B,qBAAqBS,YAAYzE,GAEnCwE,CACX,EAIAT,EAAS7d,UAAUwe,kBAAoB,WACnC,OAAO,QAAU9M,IAAavpB,KAAK21B,oBACvC,EAIAD,EAAS7d,UAAUgP,UAAY,SAAU5lB,EAAMmH,GAC3C,OAAOpI,KAAKq2B,oBAAoBxP,UAAU5lB,EAAMmH,EACpD,EAEAstB,EAAS7d,UAAUyR,QAAU,YACzB,QAAiBC,EAAU,IAAQO,YACnC9pB,KAAK21B,qBAAuB,IAAIC,EAAA,CACpC,EACOF,CACX,CAlD6B,GCLDhM,0ECExB4M,EAAkC,WAClC,SAASA,EAAiBC,QACD,IAAjBA,IAA2BA,EAAe,MAC9Cv2B,KAAKu2B,aAAeA,CACxB,CAuCA,OArCAD,EAAiBze,UAAU0P,YAAc,WACrC,OAAOvnB,KAAKu2B,YAChB,EAEAD,EAAiBze,UAAUnB,aAAe,SAAU8f,EAAM9C,GACtD,OAAO1zB,IACX,EAEAs2B,EAAiBze,UAAU4e,cAAgB,SAAU9C,GACjD,OAAO3zB,IACX,EAEAs2B,EAAiBze,UAAU6e,SAAW,SAAUrgB,EAAOsd,GACnD,OAAO3zB,IACX,EACAs2B,EAAiBze,UAAU8e,QAAU,SAAUC,GAC3C,OAAO52B,IACX,EACAs2B,EAAiBze,UAAUgf,SAAW,SAAUC,GAC5C,OAAO92B,IACX,EAEAs2B,EAAiBze,UAAUlB,UAAY,SAAUogB,GAC7C,OAAO/2B,IACX,EAEAs2B,EAAiBze,UAAUmf,WAAa,SAAU3gB,GAC9C,OAAOrW,IACX,EAEAs2B,EAAiBze,UAAUtB,IAAM,SAAU0gB,GAAY,EAEvDX,EAAiBze,UAAUrB,YAAc,WACrC,OAAO,CACX,EAEA8f,EAAiBze,UAAUpB,gBAAkB,SAAUygB,EAAYC,GAAS,EACrEb,CACX,CA5CqC,6FCFjCc,EAAa,IAAW1N,cAIxB2N,EAA4B,WAC5B,SAASA,IACT,CAyCA,OAvCAA,EAAWxf,UAAUzB,UAAY,SAAUnV,EAAMV,EAASgV,GAGtD,QAFgB,IAAZA,IAAsBA,EAAU6hB,EAAWzQ,UACpCrY,QAAQ/N,aAAyC,EAASA,EAAQ+2B,MAEzE,OAAO,IAAI,IAEf,IAoCe/P,EApCXgQ,EAAoBhiB,IAAW,QAAeA,GAClD,MAoC2B,iBADZgS,EAnCGgQ,IAqCe,iBAA1BhQ,EAAoB,QACO,iBAA3BA,EAAqB,SACS,iBAA9BA,EAAwB,aAtC3B,QAAmBgQ,GACZ,IAAI,IAAiBA,GAGrB,IAAI,GAEnB,EACAF,EAAWxf,UAAU2f,gBAAkB,SAAUv2B,EAAMw2B,EAAMC,EAAMC,GAC/D,IAAInT,EACAkC,EACA8B,EACJ,KAAI1d,UAAU/G,OAAS,GAAvB,CAG8B,IAArB+G,UAAU/G,OACfykB,EAAKiP,EAEqB,IAArB3sB,UAAU/G,QACfygB,EAAOiT,EACPjP,EAAKkP,IAGLlT,EAAOiT,EACP/Q,EAAMgR,EACNlP,EAAKmP,GAET,IAAIliB,EAAgBiR,QAAiCA,EAAM0Q,EAAWzQ,SAClEzR,EAAOlV,KAAKoW,UAAUnV,EAAMujB,EAAM/O,GAClCmiB,GAAqB,QAAQniB,EAAeP,GAChD,OAAOkiB,EAAWxP,KAAKgQ,EAAoBpP,OAAIpoB,EAAW8U,EAJ1D,CAKJ,EACOmiB,CACX,CA5C+B,qDCP3BQ,EAAc,YAAI,GAIlBC,EAA6B,WAC7B,SAASA,EAAYC,EAAW92B,EAAMmH,EAAS7H,GAC3CP,KAAK+3B,UAAYA,EACjB/3B,KAAKiB,KAAOA,EACZjB,KAAKoI,QAAUA,EACfpI,KAAKO,QAAUA,CACnB,CAuBA,OAtBAu3B,EAAYjgB,UAAUzB,UAAY,SAAUnV,EAAMV,EAASgV,GACvD,OAAOvV,KAAKg4B,aAAa5hB,UAAUnV,EAAMV,EAASgV,EACtD,EACAuiB,EAAYjgB,UAAU2f,gBAAkB,SAAUnhB,EAAOmb,EAAU1a,EAAUmhB,GACzE,IAAIC,EAASl4B,KAAKg4B,aAClB,OAAOG,QAAQzU,MAAMwU,EAAOV,gBAAiBU,EAAQptB,UACzD,EAKAgtB,EAAYjgB,UAAUmgB,WAAa,WAC/B,GAAIh4B,KAAKo4B,UACL,OAAOp4B,KAAKo4B,UAEhB,IAAIF,EAASl4B,KAAK+3B,UAAUM,kBAAkBr4B,KAAKiB,KAAMjB,KAAKoI,QAASpI,KAAKO,SAC5E,OAAK23B,GAGLl4B,KAAKo4B,UAAYF,EACVl4B,KAAKo4B,WAHDP,CAIf,EACOC,CACX,CA9BgC,yECH5BQ,EAAuB,ICKa,WACpC,SAASC,IACT,CAIA,OAHAA,EAAmB1gB,UAAUgP,UAAY,SAAUxQ,EAAOkb,EAAUC,GAChE,OAAO,IAAI6F,EAAA,CACf,EACOkB,CACX,CAPuC,IDInC3C,EAAqC,WACrC,SAASA,IACT,CAsBA,OAlBAA,EAAoB/d,UAAUgP,UAAY,SAAU5lB,EAAMmH,EAAS7H,GAC/D,IAAIR,EACJ,OAAkE,QAAzDA,EAAKC,KAAKq4B,kBAAkBp3B,EAAMmH,EAAS7H,UAA6B,IAAPR,EAAgBA,EAAK,IAAI+3B,EAAA,EAAY93B,KAAMiB,EAAMmH,EAAS7H,EACxI,EACAq1B,EAAoB/d,UAAU2gB,YAAc,WACxC,IAAIz4B,EACJ,OAAiC,QAAzBA,EAAKC,KAAKo4B,iBAA8B,IAAPr4B,EAAgBA,EAAKu4B,CAClE,EAIA1C,EAAoB/d,UAAUue,YAAc,SAAUqC,GAClDz4B,KAAKo4B,UAAYK,CACrB,EACA7C,EAAoB/d,UAAUwgB,kBAAoB,SAAUp3B,EAAMmH,EAAS7H,GACvE,IAAIR,EACJ,OAAiC,QAAzBA,EAAKC,KAAKo4B,iBAA8B,IAAPr4B,OAAgB,EAASA,EAAG8mB,UAAU5lB,EAAMmH,EAAS7H,EAClG,EACOq1B,CACX,CAzBwC,gCENjC,IAAI8C,mBACX,SAAWA,GAKPA,EAAiBA,EAA6B,WAAI,GAAK,aAKvDA,EAAiBA,EAAyB,OAAI,GAAK,SAKnDA,EAAiBA,EAAqC,mBAAI,GAAK,oBAClE,CAhBD,CAgBGA,IAAqBA,EAAmB,CAAC,kIChBxCC,GAAW,OAAiB,kCAMzB,SAAS5C,EAAQxgB,GACpB,OAAOA,EAAQO,SAAS6iB,SAAav4B,CACzC,CAIO,SAAS41B,IACZ,OAAOD,EAAQ,IAAWrM,cAAc/C,SAC5C,CAOO,SAASgB,EAAQpS,EAASL,GAC7B,OAAOK,EAAQG,SAASijB,EAAUzjB,EACtC,CAMO,SAAS4gB,EAAWvgB,GACvB,OAAOA,EAAQQ,YAAY4iB,EAC/B,CAQO,SAAS1C,EAAe1gB,EAASgS,GACpC,OAAOI,EAAQpS,EAAS,IAAI,IAAiBgS,GACjD,CAMO,SAASC,EAAejS,GAC3B,IAAIxV,EACJ,OAAmC,QAA3BA,EAAKg2B,EAAQxgB,UAA6B,IAAPxV,OAAgB,EAASA,EAAGwnB,aAC3E,iFCvDWqR,EAAiB,mBACjBC,EAAkB,mCAClBC,EAAuB,CAC9BC,QAASF,EACTG,OAAQJ,EACRK,WAAY,IAAW3N,mCCNpB,IAAI4N,mBACX,SAAWA,GAEPA,EAASA,EAAmB,SAAI,GAAK,WAKrCA,EAASA,EAAiB,OAAI,GAAK,SAKnCA,EAASA,EAAiB,OAAI,GAAK,SAMnCA,EAASA,EAAmB,SAAI,GAAK,WAMrCA,EAASA,EAAmB,SAAI,GAAK,UACxC,CAzBD,CAyBGA,IAAaA,EAAW,CAAC,sGCxBxBC,EAAsB,oBACtBC,EAAqB,kBAClB,SAASC,EAAeN,GAC3B,OAAOI,EAAoBna,KAAK+Z,IAAYA,IAAY,IAC5D,CACO,SAASO,EAAcN,GAC1B,OAAOI,EAAmBpa,KAAKga,IAAWA,IAAW,IACzD,CAKO,SAASnD,EAAmBtO,GAC/B,OAAQ8R,EAAe9R,EAAYwR,UAAYO,EAAc/R,EAAYyR,OAC7E,CAOO,SAASpS,EAAgBW,GAC5B,OAAO,IAAI,IAAiBA,EAChC,+BCrCO,IAAIgS,mBACX,SAAWA,GAIPA,EAAeA,EAAsB,MAAI,GAAK,QAK9CA,EAAeA,EAAmB,GAAI,GAAK,KAI3CA,EAAeA,EAAsB,MAAI,GAAK,OACjD,CAdD,CAcGA,IAAmBA,EAAiB,CAAC,iCCHjC,IAAIC,mBACX,SAAWA,GAEPA,EAAWA,EAAiB,KAAI,GAAK,OAErCA,EAAWA,EAAoB,QAAI,GAAK,SAC3C,CALD,CAKGA,IAAeA,EAAa,CAAC,gCCNzB,IAAIC,mBACX,SAAWA,GACPA,EAAiBA,EAA0B,QAAI,GAAK,UACpDA,EAAiBA,EAAyB,OAAI,GAAK,QACtD,CAHD,CAGGA,IAAqBA,EAAmB,CAAC,yGCJrC,IAAIC,EAA6B,IAC7BC,EAA+B,IAC/BC,EAA0B,IAE1BC,EAAiB,UAEjBC,EAA+B,IAE/BC,EAAmC,KAEnCC,EAA2B,8FCAlCC,EAAsC,WACtC,SAASA,IACT,CA6CA,OA5CAA,EAAqBpiB,UAAUkQ,OAAS,SAAUxS,EAAS6f,EAASC,GAChE,IAAIN,EAAU,IAAYH,WAAWrf,GACrC,GAAKwf,KAAW,QAAoBxf,GAApC,CAEA,IAAI2kB,GAAW,IAAAC,aAAYpF,GACtBh0B,QAAO,SAAUq5B,GAClB,OAAOA,EAAKr2B,QAAU,IAC1B,IACK7D,MAAM,EAAG,MACVm6B,GAAc,IAAAC,mBAAkBJ,GAChCG,EAAYt2B,OAAS,GACrBsxB,EAAOtyB,IAAIqyB,EAAS,KAAgBiF,EAR9B,CAUd,EACAJ,EAAqBpiB,UAAUgQ,QAAU,SAAUtS,EAAS6f,EAASG,GACjE,IAAI8E,EAAc9E,EAAOtyB,IAAImyB,EAAS,MAClCmF,EAAgBp2B,MAAMC,QAAQi2B,GAC5BA,EAAY5xB,KAAK,MACjB4xB,EACN,IAAKE,EACD,OAAOhlB,EACX,IAAIwf,EAAU,CAAC,EACf,OAA6B,IAAzBwF,EAAcx2B,OACPwR,GAECglB,EAAc/mB,MAAM,MAC1BjJ,SAAQ,SAAU0P,GACpB,IAAIugB,GAAU,IAAAC,mBAAkBxgB,GAChC,GAAIugB,EAAS,CACT,IAAIE,EAAe,CAAEh1B,MAAO80B,EAAQ90B,OAChC80B,EAAQG,WACRD,EAAaC,SAAWH,EAAQG,UAEpC5F,EAAQyF,EAAQ/0B,KAAOi1B,CAC3B,CACJ,IACuC,IAAnC/0B,OAAO6K,QAAQukB,GAAShxB,OACjBwR,EAEJ,IAAYuf,WAAWvf,EAAS,IAAYwX,cAAcgI,IACrE,EACAkF,EAAqBpiB,UAAU6c,OAAS,WACpC,MAAO,CAAC,KACZ,EACOuF,CACX,CAhDyC,wKCzBrC/Q,EAAkC,SAAUH,EAAG9jB,GAC/C,IAAI+jB,EAAsB,mBAAX7T,QAAyB4T,EAAE5T,OAAOiF,UACjD,IAAK4O,EAAG,OAAOD,EACf,IAAmBE,EAAY/b,EAA3ByR,EAAIqK,EAAE1e,KAAKye,GAAOH,EAAK,GAC3B,IACI,WAAc,IAAN3jB,GAAgBA,KAAM,MAAQgkB,EAAItK,EAAEpd,QAAQkiB,MAAMmF,EAAGhoB,KAAKqoB,EAAEvjB,MACxE,CACA,MAAOgK,GAASxC,EAAI,CAAEwC,MAAOA,EAAS,CACtC,QACI,IACQuZ,IAAMA,EAAExF,OAASuF,EAAIrK,EAAU,SAAIqK,EAAE1e,KAAKqU,EAClD,CACA,QAAU,GAAIzR,EAAG,MAAMA,EAAEwC,KAAO,CACpC,CACA,OAAOkZ,CACX,EAkBO,SAAS0R,EAAkBJ,GAC9B,OAAOA,EAAS9S,QAAO,SAAUwT,EAAQC,GACrC,IAAIn1B,EAAQ,GAAKk1B,GAAqB,KAAXA,EAAgB,KAA0B,IAAMC,EAC3E,OAAOn1B,EAAM3B,OAAS,KAA2B62B,EAASl1B,CAC9D,GAAG,GACP,CACO,SAASy0B,EAAYpF,GACxB,OAAOA,EAAQ9I,gBAAgBjnB,KAAI,SAAUjF,GACzC,IAAI2N,EAAKwb,EAAOnpB,EAAI,GAAI0F,EAAMiI,EAAG,GAAIhI,EAAQgI,EAAG,GAC5CuM,EAAQ6gB,mBAAmBr1B,GAAO,IAAMq1B,mBAAmBp1B,EAAMA,OAMrE,YAHuBtF,IAAnBsF,EAAMi1B,WACN1gB,GAAS,KAA+BvU,EAAMi1B,SAASn0B,YAEpDyT,CACX,GACJ,CACO,SAASwgB,EAAkBxgB,GAC9B,IAAI8gB,EAAa9gB,EAAMzG,MAAM,MAC7B,KAAIunB,EAAWh3B,QAAU,GAAzB,CAEA,IAAIi3B,EAAcD,EAAWE,QAC7B,GAAKD,EAAL,CAEA,IAAIE,EAAiBF,EAAYhxB,QAAQ,MACzC,KAAIkxB,GAAkB,GAAtB,CAEA,IAEIP,EAFAl1B,EAAM01B,mBAAmBH,EAAY3V,UAAU,EAAG6V,GAAgBxnB,QAClEhO,EAAQy1B,mBAAmBH,EAAY3V,UAAU6V,EAAiB,GAAGxnB,QAKzE,OAHIqnB,EAAWh3B,OAAS,IACpB42B,GAAW,OAA+BI,EAAWtyB,KAAK,QAEvD,CAAEhD,IAAKA,EAAKC,MAAOA,EAAOi1B,SAAUA,EAPjC,CAHA,CAHA,CAcd,CAKO,SAASS,EAAwB11B,GACpC,MAAqB,iBAAVA,GAAuC,IAAjBA,EAAM3B,OAC5B,CAAC,EACL2B,EACF8N,MAAM,MACNxO,KAAI,SAAUiV,GACf,OAAOwgB,EAAkBxgB,EAC7B,IACKlZ,QAAO,SAAUy5B,GAAW,YAAmBp6B,IAAZo6B,GAAyBA,EAAQ90B,MAAM3B,OAAS,CAAG,IACtFqjB,QAAO,SAAUngB,EAASuzB,GAG3B,OADAvzB,EAAQuzB,EAAQ/0B,KAAO+0B,EAAQ90B,MACxBuB,CACX,GAAG,CAAC,EACR,+ECxEIwlB,EAAsC,SAAS1D,GAC/C,IAAIyD,EAAsB,mBAAXrX,QAAyBA,OAAOiF,SAAU4O,EAAIwD,GAAKzD,EAAEyD,GAAI7N,EAAI,EAC5E,GAAIqK,EAAG,OAAOA,EAAE1e,KAAKye,GACrB,GAAIA,GAAyB,iBAAbA,EAAEhlB,OAAqB,MAAO,CAC1CxC,KAAM,WAEF,OADIwnB,GAAKpK,GAAKoK,EAAEhlB,SAAQglB,OAAI,GACrB,CAAErjB,MAAOqjB,GAAKA,EAAEpK,KAAM8E,MAAOsF,EACxC,GAEJ,MAAM,IAAIvf,UAAUgjB,EAAI,0BAA4B,kCACxD,EACItD,EAAkC,SAAUH,EAAG9jB,GAC/C,IAAI+jB,EAAsB,mBAAX7T,QAAyB4T,EAAE5T,OAAOiF,UACjD,IAAK4O,EAAG,OAAOD,EACf,IAAmBE,EAAY/b,EAA3ByR,EAAIqK,EAAE1e,KAAKye,GAAOH,EAAK,GAC3B,IACI,WAAc,IAAN3jB,GAAgBA,KAAM,MAAQgkB,EAAItK,EAAEpd,QAAQkiB,MAAMmF,EAAGhoB,KAAKqoB,EAAEvjB,MACxE,CACA,MAAOgK,GAASxC,EAAI,CAAEwC,MAAOA,EAAS,CACtC,QACI,IACQuZ,IAAMA,EAAExF,OAASuF,EAAIrK,EAAU,SAAIqK,EAAE1e,KAAKqU,EAClD,CACA,QAAU,GAAIzR,EAAG,MAAMA,EAAEwC,KAAO,CACpC,CACA,OAAOkZ,CACX,EAEO,SAASyS,EAAmB/U,GAC/B,IAAIgG,EAAKvsB,EACLu7B,EAAM,CAAC,EACX,GAA0B,iBAAfhV,GAAyC,MAAdA,EAClC,OAAOgV,EAEX,IACI,IAAK,IAAI5tB,EAAK+e,EAAS9mB,OAAO6K,QAAQ8V,IAAc9K,EAAK9N,EAAGnM,QAASia,EAAGiI,KAAMjI,EAAK9N,EAAGnM,OAAQ,CAC1F,IAAI6d,EAAK8J,EAAO1N,EAAG9V,MAAO,GAAID,EAAM2Z,EAAG,GAAImc,EAAMnc,EAAG,GAC/Coc,EAAe/1B,GAIfg2B,EAAiBF,GAIlBp3B,MAAMC,QAAQm3B,GACdD,EAAI71B,GAAO81B,EAAIr7B,QAGfo7B,EAAI71B,GAAO81B,EAPX,IAAKnR,KAAK,wCAA0C3kB,GAJpD,IAAK2kB,KAAK,0BAA4B3kB,EAa9C,CACJ,CACA,MAAOknB,GAASL,EAAM,CAAE5c,MAAOid,EAAS,CACxC,QACI,IACQnR,IAAOA,EAAGiI,OAAS1jB,EAAK2N,EAAGkf,SAAS7sB,EAAGuK,KAAKoD,EACpD,CACA,QAAU,GAAI4e,EAAK,MAAMA,EAAI5c,KAAO,CACxC,CACA,OAAO4rB,CACX,CACO,SAASE,EAAe/1B,GAC3B,MAAsB,iBAARA,GAAoBA,EAAI1B,OAAS,CACnD,CACO,SAAS03B,EAAiBF,GAC7B,OAAW,MAAPA,IAGAp3B,MAAMC,QAAQm3B,GAKtB,SAA0C1c,GACtC,IAAI6c,EAAK37B,EACLyK,EACJ,IACI,IAAK,IAAImxB,EAAQlP,EAAS5N,GAAM+c,EAAUD,EAAMp6B,QAASq6B,EAAQnY,KAAMmY,EAAUD,EAAMp6B,OAAQ,CAC3F,IAAIs6B,EAAUD,EAAQl2B,MAEtB,GAAe,MAAXm2B,EAAJ,CAEA,IAAKrxB,EAAM,CACP,GAAIsxB,EAA+BD,GAAU,CACzCrxB,SAAcqxB,EACd,QACJ,CAEA,OAAO,CACX,CACA,UAAWA,IAAYrxB,EAGvB,OAAO,CAZK,CAahB,CACJ,CACA,MAAOuxB,GAASL,EAAM,CAAEhsB,MAAOqsB,EAAS,CACxC,QACI,IACQH,IAAYA,EAAQnY,OAAS1jB,EAAK47B,EAAM/O,SAAS7sB,EAAGuK,KAAKqxB,EACjE,CACA,QAAU,GAAID,EAAK,MAAMA,EAAIhsB,KAAO,CACxC,CACA,OAAO,CACX,CAnCessB,CAAiCT,GAErCO,EAA+BP,GAC1C,CAiCA,SAASO,EAA+BP,GACpC,cAAeA,GACX,IAAK,SACL,IAAK,UACL,IAAK,SACD,OAAO,EAEf,OAAO,CACX,4DChHIU,GAAkB,eAKf,SAASC,EAAsBC,GAClCF,EAAkBE,CACtB,CAKO,SAASC,EAAmBC,GAC/B,IACIJ,EAAgBI,EACpB,CACA,MAAOt8B,GAAM,CACjB,8DCdO,SAASu8B,IACZ,OAAO,SAAUD,GACb,IAAK3sB,MAOb,SAA4B2sB,GACxB,MAAkB,iBAAPA,EACAA,EAGA92B,KAAKC,UAQpB,SAA0B62B,GAGtB,IAFA,IAAIx6B,EAAS,CAAC,EACVg5B,EAAUwB,EACK,OAAZxB,GACHl1B,OAAO42B,oBAAoB1B,GAAStwB,SAAQ,SAAUiyB,GAClD,IAAI36B,EAAO26B,GAAX,CAEA,IAAI92B,EAAQm1B,EAAQ2B,GAChB92B,IACA7D,EAAO26B,GAAgBllB,OAAO5R,GAHxB,CAKd,IACAm1B,EAAUl1B,OAAO82B,eAAe5B,GAEpC,OAAOh5B,CACX,CAvB8B66B,CAAiBL,GAE/C,CAdmBM,CAAmBN,GAClC,CACJ,kKCRIO,EAAoB,EAEpBC,EAA8B7vB,KAAK8B,IAAI,GADT,GAE9BguB,EAAwB9vB,KAAK8B,IAAI,GAAI8tB,GAKlC,SAASG,EAAeC,GAC3B,IAAIC,EAAeD,EAAc,IAKjC,MAAO,CAHOhwB,KAAKkwB,MAAMD,GAEbjwB,KAAKmwB,MAAOH,EAAc,IAAQH,GAElD,CACO,SAASO,IACZ,IAAIC,EAAa,IAAYA,WAC7B,GAA0B,iBAAfA,EAAyB,CAChC,IAAIC,EAAO,IACXD,EAAaC,EAAKC,QAAUD,EAAKC,OAAOC,UAC5C,CACA,OAAOH,CACX,CAKO,SAASI,EAAOC,GAGnB,OAAOC,EAFUZ,EAAeK,KACtBL,EAAyC,iBAAnBW,EAA8BA,EAAiB,IAAY5wB,OAE/F,CAMO,SAAS8wB,EAAkBC,GAE9B,GAAIC,EAAkBD,GAClB,OAAOA,EAEN,GAAoB,iBAATA,EAEZ,OAAIA,EAAOT,IACAK,EAAOI,GAIPd,EAAec,GAGzB,GAAIA,aAAgBv5B,KACrB,OAAOy4B,EAAec,EAAKE,WAG3B,MAAMv0B,UAAU,qBAExB,CAMO,SAASw0B,EAAeC,EAAWC,GACtC,IAAIC,EAAUD,EAAQ,GAAKD,EAAU,GACjCG,EAAQF,EAAQ,GAAKD,EAAU,GAOnC,OALIG,EAAQ,IACRD,GAAW,EAEXC,GAAStB,GAEN,CAACqB,EAASC,EACrB,CAKO,SAASC,EAAkBR,GAC9B,IAAIS,EAAY1B,EACZ2B,EAAM,GAAK,IAAIC,OAAOF,GAAaT,EAAK,GAAK,IAC7CY,EAAaF,EAAI3f,OAAO2f,EAAIx6B,OAASu6B,EAAY,GAErD,OADW,IAAIh6B,KAAe,IAAVu5B,EAAK,IAAWa,cACxBC,QAAQ,OAAQF,EAChC,CAKO,SAASG,EAAoBf,GAChC,OAAOA,EAAK,GAAKf,EAAwBe,EAAK,EAClD,CAKO,SAASgB,EAAqBhB,GACjC,OAAiB,IAAVA,EAAK,GAAWA,EAAK,GAAK,GACrC,CAKO,SAASiB,EAAqBjB,GACjC,OAAiB,IAAVA,EAAK,GAAWA,EAAK,GAAK,GACrC,CAKO,SAASC,EAAkBp4B,GAC9B,OAAQvB,MAAMC,QAAQsB,IACD,IAAjBA,EAAM3B,QACc,iBAAb2B,EAAM,IACO,iBAAbA,EAAM,EACrB,CAKO,SAASq5B,EAAYr5B,GACxB,OAAQo4B,EAAkBp4B,IACL,iBAAVA,GACPA,aAAiBpB,IACzB,CAIO,SAASq5B,EAAWqB,EAAOC,GAC9B,IAAI3D,EAAM,CAAC0D,EAAM,GAAKC,EAAM,GAAID,EAAM,GAAKC,EAAM,IAMjD,OAJI3D,EAAI,IAAMwB,IACVxB,EAAI,IAAMwB,EACVxB,EAAI,IAAM,GAEPA,CACX,wnDC1HI4D,EAA+B,WAO/B,SAASA,EAAcC,EAAaC,GAChCp/B,KAAKq/B,gBAAkBD,EACvBp/B,KAAKs/B,aAAeH,EAAYryB,MAChC9M,KAAKu/B,mBAAqBH,EAAetyB,KAC7C,CASA,OAJAoyB,EAAcrnB,UAAU/K,IAAM,WAC1B,IAAI0yB,EAAQx/B,KAAKq/B,gBAAgBvyB,MAAQ9M,KAAKu/B,mBAC9C,OAAOv/B,KAAKs/B,aAAeE,CAC/B,EACON,CACX,CArBkC,2CCjBlC,SAASO,EAASC,GAEd,OAAIA,GAAY,IAAMA,GAAY,GACvBA,EAAW,GAGlBA,GAAY,IAAMA,GAAY,IACvBA,EAAW,GAGfA,EAAW,EACtB,CACO,SAASC,EAAYC,GAGxB,IAFA,IAAI3gB,EAAM,IAAIV,WAAWqhB,EAAO77B,OAAS,GACrC+a,EAAS,EACJH,EAAI,EAAGA,EAAIihB,EAAO77B,OAAQ4a,GAAK,EAAG,CACvC,IAAIkhB,EAAKJ,EAASG,EAAOE,WAAWnhB,IAChCohB,EAAKN,EAASG,EAAOE,WAAWnhB,EAAI,IACxCM,EAAIH,KAAa+gB,GAAM,EAAKE,CAChC,CACA,OAAO9gB,CACX,kCCnBWwQ,EAAoC,iBAAfC,WAA0BA,WAAaC,OCDhE,SAASqQ,EAAYJ,GACxB,OAAO5jB,OAAOE,KAAKyjB,EAAYC,IAASp5B,SAAS,SACrD,CCHA,IAKIy5B,EACA,WAKIjgC,KAAKkgC,gBAAkBC,EAVV,IAebngC,KAAKogC,eAAiBD,EAhBV,EAiBhB,EAIAE,EAAgBrkB,OAAOskB,YApBN,IAqBrB,SAASH,EAAeI,GACpB,OAAO,WACH,IAAK,IAAI5hB,EAAI,EAAGA,EAAI4hB,EAAQ,EAAG5hB,IAG3B0hB,EAAcG,cAAexzB,KAAKmC,SAAWnC,KAAK8B,IAAI,EAAG,MAAS,EAAO,EAAJ6P,GAGzE,IAASA,EAAI,EAAGA,EAAI4hB,KACZF,EAAc1hB,GAAK,GADAA,IAIdA,IAAM4hB,EAAQ,IACnBF,EAAcE,EAAQ,GAAK,GAGnC,OAAOF,EAAc75B,SAAS,MAAO,EAAG+5B,EAC5C,CACJ,KCtCWE,oDADPC,GAAmB,aAAiB,8CAKjC,SAASC,EAAeprB,EAASqrB,GACpC,OAAOrrB,EAAQG,SAASgrB,EAAkBE,EAC9C,CACO,SAASC,EAAkBtrB,GAC9B,OAAOA,EAAQQ,YAAY2qB,EAC/B,CACO,SAASI,EAAevrB,GAC3B,OAAOA,EAAQO,SAAS4qB,EAC5B,EAXA,SAAWD,GACPA,EAAc,KAAI,MACrB,CAFD,CAEGA,IAAYA,EAAU,CAAC,QCJlB5O,YCIJkP,EAAkC,WAClC,SAASA,IACT,CASA,OARAA,EAAiBlpB,UAAUmpB,aAAe,WACtC,MAAO,CACHC,SAAU,IAAiBC,WAEnC,EACAH,EAAiBlpB,UAAUrR,SAAW,WAClC,MAAO,kBACX,EACOu6B,CACX,CAZqC,GCAjCI,EAAiC,WACjC,SAASA,IACT,CASA,OARAA,EAAgBtpB,UAAUmpB,aAAe,WACrC,MAAO,CACHC,SAAU,IAAiBG,mBAEnC,EACAD,EAAgBtpB,UAAUrR,SAAW,WACjC,MAAO,iBACX,EACO26B,CACX,CAZoC,iCCIhCE,EAAoC,WACpC,SAASA,EAAmBC,GACxB,IAAIvhC,EAAI2N,EAAI8N,EAAI4D,EAChBpf,KAAKuhC,MAAQD,EAAOhK,KACft3B,KAAKuhC,SACN,OAAmB,IAAI7gC,MAAM,2DAC7BV,KAAKuhC,MAAQ,IAAIJ,GAErBnhC,KAAKwhC,qBACqC,QAArCzhC,EAAKuhC,EAAOG,2BAAwC,IAAP1hC,EAAgBA,EAAK,IAAIohC,EAC3EnhC,KAAK0hC,wBACwC,QAAxCh0B,EAAK4zB,EAAOK,8BAA2C,IAAPj0B,EAAgBA,EAAK,IAAIqzB,EAC9E/gC,KAAK4hC,oBACoC,QAApCpmB,EAAK8lB,EAAOO,0BAAuC,IAAPrmB,EAAgBA,EAAK,IAAI2lB,EAC1EnhC,KAAK8hC,uBACuC,QAAvC1iB,EAAKkiB,EAAOS,6BAA0C,IAAP3iB,EAAgBA,EAAK,IAAI2hB,CACjF,CAoBA,OAnBAM,EAAmBxpB,UAAUmpB,aAAe,SAAUzrB,EAASwjB,EAASiJ,EAAUjpB,EAAUuN,EAAYa,GACpG,IAAI1R,EAAgB,IAAM+R,eAAejS,GACzC,OAAKE,IAAkB,QAAmBA,GAGtCA,EAAcwsB,SACVxsB,EAAcwjB,WAAa,IAAWiJ,QAC/BliC,KAAKwhC,qBAAqBR,aAAazrB,EAASwjB,EAASiJ,EAAUjpB,EAAUuN,EAAYa,GAE7FnnB,KAAK0hC,wBAAwBV,aAAazrB,EAASwjB,EAASiJ,EAAUjpB,EAAUuN,EAAYa,GAEnG1R,EAAcwjB,WAAa,IAAWiJ,QAC/BliC,KAAK4hC,oBAAoBZ,aAAazrB,EAASwjB,EAASiJ,EAAUjpB,EAAUuN,EAAYa,GAE5FnnB,KAAK8hC,uBAAuBd,aAAazrB,EAASwjB,EAASiJ,EAAUjpB,EAAUuN,EAAYa,GAXvFnnB,KAAKuhC,MAAMP,aAAazrB,EAASwjB,EAASiJ,EAAUjpB,EAAUuN,EAAYa,EAYzF,EACAka,EAAmBxpB,UAAUrR,SAAW,WACpC,MAAO,oBAAsBxG,KAAKuhC,MAAM/6B,WAAa,yBAA2BxG,KAAKwhC,qBAAqBh7B,WAAa,4BAA8BxG,KAAK0hC,wBAAwBl7B,WAAa,wBAA0BxG,KAAK4hC,oBAAoBp7B,WAAa,2BAA6BxG,KAAK8hC,uBAAuBt7B,WAAa,GACzU,EACO66B,CACX,CArCuC,GCJnCc,EAA0C,WAC1C,SAASA,EAAyBC,QACf,IAAXA,IAAqBA,EAAS,GAClCpiC,KAAKoiC,OAASA,EACdpiC,KAAKoiC,OAASpiC,KAAKqiC,WAAWD,GAC9BpiC,KAAKsiC,YAAct1B,KAAKkC,MAAoB,WAAdlP,KAAKoiC,OACvC,CAyBA,OAxBAD,EAAyBtqB,UAAUmpB,aAAe,SAAUzrB,EAASwjB,GACjE,MAAO,CACHkI,UAAU,QAAelI,IAAY/4B,KAAKuiC,YAAYxJ,GAAW/4B,KAAKsiC,YAChE,IAAiBlB,mBACjB,IAAiBF,WAE/B,EACAiB,EAAyBtqB,UAAUrR,SAAW,WAC1C,MAAO,qBAAuBxG,KAAKoiC,OAAS,GAChD,EACAD,EAAyBtqB,UAAUwqB,WAAa,SAAUG,GACtD,MAAqB,iBAAVA,GAAsBn2B,MAAMm2B,GAC5B,EACJA,GAAS,EAAI,EAAIA,GAAS,EAAI,EAAIA,CAC7C,EACAL,EAAyBtqB,UAAU0qB,YAAc,SAAUxJ,GAEvD,IADA,IAAI0J,EAAe,EACV9jB,EAAI,EAAGA,EAAIoa,EAAQh1B,OAAS,EAAG4a,IAAK,CACzC,IAAI+jB,EAAU,EAAJ/jB,EAEV8jB,GAAgBA,EADL/vB,SAASqmB,EAAQ74B,MAAMwiC,EAAKA,EAAM,GAAI,OACR,CAC7C,CACA,OAAOD,CACX,EACON,CACX,CAhC6C,qDJLzCrQ,GACID,EAAgB,SAAUE,EAAGC,GAI7B,OAHAH,EAAgBlsB,OAAOiS,gBAClB,CAAEqa,UAAW,cAAgB9tB,OAAS,SAAU4tB,EAAGC,GAAKD,EAAEE,UAAYD,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAI7sB,KAAK6sB,EAAOrsB,OAAOkS,UAAUqa,eAAe5nB,KAAK0nB,EAAG7sB,KAAI4sB,EAAE5sB,GAAK6sB,EAAE7sB,GAAI,EAC7F0sB,EAAcE,EAAGC,EAC5B,EACO,SAAUD,EAAGC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIxoB,UAAU,uBAAyB8N,OAAO0a,GAAK,iCAE7D,SAASG,IAAOnyB,KAAKH,YAAckyB,CAAG,CADtCF,EAAcE,EAAGC,GAEjBD,EAAEla,UAAkB,OAANma,EAAarsB,OAAO/D,OAAOowB,IAAMG,EAAGta,UAAYma,EAAEna,UAAW,IAAIsa,EACnF,GAKAwQ,EAA8B,SAAUlP,GAExC,SAASkP,EAAa98B,GAClB,IAAIgpB,EAAQ4E,EAAOnpB,KAAKtK,KAAM6F,IAAY7F,KAI1C,OADA2F,OAAOiS,eAAeiX,EAAO8T,EAAa9qB,WACnCgX,CACX,CACA,OARAiD,EAAU6Q,EAAclP,GAQjBkP,CACX,CAViC,CAU/BjiC,OAWK,SAASkiC,EAAgBC,EAAS53B,GACrC,IAAI63B,EACAC,EAAiB,IAAIt3B,SAAQ,SAAyBu3B,EAAUr3B,GAChEm3B,EAAgB13B,YAAW,WACvBO,EAAO,IAAIg3B,EAAa,wBAC5B,GAAG13B,EACP,IACA,OAAOQ,QAAQw3B,KAAK,CAACJ,EAASE,IAAiBxlB,MAAK,SAAU1b,GAE1D,OADAmK,aAAa82B,GACNjhC,CACX,IAAG,SAAUmgB,GAET,MADAhW,aAAa82B,GACP9gB,CACV,GACJ,CKpEA,IAAIyK,EAAsC,SAAS1D,GAC/C,IAAIyD,EAAsB,mBAAXrX,QAAyBA,OAAOiF,SAAU4O,EAAIwD,GAAKzD,EAAEyD,GAAI7N,EAAI,EAC5E,GAAIqK,EAAG,OAAOA,EAAE1e,KAAKye,GACrB,GAAIA,GAAyB,iBAAbA,EAAEhlB,OAAqB,MAAO,CAC1CxC,KAAM,WAEF,OADIwnB,GAAKpK,GAAKoK,EAAEhlB,SAAQglB,OAAI,GACrB,CAAErjB,MAAOqjB,GAAKA,EAAEpK,KAAM8E,MAAOsF,EACxC,GAEJ,MAAM,IAAIvf,UAAUgjB,EAAI,0BAA4B,kCACxD,EAgBO,SAAS0W,EAAW98B,EAAK+8B,GAC5B,MAA0B,iBAAfA,EACA/8B,IAAQ+8B,IAGN/8B,EAAI+pB,MAAMgT,EAE3B,CAMO,SAASC,EAAah9B,EAAKi9B,GAC9B,IAAI/W,EAAKvsB,EACT,IAAKsjC,EACD,OAAO,EAEX,IACI,IAAK,IAAIC,EAAgB7W,EAAS4W,GAAcE,EAAkBD,EAAc/hC,QAASgiC,EAAgB9f,KAAM8f,EAAkBD,EAAc/hC,OAE3I,GAAI2hC,EAAW98B,EADCm9B,EAAgB79B,OAE5B,OAAO,CAGnB,CACA,MAAOinB,GAASL,EAAM,CAAE5c,MAAOid,EAAS,CACxC,QACI,IACQ4W,IAAoBA,EAAgB9f,OAAS1jB,EAAKujC,EAAc1W,SAAS7sB,EAAGuK,KAAKg5B,EACzF,CACA,QAAU,GAAIhX,EAAK,MAAMA,EAAI5c,KAAO,CACxC,CACA,OAAO,CACX,CCzCO,SAAS8zB,EAAUC,GACtB,MAAwB,mBAATA,GACgB,mBAApBA,EAAKC,YACa,mBAAlBD,EAAKE,WACO,IAAnBF,EAAKG,SACb,mCCsBWC,EAAW,CAClBC,QC1BG,SAAiBC,EAAUC,GAC9B,OAAO,IAAIv4B,SAAQ,SAAUC,GAEzB,IAAQkc,MAAK,QAAgB,IAAQjB,WAAW,WAC5Cod,EAASE,OAAOD,GAAK,SAAUniC,GAC3B6J,EAAQ7J,EACZ,GACJ,GACJ,GACJ,uECXO,SAASqiC,IACZ,IAAIC,GAAa,QAAiBh8B,QAAQ2J,KAC1C,OAAOnM,OAAOC,OAAO,CAAC,EAAG,KAAqBu+B,EAClD,CACO,SAASC,IACZ,OAAO,QAAiBj8B,QAAQ2J,IACpC,gDCTO,IAAIuyB,EChB0BC,QAAQ,cDgBlBC,8DEDvBxkC,sBAIOykC,IAAYzkC,EAAK,CAAC,GACtB,MAAkC,gBACrCA,EAAG,MAAoC,OACvCA,EAAG,MAAsC,KACzCA,EAAG,MAAqC,IACxCA,gCCTG,SAAS0kC,EAAWt5B,GACvBA,EAAME,OACV,8ECWIq5B,EAAqC,WAMrC,SAASA,EAAoBpD,GAEzB,IAAIvhC,OADW,IAAXuhC,IAAqBA,EAAS,CAAC,GAEnCthC,KAAK2kC,aAA6C,QAA7B5kC,EAAKuhC,EAAOsD,mBAAgC,IAAP7kC,EAAgBA,EAAK,GAC/EC,KAAK6kC,QAAU1gC,MAAM+X,KAAK,IAAIvc,IAAIK,KAAK2kC,aAElC3/B,KAAI,SAAUG,GAAK,MAA4B,mBAAbA,EAAEuvB,OAAwBvvB,EAAEuvB,SAAW,EAAK,IAC9EtN,QAAO,SAAU0d,EAAGC,GAAK,OAAOD,EAAE//B,OAAOggC,EAAI,GAAG,KACzD,CAuDA,OA7CAL,EAAoB7sB,UAAUkQ,OAAS,SAAUxS,EAAS6f,EAASC,GAC/D,IAAI/I,EAAKvsB,EACT,IACI,IAAK,IAAI2N,EAxCqB,SAASqb,GAC/C,IAAIyD,EAAsB,mBAAXrX,QAAyBA,OAAOiF,SAAU4O,EAAIwD,GAAKzD,EAAEyD,GAAI7N,EAAI,EAC5E,GAAIqK,EAAG,OAAOA,EAAE1e,KAAKye,GACrB,GAAIA,GAAyB,iBAAbA,EAAEhlB,OAAqB,MAAO,CAC1CxC,KAAM,WAEF,OADIwnB,GAAKpK,GAAKoK,EAAEhlB,SAAQglB,OAAI,GACrB,CAAErjB,MAAOqjB,GAAKA,EAAEpK,KAAM8E,MAAOsF,EACxC,GAEJ,MAAM,IAAIvf,UAAUgjB,EAAI,0BAA4B,kCACxD,CA8B0BC,CAASzsB,KAAK2kC,cAAenpB,EAAK9N,EAAGnM,QAASia,EAAGiI,KAAMjI,EAAK9N,EAAGnM,OAAQ,CACjF,IAAIglB,EAAa/K,EAAG9V,MACpB,IACI6gB,EAAWwB,OAAOxS,EAAS6f,EAASC,EACxC,CACA,MAAOnnB,GACH,IAAKkc,KAAK,yBAA2B7D,EAAW1mB,YAAYoB,KAAO,UAAYiN,EAAIrI,QACvF,CACJ,CACJ,CACA,MAAO8mB,GAASL,EAAM,CAAE5c,MAAOid,EAAS,CACxC,QACI,IACQnR,IAAOA,EAAGiI,OAAS1jB,EAAK2N,EAAGkf,SAAS7sB,EAAGuK,KAAKoD,EACpD,CACA,QAAU,GAAI4e,EAAK,MAAMA,EAAI5c,KAAO,CACxC,CACJ,EAUAg1B,EAAoB7sB,UAAUgQ,QAAU,SAAUtS,EAAS6f,EAASG,GAChE,OAAOv1B,KAAK2kC,aAAavd,QAAO,SAAUV,EAAKH,GAC3C,IACI,OAAOA,EAAWsB,QAAQnB,EAAK0O,EAASG,EAC5C,CACA,MAAOrnB,GACH,IAAKkc,KAAK,yBAA2B7D,EAAW1mB,YAAYoB,KAAO,UAAYiN,EAAIrI,QACvF,CACA,OAAO6gB,CACX,GAAGnR,EACP,EACAmvB,EAAoB7sB,UAAU6c,OAAS,WAEnC,OAAO10B,KAAK6kC,QAAQ3kC,OACxB,EACOwkC,CACX,CAtEwC,iDCbxC,IAAIzW,EAAuB,eAGvBC,EAAkB,IAAI7pB,OAAO,YAFP4pB,EAEO,mBADGA,EAAuB,gBAAkBA,EAC5C,YAC7BE,EAAyB,sBACzBC,EAAkC,MCSlC4W,EAA4B,WAC5B,SAASA,EAAW1W,GAChBtuB,KAAKuuB,eAAiB,IAAIxsB,IACtBusB,GACAtuB,KAAKwuB,OAAOF,EACpB,CAgEA,OA/DA0W,EAAWntB,UAAU9U,IAAM,SAAU0C,EAAKC,GAGtC,IAAI+oB,EAAazuB,KAAK0uB,SAKtB,OAJID,EAAWF,eAAe5tB,IAAI8E,IAC9BgpB,EAAWF,eAAe5qB,OAAO8B,GAErCgpB,EAAWF,eAAexrB,IAAI0C,EAAKC,GAC5B+oB,CACX,EACAuW,EAAWntB,UAAU8W,MAAQ,SAAUlpB,GACnC,IAAIgpB,EAAazuB,KAAK0uB,SAEtB,OADAD,EAAWF,eAAe5qB,OAAO8B,GAC1BgpB,CACX,EACAuW,EAAWntB,UAAU5U,IAAM,SAAUwC,GACjC,OAAOzF,KAAKuuB,eAAetrB,IAAIwC,EACnC,EACAu/B,EAAWntB,UAAU+W,UAAY,WAC7B,IAAIC,EAAQ7uB,KACZ,OAAOA,KAAK8uB,QACP1H,QAAO,SAAU2H,EAAKtpB,GAEvB,OADAspB,EAAInuB,KAAK6E,EAtCgB,IAsCuBopB,EAAM5rB,IAAIwC,IACnDspB,CACX,GAAG,IACEtmB,KA1CgB,IA2CzB,EACAu8B,EAAWntB,UAAU2W,OAAS,SAAUF,GAChCA,EAAcvqB,OA9CA,MAgDlB/D,KAAKuuB,eAAiBD,EACjB9a,MAhDgB,KAiDhBwb,UACA5H,QAAO,SAAU2H,EAAKE,GACvB,IAAIC,EAAaD,EAAKvb,OAClBiL,EAAIuQ,EAAWllB,QAnDM,KAoDzB,IAAW,IAAP2U,EAAU,CACV,IAAIlZ,EAAMypB,EAAWhvB,MAAM,EAAGye,GAC1BjZ,EAAQwpB,EAAWhvB,MAAMye,EAAI,EAAGsQ,EAAKlrB,SD5ClD,SAAqB0B,GACxB,OAAOyoB,EAAgBlP,KAAKvZ,EAChC,EC2CoB0pB,CAAY1pB,IDtCzB,SAAuBC,GAC1B,OAAQyoB,EAAuBnP,KAAKtZ,KAC/B0oB,EAAgCpP,KAAKtZ,EAC9C,CCmCwC0pB,CAAc1pB,IAClCqpB,EAAIhsB,IAAI0C,EAAKC,EAKrB,CACA,OAAOqpB,CACX,GAAG,IAAIhtB,KAEH/B,KAAKuuB,eAAe9qB,KApEJ,KAqEhBzD,KAAKuuB,eAAiB,IAAIxsB,IAAIoC,MAAM+X,KAAKlc,KAAKuuB,eAAe/d,WACxDwe,UACA9uB,MAAM,EAvEK,MAyExB,EACA8kC,EAAWntB,UAAUiX,MAAQ,WACzB,OAAO3qB,MAAM+X,KAAKlc,KAAKuuB,eAAeroB,QAAQ8oB,SAClD,EACAgW,EAAWntB,UAAU6W,OAAS,WAC1B,IAAID,EAAa,IAAIuW,EAErB,OADAvW,EAAWF,eAAiB,IAAIxsB,IAAI/B,KAAKuuB,gBAClCE,CACX,EACOuW,CACX,CAtE+B,mICXpBC,EAAsB,cACtBC,EAAqB,aAM5BC,EAAqB,IAAI9gC,OAAO,yGAW7B,SAAS+gC,EAAiBC,GAC7B,IAAIlV,EAAQgV,EAAmBG,KAAKD,GACpC,OAAKlV,EAKY,OAAbA,EAAM,IAAeA,EAAM,GACpB,KACJ,CACH4I,QAAS5I,EAAM,GACf6I,OAAQ7I,EAAM,GACd8I,WAAYvmB,SAASyd,EAAM,GAAI,KATxB,IAWf,CAOA,IAAI3J,EAA2C,WAC3C,SAASA,IACT,CAwCA,OAvCAA,EAA0B3O,UAAUkQ,OAAS,SAAUxS,EAAS6f,EAASC,GACrE,IAAI9N,EAAc,IAAMC,eAAejS,GACvC,GAAKgS,KACD,QAAoBhS,KACnB,QAAmBgS,GAFxB,CAIA,IAAI8d,EAAczV,MAAgBrI,EAAYwR,QAAU,IAAMxR,EAAYyR,OAAS,KAAO5sB,OAAOmb,EAAY0R,YAAc,IAAW3N,MAAM9kB,SAAS,IACrJ6uB,EAAOtyB,IAAIqyB,EAAS6P,EAAqBI,GACrC9d,EAAYkH,YACZ4G,EAAOtyB,IAAIqyB,EAAS8P,EAAoB3d,EAAYkH,WAAWG,YAJzD,CAMd,EACApI,EAA0B3O,UAAUgQ,QAAU,SAAUtS,EAAS6f,EAASG,GACtE,IAAIgQ,EAAoBhQ,EAAOtyB,IAAImyB,EAAS6P,GAC5C,IAAKM,EACD,OAAOhwB,EACX,IAAI8vB,EAAclhC,MAAMC,QAAQmhC,GAC1BA,EAAkB,GAClBA,EACN,GAA2B,iBAAhBF,EACP,OAAO9vB,EACX,IAAIgS,EAAc6d,EAAiBC,GACnC,IAAK9d,EACD,OAAOhS,EACXgS,EAAY0a,UAAW,EACvB,IAAIuD,EAAmBjQ,EAAOtyB,IAAImyB,EAAS8P,GAC3C,GAAIM,EAAkB,CAGlB,IAAIC,EAAQthC,MAAMC,QAAQohC,GACpBA,EAAiB/8B,KAAK,KACtB+8B,EACNje,EAAYkH,WAAa,IAAI,IAA4B,iBAAVgX,EAAqBA,OAAQrlC,EAChF,CACA,OAAO,IAAM61B,eAAe1gB,EAASgS,EACzC,EACAf,EAA0B3O,UAAU6c,OAAS,WACzC,MAAO,CAACuQ,EAAqBC,EACjC,EACO1e,CACX,CA3C8C,wECzC1Ckf,GAAuB,aAAiB,kDACrC,SAASC,EAAgBpwB,GAC5B,OAAOA,EAAQG,SAASgwB,GAAsB,EAClD,CACO,SAASE,EAAkBrwB,GAC9B,OAAOA,EAAQQ,YAAY2vB,EAC/B,CACO,SAASG,EAAoBtwB,GAChC,OAAkD,IAA3CA,EAAQO,SAAS4vB,EAC5B,gDCVA,IAAII,EAA0B,WAC1B,SAASA,IACL,IAAIjX,EAAQ7uB,KACZA,KAAK+lC,SAAW,IAAIt6B,SAAQ,SAAUC,EAASC,GAC3CkjB,EAAMmU,SAAWt3B,EACjBmjB,EAAMyB,QAAU3kB,CACpB,GACJ,CAcA,OAbAhG,OAAO8c,eAAeqjB,EAASjuB,UAAW,UAAW,CACjD5U,IAAK,WACD,OAAOjD,KAAK+lC,QAChB,EACAC,YAAY,EACZC,cAAc,IAElBH,EAASjuB,UAAUnM,QAAU,SAAU6vB,GACnCv7B,KAAKgjC,SAASzH,EAClB,EACAuK,EAASjuB,UAAUlM,OAAS,SAAUuC,GAClClO,KAAKswB,QAAQpiB,EACjB,EACO43B,CACX,CAtB6B,GC6BzBI,EAAgC,WAChC,SAASA,EAAe9S,EAAW+S,GAC/BnmC,KAAKozB,UAAYA,EACjBpzB,KAAKmmC,MAAQA,EACbnmC,KAAKomC,WAAY,EACjBpmC,KAAKqmC,UAAY,IAAIP,CACzB,CAiCA,OAhCAngC,OAAO8c,eAAeyjB,EAAeruB,UAAW,WAAY,CACxD5U,IAAK,WACD,OAAOjD,KAAKomC,SAChB,EACAJ,YAAY,EACZC,cAAc,IAElBtgC,OAAO8c,eAAeyjB,EAAeruB,UAAW,UAAW,CACvD5U,IAAK,WACD,OAAOjD,KAAKqmC,UAAUxD,OAC1B,EACAmD,YAAY,EACZC,cAAc,IAElBC,EAAeruB,UAAUvN,KAAO,WAI5B,IAHA,IAAIvK,EACA8uB,EAAQ7uB,KACRgjB,EAAO,GACFyF,EAAK,EAAGA,EAAK3d,UAAU/G,OAAQ0kB,IACpCzF,EAAKyF,GAAM3d,UAAU2d,GAEzB,IAAKzoB,KAAKomC,UAAW,CACjBpmC,KAAKomC,WAAY,EACjB,IACI36B,QAAQC,SAAS3L,EAAKC,KAAKozB,WAAW9oB,KAAKoZ,MAAM3jB,EA5Cb,SAAU2oB,EAAIxM,EAAMyM,GACpE,GAAIA,GAA6B,IAArB7d,UAAU/G,OAAc,IAAK,IAA4B6kB,EAAxBjK,EAAI,EAAGkK,EAAI3M,EAAKnY,OAAY4a,EAAIkK,EAAGlK,KACxEiK,GAAQjK,KAAKzC,IACR0M,IAAIA,EAAKzkB,MAAM0T,UAAU3X,MAAMoK,KAAK4R,EAAM,EAAGyC,IAClDiK,EAAGjK,GAAKzC,EAAKyC,IAGrB,OAAO+J,EAAG3jB,OAAO6jB,GAAMzkB,MAAM0T,UAAU3X,MAAMoK,KAAK4R,GACtD,CAoCqE4M,CAAc,CAAC9oB,KAAKmmC,OA5DnD,SAAUpd,EAAG9jB,GAC/C,IAAI+jB,EAAsB,mBAAX7T,QAAyB4T,EAAE5T,OAAOiF,UACjD,IAAK4O,EAAG,OAAOD,EACf,IAAmBE,EAAY/b,EAA3ByR,EAAIqK,EAAE1e,KAAKye,GAAOH,EAAK,GAC3B,IACI,WAAc,IAAN3jB,GAAgBA,KAAM,MAAQgkB,EAAItK,EAAEpd,QAAQkiB,MAAMmF,EAAGhoB,KAAKqoB,EAAEvjB,MACxE,CACA,MAAOgK,GAASxC,EAAI,CAAEwC,MAAOA,EAAS,CACtC,QACI,IACQuZ,IAAMA,EAAExF,OAASuF,EAAIrK,EAAU,SAAIqK,EAAE1e,KAAKqU,EAClD,CACA,QAAU,GAAIzR,EAAG,MAAMA,EAAEwC,KAAO,CACpC,CACA,OAAOkZ,CACX,CA6CiGM,CAAOlG,IAAO,KAASzF,MAAK,SAAUge,GAAO,OAAO1M,EAAMwX,UAAU36B,QAAQ6vB,EAAM,IAAG,SAAUrtB,GAAO,OAAO2gB,EAAMwX,UAAU16B,OAAOuC,EAAM,GAC/N,CACA,MAAOA,GACHlO,KAAKqmC,UAAU16B,OAAOuC,EAC1B,CACJ,CACA,OAAOlO,KAAKqmC,UAAUxD,OAC1B,EACOqD,CACX,CAxCmC,qHC3B/BI,EAAyB,IAIzBC,EAA2B,CAAC,qBAChC,SAASC,EAAiB/gC,GACtB,OAAQ8gC,EAAyBv8B,QAAQvE,IAAQ,CACrD,CACA,IAAIghC,EAA2B,CAC3B,0BACA,iCACA,0BACA,0BACA,2BACA,kCACA,2BACA,2BACA,oCACA,6BACA,yCACA,kCACA,8CACA,uCACA,8BACA,6BACA,4CACA,2CACA,6BACA,oCACA,qCACA,kCACA,mCAEJ,SAASC,EAAgBjhC,GACrB,OAAQghC,EAAyBz8B,QAAQvE,IAAQ,CACrD,CACA,IAAIkhC,EAAyB,CACzB,wBACA,oBAEJ,SAASC,EAAcnhC,GACnB,OAAOkhC,EAAuB38B,QAAQvE,IAAQ,CAClD,CACO,IAAIohC,EAAuCC,IACvCC,EAAgC,IAChCC,EAA+C,IAC/CC,EAA8C,IAI9CC,EAAsB,CAC7BC,mBAAmB,EACnBC,eAAgB,GAChBC,8BAA+B,GAC/BC,2BAA4B,GAC5BC,SAAU,GACVC,wBAAyB,GACzBC,UAAW,GACXC,wBAAyB,IACzBC,+BAAgC,IAChCC,wBAAyB,KACzBC,wBAAyB,IACzBC,yBAA0B,IAC1BC,gCAAiC,IACjCC,yBAA0B,KAC1BC,yBAA0B,IAC1BC,gCAAiC,GACjCC,gCAAiC,KACjCC,8BAA+B,GAC/BC,8BAA+B,GAC/BC,0BAA2B,GAC3BC,4BAA6B,GAC7BC,mCAAoC,GACpCC,oCAAqC,GACrCC,iCAAkC,GAClCC,2BAA4B,GAC5BC,kCAAmC,GACnCC,mCAAoC,GACpCC,gCAAiC,GACjCC,2BAA4B,IAC5BC,kCAAmC,IACnCC,mCAAoC,IACpCC,gCAAiC,IACjCC,8BAA+B,qCAC/BC,eAAgB,IAAate,KAC7Bue,sBAAuB,GACvBC,iBAAkB,CAAC,eAAgB,WACnCC,yBAA0B,GAC1BC,kBAAmB,GACnBC,kCAAmC5C,EACnC6C,2BAA4B3C,EAC5B4C,uCAAwC9C,EACxC+C,gCAAiC7C,EACjC8C,4CAA6ChD,EAC7CiD,qCAAsC/C,EACtCgD,4BAA6B,IAC7BC,2BAA4B,IAC5BC,0CAA2CjD,EAC3CkD,yCAA0CjD,EAC1CkD,qBAAsB,GACtBC,oBAAqB,IAAoBC,oBACzCC,wBAAyB,GACzBC,mBAAoB,GACpBC,4BAA6B,GAC7BC,mCAAoC,GACpCC,oCAAqC,GACrCC,iCAAkC,GAClCC,+BAAgC,GAChCC,sCAAuC,GACvCC,uCAAwC,GACxCC,oCAAqC,GACrCC,+BAAgC,GAChCC,sCAAuC,GACvCC,uCAAwC,GACxCC,oCAAqC,GACrCC,8BAA+B,GAC/BC,qCAAsC,GACtCC,sCAAuC,GACvCC,mCAAoC,GACpCC,sCAAuC,GACvCC,6CAA8C,GAC9CC,8CAA+C,GAC/CC,2CAA4C,GAC5CC,4BAA6B,gBAC7BC,mCAAoC,gBACpCC,oCAAqC,gBACrCC,iCAAkC,gBAClCC,kDAAmD,cAOvD,SAASC,EAAaxmC,EAAKymC,EAAahyB,GACpC,QAA2B,IAAhBA,EAAOzU,GAAlB,CAGA,IAAIC,EAAQ4R,OAAO4C,EAAOzU,IAE1BymC,EAAYzmC,GAA+B,SAAxBC,EAAMR,aAHzB,CAIJ,CASA,SAASinC,EAAYlrC,EAAMirC,EAAahyB,EAAQlL,EAAK/B,GAGjD,QAFY,IAAR+B,IAAkBA,GAAM,UAChB,IAAR/B,IAAkBA,EAAM65B,UACA,IAAjB5sB,EAAOjZ,GAAuB,CACrC,IAAIyE,EAAQ0G,OAAO8N,EAAOjZ,IACrBoL,MAAM3G,KAEHwmC,EAAYjrC,GADZyE,EAAQsJ,EACYA,EAEftJ,EAAQuH,EACOA,EAGAvH,EAGhC,CACJ,CAQA,SAAS0mC,EAAgBnrC,EAAMmkB,EAAQlhB,EAAOmoC,QACxB,IAAdA,IAAwBA,EAAY/F,GACxC,IAAIgG,EAAapoC,EAAMjD,GACG,iBAAfqrC,IACPlnB,EAAOnkB,GAAQqrC,EAAW94B,MAAM64B,GAAWrnC,KAAI,SAAUurB,GAAK,OAAOA,EAAE7c,MAAQ,IAEvF,CAEA,IAAI64B,EAAc,CACdhhB,IAAK,IAAaA,IAClBG,QAAS,IAAaA,QACtBD,MAAO,IAAaA,MACpBX,KAAM,IAAaA,KACnBU,KAAM,IAAaA,KACnB3F,MAAO,IAAaA,MACpByF,KAAM,IAAaA,MAQvB,SAASkhB,EAAmB/mC,EAAKymC,EAAahyB,GAC1C,IAAIxU,EAAQwU,EAAOzU,GACnB,GAAqB,iBAAVC,EAAoB,CAC3B,IAAI0lB,EAAWmhB,EAAY7mC,EAAMuhB,eACjB,MAAZmE,IACA8gB,EAAYzmC,GAAO2lB,EAE3B,CACJ,CAKO,SAASqhB,EAAiBvyB,GAC7B,IAAIgyB,EAAc,CAAC,EACnB,IAAK,IAAIp6B,KAAOo1B,EAAqB,CACjC,IAAIzhC,EAAMqM,EACV,GACS,mBADDrM,EAEA+mC,EAAmB/mC,EAAKymC,EAAahyB,QAGrC,GAAIssB,EAAiB/gC,GACjBwmC,EAAaxmC,EAAKymC,EAAahyB,QAE9B,GAAIwsB,EAAgBjhC,GACrB0mC,EAAY1mC,EAAKymC,EAAahyB,QAE7B,GAAI0sB,EAAcnhC,GACnB2mC,EAAgB3mC,EAAKymC,EAAahyB,OAEjC,CACD,IAAIxU,EAAQwU,EAAOzU,GACf,MAAOC,IACPwmC,EAAYzmC,GAAO6R,OAAO5R,GAElC,CAEZ,CACA,OAAOwmC,CACX,gDC3OA,IAmBiBzI,EAAMiJ,EAnBnBC,EAAY,kBACZC,EAAU,gBACVC,EAAe,qBAEfC,EADYC,SAASl1B,UACIrR,SACzBwmC,EAAmBF,EAAaxiC,KAAK3E,QACrCsnC,GAaaxJ,EAbU99B,OAAO82B,eAaXiQ,EAb2B/mC,OAcvC,SAAUq+B,GACb,OAAOP,EAAKiJ,EAAU1I,GAC1B,GAfAkJ,EAAcvnC,OAAOkS,UACrB,EAAiBq1B,EAAYhb,eAC7Bib,EAAiBh4B,OAASA,OAAOi4B,iBAAchtC,EAC/CitC,EAAuBH,EAAY1mC,SA0ChC,SAAS8mC,EAAc5nC,GAC1B,IAoCJ,SAAsBA,GAClB,OAAgB,MAATA,GAAiC,iBAATA,CACnC,CAtCS6nC,CAAa7nC,IA8CtB,SAAoBA,GAChB,OAAa,MAATA,OACiBtF,IAAVsF,EAAsBmnC,EAAeD,EAEzCO,GAAkBA,KAAkBxnC,OAAOD,GAWtD,SAAmBA,GACf,IAAI8nC,EAAQ,EAAeljC,KAAK5E,EAAOynC,GAAiBM,EAAM/nC,EAAMynC,GAChEO,GAAW,EACf,IACIhoC,EAAMynC,QAAkB/sC,EACxBstC,GAAW,CACf,CACA,MAAOxgC,GAEP,CACA,IAAIrL,EAASwrC,EAAqB/iC,KAAK5E,GASvC,OARIgoC,IACIF,EACA9nC,EAAMynC,GAAkBM,SAGjB/nC,EAAMynC,IAGdtrC,CACX,CA9BU8rC,CAAUjoC,GAsCpB,SAAwBA,GACpB,OAAO2nC,EAAqB/iC,KAAK5E,EACrC,CAvCUkoC,CAAeloC,EACzB,CArDgCmoC,CAAWnoC,KAAWinC,EAC9C,OAAO,EAEX,IAAImB,EAAQb,EAAavnC,GACzB,GAAc,OAAVooC,EACA,OAAO,EAEX,IAAIC,EAAO,EAAezjC,KAAKwjC,EAAO,gBAAkBA,EAAMjuC,YAC9D,MAAuB,mBAARkuC,GACXA,aAAgBA,GAChBjB,EAAaxiC,KAAKyjC,KAAUf,CACpC,CCnEA,IAAIgB,EAAY,GAKT,SAASC,IAEZ,IADA,IAAIjrB,EAAO,GACFyF,EAAK,EAAGA,EAAK3d,UAAU/G,OAAQ0kB,IACpCzF,EAAKyF,GAAM3d,UAAU2d,GAIzB,IAFA,IAAI5mB,EAASmhB,EAAKiY,QACdiT,EAAU,IAAI/kC,QACX6Z,EAAKjf,OAAS,GACjBlC,EAASssC,EAAgBtsC,EAAQmhB,EAAKiY,QAAS,EAAGiT,GAEtD,OAAOrsC,CACX,CACA,SAASusC,EAAU1oC,GACf,OAAItB,EAAQsB,GACDA,EAAMxF,QAEVwF,CACX,CASA,SAASyoC,EAAgBE,EAAKC,EAAKC,EAAOL,GAEtC,IAAIrsC,EACJ,QAFc,IAAV0sC,IAAoBA,EAAQ,KAE5BA,EAAQP,GAAZ,CAIA,GADAO,IACIC,EAAYH,IAAQG,EAAYF,IAAQG,EAAWH,GACnDzsC,EAASusC,EAAUE,QAElB,GAAIlqC,EAAQiqC,IAEb,GADAxsC,EAASwsC,EAAInuC,QACTkE,EAAQkqC,GACR,IAAK,IAAI3vB,EAAI,EAAG+vB,EAAIJ,EAAIvqC,OAAQ4a,EAAI+vB,EAAG/vB,IACnC9c,EAAOjB,KAAKwtC,EAAUE,EAAI3vB,UAG7B,GAAI1a,EAASqqC,GAEd,IAAS3vB,EAAI,EAAG+vB,GADZxoC,EAAOP,OAAOO,KAAKooC,IACEvqC,OAAQ4a,EAAI+vB,EAAG/vB,IAEpC9c,EADI4D,EAAMS,EAAKyY,IACDyvB,EAAUE,EAAI7oC,SAInC,GAAIxB,EAASoqC,GACd,GAAIpqC,EAASqqC,GAAM,CACf,IAiFZ,SAAqBD,EAAKC,GACtB,SAAKhB,EAAce,KAASf,EAAcgB,GAI9C,CAtFiBK,CAAYN,EAAKC,GAClB,OAAOA,EAGX,IAAIpoC,EACJ,IAFArE,EAAS8D,OAAOC,OAAO,CAAC,EAAGyoC,GAElB1vB,EAAI,EAAG+vB,GADZxoC,EAAOP,OAAOO,KAAKooC,IACEvqC,OAAQ4a,EAAI+vB,EAAG/vB,IAAK,CACzC,IAAIlZ,EACAmpC,EAAWN,EADX7oC,EAAMS,EAAKyY,IAEf,GAAI6vB,EAAYI,QACY,IAAbA,SACA/sC,EAAO4D,GAId5D,EAAO4D,GAAOmpC,MAGjB,CACD,IAAIC,EAAOhtC,EAAO4D,GACdqpC,EAAOF,EACX,GAAIG,EAAoBV,EAAK5oC,EAAKyoC,IAC9Ba,EAAoBT,EAAK7oC,EAAKyoC,UACvBrsC,EAAO4D,OAEb,CACD,GAAIxB,EAAS4qC,IAAS5qC,EAAS6qC,GAAO,CAClC,IAAIE,EAAOd,EAAQjrC,IAAI4rC,IAAS,GAC5BI,EAAOf,EAAQjrC,IAAI6rC,IAAS,GAChCE,EAAKpuC,KAAK,CAAEyE,IAAKgpC,EAAK5oC,IAAKA,IAC3BwpC,EAAKruC,KAAK,CAAEyE,IAAKipC,EAAK7oC,IAAKA,IAC3ByoC,EAAQnrC,IAAI8rC,EAAMG,GAClBd,EAAQnrC,IAAI+rC,EAAMG,EACtB,CACAptC,EAAO4D,GAAO0oC,EAAgBtsC,EAAO4D,GAAMmpC,EAAUL,EAAOL,EAChE,CACJ,CACJ,CACJ,MAEIrsC,EAASysC,EAGjB,OAAOzsC,CAhEP,CAiEJ,CAOA,SAASktC,EAAoB1pC,EAAKI,EAAKyoC,GAEnC,IADA,IAAIrvB,EAAMqvB,EAAQjrC,IAAIoC,EAAII,KAAS,GAC1BkZ,EAAI,EAAG+vB,EAAI7vB,EAAI9a,OAAQ4a,EAAI+vB,EAAG/vB,IAAK,CACxC,IAAI/X,EAAOiY,EAAIF,GACf,GAAI/X,EAAKnB,MAAQA,GAAOmB,EAAKvB,MAAQA,EACjC,OAAO,CAEf,CACA,OAAO,CACX,CACA,SAASjB,EAAQsB,GACb,OAAOvB,MAAMC,QAAQsB,EACzB,CACA,SAAS+oC,EAAW/oC,GAChB,MAAwB,mBAAVA,CAClB,CACA,SAASzB,EAASyB,GACd,OAAS8oC,EAAY9oC,KAChBtB,EAAQsB,KACR+oC,EAAW/oC,IACK,iBAAVA,CACf,CACA,SAAS8oC,EAAY9oC,GACjB,MAAyB,iBAAVA,GACM,iBAAVA,GACU,kBAAVA,QACU,IAAVA,GACPA,aAAiBpB,MACjBoB,aAAiBrB,QACP,OAAVqB,CACR,+BC5IO,IAAIwpC,mBACX,SAAWA,GACPA,EAA+B,UAAI,aACnCA,EAA8B,SAAI,YAClCA,EAA0C,qBAAI,yBAC9CA,EAAyC,oBAAI,wBAC7CA,EAA6C,wBAAI,2BACjDA,EAAkC,aAAI,cACzC,CAPD,CAOGA,IAAwBA,EAAsB,CAAC,kDCP3C,IAAItf,EAAU,uSCId,SAASuf,EAA4B5uC,QACxB,IAAZA,IAAsBA,EAAU,IAEpC,IADA,IAAI6uC,EAAmB,GACdzwB,EAAI,EAAG+vB,EAAInuC,EAAQwD,OAAQ4a,EAAI+vB,EAAG/vB,IAAK,CAE5C,IAAI0wB,EAAS9uC,EAAQoe,GACrB,GAAIxa,MAAMC,QAAQirC,GAAS,CACvB,IAAIC,EAAUH,EAA4BE,GAC1CD,EAAmBA,EAAiBrqC,OAAOuqC,EAAQF,iBACvD,KAC2B,mBAAXC,EACZD,EAAiBxuC,KAAK,IAAIyuC,GAErBA,EAAOE,qBACZH,EAAiBxuC,KAAKyuC,EAE9B,CACA,MAAO,CAAED,iBAAkBA,EAC/B,CCfO,SAASI,EAAyBjvC,GACrC,IAAI6uC,EAAmBD,EAA4B5uC,EAAQ6uC,kBAAkBA,iBACzEK,EAAiBlvC,EAAQkvC,gBAAkB,IAAMpZ,oBACjDqZ,EAAgBnvC,EAAQmvC,eAAiB,IAAQ9d,mBAErD,ODiBG,SAAgCwd,EAAkBK,EAAgBC,GACrE,IAAK,IAAI/wB,EAAI,EAAG+vB,EAAIU,EAAiBrrC,OAAQ4a,EAAI+vB,EAAG/vB,IAAK,CACrD,IAAIgxB,EAAkBP,EAAiBzwB,GACnC8wB,GACAE,EAAgBC,kBAAkBH,GAElCC,GACAC,EAAgBE,iBAAiBH,GAMhCC,EAAgBG,YAAYhpC,SAC7B6oC,EAAgBtmB,QAExB,CACJ,CCnCI0mB,CAAuBX,EAAkBK,EAAgBC,GAClD,YDuCJ,SAAiCN,GACpCA,EAAiB7kC,SAAQ,SAAUolC,GAAmB,OAAOA,EAAgBrmB,SAAW,GAC5F,CCxCQ0mB,CAAwBZ,EAC5B,CACJ,kCCfIa,EACA,SAAuChvC,EAAMivC,EAAmBC,EAAOC,GACnEpwC,KAAKkwC,kBAAoBA,EACzBlwC,KAAKmwC,MAAQA,EACbnwC,KAAKowC,QAAUA,EACfpwC,KAAKiB,MAAO,IAAAovC,WAAUpvC,EAC1B,ECPAgiB,EAAwC,SAAUC,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAI3X,WAAU,SAAUC,EAASC,GAC/C,SAAS2X,EAAU5d,GAAS,IAAM6d,EAAKF,EAAU9hB,KAAKmE,GAAS,CAAE,MAAOwH,GAAKvB,EAAOuB,EAAI,CAAE,CAC1F,SAASsW,EAAS9d,GAAS,IAAM6d,EAAKF,EAAiB,MAAE3d,GAAS,CAAE,MAAOwH,GAAKvB,EAAOuB,EAAI,CAAE,CAC7F,SAASqW,EAAK1hB,GAJlB,IAAe6D,EAIa7D,EAAO4hB,KAAO/X,EAAQ7J,EAAO6D,QAJ1CA,EAIyD7D,EAAO6D,MAJhDA,aAAiB0d,EAAI1d,EAAQ,IAAI0d,GAAE,SAAU1X,GAAWA,EAAQhG,EAAQ,KAIjB6X,KAAK+F,EAAWE,EAAW,CAC7GD,GAAMF,EAAYA,EAAUK,MAAMR,EAASC,GAAc,KAAK5hB,OAClE,GACJ,EACI+uC,EAA4C,SAAUptB,EAAStb,GAC/D,IAAsG2oC,EAAGxL,EAAGyL,EAAGC,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPJ,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGK,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAElvC,KAAMwvC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAX57B,SAA0Bs7B,EAAEt7B,OAAOiF,UAAY,WAAa,OAAOpa,IAAM,GAAIywC,EACvJ,SAASM,EAAK9rC,GAAK,OAAO,SAAUsrB,GAAK,OACzC,SAAcygB,GACV,GAAIT,EAAG,MAAM,IAAI/mC,UAAU,mCAC3B,KAAOknC,OACH,GAAIH,EAAI,EAAGxL,IAAMyL,EAAY,EAARQ,EAAG,GAASjM,EAAU,OAAIiM,EAAG,GAAKjM,EAAS,SAAOyL,EAAIzL,EAAU,SAAMyL,EAAElmC,KAAKy6B,GAAI,GAAKA,EAAExjC,SAAWivC,EAAIA,EAAElmC,KAAKy6B,EAAGiM,EAAG,KAAKvtB,KAAM,OAAO+sB,EAE3J,OADIzL,EAAI,EAAGyL,IAAGQ,EAAK,CAAS,EAARA,EAAG,GAAQR,EAAE9qC,QACzBsrC,EAAG,IACP,KAAK,EAAG,KAAK,EAAGR,EAAIQ,EAAI,MACxB,KAAK,EAAc,OAAXN,EAAEC,QAAgB,CAAEjrC,MAAOsrC,EAAG,GAAIvtB,MAAM,GAChD,KAAK,EAAGitB,EAAEC,QAAS5L,EAAIiM,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKN,EAAEI,IAAIG,MAAOP,EAAEG,KAAKI,MAAO,SACxC,QACI,MAAkBT,GAAZA,EAAIE,EAAEG,MAAY9sC,OAAS,GAAKysC,EAAEA,EAAEzsC,OAAS,KAAkB,IAAVitC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEN,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVM,EAAG,MAAcR,GAAMQ,EAAG,GAAKR,EAAE,IAAMQ,EAAG,GAAKR,EAAE,IAAM,CAAEE,EAAEC,MAAQK,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYN,EAAEC,MAAQH,EAAE,GAAI,CAAEE,EAAEC,MAAQH,EAAE,GAAIA,EAAIQ,EAAI,KAAO,CACpE,GAAIR,GAAKE,EAAEC,MAAQH,EAAE,GAAI,CAAEE,EAAEC,MAAQH,EAAE,GAAIE,EAAEI,IAAIlwC,KAAKowC,GAAK,KAAO,CAC9DR,EAAE,IAAIE,EAAEI,IAAIG,MAChBP,EAAEG,KAAKI,MAAO,SAEtBD,EAAKppC,EAAK0C,KAAK4Y,EAASwtB,EAC5B,CAAE,MAAOxjC,GAAK8jC,EAAK,CAAC,EAAG9jC,GAAI63B,EAAI,CAAG,CAAE,QAAUwL,EAAIC,EAAI,CAAG,CACzD,GAAY,EAARQ,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEtrC,MAAOsrC,EAAG,GAAKA,EAAG,QAAK,EAAQvtB,MAAM,EAC9E,CAtBgDF,CAAK,CAACte,EAAGsrB,GAAK,CAAG,CAuBrE,EAMO,SAAS2gB,EAAuBC,EAASC,EAAUC,GACtD,IAAI3hC,EACA7N,EACJ,IACIA,EAASsvC,GACb,CACA,MAAOjkC,GACHwC,EAAQxC,CACZ,CACA,QAEI,GADAkkC,EAAS1hC,EAAO7N,GACZ6N,IAAU2hC,EAEV,MAAM3hC,EAGV,OAAO7N,CACX,CACJ,CAMO,SAASyvC,EAA4BH,EAASC,EAAUC,GAC3D,OAAOpuB,EAAUjjB,UAAM,OAAQ,GAAQ,WACnC,IAAI0P,EAAO7N,EAAQyqB,EACnB,OAAOgkB,EAAYtwC,MAAM,SAAUD,GAC/B,OAAQA,EAAG4wC,OACP,KAAK,EAED,OADA5wC,EAAG8wC,KAAKjwC,KAAK,CAAC,EAAG,EAAG,EAAG,IAChB,CAAC,EAAauwC,KACzB,KAAK,EAED,OADAtvC,EAAS9B,EAAG6wC,OACL,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAtkB,EAAMvsB,EAAG6wC,OACTlhC,EAAQ4c,EACD,CAAC,EAAa,GACzB,KAAK,EAED,GADA8kB,EAAS1hC,EAAO7N,GACZ6N,IAAU2hC,EAEV,MAAM3hC,EAGV,MAAO,CAAC,EAAc7N,GAC1B,KAAK,EAAG,MAAO,CAAC,GAExB,GACJ,GACJ,CAKO,SAAS2hC,EAAUC,GACtB,MAAwB,mBAATA,GACgB,mBAApBA,EAAKC,YACa,mBAAlBD,EAAKE,WACO,IAAnBF,EAAKG,SACb,oDCrGQ/R,uECDJ0f,EAAsC,WAStC,OARAA,EAAW5rC,OAAOC,QAAU,SAAS4qC,GACjC,IAAK,IAAIhkB,EAAG7N,EAAI,EAAG1Z,EAAI6F,UAAU/G,OAAQ4a,EAAI1Z,EAAG0Z,IAE5C,IAAK,IAAIxZ,KADTqnB,EAAI1hB,UAAU6T,GACOhZ,OAAOkS,UAAUqa,eAAe5nB,KAAKkiB,EAAGrnB,KACzDqrC,EAAErrC,GAAKqnB,EAAErnB,IAEjB,OAAOqrC,CACX,EACOe,EAAS7tB,MAAM1jB,KAAM8K,UAChC,EAMI0mC,EAAyC,WACzC,SAASA,EAAwBjC,EAAqBkC,EAAwBnQ,QAC3D,IAAXA,IAAqBA,EAAS,CAAC,GACnCthC,KAAKuvC,oBAAsBA,EAC3BvvC,KAAKyxC,uBAAyBA,EAE9BzxC,KAAK0xC,MAAQC,EAAQC,KAErB5xC,KAAK6xC,QAAUF,EAAQ3rB,OAEvBhmB,KAAK8xC,UAAYH,EAAQI,SAEzB/xC,KAAKgyC,YAAcL,EAAQM,WAC3BjyC,KAAKkyC,QAAUX,EAAS,CAAEzqC,SAAS,GAAQw6B,GAC3CthC,KAAKmyC,MAAQ,IAAKtmB,sBAAsB,CACpCxW,UAAWk6B,IAEfvvC,KAAKoyC,QAAU,IAAMvrB,UAAU0oB,EAAqBkC,GACpDzxC,KAAKqyC,OAAS,IAAQ/gB,SAASie,EAAqBkC,GACpDzxC,KAAKsyC,0BACT,CAkDA,OAjDA3sC,OAAO8c,eAAe+uB,EAAwB35B,UAAW,QAAS,CAE9D5U,IAAK,WACD,OAAOjD,KAAKqyC,MAChB,EACArM,YAAY,EACZC,cAAc,IAMlBuL,EAAwB35B,UAAUg4B,iBAAmB,SAAUH,GAC3D1vC,KAAKqyC,OAAS3C,EAAcpe,SAAStxB,KAAKuvC,oBAAqBvvC,KAAKyxC,wBACpEzxC,KAAKsyC,0BACT,EAIAd,EAAwB35B,UAAUy6B,yBAA2B,WAE7D,EAEAd,EAAwB35B,UAAUi4B,UAAY,WAC1C,OAAO9vC,KAAKkyC,OAChB,EAKAV,EAAwB35B,UAAU06B,UAAY,SAAUjR,QACrC,IAAXA,IAAqBA,EAAS,CAAC,GACnCthC,KAAKkyC,QAAUvsC,OAAOC,OAAO,CAAC,EAAG07B,EACrC,EAKAkQ,EAAwB35B,UAAU+3B,kBAAoB,SAAUH,GAC5DzvC,KAAKoyC,QAAU3C,EAAe5oB,UAAU7mB,KAAKuvC,oBAAqBvvC,KAAKyxC,uBAC3E,EACA9rC,OAAO8c,eAAe+uB,EAAwB35B,UAAW,SAAU,CAE/D5U,IAAK,WACD,OAAOjD,KAAKoyC,OAChB,EACApM,YAAY,EACZC,cAAc,IAEXuL,CACX,CAvE4C,YChBxC/kB,EAAsC,SAAS1D,GAC/C,IAAIyD,EAAsB,mBAAXrX,QAAyBA,OAAOiF,SAAU4O,EAAIwD,GAAKzD,EAAEyD,GAAI7N,EAAI,EAC5E,GAAIqK,EAAG,OAAOA,EAAE1e,KAAKye,GACrB,GAAIA,GAAyB,iBAAbA,EAAEhlB,OAAqB,MAAO,CAC1CxC,KAAM,WAEF,OADIwnB,GAAKpK,GAAKoK,EAAEhlB,SAAQglB,OAAI,GACrB,CAAErjB,MAAOqjB,GAAKA,EAAEpK,KAAM8E,MAAOsF,EACxC,GAEJ,MAAM,IAAIvf,UAAUgjB,EAAI,0BAA4B,kCACxD,EACItD,EAAkC,SAAUH,EAAG9jB,GAC/C,IAAI+jB,EAAsB,mBAAX7T,QAAyB4T,EAAE5T,OAAOiF,UACjD,IAAK4O,EAAG,OAAOD,EACf,IAAmBE,EAAY/b,EAA3ByR,EAAIqK,EAAE1e,KAAKye,GAAOH,EAAK,GAC3B,IACI,WAAc,IAAN3jB,GAAgBA,KAAM,MAAQgkB,EAAItK,EAAEpd,QAAQkiB,MAAMmF,EAAGhoB,KAAKqoB,EAAEvjB,MACxE,CACA,MAAOgK,GAASxC,EAAI,CAAEwC,MAAOA,EAAS,CACtC,QACI,IACQuZ,IAAMA,EAAExF,OAASuF,EAAIrK,EAAU,SAAIqK,EAAE1e,KAAKqU,EAClD,CACA,QAAU,GAAIzR,EAAG,MAAMA,EAAEwC,KAAO,CACpC,CACA,OAAOkZ,CACX,EACIE,EAAgD,SAAUJ,EAAIxM,EAAMyM,GACpE,GAAIA,GAA6B,IAArB7d,UAAU/G,OAAc,IAAK,IAA4B6kB,EAAxBjK,EAAI,EAAGkK,EAAI3M,EAAKnY,OAAY4a,EAAIkK,EAAGlK,KACxEiK,GAAQjK,KAAKzC,IACR0M,IAAIA,EAAKzkB,MAAM0T,UAAU3X,MAAMoK,KAAK4R,EAAM,EAAGyC,IAClDiK,EAAGjK,GAAKzC,EAAKyC,IAGrB,OAAO+J,EAAG3jB,OAAO6jB,GAAMzkB,MAAM0T,UAAU3X,MAAMoK,KAAK4R,GACtD,EACWs2B,EAAsB,IAI7BC,EACA,WACIzyC,KAAK0yC,MAAQ,GACb1yC,KAAK2yC,SAAW,IAAI5wC,GACxB,EAMA6wC,EAAgC,WAChC,SAASA,IACL5yC,KAAK6yC,MAAQ,IAAIJ,EACjBzyC,KAAK8yC,SAAW,CACpB,CAiFA,OA3EAF,EAAe/6B,UAAUk7B,OAAS,SAAUC,GACxC,IAAI1mB,EAAKvsB,EACLkzC,EAAWjzC,KAAK6yC,MACpB,IACI,IAAK,IAAInlC,EAAK+e,EAASumB,EAAKE,WAAW1/B,MAAMg/B,IAAuBh3B,EAAK9N,EAAGnM,QAASia,EAAGiI,KAAMjI,EAAK9N,EAAGnM,OAAQ,CAC1G,IAAI4xC,EAAiB33B,EAAG9V,MACpB0tC,EAAWH,EAASN,SAAS1vC,IAAIkwC,GAChCC,IACDA,EAAW,IAAIX,EACfQ,EAASN,SAAS5vC,IAAIowC,EAAgBC,IAE1CH,EAAWG,CACf,CACJ,CACA,MAAOzmB,GAASL,EAAM,CAAE5c,MAAOid,EAAS,CACxC,QACI,IACQnR,IAAOA,EAAGiI,OAAS1jB,EAAK2N,EAAGkf,SAAS7sB,EAAGuK,KAAKoD,EACpD,CACA,QAAU,GAAI4e,EAAK,MAAMA,EAAI5c,KAAO,CACxC,CACAujC,EAASP,MAAM9xC,KAAK,CAAEoyC,KAAMA,EAAMK,WAAYrzC,KAAK8yC,YACvD,EASAF,EAAe/6B,UAAUvR,OAAS,SAAU4sC,EAAYnzC,GACpD,IAAI27B,EAAKhuB,EACL8N,OAAY,IAAPzb,EAAgB,CAAC,EAAIA,EAAIuzC,EAAyB93B,EAAG83B,uBAAwBC,EAAW/3B,EAAG+3B,SAChGN,EAAWjzC,KAAK6yC,MAChBvD,EAAU,GACVkE,GAAY,EAChB,IACI,IAAK,IAAIp0B,EAAKqN,EAASymB,EAAW1/B,MAAMg/B,IAAuBnzB,EAAKD,EAAG7d,QAAS8d,EAAGoE,KAAMpE,EAAKD,EAAG7d,OAAQ,CACrG,IAAI4xC,EAAiB9zB,EAAG3Z,MACpB0tC,EAAWH,EAASN,SAAS1vC,IAAIkwC,GACrC,IAAKC,EAAU,CACXI,GAAY,EACZ,KACJ,CACKD,GACDjE,EAAQ1uC,KAAK8iB,MAAM4rB,EAASxmB,EAAc,GAAII,EAAOkqB,EAASV,QAAQ,IAE1EO,EAAWG,CACf,CACJ,CACA,MAAOrX,GAASL,EAAM,CAAEhsB,MAAOqsB,EAAS,CACxC,QACI,IACQ1c,IAAOA,EAAGoE,OAAS/V,EAAK0R,EAAGwN,SAASlf,EAAGpD,KAAK8U,EACpD,CACA,QAAU,GAAIsc,EAAK,MAAMA,EAAIhsB,KAAO,CACxC,CAIA,OAHI6jC,GAAYC,GACZlE,EAAQ1uC,KAAK8iB,MAAM4rB,EAASxmB,EAAc,GAAII,EAAO+pB,EAASP,QAAQ,IAEnD,IAAnBpD,EAAQvrC,OACD,GAEY,IAAnBurC,EAAQvrC,OACD,CAACurC,EAAQ,GAAG0D,OAEnBM,GACAhE,EAAQmE,MAAK,SAAUC,EAAG1hB,GAAK,OAAO0hB,EAAEL,WAAarhB,EAAEqhB,UAAY,IAEhE/D,EAAQtqC,KAAI,SAAUjF,GAEzB,OADWA,EAAGizC,IAElB,IACJ,EACOJ,CACX,CAtFmC,GC9B/Be,EAAU,CACV,YACA,QACA,aACA,SACA,WACA,MACFC,OAAM,SAAUprB,GAEd,MAA6B,mBAAfmH,OAAOnH,EACzB,IAUIqrB,EAA6C,WAC7C,SAASA,IACL7zC,KAAK8zC,gBAAkB,IAAIlB,EAC3B5yC,KAAK+zC,aACT,CA0DA,OAzDAF,EAA4Bh8B,UAAUk8B,YAAc,WAChD,IAAIllB,EAAQ7uB,KACZ,IAAI,EAAAg0C,KAEJ,KAAM,CAAEC,WAAW,IAAQ,SAAUvxB,EAASzhB,EAAMizC,GAChD,IAAI5nB,EAAKvsB,EA6DYo0C,EA3DjBC,GA2DiBD,EA3D8BlzC,EA4DpD,QAAauxC,EACd2B,EAAiB3gC,MAAM,OAAU/K,KAAK+pC,GACtC2B,GA7DME,EAAUxlB,EAAMilB,gBAAgBxtC,OAAO8tC,EAAsB,CAC7Dd,wBAAwB,EAIxBC,cAAsBnzC,IAAZ8zC,IAEd,IACI,IAAK,IAAII,EA7DiB,SAASvrB,GAC/C,IAAIyD,EAAsB,mBAAXrX,QAAyBA,OAAOiF,SAAU4O,EAAIwD,GAAKzD,EAAEyD,GAAI7N,EAAI,EAC5E,GAAIqK,EAAG,OAAOA,EAAE1e,KAAKye,GACrB,GAAIA,GAAyB,iBAAbA,EAAEhlB,OAAqB,MAAO,CAC1CxC,KAAM,WAEF,OADIwnB,GAAKpK,GAAKoK,EAAEhlB,SAAQglB,OAAI,GACrB,CAAErjB,MAAOqjB,GAAKA,EAAEpK,KAAM8E,MAAOsF,EACxC,GAEJ,MAAM,IAAIvf,UAAUgjB,EAAI,0BAA4B,kCACxD,CAmDqC,CAAS6nB,GAAUE,EAAcD,EAAU/yC,QAASgzC,EAAY9wB,KAAM8wB,EAAcD,EAAU/yC,OAE/GmhB,GAAU8xB,EADMD,EAAY7uC,MAAM8uC,WACd9xB,EAASzhB,EAAMizC,EAE3C,CACA,MAAOvnB,GAASL,EAAM,CAAE5c,MAAOid,EAAS,CACxC,QACI,IACQ4nB,IAAgBA,EAAY9wB,OAAS1jB,EAAKu0C,EAAU1nB,SAAS7sB,EAAGuK,KAAKgqC,EAC7E,CACA,QAAU,GAAIhoB,EAAK,MAAMA,EAAI5c,KAAO,CACxC,CACA,OAAOgT,CACX,GACJ,EAQAmxB,EAA4Bh8B,UAAU48B,SAAW,SAAUvB,EAAYsB,GACnE,IAAIE,EAAS,CAAExB,WAAYA,EAAYsB,UAAWA,GAElD,OADAx0C,KAAK8zC,gBAAgBf,OAAO2B,GACrBA,CACX,EAMAb,EAA4BnqB,YAAc,WACtC,IAAI3pB,EAGJ,OAAI4zC,EACO,IAAIE,EACP7zC,KAAK2pB,UACiB,QAAzB5pB,EAAKC,KAAK2pB,iBAA8B,IAAP5pB,EAAgBA,EAAK,IAAI8zC,CACnE,EACOA,CACX,CA/DgD,aHxC5C/hB,GACID,EAAgB,SAAUE,EAAGC,GAI7B,OAHAH,EAAgBlsB,OAAOiS,gBAClB,CAAEqa,UAAW,cAAgB9tB,OAAS,SAAU4tB,EAAGC,GAAKD,EAAEE,UAAYD,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAI7sB,KAAK6sB,EAAOrsB,OAAOkS,UAAUqa,eAAe5nB,KAAK0nB,EAAG7sB,KAAI4sB,EAAE5sB,GAAK6sB,EAAE7sB,GAAI,EAC7F0sB,EAAcE,EAAGC,EAC5B,EACO,SAAUD,EAAGC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIxoB,UAAU,uBAAyB8N,OAAO0a,GAAK,iCAE7D,SAASG,IAAOnyB,KAAKH,YAAckyB,CAAG,CADtCF,EAAcE,EAAGC,GAEjBD,EAAEla,UAAkB,OAANma,EAAarsB,OAAO/D,OAAOowB,IAAMG,EAAGta,UAAYma,EAAEna,UAAW,IAAIsa,EACnF,GAEA,EAAsC,SAASpJ,GAC/C,IAAIyD,EAAsB,mBAAXrX,QAAyBA,OAAOiF,SAAU4O,EAAIwD,GAAKzD,EAAEyD,GAAI7N,EAAI,EAC5E,GAAIqK,EAAG,OAAOA,EAAE1e,KAAKye,GACrB,GAAIA,GAAyB,iBAAbA,EAAEhlB,OAAqB,MAAO,CAC1CxC,KAAM,WAEF,OADIwnB,GAAKpK,GAAKoK,EAAEhlB,SAAQglB,OAAI,GACrB,CAAErjB,MAAOqjB,GAAKA,EAAEpK,KAAM8E,MAAOsF,EACxC,GAEJ,MAAM,IAAIvf,UAAUgjB,EAAI,0BAA4B,kCACxD,EAaImoB,EAAqC,SAAUlhB,GAE/C,SAASkhB,EAAoBpF,EAAqBkC,EAAwBnQ,QACvD,IAAXA,IAAqBA,EAAS,CAAC,GACnC,IAAIzS,EAAQ4E,EAAOnpB,KAAKtK,KAAMuvC,EAAqBkC,EAAwBnQ,IAAWthC,KACtF6uB,EAAM+lB,OAAS,GACf/lB,EAAMgmB,6BAA+BhB,EAA4BnqB,cACjEmF,EAAMimB,UAAW,EACjBjmB,EAAM6iB,MAAQ,SAAUxpB,EAAejnB,EAAM8zC,GACzC,GAAK,QAAUC,QAAQ9sB,GAGlB,CACD,IAAI+sB,GAAU,IAAArD,MAAKjsC,OAAOC,OAAO,CAAC,EAAGsiB,GAAgBjnB,EAAM8zC,GAC3D,OAAOpvC,OAAO8c,eAAeyF,EAAejnB,EAAM,CAC9CyE,MAAOuvC,GAEf,CAPI,OAAO,IAAArD,MAAK1pB,EAAejnB,EAAM8zC,EAQzC,EACAlmB,EAAMgjB,QAAU,SAAU3pB,EAAejnB,GACrC,OAAK,QAAU+zC,QAAQ9sB,GAIZviB,OAAO8c,eAAeyF,EAAejnB,EAAM,CAC9CyE,MAAOwiB,EAAcjnB,MAJlB,IAAA+kB,QAAOkC,EAAejnB,EAOrC,EACA4tB,EAAMijB,UAAY,SAAUoD,EAAoBC,EAAOJ,GAC9CG,GAIK/wC,MAAMC,QAAQ8wC,KACpBA,EAAqB,CAACA,IAEpBC,GAAShxC,MAAMC,QAAQ+wC,GAI7BD,EAAmB3qC,SAAQ,SAAU2d,GACjCitB,EAAM5qC,SAAQ,SAAUtJ,GACpB4tB,EAAM6iB,MAAMxpB,EAAejnB,EAAM8zC,EACrC,GACJ,IAPI,IAAKrlC,MAAM,0DAPX,IAAKA,MAAM,4CAenB,EACAmf,EAAMmjB,YAAc,SAAUkD,EAAoBC,GACzCD,GAIK/wC,MAAMC,QAAQ8wC,KACpBA,EAAqB,CAACA,IAEpBC,GAAShxC,MAAMC,QAAQ+wC,GAI7BD,EAAmB3qC,SAAQ,SAAU2d,GACjCitB,EAAM5qC,SAAQ,SAAUtJ,GACpB4tB,EAAMgjB,QAAQ3pB,EAAejnB,EACjC,GACJ,IAPI,IAAKyO,MAAM,0DAPX,IAAKA,MAAM,4CAenB,EACA,IAAI0lC,EAAUvmB,EAAM5G,OAapB,OAZImtB,IAAYjxC,MAAMC,QAAQgxC,KAC1BA,EAAU,CAACA,IAEfvmB,EAAMwmB,SAAWD,GAAW,GACE,IAA1BvmB,EAAMwmB,SAAStxC,QACf,IAAKqgB,MAAM,oDACAyK,EAAM0gB,oBAAsB,IAAM1gB,EAAM4iB,uBADxC,8BAIX5iB,EAAMqjB,QAAQprC,SACd+nB,EAAMxF,SAEHwF,CACX,CAuLA,OArQAiD,EAAU6iB,EAAqBlhB,GA+E/BkhB,EAAoB98B,UAAUy9B,wBAA0B,WACpD,IAAIzmB,EAAQ7uB,KACZA,KAAKq1C,SAAS9qC,SAAQ,SAAUmb,GAC5B,IAAIzkB,EAAOykB,EAAOzkB,KAClB,IACI,IAAIs0C,EAAiC,gBAAAt0C,GACjC,IAAcs0C,IAEd1mB,EAAMsjB,MAAM/nB,KAAK,UAAYnpB,EAAO,2BAA6B4tB,EAAM0gB,oBAAsB,gEAAkEtuC,EAEvK,CACA,MAAOlB,GAEP,CACJ,GACJ,EACA40C,EAAoB98B,UAAU29B,uBAAyB,SAAUC,GAC7D,IAEI,IAAIrtC,EAAU,QAAQ,OAAUqtC,EAAS,iBAAiBrtC,QAC1D,MAA0B,iBAAZA,EAAuBA,OAAUhI,CACnD,CACA,MAAOsP,GACH,IAAK0a,KAAK,4BAA6BqrB,EAC3C,CAEJ,EACAd,EAAoB98B,UAAU69B,WAAa,SAAUhwB,EAAQhD,EAASzhB,EAAMw0C,GACxE,IACI11C,EADA8uB,EAAQ7uB,KAEZ,IAAKy1C,EACD,MAA4B,mBAAjB/vB,EAAOyqB,QACdzqB,EAAOwC,cAAgBxF,EACnB1iB,KAAK80C,UACEpvB,EAAOyqB,MAAMztB,GAGrBA,EAEX,IAAIta,EAAUpI,KAAKw1C,uBAAuBC,GAE1C,OADA/vB,EAAOiwB,cAAgBvtC,EACnBsd,EAAOzkB,OAASA,EAEZ20C,EAAYlwB,EAAOwqB,kBAAmB9nC,EAASsd,EAAO0C,oBAC1B,mBAAjB1C,EAAOyqB,QACdzqB,EAAOwC,cAAgBxF,EACnB1iB,KAAK80C,UACEpvB,EAAOyqB,MAAMztB,EAASgD,EAAOiwB,eAIzCjzB,GAGyB,QAAvB3iB,EAAK2lB,EAAOmwB,aAA0B,IAAP91C,EAAgBA,EAAK,IAE5DgB,QAAO,SAAUwvC,GAAK,OAAOA,EAAEtvC,OAASA,CAAM,IAC9CF,QAAO,SAAUwvC,GAClB,OAAOqF,EAAYrF,EAAEL,kBAAmB9nC,EAASsd,EAAO0C,kBAC5D,IACqChB,QAAO,SAAU0uB,EAAgBC,GAElE,OADAA,EAAK7tB,cAAgB4tB,EACjBjnB,EAAMimB,SACCiB,EAAK5F,MAAM2F,EAAgBpwB,EAAOiwB,eAEtCG,CACX,GAAGpzB,EACP,EACAiyB,EAAoB98B,UAAUwR,OAAS,WACnC,IAAIiD,EAAKvsB,EAAI27B,EAAKhuB,EAAIsoC,EAAKx6B,EACvBqT,EAAQ7uB,KACZ,IAAIA,KAAK80C,SAKT,GAFA90C,KAAK80C,UAAW,EAEZ90C,KAAK40C,OAAO7wC,OAAS,EACrB,IACI,IAAK,IAAIqb,EAAK,EAASpf,KAAKq1C,UAAWh2B,EAAKD,EAAG7d,QAAS8d,EAAGoE,KAAMpE,EAAKD,EAAG7d,OAAQ,CAC7E,IAAI00C,EAAW52B,EAAG3Z,MACY,mBAAnBuwC,EAAS9F,OAAwB8F,EAAS/tB,eACjD+tB,EAAS9F,MAAM8F,EAAS/tB,cAAe+tB,EAASN,eAEpD,IACI,IAAK,IAAIr2B,GAAMoc,OAAM,EAAQ,EAASua,EAASJ,QAASt2B,EAAKD,EAAG/d,QAASge,EAAGkE,KAAMlE,EAAKD,EAAG/d,OAAQ,CAC9F,IAAIw0C,EAAOx2B,EAAG7Z,MACVqwC,EAAK7tB,eACL6tB,EAAK5F,MAAM4F,EAAK7tB,cAAe+tB,EAASN,cAEhD,CACJ,CACA,MAAO5Z,GAASL,EAAM,CAAEhsB,MAAOqsB,EAAS,CACxC,QACI,IACQxc,IAAOA,EAAGkE,OAAS/V,EAAK4R,EAAGsN,SAASlf,EAAGpD,KAAKgV,EACpD,CACA,QAAU,GAAIoc,EAAK,MAAMA,EAAIhsB,KAAO,CACxC,CACJ,CACJ,CACA,MAAOid,GAASL,EAAM,CAAE5c,MAAOid,EAAS,CACxC,QACI,IACQtN,IAAOA,EAAGoE,OAAS1jB,EAAKqf,EAAGwN,SAAS7sB,EAAGuK,KAAK8U,EACpD,CACA,QAAU,GAAIkN,EAAK,MAAMA,EAAI5c,KAAO,CACxC,KA9BJ,CAiCA1P,KAAKs1C,0BACL,IAAIY,EAAU,SAAUC,GACpB,IAGI3B,EAAY,SAAU9xB,EAASzhB,EAAMw0C,GACrC,OAAO5mB,EAAM6mB,WAAWS,EAAUzzB,EAASzhB,EAAMw0C,EACrD,EAIIzC,EAAO,aAAgBmD,EAASl1C,MAC9B,IAAI,EAAA+yC,KAAK,CAACmC,EAASl1C,MAAO,CAAEgzC,WAAW,GAAQO,GAC/C4B,EAAOvB,6BAA6BJ,SAAS0B,EAASl1C,KAAMuzC,GAClE4B,EAAOxB,OAAOh0C,KAAKoyC,GACnB,IAAIqD,EAAU,IAAI,EAAkB,CAACF,EAASl1C,MAAO,CAAEgzC,WAAW,IAbrD,SAAUvxB,EAASzhB,EAAMw0C,GAClC,OAAO5mB,EAAM6mB,WAAWS,EAAUzzB,EAASzhB,EAAMw0C,EACrD,IAYAW,EAAOxB,OAAOh0C,KAAKy1C,EACvB,EACID,EAASp2C,KACb,IACI,IAAK,IAAIs2C,EAAK,EAASt2C,KAAKq1C,UAAWkB,EAAKD,EAAG/0C,QAASg1C,EAAG9yB,KAAM8yB,EAAKD,EAAG/0C,OAErE20C,EADeK,EAAG7wC,MAG1B,CACA,MAAO8wC,GAASR,EAAM,CAAEtmC,MAAO8mC,EAAS,CACxC,QACI,IACQD,IAAOA,EAAG9yB,OAASjI,EAAK86B,EAAG1pB,SAASpR,EAAGlR,KAAKgsC,EACpD,CACA,QAAU,GAAIN,EAAK,MAAMA,EAAItmC,KAAO,CACxC,CAhCA,CAiCJ,EACAilC,EAAoB98B,UAAUyR,QAAU,WACpC,IAAImtB,EAAK12C,EAAI22C,EAAKhpC,EAClB,GAAK1N,KAAK80C,SAAV,CAGA90C,KAAK80C,UAAW,EAChB,IACI,IAAK,IAAIt5B,EAAK,EAASxb,KAAKq1C,UAAWj2B,EAAK5D,EAAGja,QAAS6d,EAAGqE,KAAMrE,EAAK5D,EAAGja,OAAQ,CAC7E,IAAIo1C,EAAWv3B,EAAG1Z,MACc,mBAArBixC,EAASvG,SAA0BuG,EAASzuB,eACnDyuB,EAASvG,QAAQuG,EAASzuB,cAAeyuB,EAAShB,eAEtD,IACI,IAAK,IAAIt2B,GAAMq3B,OAAM,EAAQ,EAASC,EAASd,QAASv2B,EAAKD,EAAG9d,QAAS+d,EAAGmE,KAAMnE,EAAKD,EAAG9d,OAAQ,CAC9F,IAAIw0C,EAAOz2B,EAAG5Z,MACVqwC,EAAK7tB,eACL6tB,EAAK3F,QAAQ2F,EAAK7tB,cAAeyuB,EAAShB,cAElD,CACJ,CACA,MAAOiB,GAASF,EAAM,CAAEhnC,MAAOknC,EAAS,CACxC,QACI,IACQt3B,IAAOA,EAAGmE,OAAS/V,EAAK2R,EAAGuN,SAASlf,EAAGpD,KAAK+U,EACpD,CACA,QAAU,GAAIq3B,EAAK,MAAMA,EAAIhnC,KAAO,CACxC,CACJ,CACJ,CACA,MAAOmnC,GAASJ,EAAM,CAAE/mC,MAAOmnC,EAAS,CACxC,QACI,IACQz3B,IAAOA,EAAGqE,OAAS1jB,EAAKyb,EAAGoR,SAAS7sB,EAAGuK,KAAKkR,EACpD,CACA,QAAU,GAAIi7B,EAAK,MAAMA,EAAI/mC,KAAO,CACxC,CA/BA,CAgCJ,EACAilC,EAAoB98B,UAAUi/B,UAAY,WACtC,OAAO92C,KAAK80C,QAChB,EACOH,CACX,CAvQwC,CAuQtCnD,GAEF,SAASoE,EAAY1F,EAAmB9nC,EAASggB,GAC7C,YAAuB,IAAZhgB,EAEA8nC,EAAkBxoC,SAAS,KAE/BwoC,EAAkB6G,MAAK,SAAUC,GACpC,OAAO,IAAAC,WAAU7uC,EAAS4uC,EAAkB,CAAE5uB,kBAAmBA,GACrE,GACJ,+CIvTA,IAAI8uB,EACA,SAA6Cj2C,EAAMivC,EAAmBC,EAAOC,EAASyF,GAClF71C,KAAKiB,KAAOA,EACZjB,KAAKkwC,kBAAoBA,EACzBlwC,KAAKmwC,MAAQA,EACbnwC,KAAKowC,QAAUA,EACfpwC,KAAK61C,MAAQA,GAAS,EAC1B,YCtBJ,SAASsB,EAAoB31C,GAC5B,IAAI0L,EAAI,IAAIxM,MAAM,uBAAyBc,EAAM,KAEjD,MADA0L,EAAEiB,KAAO,mBACHjB,CACP,CACAiqC,EAAoBjxC,KAAO,IAAM,GACjCixC,EAAoBzrC,QAAUyrC,EAC9BA,EAAoBC,GAAK,KACzB1xB,EAAOhD,QAAUy0B,oZCWNze,oICOPxP,EAAkC,SAAUH,EAAG9jB,GAC/C,IAAI+jB,EAAsB,mBAAX7T,QAAyB4T,EAAE5T,OAAOiF,UACjD,IAAK4O,EAAG,OAAOD,EACf,IAAmBE,EAAY/b,EAA3ByR,EAAIqK,EAAE1e,KAAKye,GAAOH,EAAK,GAC3B,IACI,WAAc,IAAN3jB,GAAgBA,KAAM,MAAQgkB,EAAItK,EAAEpd,QAAQkiB,MAAMmF,EAAGhoB,KAAKqoB,EAAEvjB,MACxE,CACA,MAAOgK,GAASxC,EAAI,CAAEwC,MAAOA,EAAS,CACtC,QACI,IACQuZ,IAAMA,EAAExF,OAASuF,EAAIrK,EAAU,SAAIqK,EAAE1e,KAAKqU,EAClD,CACA,QAAU,GAAIzR,EAAG,MAAMA,EAAEwC,KAAO,CACpC,CACA,OAAOkZ,CACX,EAiBIyuB,EAAsB,WAMtB,SAASA,EAAKC,EAAc/hC,EAASysB,EAAUza,EAAaR,EAAMwwB,EAAcpwB,EAAO8W,EAAWuZ,EAClGlxB,QACkB,IAAVa,IAAoBA,EAAQ,IAChCnnB,KAAKsmB,WAAa,CAAC,EACnBtmB,KAAKmnB,MAAQ,GACbnnB,KAAKy3C,OAAS,GACdz3C,KAAK03C,wBAA0B,EAC/B13C,KAAK23C,oBAAsB,EAC3B33C,KAAK43C,mBAAqB,EAC1B53C,KAAKgH,OAAS,CACVmH,KAAM,IAAe0pC,OAEzB73C,KAAKk+B,QAAU,CAAC,EAAG,GACnBl+B,KAAK83C,QAAS,EACd93C,KAAK+3C,UAAY,EAAE,GAAI,GACvB/3C,KAAKiB,KAAO+gC,EACZhiC,KAAKu2B,aAAehP,EACpBvnB,KAAKu3C,aAAeA,EACpBv3C,KAAK+mB,KAAOA,EACZ/mB,KAAKmnB,MAAQA,EACb,IAAIra,EAAMxI,KAAKwI,MACf9M,KAAKg4C,sBAAwB,IAAclrC,MAC3C9M,KAAKi4C,mBACDnrC,GAAO9M,KAAKg4C,uBAAwB,WACxCh4C,KAAKk4C,mBAAkC,MAAbja,EAC1Bj+B,KAAKi+B,UAAYj+B,KAAKm4C,SAASla,QAA6CA,EAAYnxB,GACxF9M,KAAKo4C,SAAWd,EAAac,SAC7Bp4C,KAAKq4C,uBAAyBf,EAAae,uBAC3Cr4C,KAAKs4C,YAAchB,EAAaiB,gBAChCv4C,KAAKw4C,2BACDx4C,KAAKs4C,YAAYG,2BAA6B,EAChC,MAAdnyB,GACAtmB,KAAKy2B,cAAcnQ,GAEvBtmB,KAAK04C,eAAiBpB,EAAaqB,yBACnC34C,KAAK04C,eAAeE,QAAQ54C,KAAMuV,EACtC,CA+PA,OA9PA8hC,EAAKx/B,UAAU0P,YAAc,WACzB,OAAOvnB,KAAKu2B,YAChB,EACA8gB,EAAKx/B,UAAUnB,aAAe,SAAUjR,EAAKC,GACzC,OAAa,MAATA,GAAiB1F,KAAK64C,eACf74C,KACQ,IAAfyF,EAAI1B,QACJ,IAAKqmB,KAAK,0BAA4B3kB,GAC/BzF,OAEN,OAAiB0F,GAIlBC,OAAOO,KAAKlG,KAAKsmB,YAAYviB,QAC7B/D,KAAKs4C,YAAYQ,sBAChBnzC,OAAOkS,UAAUqa,eAAe5nB,KAAKtK,KAAKsmB,WAAY7gB,IACvDzF,KAAK03C,0BACE13C,OAEXA,KAAKsmB,WAAW7gB,GAAOzF,KAAK+4C,gBAAgBrzC,GACrC1F,OAVH,IAAKoqB,KAAK,wCAA0C3kB,GAC7CzF,KAUf,EACAq3C,EAAKx/B,UAAU4e,cAAgB,SAAUnQ,GACrC,IAAIgG,EAAKvsB,EACT,IACI,IAAK,IAAI2N,EAhHqB,SAASqb,GAC/C,IAAIyD,EAAsB,mBAAXrX,QAAyBA,OAAOiF,SAAU4O,EAAIwD,GAAKzD,EAAEyD,GAAI7N,EAAI,EAC5E,GAAIqK,EAAG,OAAOA,EAAE1e,KAAKye,GACrB,GAAIA,GAAyB,iBAAbA,EAAEhlB,OAAqB,MAAO,CAC1CxC,KAAM,WAEF,OADIwnB,GAAKpK,GAAKoK,EAAEhlB,SAAQglB,OAAI,GACrB,CAAErjB,MAAOqjB,GAAKA,EAAEpK,KAAM8E,MAAOsF,EACxC,GAEJ,MAAM,IAAIvf,UAAUgjB,EAAI,0BAA4B,kCACxD,CAsG0BC,CAAS9mB,OAAO6K,QAAQ8V,IAAc9K,EAAK9N,EAAGnM,QAASia,EAAGiI,KAAMjI,EAAK9N,EAAGnM,OAAQ,CAC1F,IAAI6d,EAAK8J,EAAO1N,EAAG9V,MAAO,GAAIS,EAAIiZ,EAAG,GAAImR,EAAInR,EAAG,GAChDpf,KAAK0W,aAAavQ,EAAGoqB,EACzB,CACJ,CACA,MAAO5D,GAASL,EAAM,CAAE5c,MAAOid,EAAS,CACxC,QACI,IACQnR,IAAOA,EAAGiI,OAAS1jB,EAAK2N,EAAGkf,SAAS7sB,EAAGuK,KAAKoD,EACpD,CACA,QAAU,GAAI4e,EAAK,MAAMA,EAAI5c,KAAO,CACxC,CACA,OAAO1P,IACX,EAQAq3C,EAAKx/B,UAAU6e,SAAW,SAAUz1B,EAAM+3C,EAAuBC,GAC7D,GAAIj5C,KAAK64C,eACL,OAAO74C,KACX,GAAyC,IAArCA,KAAKs4C,YAAYY,gBAGjB,OAFA,IAAK9uB,KAAK,sBACVpqB,KAAK23C,sBACE33C,KAEPA,KAAKy3C,OAAO1zC,QAAU/D,KAAKs4C,YAAYY,kBACN,IAA7Bl5C,KAAK23C,qBACL,IAAKvzB,MAAM,0BAEfpkB,KAAKy3C,OAAOxc,QACZj7B,KAAK23C,wBAEL,QAAYqB,MACP,QAAYC,KACbA,EAAYD,GAEhBA,OAAwB54C,GAE5B,IAAIkmB,GAAa,OAAmB0yB,GAOpC,OANAh5C,KAAKy3C,OAAO72C,KAAK,CACbK,KAAMA,EACNqlB,WAAYA,EACZuX,KAAM79B,KAAKm4C,SAASc,GACpBE,uBAAwB,IAErBn5C,IACX,EACAq3C,EAAKx/B,UAAU8e,QAAU,SAAUyiB,GAE/B,OADAp5C,KAAKmnB,MAAMvmB,KAAKw4C,GACTp5C,IACX,EACAq3C,EAAKx/B,UAAUgf,SAAW,SAAU1P,GAChC,IAAIpnB,EAEJ,OADCA,EAAKC,KAAKmnB,OAAOvmB,KAAK8iB,MAAM3jB,EA9Ie,SAAU2oB,EAAIxM,EAAMyM,GACpE,GAAIA,GAA6B,IAArB7d,UAAU/G,OAAc,IAAK,IAA4B6kB,EAAxBjK,EAAI,EAAGkK,EAAI3M,EAAKnY,OAAY4a,EAAIkK,EAAGlK,KACxEiK,GAAQjK,KAAKzC,IACR0M,IAAIA,EAAKzkB,MAAM0T,UAAU3X,MAAMoK,KAAK4R,EAAM,EAAGyC,IAClDiK,EAAGjK,GAAKzC,EAAKyC,IAGrB,OAAO+J,EAAG3jB,OAAO6jB,GAAMzkB,MAAM0T,UAAU3X,MAAMoK,KAAK4R,GACtD,CAsIyC4M,CAAc,GAAII,EAAO/B,IAAQ,IAC3DnnB,IACX,EACAq3C,EAAKx/B,UAAUlB,UAAY,SAAU3P,GACjC,OAAIhH,KAAK64C,iBAET74C,KAAKgH,OAASA,GADHhH,IAGf,EACAq3C,EAAKx/B,UAAUmf,WAAa,SAAU/1B,GAClC,OAAIjB,KAAK64C,iBAET74C,KAAKiB,KAAOA,GADDjB,IAGf,EACAq3C,EAAKx/B,UAAUtB,IAAM,SAAU2nB,GACvBl+B,KAAK64C,eACL,IAAKnpC,MAAM1P,KAAKiB,KAAO,IAAMjB,KAAKu2B,aAAawC,QAAU,IAAM/4B,KAAKu2B,aAAayC,OAAS,+CAG9Fh5B,KAAK83C,QAAS,EACd93C,KAAKk+B,QAAUl+B,KAAKm4C,SAASja,GAC7Bl+B,KAAK+3C,WAAY,QAAe/3C,KAAKi+B,UAAWj+B,KAAKk+B,SACjDl+B,KAAK+3C,UAAU,GAAK,IACpB,IAAK3tB,KAAK,sFAAuFpqB,KAAKi+B,UAAWj+B,KAAKk+B,SACtHl+B,KAAKk+B,QAAUl+B,KAAKi+B,UAAU/9B,QAC9BF,KAAK+3C,UAAY,CAAC,EAAG,IAErB/3C,KAAK23C,oBAAsB,GAC3B,IAAKvtB,KAAK,WAAapqB,KAAK23C,oBAAsB,2CAEtD33C,KAAK04C,eAAeW,MAAMr5C,MAC9B,EACAq3C,EAAKx/B,UAAUsgC,SAAW,SAAUmB,GAChC,GAAmB,iBAARA,GAAoBA,EAAM,IAAcxsC,MAG/C,OAAO,QAAOwsC,EAAMt5C,KAAKi4C,oBAE7B,GAAmB,iBAARqB,EACP,OAAO,QAAeA,GAE1B,GAAIA,aAAeh1C,KACf,OAAO,QAAeg1C,EAAIvb,WAE9B,IAAI,QAAkBub,GAClB,OAAOA,EAEX,GAAIt5C,KAAKk4C,mBAGL,OAAO,QAAe5zC,KAAKwI,OAE/B,IAAIysC,EAAa,IAAczsC,MAAQ9M,KAAKg4C,sBAC5C,OAAO,QAAWh4C,KAAKi+B,WAAW,QAAesb,GACrD,EACAlC,EAAKx/B,UAAUrB,YAAc,WACzB,OAAuB,IAAhBxW,KAAK83C,MAChB,EACAT,EAAKx/B,UAAUpB,gBAAkB,SAAUsP,EAAW8X,GAClD,IAAIvX,EAAa,CAAC,EACO,iBAAdP,EACPO,EAAW,OAA8BP,EAEpCA,IACDA,EAAU5X,KACVmY,EAAW,OAA2BP,EAAU5X,KAAK3H,WAEhDuf,EAAU9kB,OACfqlB,EAAW,OAA2BP,EAAU9kB,MAEhD8kB,EAAUlgB,UACVygB,EAAW,OAA8BP,EAAUlgB,SAEnDkgB,EAAUgF,QACVzE,EAAW,OAAiCP,EAAUgF,QAI1DzE,EAAW,QACXA,EAAW,OACXtmB,KAAK02B,SCzPe,YDyPcpQ,EAAYuX,GAG9C,IAAKzT,KAAK,iCAAmCrE,EAErD,EACApgB,OAAO8c,eAAe40B,EAAKx/B,UAAW,WAAY,CAC9C5U,IAAK,WACD,OAAOjD,KAAK+3C,SAChB,EACA/R,YAAY,EACZC,cAAc,IAElBtgC,OAAO8c,eAAe40B,EAAKx/B,UAAW,QAAS,CAC3C5U,IAAK,WACD,OAAOjD,KAAK83C,MAChB,EACA9R,YAAY,EACZC,cAAc,IAElBtgC,OAAO8c,eAAe40B,EAAKx/B,UAAW,yBAA0B,CAC5D5U,IAAK,WACD,OAAOjD,KAAK03C,uBAChB,EACA1R,YAAY,EACZC,cAAc,IAElBtgC,OAAO8c,eAAe40B,EAAKx/B,UAAW,qBAAsB,CACxD5U,IAAK,WACD,OAAOjD,KAAK23C,mBAChB,EACA3R,YAAY,EACZC,cAAc,IAElBtgC,OAAO8c,eAAe40B,EAAKx/B,UAAW,oBAAqB,CACvD5U,IAAK,WACD,OAAOjD,KAAK43C,kBAChB,EACA5R,YAAY,EACZC,cAAc,IAElBoR,EAAKx/B,UAAUghC,aAAe,WAI1B,OAHI74C,KAAK83C,QACL,IAAK1tB,KAAK,yDAA2DpqB,KAAKu2B,aAAawC,QAAU,aAAe/4B,KAAKu2B,aAAayC,OAAS,KAExIh5B,KAAK83C,MAChB,EAIAT,EAAKx/B,UAAU2hC,qBAAuB,SAAU9zC,EAAO+zC,GACnD,OAAI/zC,EAAM3B,QAAU01C,EACT/zC,EAEJA,EAAMkZ,OAAO,EAAG66B,EAC3B,EAaApC,EAAKx/B,UAAUkhC,gBAAkB,SAAUrzC,GACvC,IAAImpB,EAAQ7uB,KACRy5C,EAAQz5C,KAAKw4C,2BAEjB,OAAIiB,GAAS,GAET,IAAKrvB,KAAK,+CAAiDqvB,GACpD/zC,GAGU,iBAAVA,EACA1F,KAAKw5C,qBAAqB9zC,EAAO+zC,GAGxCt1C,MAAMC,QAAQsB,GACPA,EAAMV,KAAI,SAAUu2B,GACvB,MAAsB,iBAARA,EAAmB1M,EAAM2qB,qBAAqBje,EAAKke,GAASle,CAC9E,IAGG71B,CACX,EACO2xC,CACX,CA1SyB,wBDtCzB,SAAW3e,GAKPA,EAAiBA,EAA6B,WAAI,GAAK,aAKvDA,EAAiBA,EAAyB,OAAI,GAAK,SAKnDA,EAAiBA,EAAqC,mBAAI,GAAK,oBAClE,CAhBD,CAgBGA,IAAqBA,EAAmB,CAAC,IGnB5C,IAAIqI,EAAkC,WAClC,SAASA,IACT,CASA,OARAA,EAAiBlpB,UAAUmpB,aAAe,WACtC,MAAO,CACHC,SAAUvI,EAAiBwI,WAEnC,EACAH,EAAiBlpB,UAAUrR,SAAW,WAClC,MAAO,kBACX,EACOu6B,CACX,CAZqC,GCAjCI,EAAiC,WACjC,SAASA,IACT,CASA,OARAA,EAAgBtpB,UAAUmpB,aAAe,WACrC,MAAO,CACHC,SAAUvI,EAAiB0I,mBAEnC,EACAD,EAAgBtpB,UAAUrR,SAAW,WACjC,MAAO,iBACX,EACO26B,CACX,CAZoC,uBCMhCE,EAAoC,WACpC,SAASA,EAAmBC,GACxB,IAAIvhC,EAAI2N,EAAI8N,EAAI4D,EAChBpf,KAAKuhC,MAAQD,EAAOhK,KACft3B,KAAKuhC,SACN,OAAmB,IAAI7gC,MAAM,2DAC7BV,KAAKuhC,MAAQ,IAAIJ,GAErBnhC,KAAKwhC,qBACqC,QAArCzhC,EAAKuhC,EAAOG,2BAAwC,IAAP1hC,EAAgBA,EAAK,IAAIohC,EAC3EnhC,KAAK0hC,wBACwC,QAAxCh0B,EAAK4zB,EAAOK,8BAA2C,IAAPj0B,EAAgBA,EAAK,IAAIqzB,EAC9E/gC,KAAK4hC,oBACoC,QAApCpmB,EAAK8lB,EAAOO,0BAAuC,IAAPrmB,EAAgBA,EAAK,IAAI2lB,EAC1EnhC,KAAK8hC,uBACuC,QAAvC1iB,EAAKkiB,EAAOS,6BAA0C,IAAP3iB,EAAgBA,EAAK,IAAI2hB,CACjF,CAoBA,OAnBAM,EAAmBxpB,UAAUmpB,aAAe,SAAUzrB,EAASwjB,EAASiJ,EAAUjpB,EAAUuN,EAAYa,GACpG,IAAI1R,EAAgB,IAAM+R,eAAejS,GACzC,OAAKE,IAAkB,QAAmBA,GAGtCA,EAAcwsB,SACVxsB,EAAcwjB,WAAa,IAAWiJ,QAC/BliC,KAAKwhC,qBAAqBR,aAAazrB,EAASwjB,EAASiJ,EAAUjpB,EAAUuN,EAAYa,GAE7FnnB,KAAK0hC,wBAAwBV,aAAazrB,EAASwjB,EAASiJ,EAAUjpB,EAAUuN,EAAYa,GAEnG1R,EAAcwjB,WAAa,IAAWiJ,QAC/BliC,KAAK4hC,oBAAoBZ,aAAazrB,EAASwjB,EAASiJ,EAAUjpB,EAAUuN,EAAYa,GAE5FnnB,KAAK8hC,uBAAuBd,aAAazrB,EAASwjB,EAASiJ,EAAUjpB,EAAUuN,EAAYa,GAXvFnnB,KAAKuhC,MAAMP,aAAazrB,EAASwjB,EAASiJ,EAAUjpB,EAAUuN,EAAYa,EAYzF,EACAka,EAAmBxpB,UAAUrR,SAAW,WACpC,MAAO,oBAAsBxG,KAAKuhC,MAAM/6B,WAAa,yBAA2BxG,KAAKwhC,qBAAqBh7B,WAAa,4BAA8BxG,KAAK0hC,wBAAwBl7B,WAAa,wBAA0BxG,KAAK4hC,oBAAoBp7B,WAAa,2BAA6BxG,KAAK8hC,uBAAuBt7B,WAAa,GACzU,EACO66B,CACX,CArCuC,GCLnCc,EAA0C,WAC1C,SAASA,EAAyBC,QACf,IAAXA,IAAqBA,EAAS,GAClCpiC,KAAKoiC,OAASA,EACdpiC,KAAKoiC,OAASpiC,KAAKqiC,WAAWD,GAC9BpiC,KAAKsiC,YAAct1B,KAAKkC,MAAoB,WAAdlP,KAAKoiC,OACvC,CAyBA,OAxBAD,EAAyBtqB,UAAUmpB,aAAe,SAAUzrB,EAASwjB,GACjE,MAAO,CACHkI,UAAU,QAAelI,IAAY/4B,KAAKuiC,YAAYxJ,GAAW/4B,KAAKsiC,YAChE5J,EAAiB0I,mBACjB1I,EAAiBwI,WAE/B,EACAiB,EAAyBtqB,UAAUrR,SAAW,WAC1C,MAAO,qBAAuBxG,KAAKoiC,OAAS,GAChD,EACAD,EAAyBtqB,UAAUwqB,WAAa,SAAUG,GACtD,MAAqB,iBAAVA,GAAsBn2B,MAAMm2B,GAC5B,EACJA,GAAS,EAAI,EAAIA,GAAS,EAAI,EAAIA,CAC7C,EACAL,EAAyBtqB,UAAU0qB,YAAc,SAAUxJ,GAEvD,IADA,IAAI0J,EAAe,EACV9jB,EAAI,EAAGA,EAAIoa,EAAQh1B,OAAS,EAAG4a,IAAK,CACzC,IAAI+jB,EAAU,EAAJ/jB,EAEV8jB,GAAgBA,EADL/vB,SAASqmB,EAAQ74B,MAAMwiC,EAAKA,EAAM,GAAI,OACR,CAC7C,CACA,OAAOD,CACX,EACON,CACX,CAhC6C,GCGzCrwB,GAAM,SACN4nC,EAA+B,IAAoBC,SACnDC,EAAgB,EASb,SAASC,IACZ,MAAO,CACHC,QAASC,EAAoBjoC,GAC7BkoC,wBAAyB,IACzBC,cAAe,CACXxB,2BAA2B,SAAShP,kCACpCqP,qBAAqB,SAASpP,4BAElCwQ,WAAY,CACRzB,2BAA2B,SAAS9O,uCACpCmP,qBAAqB,SAASlP,gCAC9BuQ,gBAAgB,SAASnQ,2BACzBkP,iBAAiB,SAASnP,4BAC1BqQ,6BAA6B,SAASnQ,0CACtCoQ,4BAA4B,SAASnQ,0CAGjD,CAKO,SAAS6P,EAAoB7N,GAEhC,YADoB,IAAhBA,IAA0BA,GAAc,UACpCA,EAAY9B,qBAChB,KAAK,IAAoBuP,SACrB,OAAO,IAAIxY,EACf,KAAK,IAAoBmZ,UACrB,OAAO,IAAIvZ,EACf,KAAK,IAAoBsJ,oBACrB,OAAO,IAAIhJ,EAAmB,CAC1B/J,KAAM,IAAI6J,IAElB,KAAK,IAAoBoZ,qBACrB,OAAO,IAAIlZ,EAAmB,CAC1B/J,KAAM,IAAIyJ,IAElB,KAAK,IAAoByZ,aACrB,OAAO,IAAIrY,EAAyBsY,EAA6BvO,IACrE,KAAK,IAAoBwO,wBACrB,OAAO,IAAIrZ,EAAmB,CAC1B/J,KAAM,IAAI6K,EAAyBsY,EAA6BvO,MAExE,QAEI,OADA,IAAKx8B,MAAM,8BAAiCw8B,EAAY9B,oBAAsB,2BAA6BsP,EAA+B,MACnI,IAAIvY,EAEvB,CACA,SAASsZ,EAA6BvO,GAClC,QAA4C9rC,IAAxC8rC,EAAY5B,yBAC4B,KAAxC4B,EAAY5B,wBAEZ,OADA,IAAK56B,MAAM,mDAAqDkqC,EAAgB,KACzEA,EAEX,IAAIe,EAAcvuC,OAAO8/B,EAAY5B,yBACrC,OAAIj+B,MAAMsuC,IACN,IAAKjrC,MAAM,2BAA6Bw8B,EAAY5B,wBAA0B,gDAAkDsP,EAAgB,KACzIA,GAEPe,EAAc,GAAKA,EAAc,GACjC,IAAKjrC,MAAM,2BAA6Bw8B,EAAY5B,wBAA0B,8DAAgEsP,EAAgB,KACvJA,GAEJe,CACX,eC/EI1a,EACA,WAKIjgC,KAAKkgC,gBAAkBC,EAPV,IAYbngC,KAAKogC,eAAiBD,EAbV,EAchB,EAIAE,EAAgBrkB,OAAOskB,YAjBN,IAkBrB,SAASH,EAAeI,GACpB,OAAO,WACH,IAAK,IAAI5hB,EAAI,EAAGA,EAAI4hB,EAAQ,EAAG5hB,IAG3B0hB,EAAcG,cAAexzB,KAAKmC,SAAWnC,KAAK8B,IAAI,EAAG,MAAS,EAAO,EAAJ6P,GAGzE,IAASA,EAAI,EAAGA,EAAI4hB,KACZF,EAAc1hB,GAAK,GADAA,IAIdA,IAAM4hB,EAAQ,IACnBF,EAAcE,EAAQ,GAAK,GAGnC,OAAOF,EAAc75B,SAAS,MAAO,EAAG+5B,EAC5C,CACJ,CC7BA,ICPQ1O,ECQG+oB,EFDPC,EAAwB,WAIxB,SAASA,EAAOxC,EAAwB/W,EAAQwZ,GAC5C96C,KAAK86C,gBAAkBA,EACvB,IGRoBC,EACpBC,EAGAC,EACA7xB,EHGI8xB,GGRgBH,EHQUzZ,EGP9B0Z,EAAsB,CACtBlB,QAASC,KAETkB,EAAiBpB,KACjBzwB,EAASzjB,OAAOC,OAAO,CAAC,EAAGq1C,EAAgBD,EAAqBD,IAC7Dd,cAAgBt0C,OAAOC,OAAO,CAAC,EAAGq1C,EAAehB,cAAec,EAAWd,eAAiB,CAAC,GACpG7wB,EAAO8wB,WAAav0C,OAAOC,OAAO,CAAC,EAAGq1C,EAAef,WAAYa,EAAWb,YAAc,CAAC,GACpF9wB,GHCHppB,KAAKm7C,SAAWD,EAAYpB,QAC5B95C,KAAKo7C,eAAiBF,EAAYjB,cAClCj6C,KAAKs4C,YAAc4C,EAAYhB,WAC/Bl6C,KAAKq7C,aAAe/Z,EAAOga,aAAe,IAAIrb,EAC9CjgC,KAAKo4C,SAAW0C,EAAgB1C,SAChCp4C,KAAKq4C,uBAAyBA,CAClC,CAgGA,OA3FAwC,EAAOhjC,UAAUzB,UAAY,SAAUnV,EAAMV,EAASgV,GAClD,IAAIxV,EAAI2N,EAAI8N,OACI,IAAZjb,IAAsBA,EAAU,CAAC,QACrB,IAAZgV,IAAsBA,EAAU,IAAYoR,UAE5CpmB,EAAQ+2B,OACR/hB,EAAU,IAAUugB,WAAWvgB,IAEnC,IAAIgmC,EAAa,IAAUxlB,QAAQxgB,GACnC,IAAI,QAAoBA,GAGpB,OAFA,IAAS6O,MAAM,mDACQ,IAAUwC,gBAAgB,MAGrD,IAEImS,EACAtK,EACA8oB,EAJAiE,EAAoBD,aAA+C,EAASA,EAAWh0B,cACvFyR,EAASh5B,KAAKq7C,aAAajb,iBAI1Bob,GACA,IAAU3lB,mBAAmB2lB,IAM9BziB,EAAUyiB,EAAkBziB,QAC5BtK,EAAa+sB,EAAkB/sB,WAC/B8oB,EAAeiE,EAAkBxiB,QANjCD,EAAU/4B,KAAKq7C,aAAanb,kBAQhC,IAAInnB,EAAmC,QAAvBhZ,EAAKQ,EAAQwmB,YAAyB,IAAPhnB,EAAgBA,EAAK,IAAa07C,SAC7Et0B,GAAkC,QAAxBzZ,EAAKnN,EAAQ4mB,aAA0B,IAAPzZ,EAAgBA,EAAK,IAAI1I,KAAI,SAAUo0C,GACjF,MAAO,CACH7jC,QAAS6jC,EAAK7jC,QACd+Q,YAAY,OAAmB8yB,EAAK9yB,YAE5C,IACIA,GAAa,OAAmB/lB,EAAQ+lB,YAExCo1B,EAAiB17C,KAAKm7C,SAASna,aAAazrB,EAASwjB,EAAS93B,EAAM8X,EAAUuN,EAAYa,GAC9FsH,EAAkD,QAApCjT,EAAKkgC,EAAejtB,kBAA+B,IAAPjT,EAAgBA,EAAKiT,EAC/E,IAGIlH,EAAc,CAAEwR,QAASA,EAASC,OAAQA,EAAQC,WAHrCyiB,EAAeza,WAAa,IAAqBG,mBAC5D,IAAec,QACf,IAAe5W,KACyDmD,WAAYA,GAC1F,GAAIitB,EAAeza,WAAa,IAAqBC,WAGjD,OAFA,IAAS9c,MAAM,iEACQ,IAAUwC,gBAAgBW,GAKrD,IAAIo0B,GAAiB,OAAmBh2C,OAAOC,OAAO0gB,EAAYo1B,EAAep1B,aAEjF,OADW,IAAI+wB,EAAKr3C,KAAMuV,EAAStU,EAAMsmB,EAAaxO,EAAUw+B,EAAcpwB,EAAO5mB,EAAQ09B,eAAW79B,EAAWu7C,EAEvH,EACAd,EAAOhjC,UAAU2f,gBAAkB,SAAUv2B,EAAMw2B,EAAMC,EAAMC,GAC3D,IAAInT,EACAkC,EACA8B,EACJ,KAAI1d,UAAU/G,OAAS,GAAvB,CAG8B,IAArB+G,UAAU/G,OACfykB,EAAKiP,EAEqB,IAArB3sB,UAAU/G,QACfygB,EAAOiT,EACPjP,EAAKkP,IAGLlT,EAAOiT,EACP/Q,EAAMgR,EACNlP,EAAKmP,GAET,IAAIliB,EAAgBiR,QAAiCA,EAAM,IAAYC,SACnEzR,EAAOlV,KAAKoW,UAAUnV,EAAMujB,EAAM/O,GAClCmiB,EAAqB,IAAUjQ,QAAQlS,EAAeP,GAC1D,OAAO,IAAY0S,KAAKgQ,EAAoBpP,OAAIpoB,EAAW8U,EAJ3D,CAKJ,EAEA2lC,EAAOhjC,UAAU+jC,iBAAmB,WAChC,OAAO57C,KAAKo7C,cAChB,EAEAP,EAAOhjC,UAAU0gC,cAAgB,WAC7B,OAAOv4C,KAAKs4C,WAChB,EACAuC,EAAOhjC,UAAU8gC,uBAAyB,WACtC,OAAO34C,KAAK86C,gBAAgBnC,wBAChC,EACOkC,CACX,CA9G2B,wEIRvBtJ,EAAsC,WAStC,OARAA,EAAW5rC,OAAOC,QAAU,SAAS4qC,GACjC,IAAK,IAAIhkB,EAAG7N,EAAI,EAAG1Z,EAAI6F,UAAU/G,OAAQ4a,EAAI1Z,EAAG0Z,IAE5C,IAAK,IAAIxZ,KADTqnB,EAAI1hB,UAAU6T,GACOhZ,OAAOkS,UAAUqa,eAAe5nB,KAAKkiB,EAAGrnB,KACzDqrC,EAAErrC,GAAKqnB,EAAErnB,IAEjB,OAAOqrC,CACX,EACOe,EAAS7tB,MAAM1jB,KAAM8K,UAChC,EA6DI+wC,EAA0B,WAC1B,SAASA,EAMTv1B,EAAYw1B,GACR,IACI/7C,EADA8uB,EAAQ7uB,KAEZA,KAAK2zB,YAAcrN,EACnBtmB,KAAK+7C,uBAAmD,MAA1BD,EAC9B97C,KAAKg8C,gBAA8C,QAA3Bj8C,EAAKC,KAAK2zB,mBAAgC,IAAP5zB,EAAgBA,EAAK,CAAC,EACjFC,KAAKi8C,wBAA0BH,aAAuE,EAASA,EAAuBv+B,MAAK,SAAU2+B,GAGjJ,OAFArtB,EAAM8E,YAAchuB,OAAOC,OAAO,CAAC,EAAGipB,EAAM8E,YAAauoB,GACzDrtB,EAAMktB,wBAAyB,EACxBG,CACX,IAAG,SAAUhuC,GAGT,OAFA,IAAKkW,MAAM,qDAAsDlW,GACjE2gB,EAAMktB,wBAAyB,EACxB,CAAC,CACZ,GACJ,CAgFA,OA5EAF,EAASM,MAAQ,WACb,OAAON,EAASO,KACpB,EAIAP,EAASx3B,QAAU,WACf,IAAItkB,EACJ,OAAO,IAAI87C,IAAU97C,EAAK,CAAC,GACpB,MCzGJ,mBAAqBoI,QAAQk0C,MD0G5Bt8C,EAAG,MAAsC,IAAS,MAClDA,EAAG,MAAkC,IAAS,MAC9CA,EAAG,MAAqC,IAAS,MACjDA,GACR,EACA4F,OAAO8c,eAAeo5B,EAAShkC,UAAW,aAAc,CACpD5U,IAAK,WACD,IAAIlD,EAIJ,OAHIC,KAAK+7C,wBACL,IAAKrsC,MAAM,iEAEoB,QAA3B3P,EAAKC,KAAK2zB,mBAAgC,IAAP5zB,EAAgBA,EAAK,CAAC,CACrE,EACAimC,YAAY,EACZC,cAAc,IAOlB4V,EAAShkC,UAAUykC,uBAAyB,WACxC,OAtH8Cp5B,EAsH7BljB,KAtHsCmjB,OAsHhC,EAtH+CE,EAsH/B,WACnC,OA9GoC,SAAUH,EAAStb,GAC/D,IAAsG2oC,EAAGxL,EAAGyL,EAAGC,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPJ,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGK,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAElvC,KAAMwvC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAX57B,SAA0Bs7B,EAAEt7B,OAAOiF,UAAY,WAAa,OAAOpa,IAAM,GAAIywC,EACvJ,SAASM,EAAK9rC,GAAK,OAAO,SAAUsrB,GAAK,OACzC,SAAcygB,GACV,GAAIT,EAAG,MAAM,IAAI/mC,UAAU,mCAC3B,KAAOknC,OACH,GAAIH,EAAI,EAAGxL,IAAMyL,EAAY,EAARQ,EAAG,GAASjM,EAAU,OAAIiM,EAAG,GAAKjM,EAAS,SAAOyL,EAAIzL,EAAU,SAAMyL,EAAElmC,KAAKy6B,GAAI,GAAKA,EAAExjC,SAAWivC,EAAIA,EAAElmC,KAAKy6B,EAAGiM,EAAG,KAAKvtB,KAAM,OAAO+sB,EAE3J,OADIzL,EAAI,EAAGyL,IAAGQ,EAAK,CAAS,EAARA,EAAG,GAAQR,EAAE9qC,QACzBsrC,EAAG,IACP,KAAK,EAAG,KAAK,EAAGR,EAAIQ,EAAI,MACxB,KAAK,EAAc,OAAXN,EAAEC,QAAgB,CAAEjrC,MAAOsrC,EAAG,GAAIvtB,MAAM,GAChD,KAAK,EAAGitB,EAAEC,QAAS5L,EAAIiM,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKN,EAAEI,IAAIG,MAAOP,EAAEG,KAAKI,MAAO,SACxC,QACI,MAAkBT,GAAZA,EAAIE,EAAEG,MAAY9sC,OAAS,GAAKysC,EAAEA,EAAEzsC,OAAS,KAAkB,IAAVitC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEN,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVM,EAAG,MAAcR,GAAMQ,EAAG,GAAKR,EAAE,IAAMQ,EAAG,GAAKR,EAAE,IAAM,CAAEE,EAAEC,MAAQK,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYN,EAAEC,MAAQH,EAAE,GAAI,CAAEE,EAAEC,MAAQH,EAAE,GAAIA,EAAIQ,EAAI,KAAO,CACpE,GAAIR,GAAKE,EAAEC,MAAQH,EAAE,GAAI,CAAEE,EAAEC,MAAQH,EAAE,GAAIE,EAAEI,IAAIlwC,KAAKowC,GAAK,KAAO,CAC9DR,EAAE,IAAIE,EAAEI,IAAIG,MAChBP,EAAEG,KAAKI,MAAO,SAEtBD,EAAKppC,EAAK0C,KAAK4Y,EAASwtB,EAC5B,CAAE,MAAOxjC,GAAK8jC,EAAK,CAAC,EAAG9jC,GAAI63B,EAAI,CAAG,CAAE,QAAUwL,EAAIC,EAAI,CAAG,CACzD,GAAY,EAARQ,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEtrC,MAAOsrC,EAAG,GAAKA,EAAG,QAAK,EAAQvtB,MAAM,EAC9E,CAtBgDF,CAAK,CAACte,EAAGsrB,GAAK,CAAG,CAuBrE,CAoFmB+f,CAAYtwC,MAAM,SAAUD,GAC/B,OAAQA,EAAG4wC,OACP,KAAK,EACD,OAAK3wC,KAAK+7C,uBACH,CAAC,EAAa/7C,KAAKi8C,yBADe,CAAC,EAAa,GAE3D,KAAK,EACDl8C,EAAG6wC,OACH7wC,EAAG4wC,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,GAExB,GACJ,EAhIG,KAFgEvtB,OAsHpC,KApHjBA,EAAI3X,WAAU,SAAUC,EAASC,GAC/C,SAAS2X,EAAU5d,GAAS,IAAM6d,EAAKF,EAAU9hB,KAAKmE,GAAS,CAAE,MAAOwH,GAAKvB,EAAOuB,EAAI,CAAE,CAC1F,SAASsW,EAAS9d,GAAS,IAAM6d,EAAKF,EAAiB,MAAE3d,GAAS,CAAE,MAAOwH,GAAKvB,EAAOuB,EAAI,CAAE,CAC7F,SAASqW,EAAK1hB,GAJlB,IAAe6D,EAIa7D,EAAO4hB,KAAO/X,EAAQ7J,EAAO6D,QAJ1CA,EAIyD7D,EAAO6D,MAJhDA,aAAiB0d,EAAI1d,EAAQ,IAAI0d,GAAE,SAAU1X,GAAWA,EAAQhG,EAAQ,KAIjB6X,KAAK+F,EAAWE,EAAW,CAC7GD,GAAMF,EAAYA,EAAUK,MAAMR,EAASC,GAAc,KAAK5hB,OAClE,IAPwC,IAAU2hB,EAASC,EAAYC,EAAGC,CAmI1E,EASAw4B,EAAShkC,UAAUo2B,MAAQ,SAAUsO,GACjC,IACIx8C,EADA8uB,EAAQ7uB,KAEZ,IAAKu8C,EACD,OAAOv8C,KAEX,IAAIw8C,EAAuBjL,EAASA,EAAS,CAAC,EAAGvxC,KAAKg8C,iBAAoD,QAAhCj8C,EAAKw8C,EAAMP,uBAAoC,IAAPj8C,EAAgBA,EAAKw8C,EAAMj2B,YAC7I,IAAKtmB,KAAKi8C,0BACLM,EAAMN,wBACP,OAAO,IAAIJ,EAASW,GAExB,IAAIC,EAA0BhxC,QAAQ6R,IAAI,CACtCtd,KAAKi8C,wBACLM,EAAMN,0BACP1+B,MAAK,SAAUxd,GACd,IAAI2N,EACA8N,EAxHsB,SAAUuN,EAAG9jB,GAC/C,IAAI+jB,EAAsB,mBAAX7T,QAAyB4T,EAAE5T,OAAOiF,UACjD,IAAK4O,EAAG,OAAOD,EACf,IAAmBE,EAAY/b,EAA3ByR,EAAIqK,EAAE1e,KAAKye,GAAOH,EAAK,GAC3B,IACI,WAAc,IAAN3jB,GAAgBA,KAAM,MAAQgkB,EAAItK,EAAEpd,QAAQkiB,MAAMmF,EAAGhoB,KAAKqoB,EAAEvjB,MACxE,CACA,MAAOgK,GAASxC,EAAI,CAAEwC,MAAOA,EAAS,CACtC,QACI,IACQuZ,IAAMA,EAAExF,OAASuF,EAAIrK,EAAU,SAAIqK,EAAE1e,KAAKqU,EAClD,CACA,QAAU,GAAIzR,EAAG,MAAMA,EAAEwC,KAAO,CACpC,CACA,OAAOkZ,CACX,CAyGqB,CAAO7oB,EAAI,GAAI28C,EAAsBlhC,EAAG,GAAImhC,EAAuBnhC,EAAG,GAC/E,OAAO+1B,EAASA,EAASA,EAASA,EAAS,CAAC,EAAG1iB,EAAMmtB,iBAAkBU,GAAwD,QAAhChvC,EAAK6uC,EAAMP,uBAAoC,IAAPtuC,EAAgBA,EAAK6uC,EAAMj2B,YAAcq2B,EACpL,IACA,OAAO,IAAId,EAASW,EAAsBC,EAC9C,EACAZ,EAASO,MAAQ,IAAIP,EAAS,CAAC,GACxBA,CACX,CAvG6B,GEvEzB,EAAsC,SAAS9yB,GAC/C,IAAIyD,EAAsB,mBAAXrX,QAAyBA,OAAOiF,SAAU4O,EAAIwD,GAAKzD,EAAEyD,GAAI7N,EAAI,EAC5E,GAAIqK,EAAG,OAAOA,EAAE1e,KAAKye,GACrB,GAAIA,GAAyB,iBAAbA,EAAEhlB,OAAqB,MAAO,CAC1CxC,KAAM,WAEF,OADIwnB,GAAKpK,GAAKoK,EAAEhlB,SAAQglB,OAAI,GACrB,CAAErjB,MAAOqjB,GAAKA,EAAEpK,KAAM8E,MAAOsF,EACxC,GAEJ,MAAM,IAAIvf,UAAUgjB,EAAI,0BAA4B,kCACxD,EAMIowB,EAAoC,WACpC,SAASA,EAAmBC,GACxB78C,KAAK68C,gBAAkBA,CAC3B,CAkFA,OAjFAD,EAAmB/kC,UAAUilC,WAAa,WACtC,IAAIxwB,EAAKvsB,EACLg9C,EAAW,GACf,IACI,IAAK,IAAIrvC,EAAK,EAAS1N,KAAK68C,iBAAkBrhC,EAAK9N,EAAGnM,QAASia,EAAGiI,KAAMjI,EAAK9N,EAAGnM,OAAQ,CACpF,IAAIy7C,EAAgBxhC,EAAG9V,MACvBq3C,EAASn8C,KAAKo8C,EAAcF,aAChC,CACJ,CACA,MAAOnwB,GAASL,EAAM,CAAE5c,MAAOid,EAAS,CACxC,QACI,IACQnR,IAAOA,EAAGiI,OAAS1jB,EAAK2N,EAAGkf,SAAS7sB,EAAGuK,KAAKoD,EACpD,CACA,QAAU,GAAI4e,EAAK,MAAMA,EAAI5c,KAAO,CACxC,CACA,OAAO,IAAIjE,SAAQ,SAAUC,GACzBD,QAAQ6R,IAAIy/B,GACPx/B,MAAK,WACN7R,GACJ,IACK8R,OAAM,SAAU9N,IACjB,OAAmBA,GAAS,IAAIhP,MAAM,0CACtCgL,GACJ,GACJ,GACJ,EACAkxC,EAAmB/kC,UAAU+gC,QAAU,SAAU1jC,EAAMK,GACnD,IAAImmB,EAAK37B,EACT,IACI,IAAK,IAAI2N,EAAK,EAAS1N,KAAK68C,iBAAkBrhC,EAAK9N,EAAGnM,QAASia,EAAGiI,KAAMjI,EAAK9N,EAAGnM,OACxDia,EAAG9V,MACTkzC,QAAQ1jC,EAAMK,EAEpC,CACA,MAAOwmB,GAASL,EAAM,CAAEhsB,MAAOqsB,EAAS,CACxC,QACI,IACQvgB,IAAOA,EAAGiI,OAAS1jB,EAAK2N,EAAGkf,SAAS7sB,EAAGuK,KAAKoD,EACpD,CACA,QAAU,GAAIguB,EAAK,MAAMA,EAAIhsB,KAAO,CACxC,CACJ,EACAktC,EAAmB/kC,UAAUwhC,MAAQ,SAAUnkC,GAC3C,IAAI8gC,EAAKj2C,EACT,IACI,IAAK,IAAI2N,EAAK,EAAS1N,KAAK68C,iBAAkBrhC,EAAK9N,EAAGnM,QAASia,EAAGiI,KAAMjI,EAAK9N,EAAGnM,OACxDia,EAAG9V,MACT2zC,MAAMnkC,EAE5B,CACA,MAAOshC,GAASR,EAAM,CAAEtmC,MAAO8mC,EAAS,CACxC,QACI,IACQh7B,IAAOA,EAAGiI,OAAS1jB,EAAK2N,EAAGkf,SAAS7sB,EAAGuK,KAAKoD,EACpD,CACA,QAAU,GAAIsoC,EAAK,MAAMA,EAAItmC,KAAO,CACxC,CACJ,EACAktC,EAAmB/kC,UAAUolC,SAAW,WACpC,IAAIxG,EAAK12C,EACLg9C,EAAW,GACf,IACI,IAAK,IAAIrvC,EAAK,EAAS1N,KAAK68C,iBAAkBrhC,EAAK9N,EAAGnM,QAASia,EAAGiI,KAAMjI,EAAK9N,EAAGnM,OAAQ,CACpF,IAAIy7C,EAAgBxhC,EAAG9V,MACvBq3C,EAASn8C,KAAKo8C,EAAcC,WAChC,CACJ,CACA,MAAOpG,GAASJ,EAAM,CAAE/mC,MAAOmnC,EAAS,CACxC,QACI,IACQr7B,IAAOA,EAAGiI,OAAS1jB,EAAK2N,EAAGkf,SAAS7sB,EAAGuK,KAAKoD,EACpD,CACA,QAAU,GAAI+oC,EAAK,MAAMA,EAAI/mC,KAAO,CACxC,CACA,OAAO,IAAIjE,SAAQ,SAAUC,EAASC,GAClCF,QAAQ6R,IAAIy/B,GAAUx/B,MAAK,WACvB7R,GACJ,GAAGC,EACP,GACJ,EACOixC,CACX,CAtFuC,GCfnCM,EAAmC,WACnC,SAASA,IACT,CASA,OARAA,EAAkBrlC,UAAU+gC,QAAU,SAAUhzB,EAAO9O,GAAY,EACnEomC,EAAkBrlC,UAAUwhC,MAAQ,SAAUzzB,GAAS,EACvDs3B,EAAkBrlC,UAAUolC,SAAW,WACnC,OAAOxxC,QAAQC,SACnB,EACAwxC,EAAkBrlC,UAAUilC,WAAa,WACrC,OAAOrxC,QAAQC,SACnB,EACOwxC,CACX,CAZsC,iCCKlCC,GAAwC,WACxC,SAASA,EAAuBC,EAAW9b,GACvCthC,KAAKo9C,UAAYA,EACjBp9C,KAAKq9C,cAAe,EACpBr9C,KAAKs9C,eAAiB,GACtBt9C,KAAKu9C,mBAAqB,EAC1B,IAAIzrC,GAAM,SACV9R,KAAKw9C,oBACsF,iBAA/Elc,aAAuC,EAASA,EAAOmc,oBACzDnc,EAAOmc,mBACP3rC,EAAI61B,+BACd3nC,KAAK09C,cACgF,iBAAzEpc,aAAuC,EAASA,EAAOqc,cACzDrc,EAAOqc,aACP7rC,EAAI81B,wBACd5nC,KAAK49C,sBACwF,iBAAjFtc,aAAuC,EAASA,EAAOuc,sBACzDvc,EAAOuc,qBACP/rC,EAAI+1B,wBACd7nC,KAAK89C,qBACuF,iBAAhFxc,aAAuC,EAASA,EAAOyc,qBACzDzc,EAAOyc,oBACPjsC,EAAI41B,wBACd1nC,KAAKg+C,cAAgB,IAAI,IAAeh+C,KAAKi+C,UAAWj+C,MACpDA,KAAKw9C,oBAAsBx9C,KAAK09C,gBAChC,IAAKtzB,KAAK,qIACVpqB,KAAKw9C,oBAAsBx9C,KAAK09C,cAExC,CAqKA,OApKAP,EAAuBtlC,UAAUilC,WAAa,WAC1C,OAAI98C,KAAKg+C,cAAcE,SACZl+C,KAAKg+C,cAAcnb,QAEvB7iC,KAAKm+C,WAChB,EAEAhB,EAAuBtlC,UAAU+gC,QAAU,SAAUhzB,EAAOw4B,GAAkB,EAC9EjB,EAAuBtlC,UAAUwhC,MAAQ,SAAUnkC,GAC3ClV,KAAKg+C,cAAcE,UAGsC,IAAxDhpC,EAAKqS,cAAc0R,WAAa,IAAWiJ,UAGhDliC,KAAKq+C,aAAanpC,EACtB,EACAioC,EAAuBtlC,UAAUolC,SAAW,WACxC,OAAOj9C,KAAKg+C,cAAc1zC,MAC9B,EACA6yC,EAAuBtlC,UAAUomC,UAAY,WACzC,IAAIpvB,EAAQ7uB,KACZ,OAAOyL,QAAQC,UACV6R,MAAK,WACN,OAAOsR,EAAMyvB,YACjB,IACK/gC,MAAK,WACN,OAAOsR,EAAMsvB,WACjB,IACK5gC,MAAK,WACN,OAAOsR,EAAMuuB,UAAUH,UAC3B,GACJ,EAEAE,EAAuBtlC,UAAUwmC,aAAe,SAAUnpC,GACtD,GAAIlV,KAAKs9C,eAAev5C,QAAU/D,KAAK09C,cAMnC,OAJgC,IAA5B19C,KAAKu9C,oBACL,IAAKn5B,MAAM,6CAEfpkB,KAAKu9C,qBAGLv9C,KAAKu9C,mBAAqB,IAE1B,IAAKnzB,KAAK,WAAapqB,KAAKu9C,mBAAqB,uCACjDv9C,KAAKu9C,mBAAqB,GAE9Bv9C,KAAKs9C,eAAe18C,KAAKsU,GACzBlV,KAAKu+C,kBACT,EAMApB,EAAuBtlC,UAAUsmC,UAAY,WACzC,IAAItvB,EAAQ7uB,KACZ,OAAO,IAAIyL,SAAQ,SAAUC,EAASC,GAIlC,IAHA,IAAIoxC,EAAW,GAGNp+B,EAAI,EAAG+vB,EADJ1hC,KAAKiC,KAAK4f,EAAMyuB,eAAev5C,OAAS8qB,EAAM2uB,qBAC/B7+B,EAAI+vB,EAAG/vB,IAC9Bo+B,EAASn8C,KAAKiuB,EAAM2vB,kBAExB/yC,QAAQ6R,IAAIy/B,GACPx/B,MAAK,WACN7R,GACJ,IACK8R,MAAM7R,EACf,GACJ,EACAwxC,EAAuBtlC,UAAU2mC,eAAiB,WAC9C,IAAI3vB,EAAQ7uB,KAEZ,OADAA,KAAKy+C,cAC8B,IAA/Bz+C,KAAKs9C,eAAev5C,OACb0H,QAAQC,UAEZ,IAAID,SAAQ,SAAUC,EAASC,GAClC,IAAIR,EAAQC,YAAW,WAEnBO,EAAO,IAAIjL,MAAM,WACrB,GAAGmuB,EAAMivB,sBAET,IAAQl2B,MAAK,QAAgB,IAAQjB,WAAW,WAI5C,IAAI+3B,EACA7vB,EAAMyuB,eAAev5C,QAAU8qB,EAAM2uB,qBACrCkB,EAAQ7vB,EAAMyuB,eACdzuB,EAAMyuB,eAAiB,IAGvBoB,EAAQ7vB,EAAMyuB,eAAerzC,OAAO,EAAG4kB,EAAM2uB,qBAejD,IAbA,IAAImB,EAAW,WACX,OAAO9vB,EAAMuuB,UAAUnZ,OAAOya,GAAO,SAAU78C,GAC3C,IAAI9B,EACJiM,aAAab,GACTtJ,EAAOsM,OAASywC,EAAA,EAAiBC,QACjCnzC,IAGAC,EAA+B,QAAvB5L,EAAK8B,EAAO6N,aAA0B,IAAP3P,EAAgBA,EAAK,IAAIW,MAAM,0CAE9E,GACJ,EACIo+C,EAAmB,KACdngC,EAAI,EAAGogC,EAAML,EAAM36C,OAAQ4a,EAAIogC,EAAKpgC,IAAK,CAC9C,IAAIzJ,EAAOwpC,EAAM//B,GACbzJ,EAAKkjC,SAAS2D,wBACd7mC,EAAKkjC,SAASkE,yBACdwC,UAA+EA,EAAmB,IAClGA,EAAiBl+C,KAAKsU,EAAKkjC,SAASkE,0BAE5C,CAEyB,OAArBwC,EACAH,IAGAlzC,QAAQ6R,IAAIwhC,GAAkBvhC,KAAKohC,GAAU,SAAUzwC,IACnD,OAAmBA,GACnBvC,EAAOuC,EACX,GAER,GACJ,GACJ,EACAivC,EAAuBtlC,UAAU0mC,iBAAmB,WAChD,IAAI1vB,EAAQ7uB,KACZ,IAAIA,KAAKq9C,aAAT,CAEA,IAAI2B,EAAQ,WACRnwB,EAAMwuB,cAAe,EACrBxuB,EAAM2vB,iBACDS,SAAQ,WACTpwB,EAAMwuB,cAAe,EACjBxuB,EAAMyuB,eAAev5C,OAAS,IAC9B8qB,EAAM4vB,cACN5vB,EAAM0vB,mBAEd,IACK/gC,OAAM,SAAUtQ,GACjB2hB,EAAMwuB,cAAe,GACrB,OAAmBnwC,EACvB,GACJ,EAEA,GAAIlN,KAAKs9C,eAAev5C,QAAU/D,KAAKw9C,oBACnC,OAAOwB,SAES5+C,IAAhBJ,KAAKk/C,SAETl/C,KAAKk/C,OAAS9zC,YAAW,WAAc,OAAO4zC,GAAS,GAAGh/C,KAAK49C,wBAC/D,QAAW59C,KAAKk/C,QAvBN,CAwBd,EACA/B,EAAuBtlC,UAAU4mC,YAAc,gBACvBr+C,IAAhBJ,KAAKk/C,SACLlzC,aAAahM,KAAKk/C,QAClBl/C,KAAKk/C,YAAS9+C,EAEtB,EACO+8C,CACX,CAlM2C,GPNvCrrB,IACID,EAAgB,SAAUE,EAAGC,GAI7B,OAHAH,EAAgBlsB,OAAOiS,gBAClB,CAAEqa,UAAW,cAAgB9tB,OAAS,SAAU4tB,EAAGC,GAAKD,EAAEE,UAAYD,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAI7sB,KAAK6sB,EAAOrsB,OAAOkS,UAAUqa,eAAe5nB,KAAK0nB,EAAG7sB,KAAI4sB,EAAE5sB,GAAK6sB,EAAE7sB,GAAI,EAC7F0sB,EAAcE,EAAGC,EAC5B,EACO,SAAUD,EAAGC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIxoB,UAAU,uBAAyB8N,OAAO0a,GAAK,iCAE7D,SAASG,IAAOnyB,KAAKH,YAAckyB,CAAG,CADtCF,EAAcE,EAAGC,GAEjBD,EAAEla,UAAkB,OAANma,EAAarsB,OAAO/D,OAAOowB,IAAMG,EAAGta,UAAYma,EAAEna,UAAW,IAAIsa,EACnF,GAGAgtB,GAAoC,SAAU1rB,GAE9C,SAAS0rB,IACL,OAAkB,OAAX1rB,GAAmBA,EAAO/P,MAAM1jB,KAAM8K,YAAc9K,IAC/D,CAEA,OALA8xB,GAAUqtB,EAAoB1rB,GAI9B0rB,EAAmBtnC,UAAUymC,WAAa,WAAc,EACjDa,CACX,CAPuC,CAOrChC,KCbF,SAAWvC,GACPA,EAAgBA,EAA0B,SAAI,GAAK,WACnDA,EAAgBA,EAAyB,QAAI,GAAK,UAClDA,EAAgBA,EAAuB,MAAI,GAAK,QAChDA,EAAgBA,EAA4B,WAAI,GAAK,YACxD,CALD,CAKGA,IAAoBA,EAAkB,CAAC,IAI1C,IAAIwE,GAAqC,WACrC,SAASA,EAAoB9d,GAEzB,IAAIvhC,OADW,IAAXuhC,IAAqBA,EAAS,CAAC,GAEnCthC,KAAKq/C,0BAA4B,GACjCr/C,KAAKs/C,SAAW,IAAIv9C,IACpB,IAAIw9C,GAAe,EAAAtR,EAAA,GAAM,CAAC,EAAG4L,ICJ9B,SAA2BkB,GAC9B,IAAIh7C,EAAI2N,EAAI8N,EAAI4D,EAAIC,EAAIC,EAAIC,EAAI+2B,EAAIC,EAAIiJ,EAAIC,EAAIC,EAC5CxF,EAAav0C,OAAOC,OAAO,CAAC,EAAGm1C,EAAWb,YAC1CyF,GAAkB,SAWtB,OAPAzF,EAAWpB,oBAC4Y,QAAlZx5B,EAAqU,QAA/TD,EAA6O,QAAvOD,EAAyG,QAAnG1R,EAAsC,QAAhC3N,EAAKg7C,EAAWb,kBAA+B,IAAPn6C,OAAgB,EAASA,EAAG+4C,2BAAwC,IAAPprC,EAAgBA,EAAyC,QAAnC8N,EAAKu/B,EAAWd,qBAAkC,IAAPz+B,OAAgB,EAASA,EAAGs9B,2BAAwC,IAAP15B,EAAgBA,EAAKugC,EAAgB/V,uCAAoD,IAAPvqB,EAAgBA,EAAKsgC,EAAgBjW,kCAA+C,IAAPpqB,EAAgBA,EAAK,KAIpb46B,EAAWzB,0BACsa,QAA5aiH,EAAwV,QAAlVD,EAAyP,QAAnPD,EAA+G,QAAzGlJ,EAAsC,QAAhC/2B,EAAKw7B,EAAWb,kBAA+B,IAAP36B,OAAgB,EAASA,EAAGk5B,iCAA8C,IAAPnC,EAAgBA,EAAyC,QAAnCC,EAAKwE,EAAWd,qBAAkC,IAAP1D,OAAgB,EAASA,EAAGkC,iCAA8C,IAAP+G,EAAgBA,EAAKG,EAAgBhW,8CAA2D,IAAP8V,EAAgBA,EAAKE,EAAgBlW,yCAAsD,IAAPiW,EAAgBA,EAAK,KACvc/5C,OAAOC,OAAO,CAAC,EAAGm1C,EAAY,CAAEb,WAAYA,GACvD,CDX0D0F,CAAkBte,IACpEthC,KAAKo4C,SAA4C,QAAhCr4C,EAAKw/C,EAAanH,gBAA6B,IAAPr4C,EAAgBA,EAAK87C,EAASM,QACvFn8C,KAAKo4C,SAAWyD,EAASx3B,UAAU4pB,MAAMjuC,KAAKo4C,UAC9Cp4C,KAAKkyC,QAAUvsC,OAAOC,OAAO,CAAC,EAAG25C,EAAc,CAC3CnH,SAAUp4C,KAAKo4C,WAEnB,IAAIyH,EAAkB7/C,KAAK8/C,wBAC3B,QAAwB1/C,IAApBy/C,EAA+B,CAC/B,IAAIE,EAAiB,IAAIZ,GAAmBU,GAC5C7/C,KAAKggD,oBAAsBD,CAC/B,MAEI//C,KAAKggD,oBAAsB,IAAI9C,CAEvC,CAsJA,OArJAkC,EAAoBvnC,UAAUgP,UAAY,SAAU5lB,EAAMmH,EAAS7H,GAC/D,IAAIkF,EAAMxE,EAAO,KAAOmH,GAAW,IAAM,MAAQ7H,aAAyC,EAASA,EAAQ0/C,YAAc,IAKzH,OAJKjgD,KAAKs/C,SAAS3+C,IAAI8E,IACnBzF,KAAKs/C,SAASv8C,IAAI0C,EAAK,IAAIo1C,EAAO,CAAE55C,KAAMA,EAAMmH,QAASA,EAAS63C,UAAW1/C,aAAyC,EAASA,EAAQ0/C,WAAajgD,KAAKkyC,QAASlyC,OAG/JA,KAAKs/C,SAASr8C,IAAIwC,EAC7B,EAKA25C,EAAoBvnC,UAAUqoC,iBAAmB,SAAUlD,GACT,IAA1Ch9C,KAAKq/C,0BAA0Bt7C,QAG/B/D,KAAKggD,oBACA/C,WACAz/B,OAAM,SAAUtP,GACjB,OAAO,IAAKwB,MAAM,wDAAyDxB,EAC/E,IAEJlO,KAAKq/C,0BAA0Bz+C,KAAKo8C,GACpCh9C,KAAKggD,oBAAsB,IAAIpD,EAAmB58C,KAAKq/C,0BAC3D,EACAD,EAAoBvnC,UAAU8gC,uBAAyB,WACnD,OAAO34C,KAAKggD,mBAChB,EAQAZ,EAAoBvnC,UAAU48B,SAAW,SAAUnT,QAChC,IAAXA,IAAqBA,EAAS,CAAC,GACnC,IAAMpL,wBAAwBl2B,WACJI,IAAtBkhC,EAAO/a,aACP+a,EAAO/a,WAAavmB,KAAKmgD,2BAEzB7e,EAAOzX,gBACP,IAAQD,wBAAwB0X,EAAOzX,gBAEvCyX,EAAO/a,YACP,IAAY4O,oBAAoBmM,EAAO/a,WAE/C,EACA64B,EAAoBvnC,UAAUilC,WAAa,WACvC,IAAI7xC,EAAUjL,KAAKkyC,QAAQ8H,wBACvB+C,EAAW/8C,KAAKq/C,0BAA0Br6C,KAAI,SAAUg4C,GACxD,OAAO,IAAIvxC,SAAQ,SAAUC,GACzB,IAAI+5B,EACA2a,EAAkBh1C,YAAW,WAC7BM,EAAQ,IAAIhL,MAAM,6DAA+DuK,EAAU,QAC3Fw6B,EAAQmV,EAAgB3vC,OAC5B,GAAGA,GACH+xC,EACKF,aACAv/B,MAAK,WACNvR,aAAao0C,GACT3a,IAAUmV,EAAgB3vC,UAC1Bw6B,EAAQmV,EAAgByF,SACxB30C,EAAQ+5B,GAEhB,IACKjoB,OAAM,SAAU9N,GACjB1D,aAAao0C,GACb3a,EAAQmV,EAAgBlrC,MACxBhE,EAAQgE,EACZ,GACJ,GACJ,IACA,OAAO,IAAIjE,SAAQ,SAAUC,EAASC,GAClCF,QAAQ6R,IAAIy/B,GACPx/B,MAAK,SAAU+xB,GAChB,IAAIgR,EAAShR,EAAQvuC,QAAO,SAAUc,GAAU,OAAOA,IAAW+4C,EAAgByF,QAAU,IACxFC,EAAOv8C,OAAS,EAChB4H,EAAO20C,GAGP50C,GAER,IACK8R,OAAM,SAAU9N,GAAS,OAAO/D,EAAO,CAAC+D,GAAS,GAC1D,GACJ,EACA0vC,EAAoBvnC,UAAUolC,SAAW,WACrC,OAAOj9C,KAAKggD,oBAAoB/C,UACpC,EAQAmC,EAAoBvnC,UAAU0oC,eAAiB,SAAUt/C,GACrD,IAAIlB,EACJ,OAAoE,QAA5DA,EAAKC,KAAKH,YAAY2gD,uBAAuBv9C,IAAIhC,UAA0B,IAAPlB,OAAgB,EAASA,GACzG,EACAq/C,EAAoBvnC,UAAU4oC,iBAAmB,SAAUx/C,GACvD,IAAIlB,EACJ,OAAkE,QAA1DA,EAAKC,KAAKH,YAAY6gD,qBAAqBz9C,IAAIhC,UAA0B,IAAPlB,OAAgB,EAASA,GACvG,EACAq/C,EAAoBvnC,UAAUsoC,wBAA0B,WACpD,IAAItxB,EAAQ7uB,KAER2gD,EAAwBx8C,MAAM+X,KAAK,IAAIvc,KAAI,SAAS2pC,mBAQpDsX,EAPcD,EAAsB37C,KAAI,SAAU/D,GAClD,IAAIslB,EAAasI,EAAM0xB,eAAet/C,GAItC,OAHKslB,GACD,IAAK6D,KAAK,eAAkBnpB,EAAO,4DAEhCslB,CACX,IACmCa,QAAO,SAAUy5B,EAAMptC,GAItD,OAHIA,GACAotC,EAAKjgD,KAAK6S,GAEPotC,CACX,GAAG,IACH,OAAgC,IAA5BD,EAAiB78C,YACjB,EAEsC,IAAjC48C,EAAsB58C,OACpB68C,EAAiB,GAGjB,IAAI,IAAoB,CAC3Bhc,YAAagc,GAGzB,EACAxB,EAAoBvnC,UAAUioC,sBAAwB,WAClD,IAAIgB,GAAe,SAAS3W,qBAC5B,GAAqB,SAAjB2W,GAA4C,KAAjBA,EAA/B,CAEA,IAAI/c,EAAW/jC,KAAKygD,iBAAiBK,GAIrC,OAHK/c,GACD,IAAKr0B,MAAM,aAAgBoxC,EAAe,4DAEvC/c,CALG,CAMd,EACAqb,EAAoBoB,uBAAyB,IAAIz+C,IAAI,CACjD,CAAC,eAAgB,WAAc,OAAO,IAAIykB,EAAA,EAA6B,GACvE,CAAC,UAAW,WAAc,OAAO,IAAIyT,EAAA,CAAwB,KAEjEmlB,EAAoBsB,qBAAuB,IAAI3+C,IACxCq9C,CACX,CA3KwC,GOFpC2B,GAAqC,WACrC,SAASA,IACT,CAsEA,OAhEAA,EAAoBlpC,UAAUosB,OAAS,SAAUya,EAAOsC,GACpD,OAAOhhD,KAAKihD,WAAWvC,EAAOsC,EAClC,EAIAD,EAAoBlpC,UAAUolC,SAAW,WAErC,OADAj9C,KAAKihD,WAAW,IACTjhD,KAAK88C,YAChB,EAIAiE,EAAoBlpC,UAAUilC,WAAa,WACvC,OAAOrxC,QAAQC,SACnB,EAKAq1C,EAAoBlpC,UAAUqpC,YAAc,SAAUhsC,GAClD,IAAInV,EACJ,MAAO,CACHq4C,SAAU,CACN9xB,WAAYpR,EAAKkjC,SAAS9xB,YAE9ByS,QAAS7jB,EAAKqS,cAAcwR,QAC5BooB,SAAUjsC,EAAKqiC,aACf9oB,WAAqD,QAAxC1uB,EAAKmV,EAAKqS,cAAckH,kBAA+B,IAAP1uB,OAAgB,EAASA,EAAG6uB,YACzF3tB,KAAMiU,EAAKjU,KACXm2C,GAAIliC,EAAKqS,cAAcyR,OACvBjS,KAAM7R,EAAK6R,KACXq6B,WAAW,QAAqBlsC,EAAK+oB,WACrCojB,UAAU,QAAqBnsC,EAAKmsC,UACpC/6B,WAAYpR,EAAKoR,WACjBtf,OAAQkO,EAAKlO,OACbywC,OAAQviC,EAAKuiC,OACbtwB,MAAOjS,EAAKiS,MAEpB,EAMA45B,EAAoBlpC,UAAUopC,WAAa,SAAUvC,EAAOj7B,GACxD,IAAI6I,EAAKvsB,EACT,IACI,IAAK,IAAIuhD,EAzEqB,SAASv4B,GAC/C,IAAIyD,EAAsB,mBAAXrX,QAAyBA,OAAOiF,SAAU4O,EAAIwD,GAAKzD,EAAEyD,GAAI7N,EAAI,EAC5E,GAAIqK,EAAG,OAAOA,EAAE1e,KAAKye,GACrB,GAAIA,GAAyB,iBAAbA,EAAEhlB,OAAqB,MAAO,CAC1CxC,KAAM,WAEF,OADIwnB,GAAKpK,GAAKoK,EAAEhlB,SAAQglB,OAAI,GACrB,CAAErjB,MAAOqjB,GAAKA,EAAEpK,KAAM8E,MAAOsF,EACxC,GAEJ,MAAM,IAAIvf,UAAUgjB,EAAI,0BAA4B,kCACxD,CA+D+B,CAASkyB,GAAQ6C,EAAYD,EAAQ//C,QAASggD,EAAU99B,KAAM89B,EAAYD,EAAQ//C,OAAQ,CACzG,IAAI2T,EAAOqsC,EAAU77C,MACrBqoB,QAAQyzB,IAAIxhD,KAAKkhD,YAAYhsC,GAAO,CAAEusC,MAAO,GACjD,CACJ,CACA,MAAO90B,GAASL,EAAM,CAAE5c,MAAOid,EAAS,CACxC,QACI,IACQ40B,IAAcA,EAAU99B,OAAS1jB,EAAKuhD,EAAQ10B,SAAS7sB,EAAGuK,KAAKg3C,EACvE,CACA,QAAU,GAAIh1B,EAAK,MAAMA,EAAI5c,KAAO,CACxC,CACA,GAAI+T,EACA,OAAOA,EAAK,CAAEtV,KAAMywC,EAAA,EAAiBC,SAE7C,EACOkC,CACX,CAzEwC,GCcpCW,GAAsC,WACtC,SAASA,IACL1hD,KAAKs9C,eAAiB,GAKtBt9C,KAAK2hD,UAAW,CACpB,CA4BA,OA3BAD,EAAqB7pC,UAAUosB,OAAS,SAAUya,EAAOsC,GACrD,IAAIjhD,EACJ,GAAIC,KAAK2hD,SACL,OAAOX,EAAe,CAClB7yC,KAAMywC,EAAA,EAAiBgD,OACvBlyC,MAAO,IAAIhP,MAAM,gCAExBX,EAAKC,KAAKs9C,gBAAgB18C,KAAK8iB,MAAM3jB,EA/BM,SAAU2oB,EAAIxM,EAAMyM,GACpE,GAAIA,GAA6B,IAArB7d,UAAU/G,OAAc,IAAK,IAA4B6kB,EAAxBjK,EAAI,EAAGkK,EAAI3M,EAAKnY,OAAY4a,EAAIkK,EAAGlK,KACxEiK,GAAQjK,KAAKzC,IACR0M,IAAIA,EAAKzkB,MAAM0T,UAAU3X,MAAMoK,KAAK4R,EAAM,EAAGyC,IAClDiK,EAAGjK,GAAKzC,EAAKyC,IAGrB,OAAO+J,EAAG3jB,OAAO6jB,GAAMzkB,MAAM0T,UAAU3X,MAAMoK,KAAK4R,GACtD,CAuBkD,CAAc,GA/C1B,SAAU6M,EAAG9jB,GAC/C,IAAI+jB,EAAsB,mBAAX7T,QAAyB4T,EAAE5T,OAAOiF,UACjD,IAAK4O,EAAG,OAAOD,EACf,IAAmBE,EAAY/b,EAA3ByR,EAAIqK,EAAE1e,KAAKye,GAAOH,EAAK,GAC3B,IACI,WAAc,IAAN3jB,GAAgBA,KAAM,MAAQgkB,EAAItK,EAAEpd,QAAQkiB,MAAMmF,EAAGhoB,KAAKqoB,EAAEvjB,MACxE,CACA,MAAOgK,GAASxC,EAAI,CAAEwC,MAAOA,EAAS,CACtC,QACI,IACQuZ,IAAMA,EAAExF,OAASuF,EAAIrK,EAAU,SAAIqK,EAAE1e,KAAKqU,EAClD,CACA,QAAU,GAAIzR,EAAG,MAAMA,EAAEwC,KAAO,CACpC,CACA,OAAOkZ,CACX,CAgCoE,CAAO81B,IAAQ,IAC3EtzC,YAAW,WAAc,OAAO41C,EAAe,CAAE7yC,KAAMywC,EAAA,EAAiBC,SAAY,GAAG,EAC3F,EACA6C,EAAqB7pC,UAAUolC,SAAW,WAGtC,OAFAj9C,KAAK2hD,UAAW,EAChB3hD,KAAKs9C,eAAiB,GACft9C,KAAK88C,YAChB,EAIA4E,EAAqB7pC,UAAUilC,WAAa,WACxC,OAAOrxC,QAAQC,SACnB,EACAg2C,EAAqB7pC,UAAUgqC,MAAQ,WACnC7hD,KAAKs9C,eAAiB,EAC1B,EACAoE,EAAqB7pC,UAAUiqC,iBAAmB,WAC9C,OAAO9hD,KAAKs9C,cAChB,EACOoE,CACX,CArCyC,cCarCK,GAAqC,WACrC,SAASA,EAAoB3E,GACzBp9C,KAAKo9C,UAAYA,EACjBp9C,KAAKg+C,cAAgB,IAAI,IAAeh+C,KAAKi+C,UAAWj+C,MACxDA,KAAKgiD,mBAAqB,IAAIriD,GAClC,CAmEA,OAlEAoiD,EAAoBlqC,UAAUilC,WAAa,WACvC,OAnD8C55B,EAmD7BljB,KAnDsCmjB,OAmDhC,EAnD+CE,EAmD/B,WACnC,OA3CoC,SAAUH,EAAStb,GAC/D,IAAsG2oC,EAAGxL,EAAGyL,EAAGC,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPJ,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGK,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAElvC,KAAMwvC,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAX57B,SAA0Bs7B,EAAEt7B,OAAOiF,UAAY,WAAa,OAAOpa,IAAM,GAAIywC,EACvJ,SAASM,EAAK9rC,GAAK,OAAO,SAAUsrB,GAAK,OACzC,SAAcygB,GACV,GAAIT,EAAG,MAAM,IAAI/mC,UAAU,mCAC3B,KAAOknC,OACH,GAAIH,EAAI,EAAGxL,IAAMyL,EAAY,EAARQ,EAAG,GAASjM,EAAU,OAAIiM,EAAG,GAAKjM,EAAS,SAAOyL,EAAIzL,EAAU,SAAMyL,EAAElmC,KAAKy6B,GAAI,GAAKA,EAAExjC,SAAWivC,EAAIA,EAAElmC,KAAKy6B,EAAGiM,EAAG,KAAKvtB,KAAM,OAAO+sB,EAE3J,OADIzL,EAAI,EAAGyL,IAAGQ,EAAK,CAAS,EAARA,EAAG,GAAQR,EAAE9qC,QACzBsrC,EAAG,IACP,KAAK,EAAG,KAAK,EAAGR,EAAIQ,EAAI,MACxB,KAAK,EAAc,OAAXN,EAAEC,QAAgB,CAAEjrC,MAAOsrC,EAAG,GAAIvtB,MAAM,GAChD,KAAK,EAAGitB,EAAEC,QAAS5L,EAAIiM,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKN,EAAEI,IAAIG,MAAOP,EAAEG,KAAKI,MAAO,SACxC,QACI,MAAkBT,GAAZA,EAAIE,EAAEG,MAAY9sC,OAAS,GAAKysC,EAAEA,EAAEzsC,OAAS,KAAkB,IAAVitC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEN,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVM,EAAG,MAAcR,GAAMQ,EAAG,GAAKR,EAAE,IAAMQ,EAAG,GAAKR,EAAE,IAAM,CAAEE,EAAEC,MAAQK,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYN,EAAEC,MAAQH,EAAE,GAAI,CAAEE,EAAEC,MAAQH,EAAE,GAAIA,EAAIQ,EAAI,KAAO,CACpE,GAAIR,GAAKE,EAAEC,MAAQH,EAAE,GAAI,CAAEE,EAAEC,MAAQH,EAAE,GAAIE,EAAEI,IAAIlwC,KAAKowC,GAAK,KAAO,CAC9DR,EAAE,IAAIE,EAAEI,IAAIG,MAChBP,EAAEG,KAAKI,MAAO,SAEtBD,EAAKppC,EAAK0C,KAAK4Y,EAASwtB,EAC5B,CAAE,MAAOxjC,GAAK8jC,EAAK,CAAC,EAAG9jC,GAAI63B,EAAI,CAAG,CAAE,QAAUwL,EAAIC,EAAI,CAAG,CACzD,GAAY,EAARQ,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEtrC,MAAOsrC,EAAG,GAAKA,EAAG,QAAK,EAAQvtB,MAAM,EAC9E,CAtBgDF,CAAK,CAACte,EAAGsrB,GAAK,CAAG,CAuBrE,CAiBmB,CAAYvwB,MAAM,SAAUD,GAC/B,OAAQA,EAAG4wC,OACP,KAAK,EAEL,MAAO,CAAC,EAAallC,QAAQ6R,IAAInZ,MAAM+X,KAAKlc,KAAKgiD,sBACjD,KAAK,EAGD,OADAjiD,EAAG6wC,OACE5wC,KAAKo9C,UAAUN,WACb,CAAC,EAAa98C,KAAKo9C,UAAUN,cADG,CAAC,EAAa,GAEzD,KAAK,EACD/8C,EAAG6wC,OACH7wC,EAAG4wC,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,GAExB,GACJ,EAlEG,KAFgEvtB,OAmDpC,KAjDjBA,EAAI3X,WAAU,SAAUC,EAASC,GAC/C,SAAS2X,EAAU5d,GAAS,IAAM6d,EAAKF,EAAU9hB,KAAKmE,GAAS,CAAE,MAAOwH,GAAKvB,EAAOuB,EAAI,CAAE,CAC1F,SAASsW,EAAS9d,GAAS,IAAM6d,EAAKF,EAAiB,MAAE3d,GAAS,CAAE,MAAOwH,GAAKvB,EAAOuB,EAAI,CAAE,CAC7F,SAASqW,EAAK1hB,GAJlB,IAAe6D,EAIa7D,EAAO4hB,KAAO/X,EAAQ7J,EAAO6D,QAJ1CA,EAIyD7D,EAAO6D,MAJhDA,aAAiB0d,EAAI1d,EAAQ,IAAI0d,GAAE,SAAU1X,GAAWA,EAAQhG,EAAQ,KAIjB6X,KAAK+F,EAAWE,EAAW,CAC7GD,GAAMF,EAAYA,EAAUK,MAAMR,EAASC,GAAc,KAAK5hB,OAClE,IAPwC,IAAU2hB,EAASC,EAAYC,EAAGC,CAqE1E,EACA0+B,EAAoBlqC,UAAU+gC,QAAU,SAAUhzB,EAAOw4B,GAAkB,EAC3E2D,EAAoBlqC,UAAUwhC,MAAQ,SAAUnkC,GAC5C,IACInV,EAAI2N,EADJmhB,EAAQ7uB,KAEZ,IAAIA,KAAKg+C,cAAcE,UAGsC,IAAxDhpC,EAAKqS,cAAc0R,WAAa,IAAWiJ,SAAhD,CAGA,IAAIyc,EAAW,WACX,OAAO,GAAA9a,SACFC,QAAQjV,EAAMuuB,UAAW,CAACloC,IAC1BqI,MAAK,SAAU1b,GAChB,IAAI9B,EACA8B,EAAOsM,OAASywC,EAAA,EAAiBC,UACjC,OAA2C,QAAvB9+C,EAAK8B,EAAO6N,aAA0B,IAAP3P,EAAgBA,EAAK,IAAIW,MAAM,mDAAqDmB,EAAS,KAExJ,IACK2b,OAAM,SAAU9N,IACjB,OAAmBA,EACvB,GACJ,EAEA,GAAIwF,EAAKkjC,SAAS2D,uBAAwB,CACtC,IAAIkG,EAAyE,QAAtDv0C,GAAM3N,EAAKmV,EAAKkjC,UAAUkE,8BAA2C,IAAP5uC,OAAgB,EAASA,EAAGpD,KAAKvK,GAAIwd,MAAK,WAI3H,OAHuB,MAAnB0kC,GACApzB,EAAMmzB,mBAAmBr+C,OAAOs+C,GAE7BtD,GACX,IAAG,SAAUzwC,GAAO,OAAO,OAAmBA,EAAM,IAE7B,MAAnB+zC,GACAjiD,KAAKgiD,mBAAmBh/C,IAAIi/C,EAEpC,MAEStD,GA5BT,CA8BJ,EACAoD,EAAoBlqC,UAAUolC,SAAW,WACrC,OAAOj9C,KAAKg+C,cAAc1zC,MAC9B,EACAy3C,EAAoBlqC,UAAUomC,UAAY,WACtC,OAAOj+C,KAAKo9C,UAAUH,UAC1B,EACO8E,CACX,CAzEwC,22fCtCjC,SAASG,EAAehoC,GAI3B,IAFA,IAAIrS,EAAM,CAAC,EACPk3C,EAAM7kC,EAAOnW,OACRo+C,EAAK,EAAGA,EAAKpD,EAAKoD,IAAM,CAC7B,IAAI5mB,EAAMrhB,EAAOioC,GACb5mB,IACA1zB,EAAIyP,OAAOikB,GAAKtU,cAAc0X,QAAQ,QAAS,MAAQpD,EAE/D,CACA,OAAO1zB,CACX,o7CCRIu6C,EAAqB,iBACrBC,EAAuB,mBACvBC,EAAmB,eACnBC,EAA8B,0BAC9BC,EAAqB,iBACrBC,EAA4B,wBAC5BC,EAA0B,sBAC1BC,EAAyB,qBACzBC,EAAuB,mBACvBC,EAA0B,sBAC1BC,EAA4B,wBAC5BC,EAA0B,sBAC1BC,EAA0B,sBAC1BC,EAAyB,qBACzBC,EAA2B,uBAC3BC,EAA0B,sBAC1BC,EAAqB,iBACrBC,EAAmB,eACnBC,EAAwB,oBACxBC,EAA2B,uBAC3BC,EAA0B,sBAC1BC,EAA6B,yBAC7BC,EAAgB,YAChBC,EAA8B,0BAC9BC,EAAwB,oBACxBC,EAAgB,YAChBC,EAAc,UACdC,EAAmB,eACnBC,EAAoB,gBACpBC,EAAsB,kBACtBC,EAAc,UACdC,EAAgB,YAChBC,EAAgB,YAChBC,EAAgB,YAChBC,EAAsB,kBACtBC,EAAoB,gBACpBC,EAAyB,qBACzBC,EAAuB,mBACvBC,EAAoB,gBACpBC,EAAmB,eACnBC,EAAyB,qBACzBC,EAAkB,cAClBC,EAAmB,eACnBC,EAAyB,qBACzBC,EAAyB,qBACzBC,EAA0B,sBAC1BC,EAAyB,qBACzBC,EAA0B,sBAC1BC,EAA0B,sBAC1BC,EAA2B,uBAC3BC,GAAwB,oBACxBC,GAAyB,qBACzBC,GAAkB,cAClBC,GAAmB,eACnBC,GAAsB,kBACtBC,GAAuB,mBACvBC,GAAc,UACdC,GAAqB,iBACrBC,GAAc,UACdC,GAAiB,aACjBC,GAAkB,cAClBC,GAA8B,0BAC9BC,GAA8B,0BAC9BC,GAAsB,kBACtBC,GAA2B,uBAC3BC,GAA2B,uBAC3BC,GAAoB,gBACpBC,GAA2B,uBAC3BC,GAA8B,0BAC9BC,GAAkC,8BAClCC,GAAmB,eACnBC,GAAwB,oBACxBC,GAA0B,sBAC1BC,GAAsB,kBACtBC,GAAyB,qBACzBC,GAA6B,yBAC7BC,GAA4B,wBAC5BC,GAA6B,yBAC7BC,GAAqB,iBACrBC,GAAwB,oBACxBC,GAA4B,wBAIrBC,GAA6BjF,EAI7BkF,GAA+BjF,EAI/BkF,GAA2BjF,EAM3BkF,GAAsCjF,EAMtCkF,GAA6BjF,EAI7BkF,GAAoCjF,EAIpCkF,GAAkCjF,EAIlCkF,GAAiCjF,EAIjCkF,GAA+BjF,EAI/BkF,GAAkCjF,EAIlCkF,GAAoCjF,EAIpCkF,GAAkCjF,EAMlCkF,GAAkCjF,EAMlCkF,GAAiCjF,EAIjCkF,GAAmCjF,EAMnCkF,GAAkCjF,EAIlCkF,GAA6BjF,EAI7BkF,GAA2BjF,EAI3BkF,GAAgCjF,EAIhCkF,GAAmCjF,EAInCkF,GAAkCjF,EAIlCkF,GAAqCjF,EAMrCkF,GAAwBjF,EAMxBkF,GAAsCjF,EAMtCkF,GAAgCjF,EAMhCkF,GAAwBjF,EAmBxBkF,GAAsBjF,EActBkF,GAA2BjF,EAM3BkF,GAA4BjF,EAM5BkF,GAA8BjF,EAI9BkF,GAAsBjF,EAItBkF,GAAwBjF,EAIxBkF,GAAwBjF,EAIxBkF,GAAwBjF,EAIxBkF,GAA8BjF,EAI9BkF,GAA4BjF,EAI5BkF,GAAiCjF,EAIjCkF,GAA+BjF,EAI/BkF,GAA4BjF,EAI5BkF,GAA2BjF,EAI3BkF,GAAiCjF,EAIjCkF,GAA0BjF,EAI1BkF,GAA2BjF,EAI3BkF,GAAiCjF,EAIjCkF,GAAiCjF,EAIjCkF,GAAkCjF,EAIlCkF,GAAiCjF,EAIjCkF,GAAkCjF,EAIlCkF,GAAkCjF,EAIlCkF,GAAmCjF,EAInCkF,GAAgCjF,GAIhCkF,GAAiCjF,GAIjCkF,GAA0BjF,GAI1BkF,GAA2BjF,GAI3BkF,GAA8BjF,GAI9BkF,GAA+BjF,GAI/BkF,GAAsBjF,GAItBkF,GAA6BjF,GAI7BkF,GAAsBjF,GAItBkF,GAAyBjF,GAIzBkF,GAA0BjF,GAI1BkF,GAAsCjF,GAItCkF,GAAsCjF,GAItCkF,GAA8BjF,GAI9BkF,GAAmCjF,GAInCkF,GAAmCjF,GAInCkF,GAA4BjF,GAI5BkF,GAAmCjF,GAInCkF,GAAsCjF,GAItCkF,GAA0CjF,GAM1CkF,GAA2BjF,GAM3BkF,GAAgCjF,GAMhCkF,GAAkCjF,GAIlCkF,GAA8BjF,GAI9BkF,GAAiCjF,GAIjCkF,GAAqCjF,GAIrCkF,GAAoCjF,GAIpCkF,GAAqCjF,GAIrCkF,GAA6BjF,GAI7BkF,GAAgCjF,GAIhCkF,GAAoCjF,GAKpCkF,IACG,OAAe,CACzBlK,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,KASAmF,GAAwC,gBAExCC,GAAgC,QAKzBC,GAAoCF,GAIpCG,GAVuB,MAcvBC,GAA4BH,GAI5BI,GAhBuB,MAqBvBC,IACG,OAAe,CACzBN,GAzB8B,MA2B9BC,GAzB8B,QAqC9BM,GAA4C,oBAC5CC,GAA2C,mBAC3CC,GAAkC,UAClCC,GAAkC,UAClCC,GAAkC,UAClCC,GAAqC,aACrCC,GAAgD,wBAChDC,GAAmC,WACnCC,GAAoD,4BACpDC,GAAoC,YACpCC,GAA0C,kBAC1CC,GAA4C,oBAC5CC,GAA6C,qBAC7CC,GAAwC,gBACxCC,GAAgD,wBAChDC,GAA8C,sBAC9CC,GAAyC,iBAMlCC,GAAwCjB,GAMxCkB,GAAuCjB,GAMvCkB,GAA8BjB,GAM9BkB,GAA8BjB,GAM9BkB,GAA8BjB,GAM9BkB,GAAiCjB,GAMjCkB,GAA4CjB,GAM5CkB,GAA+BjB,GAM/BkB,GAAgDjB,GAMhDkB,GAAgCjB,GAMhCkB,GAAsCjB,GAMtCkB,GAAwCjB,GAMxCkB,GAAyCjB,GAMzCkB,GAAoCjB,GAMpCkB,GAA4CjB,GAM5CkB,GAA0CjB,GAM1CkB,GAAqCjB,GAKrCkB,IACG,OAAe,CACzBlC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,KAUAmB,GAAqC,UAI9BC,GAL0B,MAS1BC,GAAiCF,GAKjCG,IACG,OAAe,CAfQ,MAiBjCH,KASAI,GAA2B,QAC3BC,GAA2B,QAC3BC,GAA2B,QAC3BC,GAA0B,OAC1BC,GAA2B,QAC3BC,GAA2B,QAKpBC,GAAuBN,GAIvBO,GAAuBN,GAIvBO,GAAuBN,GAIvBO,GAAsBN,GAItBO,GAAuBN,GAIvBO,GAAuBN,GAIvBO,GA5BkB,MAiClBC,IACG,OAAe,CACzBb,GACAC,GACAC,GACAC,GACAC,GACAC,GAxCyB,QAkDzBS,GAA2B,UAC3BC,GAAyB,QACzBC,GAA0B,SAC1BC,GAA2B,UAC3BC,GAA0B,SAC1BC,GAA2B,UAC3BC,GAAgC,eAChCC,GAAwB,OAExBC,GAA2B,UAC3BC,GAAwB,OAIjBC,GAAuBV,GAIvBW,GAAqBV,GAIrBW,GAAsBV,GAItBW,GAAuBV,GAIvBW,GAAsBV,GAItBW,GAAuBV,GAIvBW,GAA4BV,GAI5BW,GAAoBV,GAIpBW,GAtCgB,MA0ChBC,GAAuBX,GAIvBY,GAAoBX,GAKpBY,IACG,OAAe,CACzBrB,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GA5DuB,MA8DvBC,GACAC,KAUAa,GAAwC,SACxCC,GAAwC,SAExCC,GAAsC,OACtCC,GAAwC,SAExCC,GAAwC,SACxCC,GAAsC,OACtCC,GAAuC,QAIhCC,GAb8B,MAiB9BC,GAAoCR,GAIpCS,GAAoCR,GAIpCS,GAtB6B,KA0B7BC,GAAkCT,GAIlCU,GAAoCT,GAIpCU,GA/B8B,MAmC9BC,GAAoCV,GAIpCW,GAAkCV,GAIlCW,GAAmCV,GAKnCW,IACG,OAAe,CAvDY,MAyDrCjB,GACAC,GAvDoC,KAyDpCC,GACAC,GAvDqC,MAyDrCC,GACAC,GACAC,g/FC18BAY,EAA6B,yBAC7BC,EAAgB,YAChBC,EAA2B,uBAC3BC,EAAc,UACdC,EAA+B,2BAC/BC,EAAc,UACdC,EAAmB,eACnBC,EAAmB,eACnBC,EAA6B,yBAC7BC,EAA4B,wBAC5BC,EAA6B,yBAC7BC,EAAqC,iCACrCC,EAAyB,qBACzBC,EAA+B,2BAC/BC,EAA+C,2CAC/CC,EAAkC,8BAClCC,EAAkC,8BAClCC,EAAyB,qBACzBC,EAA8B,0BAC9BC,EAA4B,wBAC5BC,EAAmB,eACnBC,EAAqB,iBACrBC,EAAwB,oBACxBC,EAA2B,uBAC3BC,EAAwB,oBACxBC,EAAmB,eACnBC,EAAqB,iBACrBC,EAA+B,2BAC/BC,EAA8B,0BAC9BC,EAAyB,qBACzBC,EAAyB,qBACzBC,EAAgB,YAChBC,EAAgB,YAChBC,EAAqB,iBACrBC,EAAwB,oBACxBC,EAA4B,wBAC5BC,EAA0B,sBAC1BC,EAAoB,gBACpBC,EAAkB,cAClBC,EAAoB,gBACpBC,EAAoB,gBACpBC,EAAkB,cAClBC,EAAoB,gBACpBC,EAAoB,gBACpBC,EAA+B,2BAC/BC,EAAkC,8BAClCC,EAA4B,wBAC5BC,EAA2B,uBAC3BC,EAA2B,uBAC3BC,EAA2B,uBAC3BC,GAAmB,eACnBC,GAAiB,aACjBC,GAAmB,eACnBC,GAAoB,gBACpBC,GAAgB,YAChBC,GAAkB,cAClBC,GAAoB,gBACpBC,GAAqB,iBACrBC,GAAoB,gBACpBC,GAAkB,cAClBC,GAAkB,cAClBC,GAAe,WACfC,GAAkB,cAClBC,GAAgB,YAChBC,GAAkB,cAClBC,GAAuB,mBACvBC,GAAkB,cAClBC,GAAsB,kBACtBC,GAAkC,8BAClCC,GAA+C,2CAC/CC,GAAmC,+BACnCC,GAAgD,4CAChDC,GAAuB,mBACvBC,GAAiB,aACjBC,GAAqB,iBACrBC,GAA+B,2BAC/BC,GAAqC,iCACrCC,GAA2C,uCAC3CC,GAA6C,yCAC7CC,GAA8C,0CAC9CC,GAAmC,+BACnCC,GAA8B,0BAC9BC,GAAyB,qBACzBC,GAAqC,iCACrCC,GAA8B,0BAC9BC,GAA0B,sBAC1BC,GAA4C,wCAC5CC,GAA2C,uCAC3CC,GAAyC,qCACzCC,GAA+B,2BAC/BC,GAAgC,4BAChCC,GAA2B,uBAC3BC,GAAkC,8BAClCC,GAAyB,qBACzBC,GAAiC,6BACjCC,GAAyC,qCACzCC,GAAkD,8CAClDC,GAAuB,mBACvBC,GAA4B,wBAC5BC,GAAiC,6BACjCC,GAAiC,6BACjCC,GAAyB,qBACzBC,GAAiC,6BACjCC,GAAoB,gBACpBC,GAA2B,uBAC3BC,GAAgC,4BAChCC,GAA2C,uCAC3CC,GAAsD,kDACtDC,GAA0B,sBAC1BC,GAA4B,wBAC5BC,GAAqC,iCACrCC,GAAkC,8BAClCC,GAAqC,iCACrCC,GAAgC,4BAChCC,GAAgC,4BAChCC,GAAgC,4BAChCC,GAAiB,aACjBC,GAAkB,cAClBC,GAAiB,aACjBC,GAA2B,uBAC3BC,GAA0B,sBAC1BC,GAA6B,yBAC7BC,GAA6B,yBAC7BC,GAAgC,4BAChCC,GAAmB,eACnBC,GAAiB,aACjBC,GAA8B,0BAC9BC,GAAgC,4BAMzBC,GAAkChI,EAIlCiI,GAAqBhI,EAIrBiI,GAAgChI,EAIhCiI,GAAmBhI,EAInBiI,GAAoChI,EAMpCiI,GAAmBhI,EAMnBiI,GAAwBhI,EAMxBiI,GAAwBhI,EAMxBiI,GAAkChI,EAIlCiI,GAAiChI,EAIjCiI,GAAkChI,EAIlCiI,GAA0ChI,EAM1CiI,GAA8BhI,EAI9BiI,GAAoChI,EAIpCiI,GAAoDhI,EAIpDiI,GAAuChI,EAIvCiI,GAAuChI,EAIvCiI,GAA8BhI,EAI9BiI,GAAmChI,EAInCiI,GAAiChI,EAMjCiI,GAAwBhI,EAIxBiI,GAA0BhI,EAI1BiI,GAA6BhI,EAI7BiI,GAAgChI,EAqBhCiI,GAA6BhI,EAI7BiI,GAAwBhI,EAIxBiI,GAA0BhI,EAI1BiI,GAAoChI,EAIpCiI,GAAmChI,EAInCiI,GAA8BhI,EAI9BiI,GAA8BhI,EAI9BiI,GAAqBhI,EAIrBiI,GAAqBhI,EAIrBiI,GAA0BhI,EAM1BiI,GAA6BhI,EAM7BiI,GAAiChI,EAMjCiI,GAA+BhI,EAI/BiI,GAAyBhI,EAIzBiI,GAAuBhI,EAIvBiI,GAAyBhI,EAIzBiI,GAAyBhI,EAIzBiI,GAAuBhI,EAIvBiI,GAAyBhI,EAIzBiI,GAAyBhI,EAIzBiI,GAAoChI,EAIpCiI,GAAuChI,EAIvCiI,GAAiChI,EAIjCiI,GAAgChI,EAIhCiI,GAAgChI,EAIhCiI,GAAgChI,EAIhCiI,GAAwBhI,GAIxBiI,GAAsBhI,GAItBiI,GAAwBhI,GAIxBiI,GAAyBhI,GAIzBiI,GAAqBhI,GAIrBiI,GAAuBhI,GAIvBiI,GAAyBhI,GAIzBiI,GAA0BhI,GAI1BiI,GAAyBhI,GAIzBiI,GAAuBhI,GAIvBiI,GAAuBhI,GAMvBiI,GAAoBhI,GAIpBiI,GAAuBhI,GAMvBiI,GAAqBhI,GAIrBiI,GAAuBhI,GAIvBiI,GAA4BhI,GAM5BiI,GAAuBhI,GAIvBiI,GAA2BhI,GAI3BiI,GAAuChI,GAIvCiI,GAAoDhI,GAIpDiI,GAAwChI,GAIxCiI,GAAqDhI,GAMrDiI,GAA4BhI,GAI5BiI,GAAsBhI,GAgBtBiI,GAA0BhI,GAI1BiI,GAAoChI,GAIpCiI,GAA0ChI,GAI1CiI,GAAgDhI,GAIhDiI,GAAkDhI,GAIlDiI,GAAmDhI,GAInDiI,GAAwChI,GAIxCiI,GAAmChI,GAInCiI,GAA8BhI,GAI9BiI,GAA0ChI,GAI1CiI,GAAmChI,GAInCiI,GAA+BhI,GAI/BiI,GAAiDhI,GAIjDiI,GAAgDhI,GAIhDiI,GAA8ChI,GAI9CiI,GAAoChI,GAIpCiI,GAAqChI,GAIrCiI,GAAgChI,GAIhCiI,GAAuChI,GAIvCiI,GAA8BhI,GAI9BiI,GAAsChI,GAItCiI,GAA8ChI,GAI9CiI,GAAuDhI,GAIvDiI,GAA4BhI,GAI5BiI,GAAiChI,GAIjCiI,GAAsChI,GAItCiI,GAAsChI,GAItCiI,GAA8BhI,GAI9BiI,GAAsChI,GAItCiI,GAAyBhI,GAIzBiI,GAAgChI,GAIhCiI,GAAqChI,GAIrCiI,GAAgDhI,GAIhDiI,GAA2DhI,GAI3DiI,GAA+BhI,GAI/BiI,GAAiChI,GAIjCiI,GAA0ChI,GAM1CiI,GAAuChI,GAIvCiI,GAA0ChI,GAI1CiI,GAAqChI,GAIrCiI,GAAqChI,GAIrCiI,GAAqChI,GAIrCiI,GAAsBhI,GAMtBiI,GAAuBhI,GAMvBiI,GAAsBhI,GAItBiI,GAAgChI,GAIhCiI,GAA+BhI,GAI/BiI,GAAkChI,GAIlCiI,GAAkChI,GAIlCiI,GAAqChI,GAIrCiI,GAAwBhI,GAMxBiI,GAAsBhI,GAItBiI,GAAmChI,GAInCiI,GAAqChI,GAKrCiI,IACG,OAAe,CACzBhQ,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,KASAkI,GAA+B,YAC/BC,GAA2B,QA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","sources":[".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/pipeline.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/log.js",".././client/node_modules/@azure/core-util/dist-esm/src/object.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/util/sanitizer.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/logPolicy.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/redirectPolicy.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/constants.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/util/userAgent.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/util/userAgentPlatform.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/userAgentPolicy.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/decompressResponsePolicy.js",".././client/node_modules/@azure/core-rest-pipeline/node_modules/@azure/abort-controller/dist-esm/src/AbortSignal.js",".././client/node_modules/@azure/core-rest-pipeline/node_modules/@azure/abort-controller/dist-esm/src/AbortController.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/util/helpers.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/retryStrategies/throttlingRetryStrategy.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/retryStrategies/exponentialRetryStrategy.js",".././client/node_modules/@azure/core-util/dist-esm/src/random.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/retryPolicy.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/defaultRetryPolicy.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/formDataPolicy.js",".././client/node_modules/@azure/core-util/dist-esm/src/isNode.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/proxyPolicy.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/setClientRequestIdPolicy.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/tlsPolicy.js",".././client/node_modules/@azure/core-tracing/dist/esm/tracingContext.js",".././client/node_modules/@azure/core-tracing/dist/esm/state.js",".././client/node_modules/@azure/core-tracing/dist/esm/instrumenter.js",".././client/node_modules/@azure/core-util/dist-esm/src/error.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/util/inspect.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/restError.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/tracingPolicy.js",".././client/node_modules/@azure/core-tracing/dist/esm/tracingClient.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/createPipelineFromOptions.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/httpHeaders.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/nodeHttpClient.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/defaultHttpClient.js",".././client/node_modules/uuid/dist/esm-node/rng.js",".././client/node_modules/uuid/dist/esm-node/regex.js",".././client/node_modules/uuid/dist/esm-node/stringify.js",".././client/node_modules/uuid/dist/esm-node/validate.js",".././client/node_modules/uuid/dist/esm-node/v4.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/pipelineRequest.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/util/uuid.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/exponentialRetryPolicy.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/systemErrorRetryPolicy.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/throttlingRetryPolicy.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/util/tokenCycler.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/bearerTokenAuthenticationPolicy.js",".././client/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/ndJsonPolicy.js",".././client/node_modules/@azure/core-rest-pipeline/node_modules/@tootallnate/once/dist/index.js",".././client/node_modules/@azure/core-rest-pipeline/node_modules/http-proxy-agent/dist/agent.js",".././client/node_modules/@azure/core-rest-pipeline/node_modules/http-proxy-agent/dist/index.js",".././client/node_modules/@azure/opentelemetry-instrumentation-azure-sdk/dist-esm/src/logger.js",".././client/node_modules/@azure/opentelemetry-instrumentation-azure-sdk/dist-esm/src/spanWrapper.js",".././client/node_modules/@azure/opentelemetry-instrumentation-azure-sdk/dist-esm/src/configuration.js",".././client/node_modules/@azure/opentelemetry-instrumentation-azure-sdk/dist-esm/src/transformations.js",".././client/node_modules/@azure/opentelemetry-instrumentation-azure-sdk/dist-esm/src/instrumenter.js",".././client/node_modules/@azure/opentelemetry-instrumentation-azure-sdk/dist-esm/src/instrumentation.js",".././client/node_modules/@microsoft/applicationinsights-web-snippet/dist/esm/applicationinsights-web-snippet.js",".././client/node_modules/@opentelemetry/api/build/esm/context/NoopContextManager.js",".././client/node_modules/@opentelemetry/api/build/esm/api/context.js",".././client/node_modules/@opentelemetry/api/build/esm/diag/ComponentLogger.js",".././client/node_modules/@opentelemetry/api/build/esm/api/diag.js",".././client/node_modules/@opentelemetry/api/build/esm/diag/internal/logLevelLogger.js",".././client/node_modules/@opentelemetry/api/build/esm/baggage/internal/baggage-impl.js",".././client/node_modules/@opentelemetry/api/build/esm/baggage/internal/symbol.js",".././client/node_modules/@opentelemetry/api/build/esm/baggage/utils.js",".././client/node_modules/@opentelemetry/api/build/esm/context-api.js",".././client/node_modules/@opentelemetry/api/build/esm/context/context.js",".././client/node_modules/@opentelemetry/api/build/esm/diag-api.js",".././client/node_modules/@opentelemetry/api/build/esm/diag/types.js",".././client/node_modules/@opentelemetry/api/build/esm/metrics/Metric.js",".././client/node_modules/@opentelemetry/api/build/esm/diag/consoleLogger.js",".././client/node_modules/@opentelemetry/api/build/esm/trace/internal/tracestate-validators.js",".././client/node_modules/@opentelemetry/api/build/esm/trace/internal/tracestate-impl.js",".././client/node_modules/@opentelemetry/api/build/esm/trace/internal/utils.js",".././client/node_modules/@opentelemetry/api/build/esm/index.js",".././client/node_modules/@opentelemetry/api/build/esm/platform/node/globalThis.js",".././client/node_modules/@opentelemetry/api/build/esm/version.js",".././client/node_modules/@opentelemetry/api/build/esm/internal/semver.js",".././client/node_modules/@opentelemetry/api/build/esm/internal/global-utils.js",".././client/node_modules/@opentelemetry/api/build/esm/metrics/NoopMeterProvider.js",".././client/node_modules/@opentelemetry/api/build/esm/api/metrics.js",".././client/node_modules/@opentelemetry/api/build/esm/metrics-api.js",".././client/node_modules/@opentelemetry/api/build/esm/metrics/NoopMeter.js",".././client/node_modules/@opentelemetry/api/build/esm/propagation/NoopTextMapPropagator.js",".././client/node_modules/@opentelemetry/api/build/esm/baggage/context-helpers.js",".././client/node_modules/@opentelemetry/api/build/esm/api/propagation.js",".././client/node_modules/@opentelemetry/api/build/esm/propagation-api.js",".././client/node_modules/@opentelemetry/api/build/esm/propagation/TextMapPropagator.js",".././client/node_modules/@opentelemetry/api/build/esm/api/trace.js",".././client/node_modules/@opentelemetry/api/build/esm/trace-api.js",".././client/node_modules/@opentelemetry/api/build/esm/trace/NonRecordingSpan.js",".././client/node_modules/@opentelemetry/api/build/esm/trace/NoopTracer.js",".././client/node_modules/@opentelemetry/api/build/esm/trace/ProxyTracer.js",".././client/node_modules/@opentelemetry/api/build/esm/trace/ProxyTracerProvider.js",".././client/node_modules/@opentelemetry/api/build/esm/trace/NoopTracerProvider.js",".././client/node_modules/@opentelemetry/api/build/esm/trace/SamplingResult.js",".././client/node_modules/@opentelemetry/api/build/esm/trace/context-utils.js",".././client/node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js",".././client/node_modules/@opentelemetry/api/build/esm/trace/span_kind.js",".././client/node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js",".././client/node_modules/@opentelemetry/api/build/esm/trace/status.js",".././client/node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js",".././client/node_modules/@opentelemetry/core/build/esm/ExportResult.js",".././client/node_modules/@opentelemetry/core/build/esm/baggage/constants.js",".././client/node_modules/@opentelemetry/core/build/esm/baggage/propagation/W3CBaggagePropagator.js",".././client/node_modules/@opentelemetry/core/build/esm/baggage/utils.js",".././client/node_modules/@opentelemetry/core/build/esm/common/attributes.js",".././client/node_modules/@opentelemetry/core/build/esm/common/global-error-handler.js",".././client/node_modules/@opentelemetry/core/build/esm/common/logging-error-handler.js",".././client/node_modules/@opentelemetry/core/build/esm/common/time.js",".././client/node_modules/@opentelemetry/core/build/esm/common/anchored-clock.js",".././client/node_modules/@opentelemetry/core/build/esm/common/hex-to-binary.js",".././client/node_modules/@opentelemetry/core/build/esm/platform/node/globalThis.js",".././client/node_modules/@opentelemetry/core/build/esm/platform/node/hex-to-base64.js",".././client/node_modules/@opentelemetry/core/build/esm/platform/node/RandomIdGenerator.js",".././client/node_modules/@opentelemetry/core/build/esm/trace/rpc-metadata.js",".././client/node_modules/@opentelemetry/core/build/esm/utils/timeout.js",".././client/node_modules/@opentelemetry/core/build/esm/trace/sampler/AlwaysOffSampler.js",".././client/node_modules/@opentelemetry/core/build/esm/trace/sampler/AlwaysOnSampler.js",".././client/node_modules/@opentelemetry/core/build/esm/trace/sampler/ParentBasedSampler.js",".././client/node_modules/@opentelemetry/core/build/esm/trace/sampler/TraceIdRatioBasedSampler.js",".././client/node_modules/@opentelemetry/core/build/esm/utils/url.js",".././client/node_modules/@opentelemetry/core/build/esm/utils/wrap.js",".././client/node_modules/@opentelemetry/core/build/esm/index.js",".././client/node_modules/@opentelemetry/core/build/esm/internal/exporter.js",".././client/node_modules/@opentelemetry/core/build/esm/platform/node/environment.js",".././client/node_modules/@opentelemetry/core/build/esm/platform/node/performance.js","../external node-commonjs \"perf_hooks\"",".././client/node_modules/@opentelemetry/core/build/esm/platform/node/sdk-info.js",".././client/node_modules/@opentelemetry/core/build/esm/platform/node/timer-util.js",".././client/node_modules/@opentelemetry/core/build/esm/propagation/composite.js",".././client/node_modules/@opentelemetry/core/build/esm/internal/validators.js",".././client/node_modules/@opentelemetry/core/build/esm/trace/TraceState.js",".././client/node_modules/@opentelemetry/core/build/esm/trace/W3CTraceContextPropagator.js",".././client/node_modules/@opentelemetry/core/build/esm/trace/suppress-tracing.js",".././client/node_modules/@opentelemetry/core/build/esm/utils/promise.js",".././client/node_modules/@opentelemetry/core/build/esm/utils/callback.js",".././client/node_modules/@opentelemetry/core/build/esm/utils/environment.js",".././client/node_modules/@opentelemetry/core/build/esm/utils/lodash.merge.js",".././client/node_modules/@opentelemetry/core/build/esm/utils/merge.js",".././client/node_modules/@opentelemetry/core/build/esm/utils/sampling.js",".././client/node_modules/@opentelemetry/core/build/esm/version.js",".././client/node_modules/@opentelemetry/instrumentation/build/esm/autoLoaderUtils.js",".././client/node_modules/@opentelemetry/instrumentation/build/esm/autoLoader.js",".././client/node_modules/@opentelemetry/instrumentation/build/esm/platform/node/instrumentationNodeModuleFile.js",".././client/node_modules/@opentelemetry/instrumentation/build/esm/utils.js",".././client/node_modules/@opentelemetry/instrumentation/build/esm/platform/node/instrumentation.js",".././client/node_modules/@opentelemetry/instrumentation/build/esm/instrumentation.js",".././client/node_modules/@opentelemetry/instrumentation/build/esm/platform/node/ModuleNameTrie.js",".././client/node_modules/@opentelemetry/instrumentation/build/esm/platform/node/RequireInTheMiddleSingleton.js",".././client/node_modules/@opentelemetry/instrumentation/build/esm/platform/node/instrumentationNodeModuleDefinition.js",".././client/node_modules/@opentelemetry/instrumentation/build/esm/platform/node/ sync",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/Sampler.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/Span.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/enums.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOffSampler.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/AlwaysOnSampler.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/ParentBasedSampler.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/sampler/TraceIdRatioBasedSampler.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/config.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/node/RandomIdGenerator.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/Tracer.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/platform/node/export/BatchSpanProcessor.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/BasicTracerProvider.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/utility.js",".././client/node_modules/@opentelemetry/resources/build/esm/Resource.js",".././client/node_modules/@opentelemetry/resources/build/esm/platform/node/default-service-name.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/MultiSpanProcessor.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/export/NoopSpanProcessor.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/export/BatchSpanProcessorBase.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/export/ConsoleSpanExporter.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/export/InMemorySpanExporter.js",".././client/node_modules/@opentelemetry/sdk-trace-base/build/esm/export/SimpleSpanProcessor.js",".././client/node_modules/@opentelemetry/semantic-conventions/build/esm/internal/utils.js",".././client/node_modules/@opentelemetry/semantic-conventions/build/esm/resource/SemanticResourceAttributes.js",".././client/node_modules/@opentelemetry/semantic-conventions/build/esm/trace/SemanticAttributes.js",".././client/node_modules/agent-base/dist/src/index.js",".././client/node_modules/agent-base/dist/src/promisify.js",".././client/node_modules/applicationinsights/out/AutoCollection/AsyncHooksScopeManager.js",".././client/node_modules/applicationinsights/out/AutoCollection/AzureFunctionsHook.js",".././client/node_modules/applicationinsights/out/AutoCollection/Console.js",".././client/node_modules/applicationinsights/out/AutoCollection/CorrelationContextManager.js",".././client/node_modules/applicationinsights/out/AutoCollection/Exceptions.js",".././client/node_modules/applicationinsights/out/AutoCollection/HeartBeat.js",".././client/node_modules/applicationinsights/out/AutoCollection/HttpDependencies.js",".././client/node_modules/applicationinsights/out/AutoCollection/HttpDependencyParser.js",".././client/node_modules/applicationinsights/out/AutoCollection/HttpRequestParser.js",".././client/node_modules/applicationinsights/out/AutoCollection/HttpRequests.js",".././client/node_modules/applicationinsights/out/AutoCollection/NativePerformance.js",".././client/node_modules/applicationinsights/out/AutoCollection/NetworkStatsbeat.js",".././client/node_modules/applicationinsights/out/AutoCollection/Performance.js",".././client/node_modules/applicationinsights/out/AutoCollection/PreAggregatedMetrics.js",".././client/node_modules/applicationinsights/out/AutoCollection/RequestParser.js",".././client/node_modules/applicationinsights/out/AutoCollection/Statsbeat.js",".././client/node_modules/applicationinsights/out/AutoCollection/WebSnippet.js",".././client/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/Azure/EventHub.js",".././client/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/SpanParser.js",".././client/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/azure-coretracing.sub.js",".././client/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/bunyan.sub.js",".././client/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/console.sub.js",".././client/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/initialization.js",".././client/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mongodb.sub.js",".././client/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mysql.sub.js",".././client/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/postgres.sub.js",".././client/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/redis.sub.js",".././client/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/winston.sub.js",".././client/node_modules/applicationinsights/out/Declarations/Constants.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Constants.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/AvailabilityData.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/Base.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/ContextTagKeys.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/Data.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPoint.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPointType.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/Domain.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/Envelope.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/EventData.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionData.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionDetails.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/MessageData.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/MetricData.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/PageViewData.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/RemoteDependencyData.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/RequestData.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/SeverityLevel.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/StackFrame.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/Generated/index.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/DependencyDocumentQuickPulse.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/DocumentQuickPulse.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/EnvelopeQuickPulse.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/EventDocumentQuickPulse.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/ExceptionDocumentQuickPulse.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/MessageDocumentQuickPulse.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/MetricQuickPulse.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/RequestDocumentQuickPulse.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/index.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/AvailabilityTelemetry.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/DependencyTelemetry.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/EnvelopeTelemetry.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/EventTelemetry.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/ExceptionTelemetry.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/MetricTelemetry.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/NodeHttpDependencyTelemetry.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/NodeHttpRequestTelemetry.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/PageViewTelemetry.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/RequestTelemetry.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/Telemetry.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/TelemetryType.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/TraceTelemetry.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/index.js",".././client/node_modules/applicationinsights/out/Declarations/Contracts/index.js",".././client/node_modules/applicationinsights/out/Declarations/Metrics/AggregatedMetricCounters.js",".././client/node_modules/applicationinsights/out/Declarations/Metrics/AggregatedMetricDimensions.js",".././client/node_modules/applicationinsights/out/Library/AuthorizationHandler.js",".././client/node_modules/applicationinsights/out/Library/AzureVirtualMachine.js",".././client/node_modules/applicationinsights/out/Library/Channel.js",".././client/node_modules/applicationinsights/out/Library/Config.js",".././client/node_modules/applicationinsights/out/Library/ConnectionStringParser.js",".././client/node_modules/applicationinsights/out/Library/Context.js",".././client/node_modules/applicationinsights/out/Library/CorrelationIdManager.js",".././client/node_modules/applicationinsights/out/Library/EnvelopeFactory.js",".././client/node_modules/applicationinsights/out/Library/FileAccessControl.js",".././client/node_modules/applicationinsights/out/Library/FileSystemHelper.js",".././client/node_modules/applicationinsights/out/Library/Functions.js",".././client/node_modules/applicationinsights/out/Library/InternalAzureLogger.js",".././client/node_modules/applicationinsights/out/Library/JsonConfig.js",".././client/node_modules/applicationinsights/out/Library/Logging.js",".././client/node_modules/applicationinsights/out/Library/NodeClient.js",".././client/node_modules/applicationinsights/out/Library/PrefixHelper.js",".././client/node_modules/applicationinsights/out/Library/QuickPulseEnvelopeFactory.js",".././client/node_modules/applicationinsights/out/Library/QuickPulseSender.js",".././client/node_modules/applicationinsights/out/Library/QuickPulseStateManager.js",".././client/node_modules/applicationinsights/out/Library/QuickPulseUtil.js",".././client/node_modules/applicationinsights/out/Library/RequestResponseHeaders.js",".././client/node_modules/applicationinsights/out/Library/Sender.js",".././client/node_modules/applicationinsights/out/Library/SnippetInjectionHelper.js",".././client/node_modules/applicationinsights/out/Library/TelemetryClient.js",".././client/node_modules/applicationinsights/out/Library/Traceparent.js",".././client/node_modules/applicationinsights/out/Library/Tracestate.js",".././client/node_modules/applicationinsights/out/Library/Util.js",".././client/node_modules/applicationinsights/out/TelemetryProcessors/AzureRoleEnvironmentTelemetryInitializer.js",".././client/node_modules/applicationinsights/out/TelemetryProcessors/PerformanceMetricsTelemetryProcessor.js",".././client/node_modules/applicationinsights/out/TelemetryProcessors/PreAggregatedMetricsTelemetryProcessor.js",".././client/node_modules/applicationinsights/out/TelemetryProcessors/SamplingTelemetryProcessor.js",".././client/node_modules/applicationinsights/out/TelemetryProcessors/index.js",".././client/node_modules/applicationinsights/out/applicationinsights.js",".././client/node_modules/async-hook-jl/async-hook.js",".././client/node_modules/async-hook-jl/index.js",".././client/node_modules/async-hook-jl/patches/next-tick.js",".././client/node_modules/async-hook-jl/patches/promise.js",".././client/node_modules/async-hook-jl/patches/timers.js",".././client/node_modules/async-listener/es6-wrapped-promise.js",".././client/node_modules/async-listener/glue.js",".././client/node_modules/async-listener/index.js",".././client/node_modules/async-listener/node_modules/semver/semver.js",".././client/node_modules/asynckit/index.js",".././client/node_modules/asynckit/lib/abort.js",".././client/node_modules/asynckit/lib/async.js",".././client/node_modules/asynckit/lib/defer.js",".././client/node_modules/asynckit/lib/iterate.js",".././client/node_modules/asynckit/lib/state.js",".././client/node_modules/asynckit/lib/terminator.js",".././client/node_modules/asynckit/parallel.js",".././client/node_modules/asynckit/serial.js",".././client/node_modules/asynckit/serialOrdered.js",".././client/node_modules/balanced-match/index.js",".././client/node_modules/brace-expansion/index.js",".././client/node_modules/cls-hooked/context-legacy.js",".././client/node_modules/cls-hooked/context.js",".././client/node_modules/cls-hooked/index.js",".././client/node_modules/cls-hooked/node_modules/semver/semver.js",".././client/node_modules/combined-stream/lib/combined_stream.js",".././client/node_modules/continuation-local-storage/context.js",".././client/node_modules/debug/src/browser.js",".././client/node_modules/debug/src/common.js",".././client/node_modules/debug/src/index.js",".././client/node_modules/debug/src/node.js",".././client/node_modules/delayed-stream/lib/delayed_stream.js",".././client/node_modules/diagnostic-channel-publishers/dist/src/azure-coretracing.pub.js",".././client/node_modules/diagnostic-channel-publishers/dist/src/bunyan.pub.js",".././client/node_modules/diagnostic-channel-publishers/dist/src/console.pub.js",".././client/node_modules/diagnostic-channel-publishers/dist/src/index.js",".././client/node_modules/diagnostic-channel-publishers/dist/src/mongodb-core.pub.js",".././client/node_modules/diagnostic-channel-publishers/dist/src/mongodb.pub.js",".././client/node_modules/diagnostic-channel-publishers/dist/src/mysql.pub.js",".././client/node_modules/diagnostic-channel-publishers/dist/src/pg-pool.pub.js",".././client/node_modules/diagnostic-channel-publishers/dist/src/pg.pub.js",".././client/node_modules/diagnostic-channel-publishers/dist/src/redis.pub.js",".././client/node_modules/diagnostic-channel-publishers/dist/src/tedious.pub.js",".././client/node_modules/diagnostic-channel-publishers/dist/src/winston.pub.js",".././client/node_modules/diagnostic-channel-publishers/dist/src/ sync ^.*\\/lib\\/Connection$",".././client/node_modules/diagnostic-channel-publishers/dist/src/ sync ^.*\\/lib\\/Pool$",".././client/node_modules/diagnostic-channel/dist/src/channel.js",".././client/node_modules/diagnostic-channel/dist/src/patchRequire.js",".././client/node_modules/emitter-listener/listener.js",".././client/node_modules/form-data/lib/form_data.js",".././client/node_modules/form-data/lib/populate.js",".././client/node_modules/function-bind/implementation.js",".././client/node_modules/function-bind/index.js",".././client/node_modules/hasown/index.js",".././client/node_modules/https-proxy-agent/dist/agent.js",".././client/node_modules/https-proxy-agent/dist/index.js",".././client/node_modules/https-proxy-agent/dist/parse-proxy-response.js",".././client/node_modules/import-in-the-middle/index.js",".././client/node_modules/import-in-the-middle/lib/register.js",".././client/node_modules/is-core-module/index.js",".././client/node_modules/mime-db/index.js",".././client/node_modules/mime-types/index.js",".././client/node_modules/minimatch/lib/path.js",".././client/node_modules/minimatch/minimatch.js",".././client/node_modules/module-details-from-path/index.js",".././client/node_modules/ms/index.js",".././client/node_modules/path-parse/index.js",".././client/node_modules/require-in-the-middle/index.js",".././client/node_modules/resolve/index.js",".././client/node_modules/resolve/lib/async.js",".././client/node_modules/resolve/lib/caller.js",".././client/node_modules/resolve/lib/core.js",".././client/node_modules/resolve/lib/homedir.js",".././client/node_modules/resolve/lib/is-core.js",".././client/node_modules/resolve/lib/node-modules-paths.js",".././client/node_modules/resolve/lib/normalize-options.js",".././client/node_modules/resolve/lib/sync.js",".././client/node_modules/semver/classes/comparator.js",".././client/node_modules/semver/classes/range.js",".././client/node_modules/semver/classes/semver.js",".././client/node_modules/semver/functions/clean.js",".././client/node_modules/semver/functions/cmp.js",".././client/node_modules/semver/functions/coerce.js",".././client/node_modules/semver/functions/compare-build.js",".././client/node_modules/semver/functions/compare-loose.js",".././client/node_modules/semver/functions/compare.js",".././client/node_modules/semver/functions/diff.js",".././client/node_modules/semver/functions/eq.js",".././client/node_modules/semver/functions/gt.js",".././client/node_modules/semver/functions/gte.js",".././client/node_modules/semver/functions/inc.js",".././client/node_modules/semver/functions/lt.js",".././client/node_modules/semver/functions/lte.js",".././client/node_modules/semver/functions/major.js",".././client/node_modules/semver/functions/minor.js",".././client/node_modules/semver/functions/neq.js",".././client/node_modules/semver/functions/parse.js",".././client/node_modules/semver/functions/patch.js",".././client/node_modules/semver/functions/prerelease.js",".././client/node_modules/semver/functions/rcompare.js",".././client/node_modules/semver/functions/rsort.js",".././client/node_modules/semver/functions/satisfies.js",".././client/node_modules/semver/functions/sort.js",".././client/node_modules/semver/functions/valid.js",".././client/node_modules/semver/index.js",".././client/node_modules/semver/internal/constants.js",".././client/node_modules/semver/internal/debug.js",".././client/node_modules/semver/internal/identifiers.js",".././client/node_modules/semver/internal/lrucache.js",".././client/node_modules/semver/internal/parse-options.js",".././client/node_modules/semver/internal/re.js",".././client/node_modules/semver/ranges/gtr.js",".././client/node_modules/semver/ranges/intersects.js",".././client/node_modules/semver/ranges/ltr.js",".././client/node_modules/semver/ranges/max-satisfying.js",".././client/node_modules/semver/ranges/min-satisfying.js",".././client/node_modules/semver/ranges/min-version.js",".././client/node_modules/semver/ranges/outside.js",".././client/node_modules/semver/ranges/simplify.js",".././client/node_modules/semver/ranges/subset.js",".././client/node_modules/semver/ranges/to-comparators.js",".././client/node_modules/semver/ranges/valid.js",".././client/node_modules/shimmer/index.js",".././client/node_modules/stack-chain/format.js",".././client/node_modules/stack-chain/index.js",".././client/node_modules/stack-chain/stack-chain.js",".././client/node_modules/vscode-jsonrpc/lib/common/api.js",".././client/node_modules/vscode-jsonrpc/lib/common/cancellation.js",".././client/node_modules/vscode-jsonrpc/lib/common/connection.js",".././client/node_modules/vscode-jsonrpc/lib/common/disposable.js",".././client/node_modules/vscode-jsonrpc/lib/common/events.js",".././client/node_modules/vscode-jsonrpc/lib/common/is.js",".././client/node_modules/vscode-jsonrpc/lib/common/linkedMap.js",".././client/node_modules/vscode-jsonrpc/lib/common/messageBuffer.js",".././client/node_modules/vscode-jsonrpc/lib/common/messageReader.js",".././client/node_modules/vscode-jsonrpc/lib/common/messageWriter.js",".././client/node_modules/vscode-jsonrpc/lib/common/messages.js",".././client/node_modules/vscode-jsonrpc/lib/common/ral.js",".././client/node_modules/vscode-jsonrpc/lib/common/semaphore.js",".././client/node_modules/vscode-jsonrpc/lib/common/sharedArrayCancellation.js",".././client/node_modules/vscode-jsonrpc/lib/node/main.js",".././client/node_modules/vscode-jsonrpc/lib/node/ril.js",".././client/node_modules/vscode-jsonrpc/node.js",".././client/node_modules/vscode-languageclient/lib/common/api.js",".././client/node_modules/vscode-languageclient/lib/common/callHierarchy.js",".././client/node_modules/vscode-languageclient/lib/common/client.js",".././client/node_modules/vscode-languageclient/lib/common/codeAction.js",".././client/node_modules/vscode-languageclient/lib/common/codeConverter.js",".././client/node_modules/vscode-languageclient/lib/common/codeLens.js",".././client/node_modules/vscode-languageclient/lib/common/colorProvider.js",".././client/node_modules/vscode-languageclient/lib/common/completion.js",".././client/node_modules/vscode-languageclient/lib/common/configuration.js",".././client/node_modules/vscode-languageclient/lib/common/declaration.js",".././client/node_modules/vscode-languageclient/lib/common/definition.js",".././client/node_modules/vscode-languageclient/lib/common/diagnostic.js",".././client/node_modules/vscode-languageclient/lib/common/documentHighlight.js",".././client/node_modules/vscode-languageclient/lib/common/documentLink.js",".././client/node_modules/vscode-languageclient/lib/common/documentSymbol.js",".././client/node_modules/vscode-languageclient/lib/common/executeCommand.js",".././client/node_modules/vscode-languageclient/lib/common/features.js",".././client/node_modules/vscode-languageclient/lib/common/fileOperations.js",".././client/node_modules/vscode-languageclient/lib/common/fileSystemWatcher.js",".././client/node_modules/vscode-languageclient/lib/common/foldingRange.js",".././client/node_modules/vscode-languageclient/lib/common/formatting.js",".././client/node_modules/vscode-languageclient/lib/common/hover.js",".././client/node_modules/vscode-languageclient/lib/common/implementation.js",".././client/node_modules/vscode-languageclient/lib/common/inlayHint.js",".././client/node_modules/vscode-languageclient/lib/common/inlineCompletion.js",".././client/node_modules/vscode-languageclient/lib/common/inlineValue.js",".././client/node_modules/vscode-languageclient/lib/common/linkedEditingRange.js",".././client/node_modules/vscode-languageclient/lib/common/notebook.js",".././client/node_modules/vscode-languageclient/lib/common/progress.js",".././client/node_modules/vscode-languageclient/lib/common/progressPart.js",".././client/node_modules/vscode-languageclient/lib/common/protocolCallHierarchyItem.js",".././client/node_modules/vscode-languageclient/lib/common/protocolCodeAction.js",".././client/node_modules/vscode-languageclient/lib/common/protocolCodeLens.js",".././client/node_modules/vscode-languageclient/lib/common/protocolCompletionItem.js",".././client/node_modules/vscode-languageclient/lib/common/protocolConverter.js",".././client/node_modules/vscode-languageclient/lib/common/protocolDiagnostic.js",".././client/node_modules/vscode-languageclient/lib/common/protocolDocumentLink.js",".././client/node_modules/vscode-languageclient/lib/common/protocolInlayHint.js",".././client/node_modules/vscode-languageclient/lib/common/protocolTypeHierarchyItem.js",".././client/node_modules/vscode-languageclient/lib/common/protocolWorkspaceSymbol.js",".././client/node_modules/vscode-languageclient/lib/common/reference.js",".././client/node_modules/vscode-languageclient/lib/common/rename.js",".././client/node_modules/vscode-languageclient/lib/common/selectionRange.js",".././client/node_modules/vscode-languageclient/lib/common/semanticTokens.js",".././client/node_modules/vscode-languageclient/lib/common/signatureHelp.js",".././client/node_modules/vscode-languageclient/lib/common/textSynchronization.js",".././client/node_modules/vscode-languageclient/lib/common/typeDefinition.js",".././client/node_modules/vscode-languageclient/lib/common/typeHierarchy.js",".././client/node_modules/vscode-languageclient/lib/common/utils/async.js",".././client/node_modules/vscode-languageclient/lib/common/utils/is.js",".././client/node_modules/vscode-languageclient/lib/common/utils/uuid.js",".././client/node_modules/vscode-languageclient/lib/common/workspaceFolder.js",".././client/node_modules/vscode-languageclient/lib/common/workspaceSymbol.js",".././client/node_modules/vscode-languageclient/lib/node/main.js",".././client/node_modules/vscode-languageclient/lib/node/processes.js",".././client/node_modules/vscode-languageclient/node.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/api.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/connection.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/messages.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineCompletion.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js",".././client/node_modules/vscode-languageserver-protocol/lib/common/utils/is.js",".././client/node_modules/vscode-languageserver-protocol/lib/node/main.js",".././client/node_modules/vscode-languageserver-protocol/node.js",".././client/node_modules/vscode-languageserver-types/lib/umd/main.js",".././client/node_modules/vscode-languageserver-types/lib/umd/ sync",".././node_modules/has-flag/index.js",".././node_modules/supports-color/index.js",".././client/src/commands/index.ts",".././client/src/constants.ts",".././client/src/context/context.ts",".././client/src/context/contextKey.ts",".././client/src/context/index.ts",".././client/src/extension.ts",".././client/src/report/index.ts",".././client/src/settings/index.ts",".././client/src/settings/sfdxCoreSettings.ts",".././client/src/sldsLanguageClient.ts",".././client/src/telemetry/cliConfiguration.ts",".././client/src/telemetry/index.ts",".././client/src/telemetry/telemetry.ts",".././client/src/telemetry/telemetryReporter.ts",".././client/src/telemetry/utils.ts",".././client/src/utilities.ts","../external commonjs \"vscode\"","../external commonjs2 \"@azure/functions-core\"","../external node-commonjs \"assert\"","../external node-commonjs \"async_hooks\"","../external node-commonjs \"child_process\"","../external node-commonjs \"console\"","../external node-commonjs \"constants\"","../external node-commonjs \"crypto\"","../external node-commonjs \"dns\"","../external node-commonjs \"events\"","../external node-commonjs \"fs\"","../external node-commonjs \"http\"","../external node-commonjs \"https\"","../external node-commonjs \"module\"","../external node-commonjs \"net\"","../external node-commonjs \"os\"","../external node-commonjs \"path\"","../external node-commonjs \"stream\"","../external node-commonjs \"timers\"","../external node-commonjs \"tls\"","../external node-commonjs \"tty\"","../external node-commonjs \"url\"","../external node-commonjs \"util\"","../external node-commonjs \"zlib\"",".././client/node_modules/@azure/core-tracing/dist/commonjs/state.js","../external node-commonjs \"node:os\"","../external node-commonjs \"node:util\"","../external node-commonjs \"node:process\"",".././client/node_modules/@azure/logger/dist/esm/debug.js",".././client/node_modules/@azure/logger/dist/esm/log.js",".././client/node_modules/@azure/logger/dist/esm/index.js","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/startup"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nconst ValidPhaseNames = new Set([\"Deserialize\", \"Serialize\", \"Retry\", \"Sign\"]);\n/**\n * A private implementation of Pipeline.\n * Do not export this class from the package.\n * @internal\n */\nclass HttpPipeline {\n    constructor(policies) {\n        var _a;\n        this._policies = [];\n        this._policies = (_a = policies === null || policies === void 0 ? void 0 : policies.slice(0)) !== null && _a !== void 0 ? _a : [];\n        this._orderedPolicies = undefined;\n    }\n    addPolicy(policy, options = {}) {\n        if (options.phase && options.afterPhase) {\n            throw new Error(\"Policies inside a phase cannot specify afterPhase.\");\n        }\n        if (options.phase && !ValidPhaseNames.has(options.phase)) {\n            throw new Error(`Invalid phase name: ${options.phase}`);\n        }\n        if (options.afterPhase && !ValidPhaseNames.has(options.afterPhase)) {\n            throw new Error(`Invalid afterPhase name: ${options.afterPhase}`);\n        }\n        this._policies.push({\n            policy,\n            options,\n        });\n        this._orderedPolicies = undefined;\n    }\n    removePolicy(options) {\n        const removedPolicies = [];\n        this._policies = this._policies.filter((policyDescriptor) => {\n            if ((options.name && policyDescriptor.policy.name === options.name) ||\n                (options.phase && policyDescriptor.options.phase === options.phase)) {\n                removedPolicies.push(policyDescriptor.policy);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n        this._orderedPolicies = undefined;\n        return removedPolicies;\n    }\n    sendRequest(httpClient, request) {\n        const policies = this.getOrderedPolicies();\n        const pipeline = policies.reduceRight((next, policy) => {\n            return (req) => {\n                return policy.sendRequest(req, next);\n            };\n        }, (req) => httpClient.sendRequest(req));\n        return pipeline(request);\n    }\n    getOrderedPolicies() {\n        if (!this._orderedPolicies) {\n            this._orderedPolicies = this.orderPolicies();\n        }\n        return this._orderedPolicies;\n    }\n    clone() {\n        return new HttpPipeline(this._policies);\n    }\n    static create() {\n        return new HttpPipeline();\n    }\n    orderPolicies() {\n        /**\n         * The goal of this method is to reliably order pipeline policies\n         * based on their declared requirements when they were added.\n         *\n         * Order is first determined by phase:\n         *\n         * 1. Serialize Phase\n         * 2. Policies not in a phase\n         * 3. Deserialize Phase\n         * 4. Retry Phase\n         * 5. Sign Phase\n         *\n         * Within each phase, policies are executed in the order\n         * they were added unless they were specified to execute\n         * before/after other policies or after a particular phase.\n         *\n         * To determine the final order, we will walk the policy list\n         * in phase order multiple times until all dependencies are\n         * satisfied.\n         *\n         * `afterPolicies` are the set of policies that must be\n         * executed before a given policy. This requirement is\n         * considered satisfied when each of the listed policies\n         * have been scheduled.\n         *\n         * `beforePolicies` are the set of policies that must be\n         * executed after a given policy. Since this dependency\n         * can be expressed by converting it into a equivalent\n         * `afterPolicies` declarations, they are normalized\n         * into that form for simplicity.\n         *\n         * An `afterPhase` dependency is considered satisfied when all\n         * policies in that phase have scheduled.\n         *\n         */\n        const result = [];\n        // Track all policies we know about.\n        const policyMap = new Map();\n        function createPhase(name) {\n            return {\n                name,\n                policies: new Set(),\n                hasRun: false,\n                hasAfterPolicies: false,\n            };\n        }\n        // Track policies for each phase.\n        const serializePhase = createPhase(\"Serialize\");\n        const noPhase = createPhase(\"None\");\n        const deserializePhase = createPhase(\"Deserialize\");\n        const retryPhase = createPhase(\"Retry\");\n        const signPhase = createPhase(\"Sign\");\n        // a list of phases in order\n        const orderedPhases = [serializePhase, noPhase, deserializePhase, retryPhase, signPhase];\n        // Small helper function to map phase name to each Phase\n        function getPhase(phase) {\n            if (phase === \"Retry\") {\n                return retryPhase;\n            }\n            else if (phase === \"Serialize\") {\n                return serializePhase;\n            }\n            else if (phase === \"Deserialize\") {\n                return deserializePhase;\n            }\n            else if (phase === \"Sign\") {\n                return signPhase;\n            }\n            else {\n                return noPhase;\n            }\n        }\n        // First walk each policy and create a node to track metadata.\n        for (const descriptor of this._policies) {\n            const policy = descriptor.policy;\n            const options = descriptor.options;\n            const policyName = policy.name;\n            if (policyMap.has(policyName)) {\n                throw new Error(\"Duplicate policy names not allowed in pipeline\");\n            }\n            const node = {\n                policy,\n                dependsOn: new Set(),\n                dependants: new Set(),\n            };\n            if (options.afterPhase) {\n                node.afterPhase = getPhase(options.afterPhase);\n                node.afterPhase.hasAfterPolicies = true;\n            }\n            policyMap.set(policyName, node);\n            const phase = getPhase(options.phase);\n            phase.policies.add(node);\n        }\n        // Now that each policy has a node, connect dependency references.\n        for (const descriptor of this._policies) {\n            const { policy, options } = descriptor;\n            const policyName = policy.name;\n            const node = policyMap.get(policyName);\n            if (!node) {\n                throw new Error(`Missing node for policy ${policyName}`);\n            }\n            if (options.afterPolicies) {\n                for (const afterPolicyName of options.afterPolicies) {\n                    const afterNode = policyMap.get(afterPolicyName);\n                    if (afterNode) {\n                        // Linking in both directions helps later\n                        // when we want to notify dependants.\n                        node.dependsOn.add(afterNode);\n                        afterNode.dependants.add(node);\n                    }\n                }\n            }\n            if (options.beforePolicies) {\n                for (const beforePolicyName of options.beforePolicies) {\n                    const beforeNode = policyMap.get(beforePolicyName);\n                    if (beforeNode) {\n                        // To execute before another node, make it\n                        // depend on the current node.\n                        beforeNode.dependsOn.add(node);\n                        node.dependants.add(beforeNode);\n                    }\n                }\n            }\n        }\n        function walkPhase(phase) {\n            phase.hasRun = true;\n            // Sets iterate in insertion order\n            for (const node of phase.policies) {\n                if (node.afterPhase && (!node.afterPhase.hasRun || node.afterPhase.policies.size)) {\n                    // If this node is waiting on a phase to complete,\n                    // we need to skip it for now.\n                    // Even if the phase is empty, we should wait for it\n                    // to be walked to avoid re-ordering policies.\n                    continue;\n                }\n                if (node.dependsOn.size === 0) {\n                    // If there's nothing else we're waiting for, we can\n                    // add this policy to the result list.\n                    result.push(node.policy);\n                    // Notify anything that depends on this policy that\n                    // the policy has been scheduled.\n                    for (const dependant of node.dependants) {\n                        dependant.dependsOn.delete(node);\n                    }\n                    policyMap.delete(node.policy.name);\n                    phase.policies.delete(node);\n                }\n            }\n        }\n        function walkPhases() {\n            for (const phase of orderedPhases) {\n                walkPhase(phase);\n                // if the phase isn't complete\n                if (phase.policies.size > 0 && phase !== noPhase) {\n                    if (!noPhase.hasRun) {\n                        // Try running noPhase to see if that unblocks this phase next tick.\n                        // This can happen if a phase that happens before noPhase\n                        // is waiting on a noPhase policy to complete.\n                        walkPhase(noPhase);\n                    }\n                    // Don't proceed to the next phase until this phase finishes.\n                    return;\n                }\n                if (phase.hasAfterPolicies) {\n                    // Run any policies unblocked by this phase\n                    walkPhase(noPhase);\n                }\n            }\n        }\n        // Iterate until we've put every node in the result list.\n        let iteration = 0;\n        while (policyMap.size > 0) {\n            iteration++;\n            const initialResultLength = result.length;\n            // Keep walking each phase in order until we can order every node.\n            walkPhases();\n            // The result list *should* get at least one larger each time\n            // after the first full pass.\n            // Otherwise, we're going to loop forever.\n            if (result.length <= initialResultLength && iteration > 1) {\n                throw new Error(\"Cannot satisfy policy dependencies due to requirements cycle.\");\n            }\n        }\n        return result;\n    }\n}\n/**\n * Creates a totally empty pipeline.\n * Useful for testing or creating a custom one.\n */\nexport function createEmptyPipeline() {\n    return HttpPipeline.create();\n}\n//# sourceMappingURL=pipeline.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createClientLogger } from \"@azure/logger\";\nexport const logger = createClientLogger(\"core-rest-pipeline\");\n//# sourceMappingURL=log.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Helper to determine when an input is a generic JS object.\n * @returns true when input is an object type that is not null, Array, RegExp, or Date.\n */\nexport function isObject(input) {\n    return (typeof input === \"object\" &&\n        input !== null &&\n        !Array.isArray(input) &&\n        !(input instanceof RegExp) &&\n        !(input instanceof Date));\n}\n//# sourceMappingURL=object.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isObject } from \"@azure/core-util\";\nconst RedactedString = \"REDACTED\";\n// Make sure this list is up-to-date with the one under core/logger/Readme#Keyconcepts\nconst defaultAllowedHeaderNames = [\n    \"x-ms-client-request-id\",\n    \"x-ms-return-client-request-id\",\n    \"x-ms-useragent\",\n    \"x-ms-correlation-request-id\",\n    \"x-ms-request-id\",\n    \"client-request-id\",\n    \"ms-cv\",\n    \"return-client-request-id\",\n    \"traceparent\",\n    \"Access-Control-Allow-Credentials\",\n    \"Access-Control-Allow-Headers\",\n    \"Access-Control-Allow-Methods\",\n    \"Access-Control-Allow-Origin\",\n    \"Access-Control-Expose-Headers\",\n    \"Access-Control-Max-Age\",\n    \"Access-Control-Request-Headers\",\n    \"Access-Control-Request-Method\",\n    \"Origin\",\n    \"Accept\",\n    \"Accept-Encoding\",\n    \"Cache-Control\",\n    \"Connection\",\n    \"Content-Length\",\n    \"Content-Type\",\n    \"Date\",\n    \"ETag\",\n    \"Expires\",\n    \"If-Match\",\n    \"If-Modified-Since\",\n    \"If-None-Match\",\n    \"If-Unmodified-Since\",\n    \"Last-Modified\",\n    \"Pragma\",\n    \"Request-Id\",\n    \"Retry-After\",\n    \"Server\",\n    \"Transfer-Encoding\",\n    \"User-Agent\",\n    \"WWW-Authenticate\",\n];\nconst defaultAllowedQueryParameters = [\"api-version\"];\n/**\n * @internal\n */\nexport class Sanitizer {\n    constructor({ additionalAllowedHeaderNames: allowedHeaderNames = [], additionalAllowedQueryParameters: allowedQueryParameters = [], } = {}) {\n        allowedHeaderNames = defaultAllowedHeaderNames.concat(allowedHeaderNames);\n        allowedQueryParameters = defaultAllowedQueryParameters.concat(allowedQueryParameters);\n        this.allowedHeaderNames = new Set(allowedHeaderNames.map((n) => n.toLowerCase()));\n        this.allowedQueryParameters = new Set(allowedQueryParameters.map((p) => p.toLowerCase()));\n    }\n    sanitize(obj) {\n        const seen = new Set();\n        return JSON.stringify(obj, (key, value) => {\n            // Ensure Errors include their interesting non-enumerable members\n            if (value instanceof Error) {\n                return Object.assign(Object.assign({}, value), { name: value.name, message: value.message });\n            }\n            if (key === \"headers\") {\n                return this.sanitizeHeaders(value);\n            }\n            else if (key === \"url\") {\n                return this.sanitizeUrl(value);\n            }\n            else if (key === \"query\") {\n                return this.sanitizeQuery(value);\n            }\n            else if (key === \"body\") {\n                // Don't log the request body\n                return undefined;\n            }\n            else if (key === \"response\") {\n                // Don't log response again\n                return undefined;\n            }\n            else if (key === \"operationSpec\") {\n                // When using sendOperationRequest, the request carries a massive\n                // field with the autorest spec. No need to log it.\n                return undefined;\n            }\n            else if (Array.isArray(value) || isObject(value)) {\n                if (seen.has(value)) {\n                    return \"[Circular]\";\n                }\n                seen.add(value);\n            }\n            return value;\n        }, 2);\n    }\n    sanitizeHeaders(obj) {\n        const sanitized = {};\n        for (const key of Object.keys(obj)) {\n            if (this.allowedHeaderNames.has(key.toLowerCase())) {\n                sanitized[key] = obj[key];\n            }\n            else {\n                sanitized[key] = RedactedString;\n            }\n        }\n        return sanitized;\n    }\n    sanitizeQuery(value) {\n        if (typeof value !== \"object\" || value === null) {\n            return value;\n        }\n        const sanitized = {};\n        for (const k of Object.keys(value)) {\n            if (this.allowedQueryParameters.has(k.toLowerCase())) {\n                sanitized[k] = value[k];\n            }\n            else {\n                sanitized[k] = RedactedString;\n            }\n        }\n        return sanitized;\n    }\n    sanitizeUrl(value) {\n        if (typeof value !== \"string\" || value === null) {\n            return value;\n        }\n        const url = new URL(value);\n        if (!url.search) {\n            return value;\n        }\n        for (const [key] of url.searchParams) {\n            if (!this.allowedQueryParameters.has(key.toLowerCase())) {\n                url.searchParams.set(key, RedactedString);\n            }\n        }\n        return url.toString();\n    }\n}\n//# sourceMappingURL=sanitizer.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { logger as coreLogger } from \"../log\";\nimport { Sanitizer } from \"../util/sanitizer\";\n/**\n * The programmatic identifier of the logPolicy.\n */\nexport const logPolicyName = \"logPolicy\";\n/**\n * A policy that logs all requests and responses.\n * @param options - Options to configure logPolicy.\n */\nexport function logPolicy(options = {}) {\n    var _a;\n    const logger = (_a = options.logger) !== null && _a !== void 0 ? _a : coreLogger.info;\n    const sanitizer = new Sanitizer({\n        additionalAllowedHeaderNames: options.additionalAllowedHeaderNames,\n        additionalAllowedQueryParameters: options.additionalAllowedQueryParameters,\n    });\n    return {\n        name: logPolicyName,\n        async sendRequest(request, next) {\n            if (!logger.enabled) {\n                return next(request);\n            }\n            logger(`Request: ${sanitizer.sanitize(request)}`);\n            const response = await next(request);\n            logger(`Response status code: ${response.status}`);\n            logger(`Headers: ${sanitizer.sanitize(response.headers)}`);\n            return response;\n        },\n    };\n}\n//# sourceMappingURL=logPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * The programmatic identifier of the redirectPolicy.\n */\nexport const redirectPolicyName = \"redirectPolicy\";\n/**\n * Methods that are allowed to follow redirects 301 and 302\n */\nconst allowedRedirect = [\"GET\", \"HEAD\"];\n/**\n * A policy to follow Location headers from the server in order\n * to support server-side redirection.\n * In the browser, this policy is not used.\n * @param options - Options to control policy behavior.\n */\nexport function redirectPolicy(options = {}) {\n    const { maxRetries = 20 } = options;\n    return {\n        name: redirectPolicyName,\n        async sendRequest(request, next) {\n            const response = await next(request);\n            return handleRedirect(next, response, maxRetries);\n        },\n    };\n}\nasync function handleRedirect(next, response, maxRetries, currentRetries = 0) {\n    const { request, status, headers } = response;\n    const locationHeader = headers.get(\"location\");\n    if (locationHeader &&\n        (status === 300 ||\n            (status === 301 && allowedRedirect.includes(request.method)) ||\n            (status === 302 && allowedRedirect.includes(request.method)) ||\n            (status === 303 && request.method === \"POST\") ||\n            status === 307) &&\n        currentRetries < maxRetries) {\n        const url = new URL(locationHeader, request.url);\n        request.url = url.toString();\n        // POST request with Status code 303 should be converted into a\n        // redirected GET request if the redirect url is present in the location header\n        if (status === 303) {\n            request.method = \"GET\";\n            request.headers.delete(\"Content-Length\");\n            delete request.body;\n        }\n        request.headers.delete(\"Authorization\");\n        const res = await next(request);\n        return handleRedirect(next, res, maxRetries, currentRetries + 1);\n    }\n    return response;\n}\n//# sourceMappingURL=redirectPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nexport const SDK_VERSION = \"1.10.1\";\nexport const DEFAULT_RETRY_POLICY_COUNT = 3;\n//# sourceMappingURL=constants.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getHeaderName, setPlatformSpecificData } from \"./userAgentPlatform\";\nimport { SDK_VERSION } from \"../constants\";\nfunction getUserAgentString(telemetryInfo) {\n    const parts = [];\n    for (const [key, value] of telemetryInfo) {\n        const token = value ? `${key}/${value}` : key;\n        parts.push(token);\n    }\n    return parts.join(\" \");\n}\n/**\n * @internal\n */\nexport function getUserAgentHeaderName() {\n    return getHeaderName();\n}\n/**\n * @internal\n */\nexport function getUserAgentValue(prefix) {\n    const runtimeInfo = new Map();\n    runtimeInfo.set(\"core-rest-pipeline\", SDK_VERSION);\n    setPlatformSpecificData(runtimeInfo);\n    const defaultAgent = getUserAgentString(runtimeInfo);\n    const userAgentValue = prefix ? `${prefix} ${defaultAgent}` : defaultAgent;\n    return userAgentValue;\n}\n//# sourceMappingURL=userAgent.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport * as os from \"os\";\n/**\n * @internal\n */\nexport function getHeaderName() {\n    return \"User-Agent\";\n}\n/**\n * @internal\n */\nexport function setPlatformSpecificData(map) {\n    map.set(\"Node\", process.version);\n    map.set(\"OS\", `(${os.arch()}-${os.type()}-${os.release()})`);\n}\n//# sourceMappingURL=userAgentPlatform.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getUserAgentHeaderName, getUserAgentValue } from \"../util/userAgent\";\nconst UserAgentHeaderName = getUserAgentHeaderName();\n/**\n * The programmatic identifier of the userAgentPolicy.\n */\nexport const userAgentPolicyName = \"userAgentPolicy\";\n/**\n * A policy that sets the User-Agent header (or equivalent) to reflect\n * the library version.\n * @param options - Options to customize the user agent value.\n */\nexport function userAgentPolicy(options = {}) {\n    const userAgentValue = getUserAgentValue(options.userAgentPrefix);\n    return {\n        name: userAgentPolicyName,\n        async sendRequest(request, next) {\n            if (!request.headers.has(UserAgentHeaderName)) {\n                request.headers.set(UserAgentHeaderName, userAgentValue);\n            }\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=userAgentPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * The programmatic identifier of the decompressResponsePolicy.\n */\nexport const decompressResponsePolicyName = \"decompressResponsePolicy\";\n/**\n * A policy to enable response decompression according to Accept-Encoding header\n * https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding\n */\nexport function decompressResponsePolicy() {\n    return {\n        name: decompressResponsePolicyName,\n        async sendRequest(request, next) {\n            // HEAD requests have no body\n            if (request.method !== \"HEAD\") {\n                request.headers.set(\"Accept-Encoding\", \"gzip,deflate\");\n            }\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=decompressResponsePolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/// <reference path=\"../shims-public.d.ts\" />\nconst listenersMap = new WeakMap();\nconst abortedMap = new WeakMap();\n/**\n * An aborter instance implements AbortSignal interface, can abort HTTP requests.\n *\n * - Call AbortSignal.none to create a new AbortSignal instance that cannot be cancelled.\n * Use `AbortSignal.none` when you are required to pass a cancellation token but the operation\n * cannot or will not ever be cancelled.\n *\n * @example\n * Abort without timeout\n * ```ts\n * await doAsyncWork(AbortSignal.none);\n * ```\n */\nexport class AbortSignal {\n    constructor() {\n        /**\n         * onabort event listener.\n         */\n        this.onabort = null;\n        listenersMap.set(this, []);\n        abortedMap.set(this, false);\n    }\n    /**\n     * Status of whether aborted or not.\n     *\n     * @readonly\n     */\n    get aborted() {\n        if (!abortedMap.has(this)) {\n            throw new TypeError(\"Expected `this` to be an instance of AbortSignal.\");\n        }\n        return abortedMap.get(this);\n    }\n    /**\n     * Creates a new AbortSignal instance that will never be aborted.\n     *\n     * @readonly\n     */\n    static get none() {\n        return new AbortSignal();\n    }\n    /**\n     * Added new \"abort\" event listener, only support \"abort\" event.\n     *\n     * @param _type - Only support \"abort\" event\n     * @param listener - The listener to be added\n     */\n    addEventListener(\n    // tslint:disable-next-line:variable-name\n    _type, listener) {\n        if (!listenersMap.has(this)) {\n            throw new TypeError(\"Expected `this` to be an instance of AbortSignal.\");\n        }\n        const listeners = listenersMap.get(this);\n        listeners.push(listener);\n    }\n    /**\n     * Remove \"abort\" event listener, only support \"abort\" event.\n     *\n     * @param _type - Only support \"abort\" event\n     * @param listener - The listener to be removed\n     */\n    removeEventListener(\n    // tslint:disable-next-line:variable-name\n    _type, listener) {\n        if (!listenersMap.has(this)) {\n            throw new TypeError(\"Expected `this` to be an instance of AbortSignal.\");\n        }\n        const listeners = listenersMap.get(this);\n        const index = listeners.indexOf(listener);\n        if (index > -1) {\n            listeners.splice(index, 1);\n        }\n    }\n    /**\n     * Dispatches a synthetic event to the AbortSignal.\n     */\n    dispatchEvent(_event) {\n        throw new Error(\"This is a stub dispatchEvent implementation that should not be used.  It only exists for type-checking purposes.\");\n    }\n}\n/**\n * Helper to trigger an abort event immediately, the onabort and all abort event listeners will be triggered.\n * Will try to trigger abort event for all linked AbortSignal nodes.\n *\n * - If there is a timeout, the timer will be cancelled.\n * - If aborted is true, nothing will happen.\n *\n * @internal\n */\n// eslint-disable-next-line @azure/azure-sdk/ts-use-interface-parameters\nexport function abortSignal(signal) {\n    if (signal.aborted) {\n        return;\n    }\n    if (signal.onabort) {\n        signal.onabort.call(signal);\n    }\n    const listeners = listenersMap.get(signal);\n    if (listeners) {\n        // Create a copy of listeners so mutations to the array\n        // (e.g. via removeListener calls) don't affect the listeners\n        // we invoke.\n        listeners.slice().forEach((listener) => {\n            listener.call(signal, { type: \"abort\" });\n        });\n    }\n    abortedMap.set(signal, true);\n}\n//# sourceMappingURL=AbortSignal.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { AbortSignal, abortSignal } from \"./AbortSignal\";\n/**\n * This error is thrown when an asynchronous operation has been aborted.\n * Check for this error by testing the `name` that the name property of the\n * error matches `\"AbortError\"`.\n *\n * @example\n * ```ts\n * const controller = new AbortController();\n * controller.abort();\n * try {\n *   doAsyncWork(controller.signal)\n * } catch (e) {\n *   if (e.name === 'AbortError') {\n *     // handle abort error here.\n *   }\n * }\n * ```\n */\nexport class AbortError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = \"AbortError\";\n    }\n}\n/**\n * An AbortController provides an AbortSignal and the associated controls to signal\n * that an asynchronous operation should be aborted.\n *\n * @example\n * Abort an operation when another event fires\n * ```ts\n * const controller = new AbortController();\n * const signal = controller.signal;\n * doAsyncWork(signal);\n * button.addEventListener('click', () => controller.abort());\n * ```\n *\n * @example\n * Share aborter cross multiple operations in 30s\n * ```ts\n * // Upload the same data to 2 different data centers at the same time,\n * // abort another when any of them is finished\n * const controller = AbortController.withTimeout(30 * 1000);\n * doAsyncWork(controller.signal).then(controller.abort);\n * doAsyncWork(controller.signal).then(controller.abort);\n *```\n *\n * @example\n * Cascaded aborting\n * ```ts\n * // All operations can't take more than 30 seconds\n * const aborter = Aborter.timeout(30 * 1000);\n *\n * // Following 2 operations can't take more than 25 seconds\n * await doAsyncWork(aborter.withTimeout(25 * 1000));\n * await doAsyncWork(aborter.withTimeout(25 * 1000));\n * ```\n */\nexport class AbortController {\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    constructor(parentSignals) {\n        this._signal = new AbortSignal();\n        if (!parentSignals) {\n            return;\n        }\n        // coerce parentSignals into an array\n        if (!Array.isArray(parentSignals)) {\n            // eslint-disable-next-line prefer-rest-params\n            parentSignals = arguments;\n        }\n        for (const parentSignal of parentSignals) {\n            // if the parent signal has already had abort() called,\n            // then call abort on this signal as well.\n            if (parentSignal.aborted) {\n                this.abort();\n            }\n            else {\n                // when the parent signal aborts, this signal should as well.\n                parentSignal.addEventListener(\"abort\", () => {\n                    this.abort();\n                });\n            }\n        }\n    }\n    /**\n     * The AbortSignal associated with this controller that will signal aborted\n     * when the abort method is called on this controller.\n     *\n     * @readonly\n     */\n    get signal() {\n        return this._signal;\n    }\n    /**\n     * Signal that any operations passed this controller's associated abort signal\n     * to cancel any remaining work and throw an `AbortError`.\n     */\n    abort() {\n        abortSignal(this._signal);\n    }\n    /**\n     * Creates a new AbortSignal instance that will abort after the provided ms.\n     * @param ms - Elapsed time in milliseconds to trigger an abort.\n     */\n    static timeout(ms) {\n        const signal = new AbortSignal();\n        const timer = setTimeout(abortSignal, ms, signal);\n        // Prevent the active Timer from keeping the Node.js event loop active.\n        if (typeof timer.unref === \"function\") {\n            timer.unref();\n        }\n        return signal;\n    }\n}\n//# sourceMappingURL=AbortController.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { AbortError } from \"@azure/abort-controller\";\nconst StandardAbortMessage = \"The operation was aborted.\";\n/**\n * A wrapper for setTimeout that resolves a promise after delayInMs milliseconds.\n * @param delayInMs - The number of milliseconds to be delayed.\n * @param value - The value to be resolved with after a timeout of t milliseconds.\n * @param options - The options for delay - currently abort options\n *                  - abortSignal - The abortSignal associated with containing operation.\n *                  - abortErrorMsg - The abort error message associated with containing operation.\n * @returns Resolved promise\n */\nexport function delay(delayInMs, value, options) {\n    return new Promise((resolve, reject) => {\n        let timer = undefined;\n        let onAborted = undefined;\n        const rejectOnAbort = () => {\n            return reject(new AbortError((options === null || options === void 0 ? void 0 : options.abortErrorMsg) ? options === null || options === void 0 ? void 0 : options.abortErrorMsg : StandardAbortMessage));\n        };\n        const removeListeners = () => {\n            if ((options === null || options === void 0 ? void 0 : options.abortSignal) && onAborted) {\n                options.abortSignal.removeEventListener(\"abort\", onAborted);\n            }\n        };\n        onAborted = () => {\n            if (timer) {\n                clearTimeout(timer);\n            }\n            removeListeners();\n            return rejectOnAbort();\n        };\n        if ((options === null || options === void 0 ? void 0 : options.abortSignal) && options.abortSignal.aborted) {\n            return rejectOnAbort();\n        }\n        timer = setTimeout(() => {\n            removeListeners();\n            resolve(value);\n        }, delayInMs);\n        if (options === null || options === void 0 ? void 0 : options.abortSignal) {\n            options.abortSignal.addEventListener(\"abort\", onAborted);\n        }\n    });\n}\n/**\n * @internal\n * @returns the parsed value or undefined if the parsed value is invalid.\n */\nexport function parseHeaderValueAsNumber(response, headerName) {\n    const value = response.headers.get(headerName);\n    if (!value)\n        return;\n    const valueAsNum = Number(value);\n    if (Number.isNaN(valueAsNum))\n        return;\n    return valueAsNum;\n}\n//# sourceMappingURL=helpers.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { parseHeaderValueAsNumber } from \"../util/helpers\";\n/**\n * The header that comes back from Azure services representing\n * the amount of time (minimum) to wait to retry (in seconds or timestamp after which we can retry).\n */\nconst RetryAfterHeader = \"Retry-After\";\n/**\n * The headers that come back from Azure services representing\n * the amount of time (minimum) to wait to retry.\n *\n * \"retry-after-ms\", \"x-ms-retry-after-ms\" : milliseconds\n * \"Retry-After\" : seconds or timestamp\n */\nconst AllRetryAfterHeaders = [\"retry-after-ms\", \"x-ms-retry-after-ms\", RetryAfterHeader];\n/**\n * A response is a throttling retry response if it has a throttling status code (429 or 503),\n * as long as one of the [ \"Retry-After\" or \"retry-after-ms\" or \"x-ms-retry-after-ms\" ] headers has a valid value.\n *\n * Returns the `retryAfterInMs` value if the response is a throttling retry response.\n * If not throttling retry response, returns `undefined`.\n *\n * @internal\n */\nfunction getRetryAfterInMs(response) {\n    if (!(response && [429, 503].includes(response.status)))\n        return undefined;\n    try {\n        // Headers: \"retry-after-ms\", \"x-ms-retry-after-ms\", \"Retry-After\"\n        for (const header of AllRetryAfterHeaders) {\n            const retryAfterValue = parseHeaderValueAsNumber(response, header);\n            if (retryAfterValue === 0 || retryAfterValue) {\n                // \"Retry-After\" header ==> seconds\n                // \"retry-after-ms\", \"x-ms-retry-after-ms\" headers ==> milli-seconds\n                const multiplyingFactor = header === RetryAfterHeader ? 1000 : 1;\n                return retryAfterValue * multiplyingFactor; // in milli-seconds\n            }\n        }\n        // RetryAfterHeader (\"Retry-After\") has a special case where it might be formatted as a date instead of a number of seconds\n        const retryAfterHeader = response.headers.get(RetryAfterHeader);\n        if (!retryAfterHeader)\n            return;\n        const date = Date.parse(retryAfterHeader);\n        const diff = date - Date.now();\n        // negative diff would mean a date in the past, so retry asap with 0 milliseconds\n        return Number.isFinite(diff) ? Math.max(0, diff) : undefined;\n    }\n    catch (e) {\n        return undefined;\n    }\n}\n/**\n * A response is a retry response if it has a throttling status code (429 or 503),\n * as long as one of the [ \"Retry-After\" or \"retry-after-ms\" or \"x-ms-retry-after-ms\" ] headers has a valid value.\n */\nexport function isThrottlingRetryResponse(response) {\n    return Number.isFinite(getRetryAfterInMs(response));\n}\nexport function throttlingRetryStrategy() {\n    return {\n        name: \"throttlingRetryStrategy\",\n        retry({ response }) {\n            const retryAfterInMs = getRetryAfterInMs(response);\n            if (!Number.isFinite(retryAfterInMs)) {\n                return { skipStrategy: true };\n            }\n            return {\n                retryAfterInMs,\n            };\n        },\n    };\n}\n//# sourceMappingURL=throttlingRetryStrategy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getRandomIntegerInclusive } from \"@azure/core-util\";\nimport { isThrottlingRetryResponse } from \"./throttlingRetryStrategy\";\n// intervals are in milliseconds\nconst DEFAULT_CLIENT_RETRY_INTERVAL = 1000;\nconst DEFAULT_CLIENT_MAX_RETRY_INTERVAL = 1000 * 64;\n/**\n * A retry strategy that retries with an exponentially increasing delay in these two cases:\n * - When there are errors in the underlying transport layer (e.g. DNS lookup failures).\n * - Or otherwise if the outgoing request fails (408, greater or equal than 500, except for 501 and 505).\n */\nexport function exponentialRetryStrategy(options = {}) {\n    var _a, _b;\n    const retryInterval = (_a = options.retryDelayInMs) !== null && _a !== void 0 ? _a : DEFAULT_CLIENT_RETRY_INTERVAL;\n    const maxRetryInterval = (_b = options.maxRetryDelayInMs) !== null && _b !== void 0 ? _b : DEFAULT_CLIENT_MAX_RETRY_INTERVAL;\n    let retryAfterInMs = retryInterval;\n    return {\n        name: \"exponentialRetryStrategy\",\n        retry({ retryCount, response, responseError }) {\n            const matchedSystemError = isSystemError(responseError);\n            const ignoreSystemErrors = matchedSystemError && options.ignoreSystemErrors;\n            const isExponential = isExponentialRetryResponse(response);\n            const ignoreExponentialResponse = isExponential && options.ignoreHttpStatusCodes;\n            const unknownResponse = response && (isThrottlingRetryResponse(response) || !isExponential);\n            if (unknownResponse || ignoreExponentialResponse || ignoreSystemErrors) {\n                return { skipStrategy: true };\n            }\n            if (responseError && !matchedSystemError && !isExponential) {\n                return { errorToThrow: responseError };\n            }\n            // Exponentially increase the delay each time\n            const exponentialDelay = retryAfterInMs * Math.pow(2, retryCount);\n            // Don't let the delay exceed the maximum\n            const clampedExponentialDelay = Math.min(maxRetryInterval, exponentialDelay);\n            // Allow the final value to have some \"jitter\" (within 50% of the delay size) so\n            // that retries across multiple clients don't occur simultaneously.\n            retryAfterInMs =\n                clampedExponentialDelay / 2 + getRandomIntegerInclusive(0, clampedExponentialDelay / 2);\n            return { retryAfterInMs };\n        },\n    };\n}\n/**\n * A response is a retry response if it has status codes:\n * - 408, or\n * - Greater or equal than 500, except for 501 and 505.\n */\nexport function isExponentialRetryResponse(response) {\n    return Boolean(response &&\n        response.status !== undefined &&\n        (response.status >= 500 || response.status === 408) &&\n        response.status !== 501 &&\n        response.status !== 505);\n}\n/**\n * Determines whether an error from a pipeline response was triggered in the network layer.\n */\nexport function isSystemError(err) {\n    if (!err) {\n        return false;\n    }\n    return (err.code === \"ETIMEDOUT\" ||\n        err.code === \"ESOCKETTIMEDOUT\" ||\n        err.code === \"ECONNREFUSED\" ||\n        err.code === \"ECONNRESET\" ||\n        err.code === \"ENOENT\");\n}\n//# sourceMappingURL=exponentialRetryStrategy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Returns a random integer value between a lower and upper bound,\n * inclusive of both bounds.\n * Note that this uses Math.random and isn't secure. If you need to use\n * this for any kind of security purpose, find a better source of random.\n * @param min - The smallest integer value allowed.\n * @param max - The largest integer value allowed.\n */\nexport function getRandomIntegerInclusive(min, max) {\n    // Make sure inputs are integers.\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    // Pick a random offset from zero to the size of the range.\n    // Since Math.random() can never return 1, we have to make the range one larger\n    // in order to be inclusive of the maximum value after we take the floor.\n    const offset = Math.floor(Math.random() * (max - min + 1));\n    return offset + min;\n}\n//# sourceMappingURL=random.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { delay } from \"../util/helpers\";\nimport { createClientLogger } from \"@azure/logger\";\nimport { AbortError } from \"@azure/abort-controller\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants\";\nconst retryPolicyLogger = createClientLogger(\"core-rest-pipeline retryPolicy\");\n/**\n * The programmatic identifier of the retryPolicy.\n */\nconst retryPolicyName = \"retryPolicy\";\n/**\n * retryPolicy is a generic policy to enable retrying requests when certain conditions are met\n */\nexport function retryPolicy(strategies, options = { maxRetries: DEFAULT_RETRY_POLICY_COUNT }) {\n    const logger = options.logger || retryPolicyLogger;\n    return {\n        name: retryPolicyName,\n        async sendRequest(request, next) {\n            var _a, _b;\n            let response;\n            let responseError;\n            let retryCount = -1;\n            // eslint-disable-next-line no-constant-condition\n            retryRequest: while (true) {\n                retryCount += 1;\n                response = undefined;\n                responseError = undefined;\n                try {\n                    logger.info(`Retry ${retryCount}: Attempting to send request`, request.requestId);\n                    response = await next(request);\n                    logger.info(`Retry ${retryCount}: Received a response from request`, request.requestId);\n                }\n                catch (e) {\n                    logger.error(`Retry ${retryCount}: Received an error from request`, request.requestId);\n                    // RestErrors are valid targets for the retry strategies.\n                    // If none of the retry strategies can work with them, they will be thrown later in this policy.\n                    // If the received error is not a RestError, it is immediately thrown.\n                    responseError = e;\n                    if (!e || responseError.name !== \"RestError\") {\n                        throw e;\n                    }\n                    response = responseError.response;\n                }\n                if ((_a = request.abortSignal) === null || _a === void 0 ? void 0 : _a.aborted) {\n                    logger.error(`Retry ${retryCount}: Request aborted.`);\n                    const abortError = new AbortError();\n                    throw abortError;\n                }\n                if (retryCount >= ((_b = options.maxRetries) !== null && _b !== void 0 ? _b : DEFAULT_RETRY_POLICY_COUNT)) {\n                    logger.info(`Retry ${retryCount}: Maximum retries reached. Returning the last received response, or throwing the last received error.`);\n                    if (responseError) {\n                        throw responseError;\n                    }\n                    else if (response) {\n                        return response;\n                    }\n                    else {\n                        throw new Error(\"Maximum retries reached with no response or error to throw\");\n                    }\n                }\n                logger.info(`Retry ${retryCount}: Processing ${strategies.length} retry strategies.`);\n                strategiesLoop: for (const strategy of strategies) {\n                    const strategyLogger = strategy.logger || retryPolicyLogger;\n                    strategyLogger.info(`Retry ${retryCount}: Processing retry strategy ${strategy.name}.`);\n                    const modifiers = strategy.retry({\n                        retryCount,\n                        response,\n                        responseError,\n                    });\n                    if (modifiers.skipStrategy) {\n                        strategyLogger.info(`Retry ${retryCount}: Skipped.`);\n                        continue strategiesLoop;\n                    }\n                    const { errorToThrow, retryAfterInMs, redirectTo } = modifiers;\n                    if (errorToThrow) {\n                        strategyLogger.error(`Retry ${retryCount}: Retry strategy ${strategy.name} throws error:`, errorToThrow);\n                        throw errorToThrow;\n                    }\n                    if (retryAfterInMs || retryAfterInMs === 0) {\n                        strategyLogger.info(`Retry ${retryCount}: Retry strategy ${strategy.name} retries after ${retryAfterInMs}`);\n                        await delay(retryAfterInMs, undefined, { abortSignal: request.abortSignal });\n                        continue retryRequest;\n                    }\n                    if (redirectTo) {\n                        strategyLogger.info(`Retry ${retryCount}: Retry strategy ${strategy.name} redirects to ${redirectTo}`);\n                        request.url = redirectTo;\n                        continue retryRequest;\n                    }\n                }\n                if (responseError) {\n                    logger.info(`None of the retry strategies could work with the received error. Throwing it.`);\n                    throw responseError;\n                }\n                if (response) {\n                    logger.info(`None of the retry strategies could work with the received response. Returning it.`);\n                    return response;\n                }\n                // If all the retries skip and there's no response,\n                // we're still in the retry loop, so a new request will be sent\n                // until `maxRetries` is reached.\n            }\n        },\n    };\n}\n//# sourceMappingURL=retryPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { exponentialRetryStrategy } from \"../retryStrategies/exponentialRetryStrategy\";\nimport { throttlingRetryStrategy } from \"../retryStrategies/throttlingRetryStrategy\";\nimport { retryPolicy } from \"./retryPolicy\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants\";\n/**\n * Name of the {@link defaultRetryPolicy}\n */\nexport const defaultRetryPolicyName = \"defaultRetryPolicy\";\n/**\n * A policy that retries according to three strategies:\n * - When the server sends a 429 response with a Retry-After header.\n * - When there are errors in the underlying transport layer (e.g. DNS lookup failures).\n * - Or otherwise if the outgoing request fails, it will retry with an exponentially increasing delay.\n */\nexport function defaultRetryPolicy(options = {}) {\n    var _a;\n    return {\n        name: defaultRetryPolicyName,\n        sendRequest: retryPolicy([throttlingRetryStrategy(), exponentialRetryStrategy(options)], {\n            maxRetries: (_a = options.maxRetries) !== null && _a !== void 0 ? _a : DEFAULT_RETRY_POLICY_COUNT,\n        }).sendRequest,\n    };\n}\n//# sourceMappingURL=defaultRetryPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport FormData from \"form-data\";\n/**\n * The programmatic identifier of the formDataPolicy.\n */\nexport const formDataPolicyName = \"formDataPolicy\";\n/**\n * A policy that encodes FormData on the request into the body.\n */\nexport function formDataPolicy() {\n    return {\n        name: formDataPolicyName,\n        async sendRequest(request, next) {\n            if (request.formData) {\n                const contentType = request.headers.get(\"Content-Type\");\n                if (contentType && contentType.indexOf(\"application/x-www-form-urlencoded\") !== -1) {\n                    request.body = wwwFormUrlEncode(request.formData);\n                    request.formData = undefined;\n                }\n                else {\n                    await prepareFormData(request.formData, request);\n                }\n            }\n            return next(request);\n        },\n    };\n}\nfunction wwwFormUrlEncode(formData) {\n    const urlSearchParams = new URLSearchParams();\n    for (const [key, value] of Object.entries(formData)) {\n        if (Array.isArray(value)) {\n            for (const subValue of value) {\n                urlSearchParams.append(key, subValue.toString());\n            }\n        }\n        else {\n            urlSearchParams.append(key, value.toString());\n        }\n    }\n    return urlSearchParams.toString();\n}\nasync function prepareFormData(formData, request) {\n    const requestForm = new FormData();\n    for (const formKey of Object.keys(formData)) {\n        const formValue = formData[formKey];\n        if (Array.isArray(formValue)) {\n            for (const subValue of formValue) {\n                requestForm.append(formKey, subValue);\n            }\n        }\n        else {\n            requestForm.append(formKey, formValue);\n        }\n    }\n    request.body = requestForm;\n    request.formData = undefined;\n    const contentType = request.headers.get(\"Content-Type\");\n    if (contentType && contentType.indexOf(\"multipart/form-data\") !== -1) {\n        request.headers.set(\"Content-Type\", `multipart/form-data; boundary=${requestForm.getBoundary()}`);\n    }\n    try {\n        const contentLength = await new Promise((resolve, reject) => {\n            requestForm.getLength((err, length) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(length);\n                }\n            });\n        });\n        request.headers.set(\"Content-Length\", contentLength);\n    }\n    catch (e) {\n        // ignore setting the length if this fails\n    }\n}\n//# sourceMappingURL=formDataPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nvar _a;\n/**\n * A constant that indicates whether the environment the code is running is Node.JS.\n */\nexport const isNode = typeof process !== \"undefined\" && Boolean(process.version) && Boolean((_a = process.versions) === null || _a === void 0 ? void 0 : _a.node);\n//# sourceMappingURL=isNode.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { HttpsProxyAgent } from \"https-proxy-agent\";\nimport { HttpProxyAgent } from \"http-proxy-agent\";\nimport { logger } from \"../log\";\nconst HTTPS_PROXY = \"HTTPS_PROXY\";\nconst HTTP_PROXY = \"HTTP_PROXY\";\nconst ALL_PROXY = \"ALL_PROXY\";\nconst NO_PROXY = \"NO_PROXY\";\n/**\n * The programmatic identifier of the proxyPolicy.\n */\nexport const proxyPolicyName = \"proxyPolicy\";\n/**\n * Stores the patterns specified in NO_PROXY environment variable.\n * @internal\n */\nexport const globalNoProxyList = [];\nlet noProxyListLoaded = false;\n/** A cache of whether a host should bypass the proxy. */\nconst globalBypassedMap = new Map();\nfunction getEnvironmentValue(name) {\n    if (process.env[name]) {\n        return process.env[name];\n    }\n    else if (process.env[name.toLowerCase()]) {\n        return process.env[name.toLowerCase()];\n    }\n    return undefined;\n}\nfunction loadEnvironmentProxyValue() {\n    if (!process) {\n        return undefined;\n    }\n    const httpsProxy = getEnvironmentValue(HTTPS_PROXY);\n    const allProxy = getEnvironmentValue(ALL_PROXY);\n    const httpProxy = getEnvironmentValue(HTTP_PROXY);\n    return httpsProxy || allProxy || httpProxy;\n}\n/**\n * Check whether the host of a given `uri` matches any pattern in the no proxy list.\n * If there's a match, any request sent to the same host shouldn't have the proxy settings set.\n * This implementation is a port of https://github.com/Azure/azure-sdk-for-net/blob/8cca811371159e527159c7eb65602477898683e2/sdk/core/Azure.Core/src/Pipeline/Internal/HttpEnvironmentProxy.cs#L210\n */\nfunction isBypassed(uri, noProxyList, bypassedMap) {\n    if (noProxyList.length === 0) {\n        return false;\n    }\n    const host = new URL(uri).hostname;\n    if (bypassedMap === null || bypassedMap === void 0 ? void 0 : bypassedMap.has(host)) {\n        return bypassedMap.get(host);\n    }\n    let isBypassedFlag = false;\n    for (const pattern of noProxyList) {\n        if (pattern[0] === \".\") {\n            // This should match either domain it self or any subdomain or host\n            // .foo.com will match foo.com it self or *.foo.com\n            if (host.endsWith(pattern)) {\n                isBypassedFlag = true;\n            }\n            else {\n                if (host.length === pattern.length - 1 && host === pattern.slice(1)) {\n                    isBypassedFlag = true;\n                }\n            }\n        }\n        else {\n            if (host === pattern) {\n                isBypassedFlag = true;\n            }\n        }\n    }\n    bypassedMap === null || bypassedMap === void 0 ? void 0 : bypassedMap.set(host, isBypassedFlag);\n    return isBypassedFlag;\n}\nexport function loadNoProxy() {\n    const noProxy = getEnvironmentValue(NO_PROXY);\n    noProxyListLoaded = true;\n    if (noProxy) {\n        return noProxy\n            .split(\",\")\n            .map((item) => item.trim())\n            .filter((item) => item.length);\n    }\n    return [];\n}\n/**\n * This method converts a proxy url into `ProxySettings` for use with ProxyPolicy.\n * If no argument is given, it attempts to parse a proxy URL from the environment\n * variables `HTTPS_PROXY` or `HTTP_PROXY`.\n * @param proxyUrl - The url of the proxy to use. May contain authentication information.\n */\nexport function getDefaultProxySettings(proxyUrl) {\n    if (!proxyUrl) {\n        proxyUrl = loadEnvironmentProxyValue();\n        if (!proxyUrl) {\n            return undefined;\n        }\n    }\n    const parsedUrl = new URL(proxyUrl);\n    const schema = parsedUrl.protocol ? parsedUrl.protocol + \"//\" : \"\";\n    return {\n        host: schema + parsedUrl.hostname,\n        port: Number.parseInt(parsedUrl.port || \"80\"),\n        username: parsedUrl.username,\n        password: parsedUrl.password,\n    };\n}\n/**\n * @internal\n */\nexport function getProxyAgentOptions(proxySettings, { headers, tlsSettings }) {\n    let parsedProxyUrl;\n    try {\n        parsedProxyUrl = new URL(proxySettings.host);\n    }\n    catch (_error) {\n        throw new Error(`Expecting a valid host string in proxy settings, but found \"${proxySettings.host}\".`);\n    }\n    if (tlsSettings) {\n        logger.warning(\"TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.\");\n    }\n    const proxyAgentOptions = {\n        hostname: parsedProxyUrl.hostname,\n        port: proxySettings.port,\n        protocol: parsedProxyUrl.protocol,\n        headers: headers.toJSON(),\n    };\n    if (proxySettings.username && proxySettings.password) {\n        proxyAgentOptions.auth = `${proxySettings.username}:${proxySettings.password}`;\n    }\n    else if (proxySettings.username) {\n        proxyAgentOptions.auth = `${proxySettings.username}`;\n    }\n    return proxyAgentOptions;\n}\nfunction setProxyAgentOnRequest(request, cachedAgents) {\n    // Custom Agent should take precedence so if one is present\n    // we should skip to avoid overwriting it.\n    if (request.agent) {\n        return;\n    }\n    const url = new URL(request.url);\n    const isInsecure = url.protocol !== \"https:\";\n    const proxySettings = request.proxySettings;\n    if (proxySettings) {\n        if (isInsecure) {\n            if (!cachedAgents.httpProxyAgent) {\n                const proxyAgentOptions = getProxyAgentOptions(proxySettings, request);\n                cachedAgents.httpProxyAgent = new HttpProxyAgent(proxyAgentOptions);\n            }\n            request.agent = cachedAgents.httpProxyAgent;\n        }\n        else {\n            if (!cachedAgents.httpsProxyAgent) {\n                const proxyAgentOptions = getProxyAgentOptions(proxySettings, request);\n                cachedAgents.httpsProxyAgent = new HttpsProxyAgent(proxyAgentOptions);\n            }\n            request.agent = cachedAgents.httpsProxyAgent;\n        }\n    }\n}\n/**\n * A policy that allows one to apply proxy settings to all requests.\n * If not passed static settings, they will be retrieved from the HTTPS_PROXY\n * or HTTP_PROXY environment variables.\n * @param proxySettings - ProxySettings to use on each request.\n * @param options - additional settings, for example, custom NO_PROXY patterns\n */\nexport function proxyPolicy(proxySettings = getDefaultProxySettings(), options) {\n    if (!noProxyListLoaded) {\n        globalNoProxyList.push(...loadNoProxy());\n    }\n    const cachedAgents = {};\n    return {\n        name: proxyPolicyName,\n        async sendRequest(request, next) {\n            var _a;\n            if (!request.proxySettings &&\n                !isBypassed(request.url, (_a = options === null || options === void 0 ? void 0 : options.customNoProxyList) !== null && _a !== void 0 ? _a : globalNoProxyList, (options === null || options === void 0 ? void 0 : options.customNoProxyList) ? undefined : globalBypassedMap)) {\n                request.proxySettings = proxySettings;\n            }\n            if (request.proxySettings) {\n                setProxyAgentOnRequest(request, cachedAgents);\n            }\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=proxyPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * The programmatic identifier of the setClientRequestIdPolicy.\n */\nexport const setClientRequestIdPolicyName = \"setClientRequestIdPolicy\";\n/**\n * Each PipelineRequest gets a unique id upon creation.\n * This policy passes that unique id along via an HTTP header to enable better\n * telemetry and tracing.\n * @param requestIdHeaderName - The name of the header to pass the request ID to.\n */\nexport function setClientRequestIdPolicy(requestIdHeaderName = \"x-ms-client-request-id\") {\n    return {\n        name: setClientRequestIdPolicyName,\n        async sendRequest(request, next) {\n            if (!request.headers.has(requestIdHeaderName)) {\n                request.headers.set(requestIdHeaderName, request.requestId);\n            }\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=setClientRequestIdPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Name of the TLS Policy\n */\nexport const tlsPolicyName = \"tlsPolicy\";\n/**\n * Gets a pipeline policy that adds the client certificate to the HttpClient agent for authentication.\n */\nexport function tlsPolicy(tlsSettings) {\n    return {\n        name: tlsPolicyName,\n        sendRequest: async (req, next) => {\n            // Users may define a request tlsSettings, honor those over the client level one\n            if (!req.tlsSettings) {\n                req.tlsSettings = tlsSettings;\n            }\n            return next(req);\n        },\n    };\n}\n//# sourceMappingURL=tlsPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/** @internal */\nexport const knownContextKeys = {\n    span: Symbol.for(\"@azure/core-tracing span\"),\n    namespace: Symbol.for(\"@azure/core-tracing namespace\"),\n};\n/**\n * Creates a new {@link TracingContext} with the given options.\n * @param options - A set of known keys that may be set on the context.\n * @returns A new {@link TracingContext} with the given options.\n *\n * @internal\n */\nexport function createTracingContext(options = {}) {\n    let context = new TracingContextImpl(options.parentContext);\n    if (options.span) {\n        context = context.setValue(knownContextKeys.span, options.span);\n    }\n    if (options.namespace) {\n        context = context.setValue(knownContextKeys.namespace, options.namespace);\n    }\n    return context;\n}\n/** @internal */\nexport class TracingContextImpl {\n    constructor(initialContext) {\n        this._contextMap =\n            initialContext instanceof TracingContextImpl\n                ? new Map(initialContext._contextMap)\n                : new Map();\n    }\n    setValue(key, value) {\n        const newContext = new TracingContextImpl(this);\n        newContext._contextMap.set(key, value);\n        return newContext;\n    }\n    getValue(key) {\n        return this._contextMap.get(key);\n    }\n    deleteValue(key) {\n        const newContext = new TracingContextImpl(this);\n        newContext._contextMap.delete(key);\n        return newContext;\n    }\n}\n//# sourceMappingURL=tracingContext.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n// @ts-expect-error The recommended approach to sharing module state between ESM and CJS.\n// See https://github.com/isaacs/tshy/blob/main/README.md#module-local-state for additional information.\nimport { state as cjsState } from \"../commonjs/state.js\";\n/**\n * Defines the shared state between CJS and ESM by re-exporting the CJS state.\n */\nexport const state = cjsState;\n//# sourceMappingURL=state.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createTracingContext } from \"./tracingContext.js\";\nimport { state } from \"./state.js\";\nexport function createDefaultTracingSpan() {\n    return {\n        end: () => {\n            // noop\n        },\n        isRecording: () => false,\n        recordException: () => {\n            // noop\n        },\n        setAttribute: () => {\n            // noop\n        },\n        setStatus: () => {\n            // noop\n        },\n    };\n}\nexport function createDefaultInstrumenter() {\n    return {\n        createRequestHeaders: () => {\n            return {};\n        },\n        parseTraceparentHeader: () => {\n            return undefined;\n        },\n        startSpan: (_name, spanOptions) => {\n            return {\n                span: createDefaultTracingSpan(),\n                tracingContext: createTracingContext({ parentContext: spanOptions.tracingContext }),\n            };\n        },\n        withContext(_context, callback, ...callbackArgs) {\n            return callback(...callbackArgs);\n        },\n    };\n}\n/**\n * Extends the Azure SDK with support for a given instrumenter implementation.\n *\n * @param instrumenter - The instrumenter implementation to use.\n */\nexport function useInstrumenter(instrumenter) {\n    state.instrumenterImplementation = instrumenter;\n}\n/**\n * Gets the currently set instrumenter, a No-Op instrumenter by default.\n *\n * @returns The currently set instrumenter\n */\nexport function getInstrumenter() {\n    if (!state.instrumenterImplementation) {\n        state.instrumenterImplementation = createDefaultInstrumenter();\n    }\n    return state.instrumenterImplementation;\n}\n//# sourceMappingURL=instrumenter.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isObject } from \"./object\";\n/**\n * Typeguard for an error object shape (has name and message)\n * @param e - Something caught by a catch clause.\n */\nexport function isError(e) {\n    if (isObject(e)) {\n        const hasName = typeof e.name === \"string\";\n        const hasMessage = typeof e.message === \"string\";\n        return hasName && hasMessage;\n    }\n    return false;\n}\n/**\n * Given what is thought to be an error object, return the message if possible.\n * If the message is missing, returns a stringified version of the input.\n * @param e - Something thrown from a try block\n * @returns The error message or a string of the input\n */\nexport function getErrorMessage(e) {\n    if (isError(e)) {\n        return e.message;\n    }\n    else {\n        let stringified;\n        try {\n            if (typeof e === \"object\" && e) {\n                stringified = JSON.stringify(e);\n            }\n            else {\n                stringified = String(e);\n            }\n        }\n        catch (err) {\n            stringified = \"[unable to stringify input]\";\n        }\n        return `Unknown error ${stringified}`;\n    }\n}\n//# sourceMappingURL=error.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { inspect } from \"util\";\nexport const custom = inspect.custom;\n//# sourceMappingURL=inspect.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isError } from \"@azure/core-util\";\nimport { custom } from \"./util/inspect\";\nimport { Sanitizer } from \"./util/sanitizer\";\nconst errorSanitizer = new Sanitizer();\n/**\n * A custom error type for failed pipeline requests.\n */\nexport class RestError extends Error {\n    constructor(message, options = {}) {\n        super(message);\n        this.name = \"RestError\";\n        this.code = options.code;\n        this.statusCode = options.statusCode;\n        this.request = options.request;\n        this.response = options.response;\n        Object.setPrototypeOf(this, RestError.prototype);\n    }\n    /**\n     * Logging method for util.inspect in Node\n     */\n    [custom]() {\n        return `RestError: ${this.message} \\n ${errorSanitizer.sanitize(this)}`;\n    }\n}\n/**\n * Something went wrong when making the request.\n * This means the actual request failed for some reason,\n * such as a DNS issue or the connection being lost.\n */\nRestError.REQUEST_SEND_ERROR = \"REQUEST_SEND_ERROR\";\n/**\n * This means that parsing the response from the server failed.\n * It may have been malformed.\n */\nRestError.PARSE_ERROR = \"PARSE_ERROR\";\n/**\n * Typeguard for RestError\n * @param e - Something caught by a catch clause.\n */\nexport function isRestError(e) {\n    if (e instanceof RestError) {\n        return true;\n    }\n    return isError(e) && e.name === \"RestError\";\n}\n//# sourceMappingURL=restError.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createTracingClient, } from \"@azure/core-tracing\";\nimport { SDK_VERSION } from \"../constants\";\nimport { getUserAgentValue } from \"../util/userAgent\";\nimport { logger } from \"../log\";\nimport { getErrorMessage, isError } from \"@azure/core-util\";\nimport { isRestError } from \"../restError\";\n/**\n * The programmatic identifier of the tracingPolicy.\n */\nexport const tracingPolicyName = \"tracingPolicy\";\n/**\n * A simple policy to create OpenTelemetry Spans for each request made by the pipeline\n * that has SpanOptions with a parent.\n * Requests made without a parent Span will not be recorded.\n * @param options - Options to configure the telemetry logged by the tracing policy.\n */\nexport function tracingPolicy(options = {}) {\n    const userAgent = getUserAgentValue(options.userAgentPrefix);\n    const tracingClient = tryCreateTracingClient();\n    return {\n        name: tracingPolicyName,\n        async sendRequest(request, next) {\n            var _a, _b;\n            if (!tracingClient || !((_a = request.tracingOptions) === null || _a === void 0 ? void 0 : _a.tracingContext)) {\n                return next(request);\n            }\n            const { span, tracingContext } = (_b = tryCreateSpan(tracingClient, request, userAgent)) !== null && _b !== void 0 ? _b : {};\n            if (!span || !tracingContext) {\n                return next(request);\n            }\n            try {\n                const response = await tracingClient.withContext(tracingContext, next, request);\n                tryProcessResponse(span, response);\n                return response;\n            }\n            catch (err) {\n                tryProcessError(span, err);\n                throw err;\n            }\n        },\n    };\n}\nfunction tryCreateTracingClient() {\n    try {\n        return createTracingClient({\n            namespace: \"\",\n            packageName: \"@azure/core-rest-pipeline\",\n            packageVersion: SDK_VERSION,\n        });\n    }\n    catch (e) {\n        logger.warning(`Error when creating the TracingClient: ${getErrorMessage(e)}`);\n        return undefined;\n    }\n}\nfunction tryCreateSpan(tracingClient, request, userAgent) {\n    try {\n        // As per spec, we do not need to differentiate between HTTP and HTTPS in span name.\n        const { span, updatedOptions } = tracingClient.startSpan(`HTTP ${request.method}`, { tracingOptions: request.tracingOptions }, {\n            spanKind: \"client\",\n            spanAttributes: {\n                \"http.method\": request.method,\n                \"http.url\": request.url,\n                requestId: request.requestId,\n            },\n        });\n        // If the span is not recording, don't do any more work.\n        if (!span.isRecording()) {\n            span.end();\n            return undefined;\n        }\n        if (userAgent) {\n            span.setAttribute(\"http.user_agent\", userAgent);\n        }\n        // set headers\n        const headers = tracingClient.createRequestHeaders(updatedOptions.tracingOptions.tracingContext);\n        for (const [key, value] of Object.entries(headers)) {\n            request.headers.set(key, value);\n        }\n        return { span, tracingContext: updatedOptions.tracingOptions.tracingContext };\n    }\n    catch (e) {\n        logger.warning(`Skipping creating a tracing span due to an error: ${getErrorMessage(e)}`);\n        return undefined;\n    }\n}\nfunction tryProcessError(span, error) {\n    try {\n        span.setStatus({\n            status: \"error\",\n            error: isError(error) ? error : undefined,\n        });\n        if (isRestError(error) && error.statusCode) {\n            span.setAttribute(\"http.status_code\", error.statusCode);\n        }\n        span.end();\n    }\n    catch (e) {\n        logger.warning(`Skipping tracing span processing due to an error: ${getErrorMessage(e)}`);\n    }\n}\nfunction tryProcessResponse(span, response) {\n    try {\n        span.setAttribute(\"http.status_code\", response.status);\n        const serviceRequestId = response.headers.get(\"x-ms-request-id\");\n        if (serviceRequestId) {\n            span.setAttribute(\"serviceRequestId\", serviceRequestId);\n        }\n        span.setStatus({\n            status: \"success\",\n        });\n        span.end();\n    }\n    catch (e) {\n        logger.warning(`Skipping tracing span processing due to an error: ${getErrorMessage(e)}`);\n    }\n}\n//# sourceMappingURL=tracingPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getInstrumenter } from \"./instrumenter.js\";\nimport { knownContextKeys } from \"./tracingContext.js\";\n/**\n * Creates a new tracing client.\n *\n * @param options - Options used to configure the tracing client.\n * @returns - An instance of {@link TracingClient}.\n */\nexport function createTracingClient(options) {\n    const { namespace, packageName, packageVersion } = options;\n    function startSpan(name, operationOptions, spanOptions) {\n        var _a;\n        const startSpanResult = getInstrumenter().startSpan(name, Object.assign(Object.assign({}, spanOptions), { packageName: packageName, packageVersion: packageVersion, tracingContext: (_a = operationOptions === null || operationOptions === void 0 ? void 0 : operationOptions.tracingOptions) === null || _a === void 0 ? void 0 : _a.tracingContext }));\n        let tracingContext = startSpanResult.tracingContext;\n        const span = startSpanResult.span;\n        if (!tracingContext.getValue(knownContextKeys.namespace)) {\n            tracingContext = tracingContext.setValue(knownContextKeys.namespace, namespace);\n        }\n        span.setAttribute(\"az.namespace\", tracingContext.getValue(knownContextKeys.namespace));\n        const updatedOptions = Object.assign({}, operationOptions, {\n            tracingOptions: Object.assign(Object.assign({}, operationOptions === null || operationOptions === void 0 ? void 0 : operationOptions.tracingOptions), { tracingContext }),\n        });\n        return {\n            span,\n            updatedOptions,\n        };\n    }\n    async function withSpan(name, operationOptions, callback, spanOptions) {\n        const { span, updatedOptions } = startSpan(name, operationOptions, spanOptions);\n        try {\n            const result = await withContext(updatedOptions.tracingOptions.tracingContext, () => Promise.resolve(callback(updatedOptions, span)));\n            span.setStatus({ status: \"success\" });\n            return result;\n        }\n        catch (err) {\n            span.setStatus({ status: \"error\", error: err });\n            throw err;\n        }\n        finally {\n            span.end();\n        }\n    }\n    function withContext(context, callback, ...callbackArgs) {\n        return getInstrumenter().withContext(context, callback, ...callbackArgs);\n    }\n    /**\n     * Parses a traceparent header value into a span identifier.\n     *\n     * @param traceparentHeader - The traceparent header to parse.\n     * @returns An implementation-specific identifier for the span.\n     */\n    function parseTraceparentHeader(traceparentHeader) {\n        return getInstrumenter().parseTraceparentHeader(traceparentHeader);\n    }\n    /**\n     * Creates a set of request headers to propagate tracing information to a backend.\n     *\n     * @param tracingContext - The context containing the span to serialize.\n     * @returns The set of headers to add to a request.\n     */\n    function createRequestHeaders(tracingContext) {\n        return getInstrumenter().createRequestHeaders(tracingContext);\n    }\n    return {\n        startSpan,\n        withSpan,\n        withContext,\n        parseTraceparentHeader,\n        createRequestHeaders,\n    };\n}\n//# sourceMappingURL=tracingClient.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { logPolicy } from \"./policies/logPolicy\";\nimport { createEmptyPipeline } from \"./pipeline\";\nimport { redirectPolicy } from \"./policies/redirectPolicy\";\nimport { userAgentPolicy } from \"./policies/userAgentPolicy\";\nimport { decompressResponsePolicy } from \"./policies/decompressResponsePolicy\";\nimport { defaultRetryPolicy } from \"./policies/defaultRetryPolicy\";\nimport { formDataPolicy } from \"./policies/formDataPolicy\";\nimport { isNode } from \"@azure/core-util\";\nimport { proxyPolicy } from \"./policies/proxyPolicy\";\nimport { setClientRequestIdPolicy } from \"./policies/setClientRequestIdPolicy\";\nimport { tlsPolicy } from \"./policies/tlsPolicy\";\nimport { tracingPolicy } from \"./policies/tracingPolicy\";\n/**\n * Create a new pipeline with a default set of customizable policies.\n * @param options - Options to configure a custom pipeline.\n */\nexport function createPipelineFromOptions(options) {\n    const pipeline = createEmptyPipeline();\n    if (isNode) {\n        if (options.tlsOptions) {\n            pipeline.addPolicy(tlsPolicy(options.tlsOptions));\n        }\n        pipeline.addPolicy(proxyPolicy(options.proxyOptions));\n        pipeline.addPolicy(decompressResponsePolicy());\n    }\n    pipeline.addPolicy(formDataPolicy());\n    pipeline.addPolicy(userAgentPolicy(options.userAgentOptions));\n    pipeline.addPolicy(setClientRequestIdPolicy());\n    pipeline.addPolicy(defaultRetryPolicy(options.retryOptions), { phase: \"Retry\" });\n    pipeline.addPolicy(tracingPolicy(options.userAgentOptions), { afterPhase: \"Retry\" });\n    if (isNode) {\n        // Both XHR and Fetch expect to handle redirects automatically,\n        // so only include this policy when we're in Node.\n        pipeline.addPolicy(redirectPolicy(options.redirectOptions), { afterPhase: \"Retry\" });\n    }\n    pipeline.addPolicy(logPolicy(options.loggingOptions), { afterPhase: \"Sign\" });\n    return pipeline;\n}\n//# sourceMappingURL=createPipelineFromOptions.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nfunction normalizeName(name) {\n    return name.toLowerCase();\n}\nfunction* headerIterator(map) {\n    for (const entry of map.values()) {\n        yield [entry.name, entry.value];\n    }\n}\nclass HttpHeadersImpl {\n    constructor(rawHeaders) {\n        this._headersMap = new Map();\n        if (rawHeaders) {\n            for (const headerName of Object.keys(rawHeaders)) {\n                this.set(headerName, rawHeaders[headerName]);\n            }\n        }\n    }\n    /**\n     * Set a header in this collection with the provided name and value. The name is\n     * case-insensitive.\n     * @param name - The name of the header to set. This value is case-insensitive.\n     * @param value - The value of the header to set.\n     */\n    set(name, value) {\n        this._headersMap.set(normalizeName(name), { name, value: String(value) });\n    }\n    /**\n     * Get the header value for the provided header name, or undefined if no header exists in this\n     * collection with the provided name.\n     * @param name - The name of the header. This value is case-insensitive.\n     */\n    get(name) {\n        var _a;\n        return (_a = this._headersMap.get(normalizeName(name))) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    /**\n     * Get whether or not this header collection contains a header entry for the provided header name.\n     * @param name - The name of the header to set. This value is case-insensitive.\n     */\n    has(name) {\n        return this._headersMap.has(normalizeName(name));\n    }\n    /**\n     * Remove the header with the provided headerName.\n     * @param name - The name of the header to remove.\n     */\n    delete(name) {\n        this._headersMap.delete(normalizeName(name));\n    }\n    /**\n     * Get the JSON object representation of this HTTP header collection.\n     */\n    toJSON(options = {}) {\n        const result = {};\n        if (options.preserveCase) {\n            for (const entry of this._headersMap.values()) {\n                result[entry.name] = entry.value;\n            }\n        }\n        else {\n            for (const [normalizedName, entry] of this._headersMap) {\n                result[normalizedName] = entry.value;\n            }\n        }\n        return result;\n    }\n    /**\n     * Get the string representation of this HTTP header collection.\n     */\n    toString() {\n        return JSON.stringify(this.toJSON({ preserveCase: true }));\n    }\n    /**\n     * Iterate over tuples of header [name, value] pairs.\n     */\n    [Symbol.iterator]() {\n        return headerIterator(this._headersMap);\n    }\n}\n/**\n * Creates an object that satisfies the `HttpHeaders` interface.\n * @param rawHeaders - A simple object representing initial headers\n */\nexport function createHttpHeaders(rawHeaders) {\n    return new HttpHeadersImpl(rawHeaders);\n}\n//# sourceMappingURL=httpHeaders.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport * as http from \"http\";\nimport * as https from \"https\";\nimport * as zlib from \"zlib\";\nimport { Transform } from \"stream\";\nimport { AbortController, AbortError } from \"@azure/abort-controller\";\nimport { createHttpHeaders } from \"./httpHeaders\";\nimport { RestError } from \"./restError\";\nimport { logger } from \"./log\";\nconst DEFAULT_TLS_SETTINGS = {};\nfunction isReadableStream(body) {\n    return body && typeof body.pipe === \"function\";\n}\nfunction isStreamComplete(stream) {\n    return new Promise((resolve) => {\n        stream.on(\"close\", resolve);\n        stream.on(\"end\", resolve);\n        stream.on(\"error\", resolve);\n    });\n}\nfunction isArrayBuffer(body) {\n    return body && typeof body.byteLength === \"number\";\n}\nclass ReportTransform extends Transform {\n    constructor(progressCallback) {\n        super();\n        this.loadedBytes = 0;\n        this.progressCallback = progressCallback;\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    _transform(chunk, _encoding, callback) {\n        this.push(chunk);\n        this.loadedBytes += chunk.length;\n        try {\n            this.progressCallback({ loadedBytes: this.loadedBytes });\n            callback();\n        }\n        catch (e) {\n            callback(e);\n        }\n    }\n}\n/**\n * A HttpClient implementation that uses Node's \"https\" module to send HTTPS requests.\n * @internal\n */\nclass NodeHttpClient {\n    constructor() {\n        this.cachedHttpsAgents = new WeakMap();\n    }\n    /**\n     * Makes a request over an underlying transport layer and returns the response.\n     * @param request - The request to be made.\n     */\n    async sendRequest(request) {\n        var _a, _b, _c;\n        const abortController = new AbortController();\n        let abortListener;\n        if (request.abortSignal) {\n            if (request.abortSignal.aborted) {\n                throw new AbortError(\"The operation was aborted.\");\n            }\n            abortListener = (event) => {\n                if (event.type === \"abort\") {\n                    abortController.abort();\n                }\n            };\n            request.abortSignal.addEventListener(\"abort\", abortListener);\n        }\n        if (request.timeout > 0) {\n            setTimeout(() => {\n                abortController.abort();\n            }, request.timeout);\n        }\n        const acceptEncoding = request.headers.get(\"Accept-Encoding\");\n        const shouldDecompress = (acceptEncoding === null || acceptEncoding === void 0 ? void 0 : acceptEncoding.includes(\"gzip\")) || (acceptEncoding === null || acceptEncoding === void 0 ? void 0 : acceptEncoding.includes(\"deflate\"));\n        let body = typeof request.body === \"function\" ? request.body() : request.body;\n        if (body && !request.headers.has(\"Content-Length\")) {\n            const bodyLength = getBodyLength(body);\n            if (bodyLength !== null) {\n                request.headers.set(\"Content-Length\", bodyLength);\n            }\n        }\n        let responseStream;\n        try {\n            if (body && request.onUploadProgress) {\n                const onUploadProgress = request.onUploadProgress;\n                const uploadReportStream = new ReportTransform(onUploadProgress);\n                uploadReportStream.on(\"error\", (e) => {\n                    logger.error(\"Error in upload progress\", e);\n                });\n                if (isReadableStream(body)) {\n                    body.pipe(uploadReportStream);\n                }\n                else {\n                    uploadReportStream.end(body);\n                }\n                body = uploadReportStream;\n            }\n            const res = await this.makeRequest(request, abortController, body);\n            const headers = getResponseHeaders(res);\n            const status = (_a = res.statusCode) !== null && _a !== void 0 ? _a : 0;\n            const response = {\n                status,\n                headers,\n                request,\n            };\n            // Responses to HEAD must not have a body.\n            // If they do return a body, that body must be ignored.\n            if (request.method === \"HEAD\") {\n                // call resume() and not destroy() to avoid closing the socket\n                // and losing keep alive\n                res.resume();\n                return response;\n            }\n            responseStream = shouldDecompress ? getDecodedResponseStream(res, headers) : res;\n            const onDownloadProgress = request.onDownloadProgress;\n            if (onDownloadProgress) {\n                const downloadReportStream = new ReportTransform(onDownloadProgress);\n                downloadReportStream.on(\"error\", (e) => {\n                    logger.error(\"Error in download progress\", e);\n                });\n                responseStream.pipe(downloadReportStream);\n                responseStream = downloadReportStream;\n            }\n            if (\n            // Value of POSITIVE_INFINITY in streamResponseStatusCodes is considered as any status code\n            ((_b = request.streamResponseStatusCodes) === null || _b === void 0 ? void 0 : _b.has(Number.POSITIVE_INFINITY)) ||\n                ((_c = request.streamResponseStatusCodes) === null || _c === void 0 ? void 0 : _c.has(response.status))) {\n                response.readableStreamBody = responseStream;\n            }\n            else {\n                response.bodyAsText = await streamToText(responseStream);\n            }\n            return response;\n        }\n        finally {\n            // clean up event listener\n            if (request.abortSignal && abortListener) {\n                let uploadStreamDone = Promise.resolve();\n                if (isReadableStream(body)) {\n                    uploadStreamDone = isStreamComplete(body);\n                }\n                let downloadStreamDone = Promise.resolve();\n                if (isReadableStream(responseStream)) {\n                    downloadStreamDone = isStreamComplete(responseStream);\n                }\n                Promise.all([uploadStreamDone, downloadStreamDone])\n                    .then(() => {\n                    var _a;\n                    // eslint-disable-next-line promise/always-return\n                    if (abortListener) {\n                        (_a = request.abortSignal) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"abort\", abortListener);\n                    }\n                })\n                    .catch((e) => {\n                    logger.warning(\"Error when cleaning up abortListener on httpRequest\", e);\n                });\n            }\n        }\n    }\n    makeRequest(request, abortController, body) {\n        var _a;\n        const url = new URL(request.url);\n        const isInsecure = url.protocol !== \"https:\";\n        if (isInsecure && !request.allowInsecureConnection) {\n            throw new Error(`Cannot connect to ${request.url} while allowInsecureConnection is false.`);\n        }\n        const agent = (_a = request.agent) !== null && _a !== void 0 ? _a : this.getOrCreateAgent(request, isInsecure);\n        const options = {\n            agent,\n            hostname: url.hostname,\n            path: `${url.pathname}${url.search}`,\n            port: url.port,\n            method: request.method,\n            headers: request.headers.toJSON({ preserveCase: true }),\n        };\n        return new Promise((resolve, reject) => {\n            const req = isInsecure ? http.request(options, resolve) : https.request(options, resolve);\n            req.once(\"error\", (err) => {\n                var _a;\n                reject(new RestError(err.message, { code: (_a = err.code) !== null && _a !== void 0 ? _a : RestError.REQUEST_SEND_ERROR, request }));\n            });\n            abortController.signal.addEventListener(\"abort\", () => {\n                const abortError = new AbortError(\"The operation was aborted.\");\n                req.destroy(abortError);\n                reject(abortError);\n            });\n            if (body && isReadableStream(body)) {\n                body.pipe(req);\n            }\n            else if (body) {\n                if (typeof body === \"string\" || Buffer.isBuffer(body)) {\n                    req.end(body);\n                }\n                else if (isArrayBuffer(body)) {\n                    req.end(ArrayBuffer.isView(body) ? Buffer.from(body.buffer) : Buffer.from(body));\n                }\n                else {\n                    logger.error(\"Unrecognized body type\", body);\n                    reject(new RestError(\"Unrecognized body type\"));\n                }\n            }\n            else {\n                // streams don't like \"undefined\" being passed as data\n                req.end();\n            }\n        });\n    }\n    getOrCreateAgent(request, isInsecure) {\n        var _a;\n        const disableKeepAlive = request.disableKeepAlive;\n        // Handle Insecure requests first\n        if (isInsecure) {\n            if (disableKeepAlive) {\n                // keepAlive:false is the default so we don't need a custom Agent\n                return http.globalAgent;\n            }\n            if (!this.cachedHttpAgent) {\n                // If there is no cached agent create a new one and cache it.\n                this.cachedHttpAgent = new http.Agent({ keepAlive: true });\n            }\n            return this.cachedHttpAgent;\n        }\n        else {\n            if (disableKeepAlive && !request.tlsSettings) {\n                // When there are no tlsSettings and keepAlive is false\n                // we don't need a custom agent\n                return https.globalAgent;\n            }\n            // We use the tlsSettings to index cached clients\n            const tlsSettings = (_a = request.tlsSettings) !== null && _a !== void 0 ? _a : DEFAULT_TLS_SETTINGS;\n            // Get the cached agent or create a new one with the\n            // provided values for keepAlive and tlsSettings\n            let agent = this.cachedHttpsAgents.get(tlsSettings);\n            if (agent && agent.options.keepAlive === !disableKeepAlive) {\n                return agent;\n            }\n            logger.info(\"No cached TLS Agent exist, creating a new Agent\");\n            agent = new https.Agent(Object.assign({ \n                // keepAlive is true if disableKeepAlive is false.\n                keepAlive: !disableKeepAlive }, tlsSettings));\n            this.cachedHttpsAgents.set(tlsSettings, agent);\n            return agent;\n        }\n    }\n}\nfunction getResponseHeaders(res) {\n    const headers = createHttpHeaders();\n    for (const header of Object.keys(res.headers)) {\n        const value = res.headers[header];\n        if (Array.isArray(value)) {\n            if (value.length > 0) {\n                headers.set(header, value[0]);\n            }\n        }\n        else if (value) {\n            headers.set(header, value);\n        }\n    }\n    return headers;\n}\nfunction getDecodedResponseStream(stream, headers) {\n    const contentEncoding = headers.get(\"Content-Encoding\");\n    if (contentEncoding === \"gzip\") {\n        const unzip = zlib.createGunzip();\n        stream.pipe(unzip);\n        return unzip;\n    }\n    else if (contentEncoding === \"deflate\") {\n        const inflate = zlib.createInflate();\n        stream.pipe(inflate);\n        return inflate;\n    }\n    return stream;\n}\nfunction streamToText(stream) {\n    return new Promise((resolve, reject) => {\n        const buffer = [];\n        stream.on(\"data\", (chunk) => {\n            if (Buffer.isBuffer(chunk)) {\n                buffer.push(chunk);\n            }\n            else {\n                buffer.push(Buffer.from(chunk));\n            }\n        });\n        stream.on(\"end\", () => {\n            resolve(Buffer.concat(buffer).toString(\"utf8\"));\n        });\n        stream.on(\"error\", (e) => {\n            if (e && (e === null || e === void 0 ? void 0 : e.name) === \"AbortError\") {\n                reject(e);\n            }\n            else {\n                reject(new RestError(`Error reading response as text: ${e.message}`, {\n                    code: RestError.PARSE_ERROR,\n                }));\n            }\n        });\n    });\n}\n/** @internal */\nexport function getBodyLength(body) {\n    if (!body) {\n        return 0;\n    }\n    else if (Buffer.isBuffer(body)) {\n        return body.length;\n    }\n    else if (isReadableStream(body)) {\n        return null;\n    }\n    else if (isArrayBuffer(body)) {\n        return body.byteLength;\n    }\n    else if (typeof body === \"string\") {\n        return Buffer.from(body).length;\n    }\n    else {\n        return null;\n    }\n}\n/**\n * Create a new HttpClient instance for the NodeJS environment.\n * @internal\n */\nexport function createNodeHttpClient() {\n    return new NodeHttpClient();\n}\n//# sourceMappingURL=nodeHttpClient.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createNodeHttpClient } from \"./nodeHttpClient\";\n/**\n * Create the correct HttpClient for the current environment.\n */\nexport function createDefaultHttpClient() {\n    return createNodeHttpClient();\n}\n//# sourceMappingURL=defaultHttpClient.js.map","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  const uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createHttpHeaders } from \"./httpHeaders\";\nimport { generateUuid } from \"./util/uuid\";\nclass PipelineRequestImpl {\n    constructor(options) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        this.url = options.url;\n        this.body = options.body;\n        this.headers = (_a = options.headers) !== null && _a !== void 0 ? _a : createHttpHeaders();\n        this.method = (_b = options.method) !== null && _b !== void 0 ? _b : \"GET\";\n        this.timeout = (_c = options.timeout) !== null && _c !== void 0 ? _c : 0;\n        this.formData = options.formData;\n        this.disableKeepAlive = (_d = options.disableKeepAlive) !== null && _d !== void 0 ? _d : false;\n        this.proxySettings = options.proxySettings;\n        this.streamResponseStatusCodes = options.streamResponseStatusCodes;\n        this.withCredentials = (_e = options.withCredentials) !== null && _e !== void 0 ? _e : false;\n        this.abortSignal = options.abortSignal;\n        this.tracingOptions = options.tracingOptions;\n        this.onUploadProgress = options.onUploadProgress;\n        this.onDownloadProgress = options.onDownloadProgress;\n        this.requestId = options.requestId || generateUuid();\n        this.allowInsecureConnection = (_f = options.allowInsecureConnection) !== null && _f !== void 0 ? _f : false;\n        this.enableBrowserStreams = (_g = options.enableBrowserStreams) !== null && _g !== void 0 ? _g : false;\n    }\n}\n/**\n * Creates a new pipeline request with the given options.\n * This method is to allow for the easy setting of default values and not required.\n * @param options - The options to create the request with.\n */\nexport function createPipelineRequest(options) {\n    return new PipelineRequestImpl(options);\n}\n//# sourceMappingURL=pipelineRequest.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { v4 as uuidv4 } from \"uuid\";\n/**\n * Generated Universally Unique Identifier\n *\n * @returns RFC4122 v4 UUID.\n * @internal\n */\nexport function generateUuid() {\n    return uuidv4();\n}\n//# sourceMappingURL=uuid.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { exponentialRetryStrategy } from \"../retryStrategies/exponentialRetryStrategy\";\nimport { retryPolicy } from \"./retryPolicy\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants\";\n/**\n * The programmatic identifier of the exponentialRetryPolicy.\n */\nexport const exponentialRetryPolicyName = \"exponentialRetryPolicy\";\n/**\n * A policy that attempts to retry requests while introducing an exponentially increasing delay.\n * @param options - Options that configure retry logic.\n */\nexport function exponentialRetryPolicy(options = {}) {\n    var _a;\n    return retryPolicy([\n        exponentialRetryStrategy(Object.assign(Object.assign({}, options), { ignoreSystemErrors: true })),\n    ], {\n        maxRetries: (_a = options.maxRetries) !== null && _a !== void 0 ? _a : DEFAULT_RETRY_POLICY_COUNT,\n    });\n}\n//# sourceMappingURL=exponentialRetryPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { exponentialRetryStrategy } from \"../retryStrategies/exponentialRetryStrategy\";\nimport { retryPolicy } from \"./retryPolicy\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants\";\n/**\n * Name of the {@link systemErrorRetryPolicy}\n */\nexport const systemErrorRetryPolicyName = \"systemErrorRetryPolicy\";\n/**\n * A retry policy that specifically seeks to handle errors in the\n * underlying transport layer (e.g. DNS lookup failures) rather than\n * retryable error codes from the server itself.\n * @param options - Options that customize the policy.\n */\nexport function systemErrorRetryPolicy(options = {}) {\n    var _a;\n    return {\n        name: systemErrorRetryPolicyName,\n        sendRequest: retryPolicy([\n            exponentialRetryStrategy(Object.assign(Object.assign({}, options), { ignoreHttpStatusCodes: true })),\n        ], {\n            maxRetries: (_a = options.maxRetries) !== null && _a !== void 0 ? _a : DEFAULT_RETRY_POLICY_COUNT,\n        }).sendRequest,\n    };\n}\n//# sourceMappingURL=systemErrorRetryPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { throttlingRetryStrategy } from \"../retryStrategies/throttlingRetryStrategy\";\nimport { retryPolicy } from \"./retryPolicy\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants\";\n/**\n * Name of the {@link throttlingRetryPolicy}\n */\nexport const throttlingRetryPolicyName = \"throttlingRetryPolicy\";\n/**\n * A policy that retries when the server sends a 429 response with a Retry-After header.\n *\n * To learn more, please refer to\n * https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-manager-request-limits,\n * https://docs.microsoft.com/en-us/azure/azure-subscription-service-limits and\n * https://docs.microsoft.com/en-us/azure/virtual-machines/troubleshooting/troubleshooting-throttling-errors\n *\n * @param options - Options that configure retry logic.\n */\nexport function throttlingRetryPolicy(options = {}) {\n    var _a;\n    return {\n        name: throttlingRetryPolicyName,\n        sendRequest: retryPolicy([throttlingRetryStrategy()], {\n            maxRetries: (_a = options.maxRetries) !== null && _a !== void 0 ? _a : DEFAULT_RETRY_POLICY_COUNT,\n        }).sendRequest,\n    };\n}\n//# sourceMappingURL=throttlingRetryPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { delay } from \"./helpers\";\n// Default options for the cycler if none are provided\nexport const DEFAULT_CYCLER_OPTIONS = {\n    forcedRefreshWindowInMs: 1000,\n    retryIntervalInMs: 3000,\n    refreshWindowInMs: 1000 * 60 * 2, // Start refreshing 2m before expiry\n};\n/**\n * Converts an an unreliable access token getter (which may resolve with null)\n * into an AccessTokenGetter by retrying the unreliable getter in a regular\n * interval.\n *\n * @param getAccessToken - A function that produces a promise of an access token that may fail by returning null.\n * @param retryIntervalInMs - The time (in milliseconds) to wait between retry attempts.\n * @param refreshTimeout - The timestamp after which the refresh attempt will fail, throwing an exception.\n * @returns - A promise that, if it resolves, will resolve with an access token.\n */\nasync function beginRefresh(getAccessToken, retryIntervalInMs, refreshTimeout) {\n    // This wrapper handles exceptions gracefully as long as we haven't exceeded\n    // the timeout.\n    async function tryGetAccessToken() {\n        if (Date.now() < refreshTimeout) {\n            try {\n                return await getAccessToken();\n            }\n            catch (_a) {\n                return null;\n            }\n        }\n        else {\n            const finalToken = await getAccessToken();\n            // Timeout is up, so throw if it's still null\n            if (finalToken === null) {\n                throw new Error(\"Failed to refresh access token.\");\n            }\n            return finalToken;\n        }\n    }\n    let token = await tryGetAccessToken();\n    while (token === null) {\n        await delay(retryIntervalInMs);\n        token = await tryGetAccessToken();\n    }\n    return token;\n}\n/**\n * Creates a token cycler from a credential, scopes, and optional settings.\n *\n * A token cycler represents a way to reliably retrieve a valid access token\n * from a TokenCredential. It will handle initializing the token, refreshing it\n * when it nears expiration, and synchronizes refresh attempts to avoid\n * concurrency hazards.\n *\n * @param credential - the underlying TokenCredential that provides the access\n * token\n * @param tokenCyclerOptions - optionally override default settings for the cycler\n *\n * @returns - a function that reliably produces a valid access token\n */\nexport function createTokenCycler(credential, tokenCyclerOptions) {\n    let refreshWorker = null;\n    let token = null;\n    let tenantId;\n    const options = Object.assign(Object.assign({}, DEFAULT_CYCLER_OPTIONS), tokenCyclerOptions);\n    /**\n     * This little holder defines several predicates that we use to construct\n     * the rules of refreshing the token.\n     */\n    const cycler = {\n        /**\n         * Produces true if a refresh job is currently in progress.\n         */\n        get isRefreshing() {\n            return refreshWorker !== null;\n        },\n        /**\n         * Produces true if the cycler SHOULD refresh (we are within the refresh\n         * window and not already refreshing)\n         */\n        get shouldRefresh() {\n            var _a;\n            return (!cycler.isRefreshing &&\n                ((_a = token === null || token === void 0 ? void 0 : token.expiresOnTimestamp) !== null && _a !== void 0 ? _a : 0) - options.refreshWindowInMs < Date.now());\n        },\n        /**\n         * Produces true if the cycler MUST refresh (null or nearly-expired\n         * token).\n         */\n        get mustRefresh() {\n            return (token === null || token.expiresOnTimestamp - options.forcedRefreshWindowInMs < Date.now());\n        },\n    };\n    /**\n     * Starts a refresh job or returns the existing job if one is already\n     * running.\n     */\n    function refresh(scopes, getTokenOptions) {\n        var _a;\n        if (!cycler.isRefreshing) {\n            // We bind `scopes` here to avoid passing it around a lot\n            const tryGetAccessToken = () => credential.getToken(scopes, getTokenOptions);\n            // Take advantage of promise chaining to insert an assignment to `token`\n            // before the refresh can be considered done.\n            refreshWorker = beginRefresh(tryGetAccessToken, options.retryIntervalInMs, \n            // If we don't have a token, then we should timeout immediately\n            (_a = token === null || token === void 0 ? void 0 : token.expiresOnTimestamp) !== null && _a !== void 0 ? _a : Date.now())\n                .then((_token) => {\n                refreshWorker = null;\n                token = _token;\n                tenantId = getTokenOptions.tenantId;\n                return token;\n            })\n                .catch((reason) => {\n                // We also should reset the refresher if we enter a failed state.  All\n                // existing awaiters will throw, but subsequent requests will start a\n                // new retry chain.\n                refreshWorker = null;\n                token = null;\n                tenantId = undefined;\n                throw reason;\n            });\n        }\n        return refreshWorker;\n    }\n    return async (scopes, tokenOptions) => {\n        //\n        // Simple rules:\n        // - If we MUST refresh, then return the refresh task, blocking\n        //   the pipeline until a token is available.\n        // - If we SHOULD refresh, then run refresh but don't return it\n        //   (we can still use the cached token).\n        // - Return the token, since it's fine if we didn't return in\n        //   step 1.\n        //\n        // If the tenantId passed in token options is different to the one we have\n        // Or if we are in claim challenge and the token was rejected and a new access token need to be issued, we need to\n        // refresh the token with the new tenantId or token.\n        const mustRefresh = tenantId !== tokenOptions.tenantId || Boolean(tokenOptions.claims) || cycler.mustRefresh;\n        if (mustRefresh)\n            return refresh(scopes, tokenOptions);\n        if (cycler.shouldRefresh) {\n            refresh(scopes, tokenOptions);\n        }\n        return token;\n    };\n}\n//# sourceMappingURL=tokenCycler.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createTokenCycler } from \"../util/tokenCycler\";\nimport { logger as coreLogger } from \"../log\";\n/**\n * The programmatic identifier of the bearerTokenAuthenticationPolicy.\n */\nexport const bearerTokenAuthenticationPolicyName = \"bearerTokenAuthenticationPolicy\";\n/**\n * Default authorize request handler\n */\nasync function defaultAuthorizeRequest(options) {\n    const { scopes, getAccessToken, request } = options;\n    const getTokenOptions = {\n        abortSignal: request.abortSignal,\n        tracingOptions: request.tracingOptions,\n    };\n    const accessToken = await getAccessToken(scopes, getTokenOptions);\n    if (accessToken) {\n        options.request.headers.set(\"Authorization\", `Bearer ${accessToken.token}`);\n    }\n}\n/**\n * We will retrieve the challenge only if the response status code was 401,\n * and if the response contained the header \"WWW-Authenticate\" with a non-empty value.\n */\nfunction getChallenge(response) {\n    const challenge = response.headers.get(\"WWW-Authenticate\");\n    if (response.status === 401 && challenge) {\n        return challenge;\n    }\n    return;\n}\n/**\n * A policy that can request a token from a TokenCredential implementation and\n * then apply it to the Authorization header of a request as a Bearer token.\n */\nexport function bearerTokenAuthenticationPolicy(options) {\n    var _a;\n    const { credential, scopes, challengeCallbacks } = options;\n    const logger = options.logger || coreLogger;\n    const callbacks = Object.assign({ authorizeRequest: (_a = challengeCallbacks === null || challengeCallbacks === void 0 ? void 0 : challengeCallbacks.authorizeRequest) !== null && _a !== void 0 ? _a : defaultAuthorizeRequest, authorizeRequestOnChallenge: challengeCallbacks === null || challengeCallbacks === void 0 ? void 0 : challengeCallbacks.authorizeRequestOnChallenge }, challengeCallbacks);\n    // This function encapsulates the entire process of reliably retrieving the token\n    // The options are left out of the public API until there's demand to configure this.\n    // Remember to extend `BearerTokenAuthenticationPolicyOptions` with `TokenCyclerOptions`\n    // in order to pass through the `options` object.\n    const getAccessToken = credential\n        ? createTokenCycler(credential /* , options */)\n        : () => Promise.resolve(null);\n    return {\n        name: bearerTokenAuthenticationPolicyName,\n        /**\n         * If there's no challenge parameter:\n         * - It will try to retrieve the token using the cache, or the credential's getToken.\n         * - Then it will try the next policy with or without the retrieved token.\n         *\n         * It uses the challenge parameters to:\n         * - Skip a first attempt to get the token from the credential if there's no cached token,\n         *   since it expects the token to be retrievable only after the challenge.\n         * - Prepare the outgoing request if the `prepareRequest` method has been provided.\n         * - Send an initial request to receive the challenge if it fails.\n         * - Process a challenge if the response contains it.\n         * - Retrieve a token with the challenge information, then re-send the request.\n         */\n        async sendRequest(request, next) {\n            if (!request.url.toLowerCase().startsWith(\"https://\")) {\n                throw new Error(\"Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.\");\n            }\n            await callbacks.authorizeRequest({\n                scopes: Array.isArray(scopes) ? scopes : [scopes],\n                request,\n                getAccessToken,\n                logger,\n            });\n            let response;\n            let error;\n            try {\n                response = await next(request);\n            }\n            catch (err) {\n                error = err;\n                response = err.response;\n            }\n            if (callbacks.authorizeRequestOnChallenge &&\n                (response === null || response === void 0 ? void 0 : response.status) === 401 &&\n                getChallenge(response)) {\n                // processes challenge\n                const shouldSendRequest = await callbacks.authorizeRequestOnChallenge({\n                    scopes: Array.isArray(scopes) ? scopes : [scopes],\n                    request,\n                    response,\n                    getAccessToken,\n                    logger,\n                });\n                if (shouldSendRequest) {\n                    return next(request);\n                }\n            }\n            if (error) {\n                throw error;\n            }\n            else {\n                return response;\n            }\n        },\n    };\n}\n//# sourceMappingURL=bearerTokenAuthenticationPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * The programmatic identifier of the ndJsonPolicy.\n */\nexport const ndJsonPolicyName = \"ndJsonPolicy\";\n/**\n * ndJsonPolicy is a policy used to control keep alive settings for every request.\n */\nexport function ndJsonPolicy() {\n    return {\n        name: ndJsonPolicyName,\n        async sendRequest(request, next) {\n            // There currently isn't a good way to bypass the serializer\n            if (typeof request.body === \"string\" && request.body.startsWith(\"[\")) {\n                const body = JSON.parse(request.body);\n                if (Array.isArray(body)) {\n                    request.body = body.map((item) => JSON.stringify(item) + \"\\n\").join(\"\");\n                }\n            }\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=ndJsonPolicy.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction once(emitter, name, { signal } = {}) {\n    return new Promise((resolve, reject) => {\n        function cleanup() {\n            signal === null || signal === void 0 ? void 0 : signal.removeEventListener('abort', cleanup);\n            emitter.removeListener(name, onEvent);\n            emitter.removeListener('error', onError);\n        }\n        function onEvent(...args) {\n            cleanup();\n            resolve(args);\n        }\n        function onError(err) {\n            cleanup();\n            reject(err);\n        }\n        signal === null || signal === void 0 ? void 0 : signal.addEventListener('abort', cleanup);\n        emitter.on(name, onEvent);\n        emitter.on('error', onError);\n    });\n}\nexports.default = once;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst net_1 = __importDefault(require(\"net\"));\nconst tls_1 = __importDefault(require(\"tls\"));\nconst url_1 = __importDefault(require(\"url\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst once_1 = __importDefault(require(\"@tootallnate/once\"));\nconst agent_base_1 = require(\"agent-base\");\nconst debug = (0, debug_1.default)('http-proxy-agent');\nfunction isHTTPS(protocol) {\n    return typeof protocol === 'string' ? /^https:?$/i.test(protocol) : false;\n}\n/**\n * The `HttpProxyAgent` implements an HTTP Agent subclass that connects\n * to the specified \"HTTP proxy server\" in order to proxy HTTP requests.\n *\n * @api public\n */\nclass HttpProxyAgent extends agent_base_1.Agent {\n    constructor(_opts) {\n        let opts;\n        if (typeof _opts === 'string') {\n            opts = url_1.default.parse(_opts);\n        }\n        else {\n            opts = _opts;\n        }\n        if (!opts) {\n            throw new Error('an HTTP(S) proxy server `host` and `port` must be specified!');\n        }\n        debug('Creating new HttpProxyAgent instance: %o', opts);\n        super(opts);\n        const proxy = Object.assign({}, opts);\n        // If `true`, then connect to the proxy server over TLS.\n        // Defaults to `false`.\n        this.secureProxy = opts.secureProxy || isHTTPS(proxy.protocol);\n        // Prefer `hostname` over `host`, and set the `port` if needed.\n        proxy.host = proxy.hostname || proxy.host;\n        if (typeof proxy.port === 'string') {\n            proxy.port = parseInt(proxy.port, 10);\n        }\n        if (!proxy.port && proxy.host) {\n            proxy.port = this.secureProxy ? 443 : 80;\n        }\n        if (proxy.host && proxy.path) {\n            // If both a `host` and `path` are specified then it's most likely\n            // the result of a `url.parse()` call... we need to remove the\n            // `path` portion so that `net.connect()` doesn't attempt to open\n            // that as a Unix socket file.\n            delete proxy.path;\n            delete proxy.pathname;\n        }\n        this.proxy = proxy;\n    }\n    /**\n     * Called when the node-core HTTP client library is creating a\n     * new HTTP request.\n     *\n     * @api protected\n     */\n    callback(req, opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { proxy, secureProxy } = this;\n            const parsed = url_1.default.parse(req.path);\n            if (!parsed.protocol) {\n                parsed.protocol = 'http:';\n            }\n            if (!parsed.hostname) {\n                parsed.hostname = opts.hostname || opts.host || null;\n            }\n            if (parsed.port == null && typeof opts.port) {\n                parsed.port = String(opts.port);\n            }\n            if (parsed.port === '80') {\n                // if port is 80, then we can remove the port so that the\n                // \":80\" portion is not on the produced URL\n                parsed.port = '';\n            }\n            // Change the `http.ClientRequest` instance's \"path\" field\n            // to the absolute path of the URL that will be requested.\n            req.path = url_1.default.format(parsed);\n            // Inject the `Proxy-Authorization` header if necessary.\n            if (proxy.auth) {\n                req.setHeader('Proxy-Authorization', `Basic ${Buffer.from(proxy.auth).toString('base64')}`);\n            }\n            // Create a socket connection to the proxy server.\n            let socket;\n            if (secureProxy) {\n                debug('Creating `tls.Socket`: %o', proxy);\n                socket = tls_1.default.connect(proxy);\n            }\n            else {\n                debug('Creating `net.Socket`: %o', proxy);\n                socket = net_1.default.connect(proxy);\n            }\n            // At this point, the http ClientRequest's internal `_header` field\n            // might have already been set. If this is the case then we'll need\n            // to re-generate the string since we just changed the `req.path`.\n            if (req._header) {\n                let first;\n                let endOfHeaders;\n                debug('Regenerating stored HTTP header string for request');\n                req._header = null;\n                req._implicitHeader();\n                if (req.output && req.output.length > 0) {\n                    // Node < 12\n                    debug('Patching connection write() output buffer with updated header');\n                    first = req.output[0];\n                    endOfHeaders = first.indexOf('\\r\\n\\r\\n') + 4;\n                    req.output[0] = req._header + first.substring(endOfHeaders);\n                    debug('Output buffer: %o', req.output);\n                }\n                else if (req.outputData && req.outputData.length > 0) {\n                    // Node >= 12\n                    debug('Patching connection write() output buffer with updated header');\n                    first = req.outputData[0].data;\n                    endOfHeaders = first.indexOf('\\r\\n\\r\\n') + 4;\n                    req.outputData[0].data =\n                        req._header + first.substring(endOfHeaders);\n                    debug('Output buffer: %o', req.outputData[0].data);\n                }\n            }\n            // Wait for the socket's `connect` event, so that this `callback()`\n            // function throws instead of the `http` request machinery. This is\n            // important for i.e. `PacProxyAgent` which determines a failed proxy\n            // connection via the `callback()` function throwing.\n            yield (0, once_1.default)(socket, 'connect');\n            return socket;\n        });\n    }\n}\nexports.default = HttpProxyAgent;\n//# sourceMappingURL=agent.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst agent_1 = __importDefault(require(\"./agent\"));\nfunction createHttpProxyAgent(opts) {\n    return new agent_1.default(opts);\n}\n(function (createHttpProxyAgent) {\n    createHttpProxyAgent.HttpProxyAgent = agent_1.default;\n    createHttpProxyAgent.prototype = agent_1.default.prototype;\n})(createHttpProxyAgent || (createHttpProxyAgent = {}));\nmodule.exports = createHttpProxyAgent;\n//# sourceMappingURL=index.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createClientLogger } from \"@azure/logger\";\n/**\n * The \\@azure/logger configuration for this package.\n */\nexport const logger = createClientLogger(\"opentelemetry-instrumentation-azure-sdk\");\n//# sourceMappingURL=logger.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { SpanStatusCode } from \"@opentelemetry/api\";\nexport class OpenTelemetrySpanWrapper {\n    constructor(span) {\n        this._span = span;\n    }\n    setStatus(status) {\n        if (status.status === \"error\") {\n            if (status.error) {\n                this._span.setStatus({ code: SpanStatusCode.ERROR, message: status.error.toString() });\n                this.recordException(status.error);\n            }\n            else {\n                this._span.setStatus({ code: SpanStatusCode.ERROR });\n            }\n        }\n        else if (status.status === \"success\") {\n            this._span.setStatus({ code: SpanStatusCode.OK });\n        }\n    }\n    setAttribute(name, value) {\n        if (value !== null && value !== undefined) {\n            this._span.setAttribute(name, value);\n        }\n    }\n    end() {\n        this._span.end();\n    }\n    recordException(exception) {\n        this._span.recordException(exception);\n    }\n    isRecording() {\n        return this._span.isRecording();\n    }\n    /**\n     * Allows getting the wrapped span as needed.\n     * @internal\n     *\n     * @returns The underlying span\n     */\n    unwrap() {\n        return this._span;\n    }\n}\n//# sourceMappingURL=spanWrapper.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nexport const SDK_VERSION = \"1.0.0-beta.5\";\n/**\n * @internal\n *\n * Cached values of environment variables that were fetched.\n */\nexport const environmentCache = new Map();\n/**\n * Converts an environment variable to Boolean.\n * the strings \"false\" and \"0\" are treated as falsy values.\n *\n * @internal\n */\nexport function envVarToBoolean(key) {\n    var _a;\n    if (!environmentCache.has(key)) {\n        loadEnvironmentVariable(key);\n    }\n    const value = ((_a = environmentCache.get(key)) !== null && _a !== void 0 ? _a : \"\").toLowerCase();\n    return value !== \"false\" && value !== \"0\" && Boolean(value);\n}\nfunction loadEnvironmentVariable(key) {\n    var _a;\n    if (typeof process !== \"undefined\" && process.env) {\n        const rawValue = (_a = process.env[key]) !== null && _a !== void 0 ? _a : process.env[key.toLowerCase()];\n        environmentCache.set(key, rawValue);\n    }\n}\n//# sourceMappingURL=configuration.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { SpanKind, trace } from \"@opentelemetry/api\";\n/**\n * Converts our TracingSpanKind to the corresponding OpenTelemetry SpanKind.\n *\n * By default it will return {@link SpanKind.INTERNAL}\n * @param tracingSpanKind - The core tracing {@link TracingSpanKind}\n * @returns - The OpenTelemetry {@link SpanKind}\n */\nexport function toOpenTelemetrySpanKind(tracingSpanKind) {\n    const key = (tracingSpanKind || \"internal\").toUpperCase();\n    return SpanKind[key];\n}\n/**\n * Converts core-tracing's TracingSpanLink to OpenTelemetry's Link\n *\n * @param spanLinks - The core tracing {@link TracingSpanLink} to convert\n * @returns A set of {@link Link}s\n */\nfunction toOpenTelemetryLinks(spanLinks = []) {\n    return spanLinks.reduce((acc, tracingSpanLink) => {\n        const spanContext = trace.getSpanContext(tracingSpanLink.tracingContext);\n        if (spanContext) {\n            acc.push({\n                context: spanContext,\n                attributes: toOpenTelemetrySpanAttributes(tracingSpanLink.attributes),\n            });\n        }\n        return acc;\n    }, []);\n}\n/**\n * Converts core-tracing's span attributes to OpenTelemetry attributes.\n *\n * @param spanAttributes - The set of attributes to convert.\n * @returns An {@link SpanAttributes} to set on a span.\n */\nfunction toOpenTelemetrySpanAttributes(spanAttributes) {\n    const attributes = {};\n    for (const key in spanAttributes) {\n        // Any non-nullish value is allowed.\n        if (spanAttributes[key] !== null && spanAttributes[key] !== undefined) {\n            attributes[key] = spanAttributes[key];\n        }\n    }\n    return attributes;\n}\n/**\n * Converts core-tracing span options to OpenTelemetry options.\n *\n * @param spanOptions - The {@link InstrumenterSpanOptions} to convert.\n * @returns An OpenTelemetry {@link SpanOptions} that can be used when creating a span.\n */\nexport function toSpanOptions(spanOptions) {\n    const { spanAttributes, spanLinks, spanKind } = spanOptions || {};\n    const attributes = toOpenTelemetrySpanAttributes(spanAttributes);\n    const kind = toOpenTelemetrySpanKind(spanKind);\n    const links = toOpenTelemetryLinks(spanLinks);\n    return {\n        attributes,\n        kind,\n        links,\n    };\n}\n//# sourceMappingURL=transformations.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { INVALID_SPAN_CONTEXT, context, defaultTextMapGetter, defaultTextMapSetter, trace, } from \"@opentelemetry/api\";\nimport { W3CTraceContextPropagator, suppressTracing } from \"@opentelemetry/core\";\nimport { OpenTelemetrySpanWrapper } from \"./spanWrapper\";\nimport { envVarToBoolean } from \"./configuration\";\nimport { toSpanOptions } from \"./transformations\";\n// While default propagation is user-configurable, Azure services always use the W3C implementation.\nexport const propagator = new W3CTraceContextPropagator();\nexport class OpenTelemetryInstrumenter {\n    startSpan(name, spanOptions) {\n        let ctx = (spanOptions === null || spanOptions === void 0 ? void 0 : spanOptions.tracingContext) || context.active();\n        let span;\n        if (envVarToBoolean(\"AZURE_TRACING_DISABLED\")) {\n            // disable only our spans but not any downstream spans\n            span = trace.wrapSpanContext(INVALID_SPAN_CONTEXT);\n        }\n        else {\n            // Create our span\n            span = trace\n                .getTracer(spanOptions.packageName, spanOptions.packageVersion)\n                .startSpan(name, toSpanOptions(spanOptions), ctx);\n            if (envVarToBoolean(\"AZURE_HTTP_TRACING_CHILDREN_DISABLED\") &&\n                name.toUpperCase().startsWith(\"HTTP\")) {\n                // disable downstream spans\n                ctx = suppressTracing(ctx);\n            }\n        }\n        return {\n            span: new OpenTelemetrySpanWrapper(span),\n            tracingContext: trace.setSpan(ctx, span),\n        };\n    }\n    withContext(tracingContext, callback, ...callbackArgs) {\n        return context.with(tracingContext, callback, \n        /** Assume caller will bind `this` or use arrow functions */ undefined, ...callbackArgs);\n    }\n    parseTraceparentHeader(traceparentHeader) {\n        return propagator.extract(context.active(), { traceparent: traceparentHeader }, defaultTextMapGetter);\n    }\n    createRequestHeaders(tracingContext) {\n        const headers = {};\n        propagator.inject(tracingContext || context.active(), headers, defaultTextMapSetter);\n        return headers;\n    }\n}\n//# sourceMappingURL=instrumenter.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { InstrumentationBase, InstrumentationNodeModuleDefinition, } from \"@opentelemetry/instrumentation\";\nimport { OpenTelemetryInstrumenter } from \"./instrumenter\";\nimport { SDK_VERSION } from \"./configuration\";\n/**\n * The instrumentation module for the Azure SDK. Implements OpenTelemetry's {@link Instrumentation}.\n */\nclass AzureSdkInstrumentation extends InstrumentationBase {\n    constructor(options = {}) {\n        super(\"@azure/opentelemetry-instrumentation-azure-sdk\", SDK_VERSION, Object.assign({}, options));\n    }\n    /**\n     * Entrypoint for the module registration.\n     *\n     * @returns The patched \\@azure/core-tracing module after setting its instrumenter.\n     */\n    init() {\n        const result = new InstrumentationNodeModuleDefinition(\"@azure/core-tracing\", [\"^1.0.0-preview.14\", \"^1.0.0\"], (moduleExports) => {\n            if (typeof moduleExports.useInstrumenter === \"function\") {\n                moduleExports.useInstrumenter(new OpenTelemetryInstrumenter());\n            }\n            return moduleExports;\n        });\n        // Needed to support 1.0.0-preview.14\n        result.includePrerelease = true;\n        return result;\n    }\n}\n/**\n * Enables Azure SDK Instrumentation using OpenTelemetry for Azure SDK client libraries.\n *\n * When registered, any Azure data plane package will begin emitting tracing spans for internal calls\n * as well as network calls\n *\n * Example usage:\n * ```ts\n * const openTelemetryInstrumentation = require(\"@opentelemetry/instrumentation\");\n * openTelemetryInstrumentation.registerInstrumentations({\n *   instrumentations: [createAzureSdkInstrumentation()],\n * })\n * ```\n *\n * @remarks\n *\n * As OpenTelemetry instrumentations rely on patching required modules, you should register\n * this instrumentation as early as possible and before loading any Azure Client Libraries.\n */\nexport function createAzureSdkInstrumentation(options = {}) {\n    return new AzureSdkInstrumentation(options);\n}\n//# sourceMappingURL=instrumentation.js.map","/*!\n * Application Insights JavaScript SDK - Web Snippet, 1.0.1\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nvar webSnippet = \"!function(T,l,y){var S=T.location,k=\\\"script\\\",D=\\\"instrumentationKey\\\",C=\\\"ingestionendpoint\\\",I=\\\"disableExceptionTracking\\\",E=\\\"ai.device.\\\",b=\\\"toLowerCase\\\",w=\\\"crossOrigin\\\",N=\\\"POST\\\",e=\\\"appInsightsSDK\\\",t=y.name||\\\"appInsights\\\";(y.name||T[e])&&(T[e]=t);var n=T[t]||function(d){var g=!1,f=!1,m={initialize:!0,queue:[],sv:\\\"5\\\",version:2,config:d};function v(e,t){var n={},a=\\\"Browser\\\";return n[E+\\\"id\\\"]=a[b](),n[E+\\\"type\\\"]=a,n[\\\"ai.operation.name\\\"]=S&&S.pathname||\\\"_unknown_\\\",n[\\\"ai.internal.sdkVersion\\\"]=\\\"javascript:snippet_\\\"+(m.sv||m.version),{time:function(){var e=new Date;function t(e){var t=\\\"\\\"+e;return 1===t.length&&(t=\\\"0\\\"+t),t}return e.getUTCFullYear()+\\\"-\\\"+t(1+e.getUTCMonth())+\\\"-\\\"+t(e.getUTCDate())+\\\"T\\\"+t(e.getUTCHours())+\\\":\\\"+t(e.getUTCMinutes())+\\\":\\\"+t(e.getUTCSeconds())+\\\".\\\"+((e.getUTCMilliseconds()/1e3).toFixed(3)+\\\"\\\").slice(2,5)+\\\"Z\\\"}(),iKey:e,name:\\\"Microsoft.ApplicationInsights.\\\"+e.replace(/-/g,\\\"\\\")+\\\".\\\"+t,sampleRate:100,tags:n,data:{baseData:{ver:2}}}}var h=d.url||y.src;if(h){function a(e){var t,n,a,i,r,o,s,c,u,p,l;g=!0,m.queue=[],f||(f=!0,t=h,s=function(){var e={},t=d.connectionString;if(t)for(var n=t.split(\\\";\\\"),a=0;a<n.length;a++){var i=n[a].split(\\\"=\\\");2===i.length&&(e[i[0][b]()]=i[1])}if(!e[C]){var r=e.endpointsuffix,o=r?e.location:null;e[C]=\\\"https://\\\"+(o?o+\\\".\\\":\\\"\\\")+\\\"dc.\\\"+(r||\\\"services.visualstudio.com\\\")}return e}(),c=s[D]||d[D]||\\\"\\\",u=s[C],p=u?u+\\\"/v2/track\\\":d.endpointUrl,(l=[]).push((n=\\\"SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)\\\",a=t,i=p,(o=(r=v(c,\\\"Exception\\\")).data).baseType=\\\"ExceptionData\\\",o.baseData.exceptions=[{typeName:\\\"SDKLoadFailed\\\",message:n.replace(/\\\\./g,\\\"-\\\"),hasFullStack:!1,stack:n+\\\"\\\\nSnippet failed to load [\\\"+a+\\\"] -- Telemetry is disabled\\\\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\\\\nHost: \\\"+(S&&S.pathname||\\\"_unknown_\\\")+\\\"\\\\nEndpoint: \\\"+i,parsedStack:[]}],r)),l.push(function(e,t,n,a){var i=v(c,\\\"Message\\\"),r=i.data;r.baseType=\\\"MessageData\\\";var o=r.baseData;return o.message=\\'AI (Internal): 99 message:\\\"\\'+(\\\"SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) (\\\"+n+\\\")\\\").replace(/\\\\\\\"/g,\\\"\\\")+\\'\\\"\\',o.properties={endpoint:a},i}(0,0,t,p)),function(e,t){if(JSON){var n=T.fetch;if(n&&!y.useXhr)n(t,{method:N,body:JSON.stringify(e),mode:\\\"cors\\\"});else if(XMLHttpRequest){var a=new XMLHttpRequest;a.open(N,t),a.setRequestHeader(\\\"Content-type\\\",\\\"application/json\\\"),a.send(JSON.stringify(e))}}}(l,p))}function i(e,t){f||setTimeout(function(){!t&&m.core||a()},500)}var e=function(){var n=l.createElement(k);n.src=h;var e=y[w];return!e&&\\\"\\\"!==e||\\\"undefined\\\"==n[w]||(n[w]=e),n.onload=i,n.onerror=a,n.onreadystatechange=function(e,t){\\\"loaded\\\"!==n.readyState&&\\\"complete\\\"!==n.readyState||i(0,t)},n}();y.ld<0?l.getElementsByTagName(\\\"head\\\")[0].appendChild(e):setTimeout(function(){l.getElementsByTagName(k)[0].parentNode.appendChild(e)},y.ld||0)}try{m.cookie=l.cookie}catch(p){}function t(e){for(;e.length;)!function(t){m[t]=function(){var e=arguments;g||m.queue.push(function(){m[t].apply(m,e)})}}(e.pop())}var n=\\\"track\\\",r=\\\"TrackPage\\\",o=\\\"TrackEvent\\\";t([n+\\\"Event\\\",n+\\\"PageView\\\",n+\\\"Exception\\\",n+\\\"Trace\\\",n+\\\"DependencyData\\\",n+\\\"Metric\\\",n+\\\"PageViewPerformance\\\",\\\"start\\\"+r,\\\"stop\\\"+r,\\\"start\\\"+o,\\\"stop\\\"+o,\\\"addTelemetryInitializer\\\",\\\"setAuthenticatedUserContext\\\",\\\"clearAuthenticatedUserContext\\\",\\\"flush\\\"]),m.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4};var s=(d.extensionConfig||{}).ApplicationInsightsAnalytics||{};if(!0!==d[I]&&!0!==s[I]){var c=\\\"onerror\\\";t([\\\"_\\\"+c]);var u=T[c];T[c]=function(e,t,n,a,i){var r=u&&u(e,t,n,a,i);return!0!==r&&m[\\\"_\\\"+c]({message:e,url:t,lineNumber:n,columnNumber:a,error:i}),r},d.autoExceptionInstrumented=!0}return m}(y.cfg);function a(){y.onInit&&y.onInit(n)}(T[t]=n).queue&&0===n.queue.length?(n.queue.push(a),n.trackPageView({})):a()}(window,document,{\\r\\nsrc: \\\"https://js.monitor.azure.com/scripts/b/ai.2.min.js\\\", // The SDK URL Source\\r\\n// name: \\\"appInsights\\\", // Global SDK Instance name defaults to \\\"appInsights\\\" when not supplied\\r\\n// ld: 0, // Defines the load delay (in ms) before attempting to load the sdk. -1 = block page load and add to head. (default) = 0ms load after timeout,\\r\\n// useXhr: 1, // Use XHR instead of fetch to report failures (if available),\\r\\n// crossOrigin: \\\"anonymous\\\", // When supplied this will add the provided value as the cross origin attribute on the script tag\\r\\n// onInit: null, // Once the application insights instance has loaded and initialized this callback function will be called with 1 argument -- the sdk instance (DO NOT ADD anything to the sdk.queue -- As they won\\'t get called)\\r\\ncfg: { // Application Insights Configuration\\r\\n    instrumentationKey: \\\"INSTRUMENTATION_KEY\\\"\\r\\n}});\";\n\nexport { webSnippet };\n","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { ROOT_CONTEXT } from './context';\nvar NoopContextManager = /** @class */ (function () {\n    function NoopContextManager() {\n    }\n    NoopContextManager.prototype.active = function () {\n        return ROOT_CONTEXT;\n    };\n    NoopContextManager.prototype.with = function (_context, fn, thisArg) {\n        var args = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            args[_i - 3] = arguments[_i];\n        }\n        return fn.call.apply(fn, __spreadArray([thisArg], __read(args), false));\n    };\n    NoopContextManager.prototype.bind = function (_context, target) {\n        return target;\n    };\n    NoopContextManager.prototype.enable = function () {\n        return this;\n    };\n    NoopContextManager.prototype.disable = function () {\n        return this;\n    };\n    return NoopContextManager;\n}());\nexport { NoopContextManager };\n//# sourceMappingURL=NoopContextManager.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { NoopContextManager } from '../context/NoopContextManager';\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nimport { DiagAPI } from './diag';\nvar API_NAME = 'context';\nvar NOOP_CONTEXT_MANAGER = new NoopContextManager();\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Context API\n */\nvar ContextAPI = /** @class */ (function () {\n    /** Empty private constructor prevents end users from constructing a new instance of the API */\n    function ContextAPI() {\n    }\n    /** Get the singleton instance of the Context API */\n    ContextAPI.getInstance = function () {\n        if (!this._instance) {\n            this._instance = new ContextAPI();\n        }\n        return this._instance;\n    };\n    /**\n     * Set the current context manager.\n     *\n     * @returns true if the context manager was successfully registered, else false\n     */\n    ContextAPI.prototype.setGlobalContextManager = function (contextManager) {\n        return registerGlobal(API_NAME, contextManager, DiagAPI.instance());\n    };\n    /**\n     * Get the currently active context\n     */\n    ContextAPI.prototype.active = function () {\n        return this._getContextManager().active();\n    };\n    /**\n     * Execute a function with an active context\n     *\n     * @param context context to be active during function execution\n     * @param fn function to execute in a context\n     * @param thisArg optional receiver to be used for calling fn\n     * @param args optional arguments forwarded to fn\n     */\n    ContextAPI.prototype.with = function (context, fn, thisArg) {\n        var _a;\n        var args = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            args[_i - 3] = arguments[_i];\n        }\n        return (_a = this._getContextManager()).with.apply(_a, __spreadArray([context, fn, thisArg], __read(args), false));\n    };\n    /**\n     * Bind a context to a target function or event emitter\n     *\n     * @param context context to bind to the event emitter or function. Defaults to the currently active context\n     * @param target function or event emitter to bind\n     */\n    ContextAPI.prototype.bind = function (context, target) {\n        return this._getContextManager().bind(context, target);\n    };\n    ContextAPI.prototype._getContextManager = function () {\n        return getGlobal(API_NAME) || NOOP_CONTEXT_MANAGER;\n    };\n    /** Disable and remove the global context manager */\n    ContextAPI.prototype.disable = function () {\n        this._getContextManager().disable();\n        unregisterGlobal(API_NAME, DiagAPI.instance());\n    };\n    return ContextAPI;\n}());\nexport { ContextAPI };\n//# sourceMappingURL=context.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { getGlobal } from '../internal/global-utils';\n/**\n * Component Logger which is meant to be used as part of any component which\n * will add automatically additional namespace in front of the log message.\n * It will then forward all message to global diag logger\n * @example\n * const cLogger = diag.createComponentLogger({ namespace: '@opentelemetry/instrumentation-http' });\n * cLogger.debug('test');\n * // @opentelemetry/instrumentation-http test\n */\nvar DiagComponentLogger = /** @class */ (function () {\n    function DiagComponentLogger(props) {\n        this._namespace = props.namespace || 'DiagComponentLogger';\n    }\n    DiagComponentLogger.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('debug', this._namespace, args);\n    };\n    DiagComponentLogger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('error', this._namespace, args);\n    };\n    DiagComponentLogger.prototype.info = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('info', this._namespace, args);\n    };\n    DiagComponentLogger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('warn', this._namespace, args);\n    };\n    DiagComponentLogger.prototype.verbose = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('verbose', this._namespace, args);\n    };\n    return DiagComponentLogger;\n}());\nexport { DiagComponentLogger };\nfunction logProxy(funcName, namespace, args) {\n    var logger = getGlobal('diag');\n    // shortcut if logger not set\n    if (!logger) {\n        return;\n    }\n    args.unshift(namespace);\n    return logger[funcName].apply(logger, __spreadArray([], __read(args), false));\n}\n//# sourceMappingURL=ComponentLogger.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { DiagComponentLogger } from '../diag/ComponentLogger';\nimport { createLogLevelDiagLogger } from '../diag/internal/logLevelLogger';\nimport { DiagLogLevel, } from '../diag/types';\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nvar API_NAME = 'diag';\n/**\n * Singleton object which represents the entry point to the OpenTelemetry internal\n * diagnostic API\n */\nvar DiagAPI = /** @class */ (function () {\n    /**\n     * Private internal constructor\n     * @private\n     */\n    function DiagAPI() {\n        function _logProxy(funcName) {\n            return function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                var logger = getGlobal('diag');\n                // shortcut if logger not set\n                if (!logger)\n                    return;\n                return logger[funcName].apply(logger, __spreadArray([], __read(args), false));\n            };\n        }\n        // Using self local variable for minification purposes as 'this' cannot be minified\n        var self = this;\n        // DiagAPI specific functions\n        var setLogger = function (logger, optionsOrLogLevel) {\n            var _a, _b, _c;\n            if (optionsOrLogLevel === void 0) { optionsOrLogLevel = { logLevel: DiagLogLevel.INFO }; }\n            if (logger === self) {\n                // There isn't much we can do here.\n                // Logging to the console might break the user application.\n                // Try to log to self. If a logger was previously registered it will receive the log.\n                var err = new Error('Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation');\n                self.error((_a = err.stack) !== null && _a !== void 0 ? _a : err.message);\n                return false;\n            }\n            if (typeof optionsOrLogLevel === 'number') {\n                optionsOrLogLevel = {\n                    logLevel: optionsOrLogLevel,\n                };\n            }\n            var oldLogger = getGlobal('diag');\n            var newLogger = createLogLevelDiagLogger((_b = optionsOrLogLevel.logLevel) !== null && _b !== void 0 ? _b : DiagLogLevel.INFO, logger);\n            // There already is an logger registered. We'll let it know before overwriting it.\n            if (oldLogger && !optionsOrLogLevel.suppressOverrideMessage) {\n                var stack = (_c = new Error().stack) !== null && _c !== void 0 ? _c : '<failed to generate stacktrace>';\n                oldLogger.warn(\"Current logger will be overwritten from \" + stack);\n                newLogger.warn(\"Current logger will overwrite one already registered from \" + stack);\n            }\n            return registerGlobal('diag', newLogger, self, true);\n        };\n        self.setLogger = setLogger;\n        self.disable = function () {\n            unregisterGlobal(API_NAME, self);\n        };\n        self.createComponentLogger = function (options) {\n            return new DiagComponentLogger(options);\n        };\n        self.verbose = _logProxy('verbose');\n        self.debug = _logProxy('debug');\n        self.info = _logProxy('info');\n        self.warn = _logProxy('warn');\n        self.error = _logProxy('error');\n    }\n    /** Get the singleton instance of the DiagAPI API */\n    DiagAPI.instance = function () {\n        if (!this._instance) {\n            this._instance = new DiagAPI();\n        }\n        return this._instance;\n    };\n    return DiagAPI;\n}());\nexport { DiagAPI };\n//# sourceMappingURL=diag.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { DiagLogLevel } from '../types';\nexport function createLogLevelDiagLogger(maxLevel, logger) {\n    if (maxLevel < DiagLogLevel.NONE) {\n        maxLevel = DiagLogLevel.NONE;\n    }\n    else if (maxLevel > DiagLogLevel.ALL) {\n        maxLevel = DiagLogLevel.ALL;\n    }\n    // In case the logger is null or undefined\n    logger = logger || {};\n    function _filterFunc(funcName, theLevel) {\n        var theFunc = logger[funcName];\n        if (typeof theFunc === 'function' && maxLevel >= theLevel) {\n            return theFunc.bind(logger);\n        }\n        return function () { };\n    }\n    return {\n        error: _filterFunc('error', DiagLogLevel.ERROR),\n        warn: _filterFunc('warn', DiagLogLevel.WARN),\n        info: _filterFunc('info', DiagLogLevel.INFO),\n        debug: _filterFunc('debug', DiagLogLevel.DEBUG),\n        verbose: _filterFunc('verbose', DiagLogLevel.VERBOSE),\n    };\n}\n//# sourceMappingURL=logLevelLogger.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar BaggageImpl = /** @class */ (function () {\n    function BaggageImpl(entries) {\n        this._entries = entries ? new Map(entries) : new Map();\n    }\n    BaggageImpl.prototype.getEntry = function (key) {\n        var entry = this._entries.get(key);\n        if (!entry) {\n            return undefined;\n        }\n        return Object.assign({}, entry);\n    };\n    BaggageImpl.prototype.getAllEntries = function () {\n        return Array.from(this._entries.entries()).map(function (_a) {\n            var _b = __read(_a, 2), k = _b[0], v = _b[1];\n            return [k, v];\n        });\n    };\n    BaggageImpl.prototype.setEntry = function (key, entry) {\n        var newBaggage = new BaggageImpl(this._entries);\n        newBaggage._entries.set(key, entry);\n        return newBaggage;\n    };\n    BaggageImpl.prototype.removeEntry = function (key) {\n        var newBaggage = new BaggageImpl(this._entries);\n        newBaggage._entries.delete(key);\n        return newBaggage;\n    };\n    BaggageImpl.prototype.removeEntries = function () {\n        var e_1, _a;\n        var keys = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            keys[_i] = arguments[_i];\n        }\n        var newBaggage = new BaggageImpl(this._entries);\n        try {\n            for (var keys_1 = __values(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {\n                var key = keys_1_1.value;\n                newBaggage._entries.delete(key);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return)) _a.call(keys_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return newBaggage;\n    };\n    BaggageImpl.prototype.clear = function () {\n        return new BaggageImpl();\n    };\n    return BaggageImpl;\n}());\nexport { BaggageImpl };\n//# sourceMappingURL=baggage-impl.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Symbol used to make BaggageEntryMetadata an opaque type\n */\nexport var baggageEntryMetadataSymbol = Symbol('BaggageEntryMetadata');\n//# sourceMappingURL=symbol.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { DiagAPI } from '../api/diag';\nimport { BaggageImpl } from './internal/baggage-impl';\nimport { baggageEntryMetadataSymbol } from './internal/symbol';\nvar diag = DiagAPI.instance();\n/**\n * Create a new Baggage with optional entries\n *\n * @param entries An array of baggage entries the new baggage should contain\n */\nexport function createBaggage(entries) {\n    if (entries === void 0) { entries = {}; }\n    return new BaggageImpl(new Map(Object.entries(entries)));\n}\n/**\n * Create a serializable BaggageEntryMetadata object from a string.\n *\n * @param str string metadata. Format is currently not defined by the spec and has no special meaning.\n *\n */\nexport function baggageEntryMetadataFromString(str) {\n    if (typeof str !== 'string') {\n        diag.error(\"Cannot create baggage metadata from unknown type: \" + typeof str);\n        str = '';\n    }\n    return {\n        __TYPE__: baggageEntryMetadataSymbol,\n        toString: function () {\n            return str;\n        },\n    };\n}\n//# sourceMappingURL=utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { ContextAPI } from './api/context';\n/** Entrypoint for context API */\nexport var context = ContextAPI.getInstance();\n//# sourceMappingURL=context-api.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** Get a key to uniquely identify a context value */\nexport function createContextKey(description) {\n    // The specification states that for the same input, multiple calls should\n    // return different keys. Due to the nature of the JS dependency management\n    // system, this creates problems where multiple versions of some package\n    // could hold different keys for the same property.\n    //\n    // Therefore, we use Symbol.for which returns the same key for the same input.\n    return Symbol.for(description);\n}\nvar BaseContext = /** @class */ (function () {\n    /**\n     * Construct a new context which inherits values from an optional parent context.\n     *\n     * @param parentContext a context from which to inherit values\n     */\n    function BaseContext(parentContext) {\n        // for minification\n        var self = this;\n        self._currentContext = parentContext ? new Map(parentContext) : new Map();\n        self.getValue = function (key) { return self._currentContext.get(key); };\n        self.setValue = function (key, value) {\n            var context = new BaseContext(self._currentContext);\n            context._currentContext.set(key, value);\n            return context;\n        };\n        self.deleteValue = function (key) {\n            var context = new BaseContext(self._currentContext);\n            context._currentContext.delete(key);\n            return context;\n        };\n    }\n    return BaseContext;\n}());\n/** The root context is used as the default parent context when there is no active context */\nexport var ROOT_CONTEXT = new BaseContext();\n//# sourceMappingURL=context.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { DiagAPI } from './api/diag';\n/**\n * Entrypoint for Diag API.\n * Defines Diagnostic handler used for internal diagnostic logging operations.\n * The default provides a Noop DiagLogger implementation which may be changed via the\n * diag.setLogger(logger: DiagLogger) function.\n */\nexport var diag = DiagAPI.instance();\n//# sourceMappingURL=diag-api.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Defines the available internal logging levels for the diagnostic logger, the numeric values\n * of the levels are defined to match the original values from the initial LogLevel to avoid\n * compatibility/migration issues for any implementation that assume the numeric ordering.\n */\nexport var DiagLogLevel;\n(function (DiagLogLevel) {\n    /** Diagnostic Logging level setting to disable all logging (except and forced logs) */\n    DiagLogLevel[DiagLogLevel[\"NONE\"] = 0] = \"NONE\";\n    /** Identifies an error scenario */\n    DiagLogLevel[DiagLogLevel[\"ERROR\"] = 30] = \"ERROR\";\n    /** Identifies a warning scenario */\n    DiagLogLevel[DiagLogLevel[\"WARN\"] = 50] = \"WARN\";\n    /** General informational log message */\n    DiagLogLevel[DiagLogLevel[\"INFO\"] = 60] = \"INFO\";\n    /** General debug log message */\n    DiagLogLevel[DiagLogLevel[\"DEBUG\"] = 70] = \"DEBUG\";\n    /**\n     * Detailed trace level logging should only be used for development, should only be set\n     * in a development environment.\n     */\n    DiagLogLevel[DiagLogLevel[\"VERBOSE\"] = 80] = \"VERBOSE\";\n    /** Used to set the logging level to include all logging */\n    DiagLogLevel[DiagLogLevel[\"ALL\"] = 9999] = \"ALL\";\n})(DiagLogLevel || (DiagLogLevel = {}));\n//# sourceMappingURL=types.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** The Type of value. It describes how the data is reported. */\nexport var ValueType;\n(function (ValueType) {\n    ValueType[ValueType[\"INT\"] = 0] = \"INT\";\n    ValueType[ValueType[\"DOUBLE\"] = 1] = \"DOUBLE\";\n})(ValueType || (ValueType = {}));\n//# sourceMappingURL=Metric.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar consoleMap = [\n    { n: 'error', c: 'error' },\n    { n: 'warn', c: 'warn' },\n    { n: 'info', c: 'info' },\n    { n: 'debug', c: 'debug' },\n    { n: 'verbose', c: 'trace' },\n];\n/**\n * A simple Immutable Console based diagnostic logger which will output any messages to the Console.\n * If you want to limit the amount of logging to a specific level or lower use the\n * {@link createLogLevelDiagLogger}\n */\nvar DiagConsoleLogger = /** @class */ (function () {\n    function DiagConsoleLogger() {\n        function _consoleFunc(funcName) {\n            return function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                if (console) {\n                    // Some environments only expose the console when the F12 developer console is open\n                    // eslint-disable-next-line no-console\n                    var theFunc = console[funcName];\n                    if (typeof theFunc !== 'function') {\n                        // Not all environments support all functions\n                        // eslint-disable-next-line no-console\n                        theFunc = console.log;\n                    }\n                    // One last final check\n                    if (typeof theFunc === 'function') {\n                        return theFunc.apply(console, args);\n                    }\n                }\n            };\n        }\n        for (var i = 0; i < consoleMap.length; i++) {\n            this[consoleMap[i].n] = _consoleFunc(consoleMap[i].c);\n        }\n    }\n    return DiagConsoleLogger;\n}());\nexport { DiagConsoleLogger };\n//# sourceMappingURL=consoleLogger.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar VALID_KEY_CHAR_RANGE = '[_0-9a-z-*/]';\nvar VALID_KEY = \"[a-z]\" + VALID_KEY_CHAR_RANGE + \"{0,255}\";\nvar VALID_VENDOR_KEY = \"[a-z0-9]\" + VALID_KEY_CHAR_RANGE + \"{0,240}@[a-z]\" + VALID_KEY_CHAR_RANGE + \"{0,13}\";\nvar VALID_KEY_REGEX = new RegExp(\"^(?:\" + VALID_KEY + \"|\" + VALID_VENDOR_KEY + \")$\");\nvar VALID_VALUE_BASE_REGEX = /^[ -~]{0,255}[!-~]$/;\nvar INVALID_VALUE_COMMA_EQUAL_REGEX = /,|=/;\n/**\n * Key is opaque string up to 256 characters printable. It MUST begin with a\n * lowercase letter, and can only contain lowercase letters a-z, digits 0-9,\n * underscores _, dashes -, asterisks *, and forward slashes /.\n * For multi-tenant vendor scenarios, an at sign (@) can be used to prefix the\n * vendor name. Vendors SHOULD set the tenant ID at the beginning of the key.\n * see https://www.w3.org/TR/trace-context/#key\n */\nexport function validateKey(key) {\n    return VALID_KEY_REGEX.test(key);\n}\n/**\n * Value is opaque string up to 256 characters printable ASCII RFC0020\n * characters (i.e., the range 0x20 to 0x7E) except comma , and =.\n */\nexport function validateValue(value) {\n    return (VALID_VALUE_BASE_REGEX.test(value) &&\n        !INVALID_VALUE_COMMA_EQUAL_REGEX.test(value));\n}\n//# sourceMappingURL=tracestate-validators.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { validateKey, validateValue } from './tracestate-validators';\nvar MAX_TRACE_STATE_ITEMS = 32;\nvar MAX_TRACE_STATE_LEN = 512;\nvar LIST_MEMBERS_SEPARATOR = ',';\nvar LIST_MEMBER_KEY_VALUE_SPLITTER = '=';\n/**\n * TraceState must be a class and not a simple object type because of the spec\n * requirement (https://www.w3.org/TR/trace-context/#tracestate-field).\n *\n * Here is the list of allowed mutations:\n * - New key-value pair should be added into the beginning of the list\n * - The value of any key can be updated. Modified keys MUST be moved to the\n * beginning of the list.\n */\nvar TraceStateImpl = /** @class */ (function () {\n    function TraceStateImpl(rawTraceState) {\n        this._internalState = new Map();\n        if (rawTraceState)\n            this._parse(rawTraceState);\n    }\n    TraceStateImpl.prototype.set = function (key, value) {\n        // TODO: Benchmark the different approaches(map vs list) and\n        // use the faster one.\n        var traceState = this._clone();\n        if (traceState._internalState.has(key)) {\n            traceState._internalState.delete(key);\n        }\n        traceState._internalState.set(key, value);\n        return traceState;\n    };\n    TraceStateImpl.prototype.unset = function (key) {\n        var traceState = this._clone();\n        traceState._internalState.delete(key);\n        return traceState;\n    };\n    TraceStateImpl.prototype.get = function (key) {\n        return this._internalState.get(key);\n    };\n    TraceStateImpl.prototype.serialize = function () {\n        var _this = this;\n        return this._keys()\n            .reduce(function (agg, key) {\n            agg.push(key + LIST_MEMBER_KEY_VALUE_SPLITTER + _this.get(key));\n            return agg;\n        }, [])\n            .join(LIST_MEMBERS_SEPARATOR);\n    };\n    TraceStateImpl.prototype._parse = function (rawTraceState) {\n        if (rawTraceState.length > MAX_TRACE_STATE_LEN)\n            return;\n        this._internalState = rawTraceState\n            .split(LIST_MEMBERS_SEPARATOR)\n            .reverse() // Store in reverse so new keys (.set(...)) will be placed at the beginning\n            .reduce(function (agg, part) {\n            var listMember = part.trim(); // Optional Whitespace (OWS) handling\n            var i = listMember.indexOf(LIST_MEMBER_KEY_VALUE_SPLITTER);\n            if (i !== -1) {\n                var key = listMember.slice(0, i);\n                var value = listMember.slice(i + 1, part.length);\n                if (validateKey(key) && validateValue(value)) {\n                    agg.set(key, value);\n                }\n                else {\n                    // TODO: Consider to add warning log\n                }\n            }\n            return agg;\n        }, new Map());\n        // Because of the reverse() requirement, trunc must be done after map is created\n        if (this._internalState.size > MAX_TRACE_STATE_ITEMS) {\n            this._internalState = new Map(Array.from(this._internalState.entries())\n                .reverse() // Use reverse same as original tracestate parse chain\n                .slice(0, MAX_TRACE_STATE_ITEMS));\n        }\n    };\n    TraceStateImpl.prototype._keys = function () {\n        return Array.from(this._internalState.keys()).reverse();\n    };\n    TraceStateImpl.prototype._clone = function () {\n        var traceState = new TraceStateImpl();\n        traceState._internalState = new Map(this._internalState);\n        return traceState;\n    };\n    return TraceStateImpl;\n}());\nexport { TraceStateImpl };\n//# sourceMappingURL=tracestate-impl.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { TraceStateImpl } from './tracestate-impl';\nexport function createTraceState(rawTraceState) {\n    return new TraceStateImpl(rawTraceState);\n}\n//# sourceMappingURL=utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport { baggageEntryMetadataFromString } from './baggage/utils';\n// Context APIs\nexport { createContextKey, ROOT_CONTEXT } from './context/context';\n// Diag APIs\nexport { DiagConsoleLogger } from './diag/consoleLogger';\nexport { DiagLogLevel, } from './diag/types';\n// Metrics APIs\nexport { createNoopMeter } from './metrics/NoopMeter';\nexport { ValueType, } from './metrics/Metric';\n// Propagation APIs\nexport { defaultTextMapGetter, defaultTextMapSetter, } from './propagation/TextMapPropagator';\nexport { ProxyTracer } from './trace/ProxyTracer';\nexport { ProxyTracerProvider } from './trace/ProxyTracerProvider';\nexport { SamplingDecision } from './trace/SamplingResult';\nexport { SpanKind } from './trace/span_kind';\nexport { SpanStatusCode } from './trace/status';\nexport { TraceFlags } from './trace/trace_flags';\nexport { createTraceState } from './trace/internal/utils';\nexport { isSpanContextValid, isValidTraceId, isValidSpanId, } from './trace/spancontext-utils';\nexport { INVALID_SPANID, INVALID_TRACEID, INVALID_SPAN_CONTEXT, } from './trace/invalid-span-constants';\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { context } from './context-api';\nimport { diag } from './diag-api';\nimport { metrics } from './metrics-api';\nimport { propagation } from './propagation-api';\nimport { trace } from './trace-api';\n// Named export.\nexport { context, diag, metrics, propagation, trace };\n// Default export.\nexport default {\n    context: context,\n    diag: diag,\n    metrics: metrics,\n    propagation: propagation,\n    trace: trace,\n};\n//# sourceMappingURL=index.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** only globals that common to node and browsers are allowed */\n// eslint-disable-next-line node/no-unsupported-features/es-builtins\nexport var _globalThis = typeof globalThis === 'object' ? globalThis : global;\n//# sourceMappingURL=globalThis.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// this is autogenerated file, see scripts/version-update.js\nexport var VERSION = '1.9.0';\n//# sourceMappingURL=version.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { VERSION } from '../version';\nvar re = /^(\\d+)\\.(\\d+)\\.(\\d+)(-(.+))?$/;\n/**\n * Create a function to test an API version to see if it is compatible with the provided ownVersion.\n *\n * The returned function has the following semantics:\n * - Exact match is always compatible\n * - Major versions must match exactly\n *    - 1.x package cannot use global 2.x package\n *    - 2.x package cannot use global 1.x package\n * - The minor version of the API module requesting access to the global API must be less than or equal to the minor version of this API\n *    - 1.3 package may use 1.4 global because the later global contains all functions 1.3 expects\n *    - 1.4 package may NOT use 1.3 global because it may try to call functions which don't exist on 1.3\n * - If the major version is 0, the minor version is treated as the major and the patch is treated as the minor\n * - Patch and build tag differences are not considered at this time\n *\n * @param ownVersion version which should be checked against\n */\nexport function _makeCompatibilityCheck(ownVersion) {\n    var acceptedVersions = new Set([ownVersion]);\n    var rejectedVersions = new Set();\n    var myVersionMatch = ownVersion.match(re);\n    if (!myVersionMatch) {\n        // we cannot guarantee compatibility so we always return noop\n        return function () { return false; };\n    }\n    var ownVersionParsed = {\n        major: +myVersionMatch[1],\n        minor: +myVersionMatch[2],\n        patch: +myVersionMatch[3],\n        prerelease: myVersionMatch[4],\n    };\n    // if ownVersion has a prerelease tag, versions must match exactly\n    if (ownVersionParsed.prerelease != null) {\n        return function isExactmatch(globalVersion) {\n            return globalVersion === ownVersion;\n        };\n    }\n    function _reject(v) {\n        rejectedVersions.add(v);\n        return false;\n    }\n    function _accept(v) {\n        acceptedVersions.add(v);\n        return true;\n    }\n    return function isCompatible(globalVersion) {\n        if (acceptedVersions.has(globalVersion)) {\n            return true;\n        }\n        if (rejectedVersions.has(globalVersion)) {\n            return false;\n        }\n        var globalVersionMatch = globalVersion.match(re);\n        if (!globalVersionMatch) {\n            // cannot parse other version\n            // we cannot guarantee compatibility so we always noop\n            return _reject(globalVersion);\n        }\n        var globalVersionParsed = {\n            major: +globalVersionMatch[1],\n            minor: +globalVersionMatch[2],\n            patch: +globalVersionMatch[3],\n            prerelease: globalVersionMatch[4],\n        };\n        // if globalVersion has a prerelease tag, versions must match exactly\n        if (globalVersionParsed.prerelease != null) {\n            return _reject(globalVersion);\n        }\n        // major versions must match\n        if (ownVersionParsed.major !== globalVersionParsed.major) {\n            return _reject(globalVersion);\n        }\n        if (ownVersionParsed.major === 0) {\n            if (ownVersionParsed.minor === globalVersionParsed.minor &&\n                ownVersionParsed.patch <= globalVersionParsed.patch) {\n                return _accept(globalVersion);\n            }\n            return _reject(globalVersion);\n        }\n        if (ownVersionParsed.minor <= globalVersionParsed.minor) {\n            return _accept(globalVersion);\n        }\n        return _reject(globalVersion);\n    };\n}\n/**\n * Test an API version to see if it is compatible with this API.\n *\n * - Exact match is always compatible\n * - Major versions must match exactly\n *    - 1.x package cannot use global 2.x package\n *    - 2.x package cannot use global 1.x package\n * - The minor version of the API module requesting access to the global API must be less than or equal to the minor version of this API\n *    - 1.3 package may use 1.4 global because the later global contains all functions 1.3 expects\n *    - 1.4 package may NOT use 1.3 global because it may try to call functions which don't exist on 1.3\n * - If the major version is 0, the minor version is treated as the major and the patch is treated as the minor\n * - Patch and build tag differences are not considered at this time\n *\n * @param version version of the API requesting an instance of the global API\n */\nexport var isCompatible = _makeCompatibilityCheck(VERSION);\n//# sourceMappingURL=semver.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { _globalThis } from '../platform';\nimport { VERSION } from '../version';\nimport { isCompatible } from './semver';\nvar major = VERSION.split('.')[0];\nvar GLOBAL_OPENTELEMETRY_API_KEY = Symbol.for(\"opentelemetry.js.api.\" + major);\nvar _global = _globalThis;\nexport function registerGlobal(type, instance, diag, allowOverride) {\n    var _a;\n    if (allowOverride === void 0) { allowOverride = false; }\n    var api = (_global[GLOBAL_OPENTELEMETRY_API_KEY] = (_a = _global[GLOBAL_OPENTELEMETRY_API_KEY]) !== null && _a !== void 0 ? _a : {\n        version: VERSION,\n    });\n    if (!allowOverride && api[type]) {\n        // already registered an API of this type\n        var err = new Error(\"@opentelemetry/api: Attempted duplicate registration of API: \" + type);\n        diag.error(err.stack || err.message);\n        return false;\n    }\n    if (api.version !== VERSION) {\n        // All registered APIs must be of the same version exactly\n        var err = new Error(\"@opentelemetry/api: Registration of version v\" + api.version + \" for \" + type + \" does not match previously registered API v\" + VERSION);\n        diag.error(err.stack || err.message);\n        return false;\n    }\n    api[type] = instance;\n    diag.debug(\"@opentelemetry/api: Registered a global for \" + type + \" v\" + VERSION + \".\");\n    return true;\n}\nexport function getGlobal(type) {\n    var _a, _b;\n    var globalVersion = (_a = _global[GLOBAL_OPENTELEMETRY_API_KEY]) === null || _a === void 0 ? void 0 : _a.version;\n    if (!globalVersion || !isCompatible(globalVersion)) {\n        return;\n    }\n    return (_b = _global[GLOBAL_OPENTELEMETRY_API_KEY]) === null || _b === void 0 ? void 0 : _b[type];\n}\nexport function unregisterGlobal(type, diag) {\n    diag.debug(\"@opentelemetry/api: Unregistering a global for \" + type + \" v\" + VERSION + \".\");\n    var api = _global[GLOBAL_OPENTELEMETRY_API_KEY];\n    if (api) {\n        delete api[type];\n    }\n}\n//# sourceMappingURL=global-utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { NOOP_METER } from './NoopMeter';\n/**\n * An implementation of the {@link MeterProvider} which returns an impotent Meter\n * for all calls to `getMeter`\n */\nvar NoopMeterProvider = /** @class */ (function () {\n    function NoopMeterProvider() {\n    }\n    NoopMeterProvider.prototype.getMeter = function (_name, _version, _options) {\n        return NOOP_METER;\n    };\n    return NoopMeterProvider;\n}());\nexport { NoopMeterProvider };\nexport var NOOP_METER_PROVIDER = new NoopMeterProvider();\n//# sourceMappingURL=NoopMeterProvider.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { NOOP_METER_PROVIDER } from '../metrics/NoopMeterProvider';\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nimport { DiagAPI } from './diag';\nvar API_NAME = 'metrics';\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Metrics API\n */\nvar MetricsAPI = /** @class */ (function () {\n    /** Empty private constructor prevents end users from constructing a new instance of the API */\n    function MetricsAPI() {\n    }\n    /** Get the singleton instance of the Metrics API */\n    MetricsAPI.getInstance = function () {\n        if (!this._instance) {\n            this._instance = new MetricsAPI();\n        }\n        return this._instance;\n    };\n    /**\n     * Set the current global meter provider.\n     * Returns true if the meter provider was successfully registered, else false.\n     */\n    MetricsAPI.prototype.setGlobalMeterProvider = function (provider) {\n        return registerGlobal(API_NAME, provider, DiagAPI.instance());\n    };\n    /**\n     * Returns the global meter provider.\n     */\n    MetricsAPI.prototype.getMeterProvider = function () {\n        return getGlobal(API_NAME) || NOOP_METER_PROVIDER;\n    };\n    /**\n     * Returns a meter from the global meter provider.\n     */\n    MetricsAPI.prototype.getMeter = function (name, version, options) {\n        return this.getMeterProvider().getMeter(name, version, options);\n    };\n    /** Remove the global meter provider */\n    MetricsAPI.prototype.disable = function () {\n        unregisterGlobal(API_NAME, DiagAPI.instance());\n    };\n    return MetricsAPI;\n}());\nexport { MetricsAPI };\n//# sourceMappingURL=metrics.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { MetricsAPI } from './api/metrics';\n/** Entrypoint for metrics API */\nexport var metrics = MetricsAPI.getInstance();\n//# sourceMappingURL=metrics-api.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * NoopMeter is a noop implementation of the {@link Meter} interface. It reuses\n * constant NoopMetrics for all of its methods.\n */\nvar NoopMeter = /** @class */ (function () {\n    function NoopMeter() {\n    }\n    /**\n     * @see {@link Meter.createGauge}\n     */\n    NoopMeter.prototype.createGauge = function (_name, _options) {\n        return NOOP_GAUGE_METRIC;\n    };\n    /**\n     * @see {@link Meter.createHistogram}\n     */\n    NoopMeter.prototype.createHistogram = function (_name, _options) {\n        return NOOP_HISTOGRAM_METRIC;\n    };\n    /**\n     * @see {@link Meter.createCounter}\n     */\n    NoopMeter.prototype.createCounter = function (_name, _options) {\n        return NOOP_COUNTER_METRIC;\n    };\n    /**\n     * @see {@link Meter.createUpDownCounter}\n     */\n    NoopMeter.prototype.createUpDownCounter = function (_name, _options) {\n        return NOOP_UP_DOWN_COUNTER_METRIC;\n    };\n    /**\n     * @see {@link Meter.createObservableGauge}\n     */\n    NoopMeter.prototype.createObservableGauge = function (_name, _options) {\n        return NOOP_OBSERVABLE_GAUGE_METRIC;\n    };\n    /**\n     * @see {@link Meter.createObservableCounter}\n     */\n    NoopMeter.prototype.createObservableCounter = function (_name, _options) {\n        return NOOP_OBSERVABLE_COUNTER_METRIC;\n    };\n    /**\n     * @see {@link Meter.createObservableUpDownCounter}\n     */\n    NoopMeter.prototype.createObservableUpDownCounter = function (_name, _options) {\n        return NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC;\n    };\n    /**\n     * @see {@link Meter.addBatchObservableCallback}\n     */\n    NoopMeter.prototype.addBatchObservableCallback = function (_callback, _observables) { };\n    /**\n     * @see {@link Meter.removeBatchObservableCallback}\n     */\n    NoopMeter.prototype.removeBatchObservableCallback = function (_callback) { };\n    return NoopMeter;\n}());\nexport { NoopMeter };\nvar NoopMetric = /** @class */ (function () {\n    function NoopMetric() {\n    }\n    return NoopMetric;\n}());\nexport { NoopMetric };\nvar NoopCounterMetric = /** @class */ (function (_super) {\n    __extends(NoopCounterMetric, _super);\n    function NoopCounterMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NoopCounterMetric.prototype.add = function (_value, _attributes) { };\n    return NoopCounterMetric;\n}(NoopMetric));\nexport { NoopCounterMetric };\nvar NoopUpDownCounterMetric = /** @class */ (function (_super) {\n    __extends(NoopUpDownCounterMetric, _super);\n    function NoopUpDownCounterMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NoopUpDownCounterMetric.prototype.add = function (_value, _attributes) { };\n    return NoopUpDownCounterMetric;\n}(NoopMetric));\nexport { NoopUpDownCounterMetric };\nvar NoopGaugeMetric = /** @class */ (function (_super) {\n    __extends(NoopGaugeMetric, _super);\n    function NoopGaugeMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NoopGaugeMetric.prototype.record = function (_value, _attributes) { };\n    return NoopGaugeMetric;\n}(NoopMetric));\nexport { NoopGaugeMetric };\nvar NoopHistogramMetric = /** @class */ (function (_super) {\n    __extends(NoopHistogramMetric, _super);\n    function NoopHistogramMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NoopHistogramMetric.prototype.record = function (_value, _attributes) { };\n    return NoopHistogramMetric;\n}(NoopMetric));\nexport { NoopHistogramMetric };\nvar NoopObservableMetric = /** @class */ (function () {\n    function NoopObservableMetric() {\n    }\n    NoopObservableMetric.prototype.addCallback = function (_callback) { };\n    NoopObservableMetric.prototype.removeCallback = function (_callback) { };\n    return NoopObservableMetric;\n}());\nexport { NoopObservableMetric };\nvar NoopObservableCounterMetric = /** @class */ (function (_super) {\n    __extends(NoopObservableCounterMetric, _super);\n    function NoopObservableCounterMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return NoopObservableCounterMetric;\n}(NoopObservableMetric));\nexport { NoopObservableCounterMetric };\nvar NoopObservableGaugeMetric = /** @class */ (function (_super) {\n    __extends(NoopObservableGaugeMetric, _super);\n    function NoopObservableGaugeMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return NoopObservableGaugeMetric;\n}(NoopObservableMetric));\nexport { NoopObservableGaugeMetric };\nvar NoopObservableUpDownCounterMetric = /** @class */ (function (_super) {\n    __extends(NoopObservableUpDownCounterMetric, _super);\n    function NoopObservableUpDownCounterMetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return NoopObservableUpDownCounterMetric;\n}(NoopObservableMetric));\nexport { NoopObservableUpDownCounterMetric };\nexport var NOOP_METER = new NoopMeter();\n// Synchronous instruments\nexport var NOOP_COUNTER_METRIC = new NoopCounterMetric();\nexport var NOOP_GAUGE_METRIC = new NoopGaugeMetric();\nexport var NOOP_HISTOGRAM_METRIC = new NoopHistogramMetric();\nexport var NOOP_UP_DOWN_COUNTER_METRIC = new NoopUpDownCounterMetric();\n// Asynchronous instruments\nexport var NOOP_OBSERVABLE_COUNTER_METRIC = new NoopObservableCounterMetric();\nexport var NOOP_OBSERVABLE_GAUGE_METRIC = new NoopObservableGaugeMetric();\nexport var NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC = new NoopObservableUpDownCounterMetric();\n/**\n * Create a no-op Meter\n */\nexport function createNoopMeter() {\n    return NOOP_METER;\n}\n//# sourceMappingURL=NoopMeter.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * No-op implementations of {@link TextMapPropagator}.\n */\nvar NoopTextMapPropagator = /** @class */ (function () {\n    function NoopTextMapPropagator() {\n    }\n    /** Noop inject function does nothing */\n    NoopTextMapPropagator.prototype.inject = function (_context, _carrier) { };\n    /** Noop extract function does nothing and returns the input context */\n    NoopTextMapPropagator.prototype.extract = function (context, _carrier) {\n        return context;\n    };\n    NoopTextMapPropagator.prototype.fields = function () {\n        return [];\n    };\n    return NoopTextMapPropagator;\n}());\nexport { NoopTextMapPropagator };\n//# sourceMappingURL=NoopTextMapPropagator.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ContextAPI } from '../api/context';\nimport { createContextKey } from '../context/context';\n/**\n * Baggage key\n */\nvar BAGGAGE_KEY = createContextKey('OpenTelemetry Baggage Key');\n/**\n * Retrieve the current baggage from the given context\n *\n * @param {Context} Context that manage all context values\n * @returns {Baggage} Extracted baggage from the context\n */\nexport function getBaggage(context) {\n    return context.getValue(BAGGAGE_KEY) || undefined;\n}\n/**\n * Retrieve the current baggage from the active/current context\n *\n * @returns {Baggage} Extracted baggage from the context\n */\nexport function getActiveBaggage() {\n    return getBaggage(ContextAPI.getInstance().active());\n}\n/**\n * Store a baggage in the given context\n *\n * @param {Context} Context that manage all context values\n * @param {Baggage} baggage that will be set in the actual context\n */\nexport function setBaggage(context, baggage) {\n    return context.setValue(BAGGAGE_KEY, baggage);\n}\n/**\n * Delete the baggage stored in the given context\n *\n * @param {Context} Context that manage all context values\n */\nexport function deleteBaggage(context) {\n    return context.deleteValue(BAGGAGE_KEY);\n}\n//# sourceMappingURL=context-helpers.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nimport { NoopTextMapPropagator } from '../propagation/NoopTextMapPropagator';\nimport { defaultTextMapGetter, defaultTextMapSetter, } from '../propagation/TextMapPropagator';\nimport { getBaggage, getActiveBaggage, setBaggage, deleteBaggage, } from '../baggage/context-helpers';\nimport { createBaggage } from '../baggage/utils';\nimport { DiagAPI } from './diag';\nvar API_NAME = 'propagation';\nvar NOOP_TEXT_MAP_PROPAGATOR = new NoopTextMapPropagator();\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Propagation API\n */\nvar PropagationAPI = /** @class */ (function () {\n    /** Empty private constructor prevents end users from constructing a new instance of the API */\n    function PropagationAPI() {\n        this.createBaggage = createBaggage;\n        this.getBaggage = getBaggage;\n        this.getActiveBaggage = getActiveBaggage;\n        this.setBaggage = setBaggage;\n        this.deleteBaggage = deleteBaggage;\n    }\n    /** Get the singleton instance of the Propagator API */\n    PropagationAPI.getInstance = function () {\n        if (!this._instance) {\n            this._instance = new PropagationAPI();\n        }\n        return this._instance;\n    };\n    /**\n     * Set the current propagator.\n     *\n     * @returns true if the propagator was successfully registered, else false\n     */\n    PropagationAPI.prototype.setGlobalPropagator = function (propagator) {\n        return registerGlobal(API_NAME, propagator, DiagAPI.instance());\n    };\n    /**\n     * Inject context into a carrier to be propagated inter-process\n     *\n     * @param context Context carrying tracing data to inject\n     * @param carrier carrier to inject context into\n     * @param setter Function used to set values on the carrier\n     */\n    PropagationAPI.prototype.inject = function (context, carrier, setter) {\n        if (setter === void 0) { setter = defaultTextMapSetter; }\n        return this._getGlobalPropagator().inject(context, carrier, setter);\n    };\n    /**\n     * Extract context from a carrier\n     *\n     * @param context Context which the newly created context will inherit from\n     * @param carrier Carrier to extract context from\n     * @param getter Function used to extract keys from a carrier\n     */\n    PropagationAPI.prototype.extract = function (context, carrier, getter) {\n        if (getter === void 0) { getter = defaultTextMapGetter; }\n        return this._getGlobalPropagator().extract(context, carrier, getter);\n    };\n    /**\n     * Return a list of all fields which may be used by the propagator.\n     */\n    PropagationAPI.prototype.fields = function () {\n        return this._getGlobalPropagator().fields();\n    };\n    /** Remove the global propagator */\n    PropagationAPI.prototype.disable = function () {\n        unregisterGlobal(API_NAME, DiagAPI.instance());\n    };\n    PropagationAPI.prototype._getGlobalPropagator = function () {\n        return getGlobal(API_NAME) || NOOP_TEXT_MAP_PROPAGATOR;\n    };\n    return PropagationAPI;\n}());\nexport { PropagationAPI };\n//# sourceMappingURL=propagation.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { PropagationAPI } from './api/propagation';\n/** Entrypoint for propagation API */\nexport var propagation = PropagationAPI.getInstance();\n//# sourceMappingURL=propagation-api.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var defaultTextMapGetter = {\n    get: function (carrier, key) {\n        if (carrier == null) {\n            return undefined;\n        }\n        return carrier[key];\n    },\n    keys: function (carrier) {\n        if (carrier == null) {\n            return [];\n        }\n        return Object.keys(carrier);\n    },\n};\nexport var defaultTextMapSetter = {\n    set: function (carrier, key, value) {\n        if (carrier == null) {\n            return;\n        }\n        carrier[key] = value;\n    },\n};\n//# sourceMappingURL=TextMapPropagator.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nimport { ProxyTracerProvider } from '../trace/ProxyTracerProvider';\nimport { isSpanContextValid, wrapSpanContext, } from '../trace/spancontext-utils';\nimport { deleteSpan, getActiveSpan, getSpan, getSpanContext, setSpan, setSpanContext, } from '../trace/context-utils';\nimport { DiagAPI } from './diag';\nvar API_NAME = 'trace';\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Tracing API\n */\nvar TraceAPI = /** @class */ (function () {\n    /** Empty private constructor prevents end users from constructing a new instance of the API */\n    function TraceAPI() {\n        this._proxyTracerProvider = new ProxyTracerProvider();\n        this.wrapSpanContext = wrapSpanContext;\n        this.isSpanContextValid = isSpanContextValid;\n        this.deleteSpan = deleteSpan;\n        this.getSpan = getSpan;\n        this.getActiveSpan = getActiveSpan;\n        this.getSpanContext = getSpanContext;\n        this.setSpan = setSpan;\n        this.setSpanContext = setSpanContext;\n    }\n    /** Get the singleton instance of the Trace API */\n    TraceAPI.getInstance = function () {\n        if (!this._instance) {\n            this._instance = new TraceAPI();\n        }\n        return this._instance;\n    };\n    /**\n     * Set the current global tracer.\n     *\n     * @returns true if the tracer provider was successfully registered, else false\n     */\n    TraceAPI.prototype.setGlobalTracerProvider = function (provider) {\n        var success = registerGlobal(API_NAME, this._proxyTracerProvider, DiagAPI.instance());\n        if (success) {\n            this._proxyTracerProvider.setDelegate(provider);\n        }\n        return success;\n    };\n    /**\n     * Returns the global tracer provider.\n     */\n    TraceAPI.prototype.getTracerProvider = function () {\n        return getGlobal(API_NAME) || this._proxyTracerProvider;\n    };\n    /**\n     * Returns a tracer from the global tracer provider.\n     */\n    TraceAPI.prototype.getTracer = function (name, version) {\n        return this.getTracerProvider().getTracer(name, version);\n    };\n    /** Remove the global tracer provider */\n    TraceAPI.prototype.disable = function () {\n        unregisterGlobal(API_NAME, DiagAPI.instance());\n        this._proxyTracerProvider = new ProxyTracerProvider();\n    };\n    return TraceAPI;\n}());\nexport { TraceAPI };\n//# sourceMappingURL=trace.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { TraceAPI } from './api/trace';\n/** Entrypoint for trace API */\nexport var trace = TraceAPI.getInstance();\n//# sourceMappingURL=trace-api.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { INVALID_SPAN_CONTEXT } from './invalid-span-constants';\n/**\n * The NonRecordingSpan is the default {@link Span} that is used when no Span\n * implementation is available. All operations are no-op including context\n * propagation.\n */\nvar NonRecordingSpan = /** @class */ (function () {\n    function NonRecordingSpan(_spanContext) {\n        if (_spanContext === void 0) { _spanContext = INVALID_SPAN_CONTEXT; }\n        this._spanContext = _spanContext;\n    }\n    // Returns a SpanContext.\n    NonRecordingSpan.prototype.spanContext = function () {\n        return this._spanContext;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.setAttribute = function (_key, _value) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.setAttributes = function (_attributes) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.addEvent = function (_name, _attributes) {\n        return this;\n    };\n    NonRecordingSpan.prototype.addLink = function (_link) {\n        return this;\n    };\n    NonRecordingSpan.prototype.addLinks = function (_links) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.setStatus = function (_status) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.updateName = function (_name) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.end = function (_endTime) { };\n    // isRecording always returns false for NonRecordingSpan.\n    NonRecordingSpan.prototype.isRecording = function () {\n        return false;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.recordException = function (_exception, _time) { };\n    return NonRecordingSpan;\n}());\nexport { NonRecordingSpan };\n//# sourceMappingURL=NonRecordingSpan.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ContextAPI } from '../api/context';\nimport { getSpanContext, setSpan } from '../trace/context-utils';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { isSpanContextValid } from './spancontext-utils';\nvar contextApi = ContextAPI.getInstance();\n/**\n * No-op implementations of {@link Tracer}.\n */\nvar NoopTracer = /** @class */ (function () {\n    function NoopTracer() {\n    }\n    // startSpan starts a noop span.\n    NoopTracer.prototype.startSpan = function (name, options, context) {\n        if (context === void 0) { context = contextApi.active(); }\n        var root = Boolean(options === null || options === void 0 ? void 0 : options.root);\n        if (root) {\n            return new NonRecordingSpan();\n        }\n        var parentFromContext = context && getSpanContext(context);\n        if (isSpanContext(parentFromContext) &&\n            isSpanContextValid(parentFromContext)) {\n            return new NonRecordingSpan(parentFromContext);\n        }\n        else {\n            return new NonRecordingSpan();\n        }\n    };\n    NoopTracer.prototype.startActiveSpan = function (name, arg2, arg3, arg4) {\n        var opts;\n        var ctx;\n        var fn;\n        if (arguments.length < 2) {\n            return;\n        }\n        else if (arguments.length === 2) {\n            fn = arg2;\n        }\n        else if (arguments.length === 3) {\n            opts = arg2;\n            fn = arg3;\n        }\n        else {\n            opts = arg2;\n            ctx = arg3;\n            fn = arg4;\n        }\n        var parentContext = ctx !== null && ctx !== void 0 ? ctx : contextApi.active();\n        var span = this.startSpan(name, opts, parentContext);\n        var contextWithSpanSet = setSpan(parentContext, span);\n        return contextApi.with(contextWithSpanSet, fn, undefined, span);\n    };\n    return NoopTracer;\n}());\nexport { NoopTracer };\nfunction isSpanContext(spanContext) {\n    return (typeof spanContext === 'object' &&\n        typeof spanContext['spanId'] === 'string' &&\n        typeof spanContext['traceId'] === 'string' &&\n        typeof spanContext['traceFlags'] === 'number');\n}\n//# sourceMappingURL=NoopTracer.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { NoopTracer } from './NoopTracer';\nvar NOOP_TRACER = new NoopTracer();\n/**\n * Proxy tracer provided by the proxy tracer provider\n */\nvar ProxyTracer = /** @class */ (function () {\n    function ProxyTracer(_provider, name, version, options) {\n        this._provider = _provider;\n        this.name = name;\n        this.version = version;\n        this.options = options;\n    }\n    ProxyTracer.prototype.startSpan = function (name, options, context) {\n        return this._getTracer().startSpan(name, options, context);\n    };\n    ProxyTracer.prototype.startActiveSpan = function (_name, _options, _context, _fn) {\n        var tracer = this._getTracer();\n        return Reflect.apply(tracer.startActiveSpan, tracer, arguments);\n    };\n    /**\n     * Try to get a tracer from the proxy tracer provider.\n     * If the proxy tracer provider has no delegate, return a noop tracer.\n     */\n    ProxyTracer.prototype._getTracer = function () {\n        if (this._delegate) {\n            return this._delegate;\n        }\n        var tracer = this._provider.getDelegateTracer(this.name, this.version, this.options);\n        if (!tracer) {\n            return NOOP_TRACER;\n        }\n        this._delegate = tracer;\n        return this._delegate;\n    };\n    return ProxyTracer;\n}());\nexport { ProxyTracer };\n//# sourceMappingURL=ProxyTracer.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ProxyTracer } from './ProxyTracer';\nimport { NoopTracerProvider } from './NoopTracerProvider';\nvar NOOP_TRACER_PROVIDER = new NoopTracerProvider();\n/**\n * Tracer provider which provides {@link ProxyTracer}s.\n *\n * Before a delegate is set, tracers provided are NoOp.\n *   When a delegate is set, traces are provided from the delegate.\n *   When a delegate is set after tracers have already been provided,\n *   all tracers already provided will use the provided delegate implementation.\n */\nvar ProxyTracerProvider = /** @class */ (function () {\n    function ProxyTracerProvider() {\n    }\n    /**\n     * Get a {@link ProxyTracer}\n     */\n    ProxyTracerProvider.prototype.getTracer = function (name, version, options) {\n        var _a;\n        return ((_a = this.getDelegateTracer(name, version, options)) !== null && _a !== void 0 ? _a : new ProxyTracer(this, name, version, options));\n    };\n    ProxyTracerProvider.prototype.getDelegate = function () {\n        var _a;\n        return (_a = this._delegate) !== null && _a !== void 0 ? _a : NOOP_TRACER_PROVIDER;\n    };\n    /**\n     * Set the delegate tracer provider\n     */\n    ProxyTracerProvider.prototype.setDelegate = function (delegate) {\n        this._delegate = delegate;\n    };\n    ProxyTracerProvider.prototype.getDelegateTracer = function (name, version, options) {\n        var _a;\n        return (_a = this._delegate) === null || _a === void 0 ? void 0 : _a.getTracer(name, version, options);\n    };\n    return ProxyTracerProvider;\n}());\nexport { ProxyTracerProvider };\n//# sourceMappingURL=ProxyTracerProvider.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { NoopTracer } from './NoopTracer';\n/**\n * An implementation of the {@link TracerProvider} which returns an impotent\n * Tracer for all calls to `getTracer`.\n *\n * All operations are no-op.\n */\nvar NoopTracerProvider = /** @class */ (function () {\n    function NoopTracerProvider() {\n    }\n    NoopTracerProvider.prototype.getTracer = function (_name, _version, _options) {\n        return new NoopTracer();\n    };\n    return NoopTracerProvider;\n}());\nexport { NoopTracerProvider };\n//# sourceMappingURL=NoopTracerProvider.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @deprecated use the one declared in @opentelemetry/sdk-trace-base instead.\n * A sampling decision that determines how a {@link Span} will be recorded\n * and collected.\n */\nexport var SamplingDecision;\n(function (SamplingDecision) {\n    /**\n     * `Span.isRecording() === false`, span will not be recorded and all events\n     * and attributes will be dropped.\n     */\n    SamplingDecision[SamplingDecision[\"NOT_RECORD\"] = 0] = \"NOT_RECORD\";\n    /**\n     * `Span.isRecording() === true`, but `Sampled` flag in {@link TraceFlags}\n     * MUST NOT be set.\n     */\n    SamplingDecision[SamplingDecision[\"RECORD\"] = 1] = \"RECORD\";\n    /**\n     * `Span.isRecording() === true` AND `Sampled` flag in {@link TraceFlags}\n     * MUST be set.\n     */\n    SamplingDecision[SamplingDecision[\"RECORD_AND_SAMPLED\"] = 2] = \"RECORD_AND_SAMPLED\";\n})(SamplingDecision || (SamplingDecision = {}));\n//# sourceMappingURL=SamplingResult.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createContextKey } from '../context/context';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { ContextAPI } from '../api/context';\n/**\n * span key\n */\nvar SPAN_KEY = createContextKey('OpenTelemetry Context Key SPAN');\n/**\n * Return the span if one exists\n *\n * @param context context to get span from\n */\nexport function getSpan(context) {\n    return context.getValue(SPAN_KEY) || undefined;\n}\n/**\n * Gets the span from the current context, if one exists.\n */\nexport function getActiveSpan() {\n    return getSpan(ContextAPI.getInstance().active());\n}\n/**\n * Set the span on a context\n *\n * @param context context to use as parent\n * @param span span to set active\n */\nexport function setSpan(context, span) {\n    return context.setValue(SPAN_KEY, span);\n}\n/**\n * Remove current span stored in the context\n *\n * @param context context to delete span from\n */\nexport function deleteSpan(context) {\n    return context.deleteValue(SPAN_KEY);\n}\n/**\n * Wrap span context in a NoopSpan and set as span in a new\n * context\n *\n * @param context context to set active span on\n * @param spanContext span context to be wrapped\n */\nexport function setSpanContext(context, spanContext) {\n    return setSpan(context, new NonRecordingSpan(spanContext));\n}\n/**\n * Get the span context of the span if it exists.\n *\n * @param context context to get values from\n */\nexport function getSpanContext(context) {\n    var _a;\n    return (_a = getSpan(context)) === null || _a === void 0 ? void 0 : _a.spanContext();\n}\n//# sourceMappingURL=context-utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { TraceFlags } from './trace_flags';\nexport var INVALID_SPANID = '0000000000000000';\nexport var INVALID_TRACEID = '00000000000000000000000000000000';\nexport var INVALID_SPAN_CONTEXT = {\n    traceId: INVALID_TRACEID,\n    spanId: INVALID_SPANID,\n    traceFlags: TraceFlags.NONE,\n};\n//# sourceMappingURL=invalid-span-constants.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var SpanKind;\n(function (SpanKind) {\n    /** Default value. Indicates that the span is used internally. */\n    SpanKind[SpanKind[\"INTERNAL\"] = 0] = \"INTERNAL\";\n    /**\n     * Indicates that the span covers server-side handling of an RPC or other\n     * remote request.\n     */\n    SpanKind[SpanKind[\"SERVER\"] = 1] = \"SERVER\";\n    /**\n     * Indicates that the span covers the client-side wrapper around an RPC or\n     * other remote request.\n     */\n    SpanKind[SpanKind[\"CLIENT\"] = 2] = \"CLIENT\";\n    /**\n     * Indicates that the span describes producer sending a message to a\n     * broker. Unlike client and server, there is no direct critical path latency\n     * relationship between producer and consumer spans.\n     */\n    SpanKind[SpanKind[\"PRODUCER\"] = 3] = \"PRODUCER\";\n    /**\n     * Indicates that the span describes consumer receiving a message from a\n     * broker. Unlike client and server, there is no direct critical path latency\n     * relationship between producer and consumer spans.\n     */\n    SpanKind[SpanKind[\"CONSUMER\"] = 4] = \"CONSUMER\";\n})(SpanKind || (SpanKind = {}));\n//# sourceMappingURL=span_kind.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { INVALID_SPANID, INVALID_TRACEID } from './invalid-span-constants';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nvar VALID_TRACEID_REGEX = /^([0-9a-f]{32})$/i;\nvar VALID_SPANID_REGEX = /^[0-9a-f]{16}$/i;\nexport function isValidTraceId(traceId) {\n    return VALID_TRACEID_REGEX.test(traceId) && traceId !== INVALID_TRACEID;\n}\nexport function isValidSpanId(spanId) {\n    return VALID_SPANID_REGEX.test(spanId) && spanId !== INVALID_SPANID;\n}\n/**\n * Returns true if this {@link SpanContext} is valid.\n * @return true if this {@link SpanContext} is valid.\n */\nexport function isSpanContextValid(spanContext) {\n    return (isValidTraceId(spanContext.traceId) && isValidSpanId(spanContext.spanId));\n}\n/**\n * Wrap the given {@link SpanContext} in a new non-recording {@link Span}\n *\n * @param spanContext span context to be wrapped\n * @returns a new non-recording {@link Span} with the provided context\n */\nexport function wrapSpanContext(spanContext) {\n    return new NonRecordingSpan(spanContext);\n}\n//# sourceMappingURL=spancontext-utils.js.map","/**\n * An enumeration of status codes.\n */\nexport var SpanStatusCode;\n(function (SpanStatusCode) {\n    /**\n     * The default status.\n     */\n    SpanStatusCode[SpanStatusCode[\"UNSET\"] = 0] = \"UNSET\";\n    /**\n     * The operation has been validated by an Application developer or\n     * Operator to have completed successfully.\n     */\n    SpanStatusCode[SpanStatusCode[\"OK\"] = 1] = \"OK\";\n    /**\n     * The operation contains an error.\n     */\n    SpanStatusCode[SpanStatusCode[\"ERROR\"] = 2] = \"ERROR\";\n})(SpanStatusCode || (SpanStatusCode = {}));\n//# sourceMappingURL=status.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var TraceFlags;\n(function (TraceFlags) {\n    /** Represents no flag set. */\n    TraceFlags[TraceFlags[\"NONE\"] = 0] = \"NONE\";\n    /** Bit to represent whether trace is sampled in trace flags. */\n    TraceFlags[TraceFlags[\"SAMPLED\"] = 1] = \"SAMPLED\";\n})(TraceFlags || (TraceFlags = {}));\n//# sourceMappingURL=trace_flags.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var ExportResultCode;\n(function (ExportResultCode) {\n    ExportResultCode[ExportResultCode[\"SUCCESS\"] = 0] = \"SUCCESS\";\n    ExportResultCode[ExportResultCode[\"FAILED\"] = 1] = \"FAILED\";\n})(ExportResultCode || (ExportResultCode = {}));\n//# sourceMappingURL=ExportResult.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var BAGGAGE_KEY_PAIR_SEPARATOR = '=';\nexport var BAGGAGE_PROPERTIES_SEPARATOR = ';';\nexport var BAGGAGE_ITEMS_SEPARATOR = ',';\n// Name of the http header used to propagate the baggage\nexport var BAGGAGE_HEADER = 'baggage';\n// Maximum number of name-value pairs allowed by w3c spec\nexport var BAGGAGE_MAX_NAME_VALUE_PAIRS = 180;\n// Maximum number of bytes per a single name-value pair allowed by w3c spec\nexport var BAGGAGE_MAX_PER_NAME_VALUE_PAIRS = 4096;\n// Maximum total length of all name-value pairs allowed by w3c spec\nexport var BAGGAGE_MAX_TOTAL_LENGTH = 8192;\n//# sourceMappingURL=constants.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { propagation, } from '@opentelemetry/api';\nimport { isTracingSuppressed } from '../../trace/suppress-tracing';\nimport { BAGGAGE_HEADER, BAGGAGE_ITEMS_SEPARATOR, BAGGAGE_MAX_NAME_VALUE_PAIRS, BAGGAGE_MAX_PER_NAME_VALUE_PAIRS, } from '../constants';\nimport { getKeyPairs, parsePairKeyValue, serializeKeyPairs } from '../utils';\n/**\n * Propagates {@link Baggage} through Context format propagation.\n *\n * Based on the Baggage specification:\n * https://w3c.github.io/baggage/\n */\nvar W3CBaggagePropagator = /** @class */ (function () {\n    function W3CBaggagePropagator() {\n    }\n    W3CBaggagePropagator.prototype.inject = function (context, carrier, setter) {\n        var baggage = propagation.getBaggage(context);\n        if (!baggage || isTracingSuppressed(context))\n            return;\n        var keyPairs = getKeyPairs(baggage)\n            .filter(function (pair) {\n            return pair.length <= BAGGAGE_MAX_PER_NAME_VALUE_PAIRS;\n        })\n            .slice(0, BAGGAGE_MAX_NAME_VALUE_PAIRS);\n        var headerValue = serializeKeyPairs(keyPairs);\n        if (headerValue.length > 0) {\n            setter.set(carrier, BAGGAGE_HEADER, headerValue);\n        }\n    };\n    W3CBaggagePropagator.prototype.extract = function (context, carrier, getter) {\n        var headerValue = getter.get(carrier, BAGGAGE_HEADER);\n        var baggageString = Array.isArray(headerValue)\n            ? headerValue.join(BAGGAGE_ITEMS_SEPARATOR)\n            : headerValue;\n        if (!baggageString)\n            return context;\n        var baggage = {};\n        if (baggageString.length === 0) {\n            return context;\n        }\n        var pairs = baggageString.split(BAGGAGE_ITEMS_SEPARATOR);\n        pairs.forEach(function (entry) {\n            var keyPair = parsePairKeyValue(entry);\n            if (keyPair) {\n                var baggageEntry = { value: keyPair.value };\n                if (keyPair.metadata) {\n                    baggageEntry.metadata = keyPair.metadata;\n                }\n                baggage[keyPair.key] = baggageEntry;\n            }\n        });\n        if (Object.entries(baggage).length === 0) {\n            return context;\n        }\n        return propagation.setBaggage(context, propagation.createBaggage(baggage));\n    };\n    W3CBaggagePropagator.prototype.fields = function () {\n        return [BAGGAGE_HEADER];\n    };\n    return W3CBaggagePropagator;\n}());\nexport { W3CBaggagePropagator };\n//# sourceMappingURL=W3CBaggagePropagator.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\n/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { baggageEntryMetadataFromString, } from '@opentelemetry/api';\nimport { BAGGAGE_ITEMS_SEPARATOR, BAGGAGE_PROPERTIES_SEPARATOR, BAGGAGE_KEY_PAIR_SEPARATOR, BAGGAGE_MAX_TOTAL_LENGTH, } from './constants';\nexport function serializeKeyPairs(keyPairs) {\n    return keyPairs.reduce(function (hValue, current) {\n        var value = \"\" + hValue + (hValue !== '' ? BAGGAGE_ITEMS_SEPARATOR : '') + current;\n        return value.length > BAGGAGE_MAX_TOTAL_LENGTH ? hValue : value;\n    }, '');\n}\nexport function getKeyPairs(baggage) {\n    return baggage.getAllEntries().map(function (_a) {\n        var _b = __read(_a, 2), key = _b[0], value = _b[1];\n        var entry = encodeURIComponent(key) + \"=\" + encodeURIComponent(value.value);\n        // include opaque metadata if provided\n        // NOTE: we intentionally don't URI-encode the metadata - that responsibility falls on the metadata implementation\n        if (value.metadata !== undefined) {\n            entry += BAGGAGE_PROPERTIES_SEPARATOR + value.metadata.toString();\n        }\n        return entry;\n    });\n}\nexport function parsePairKeyValue(entry) {\n    var valueProps = entry.split(BAGGAGE_PROPERTIES_SEPARATOR);\n    if (valueProps.length <= 0)\n        return;\n    var keyPairPart = valueProps.shift();\n    if (!keyPairPart)\n        return;\n    var separatorIndex = keyPairPart.indexOf(BAGGAGE_KEY_PAIR_SEPARATOR);\n    if (separatorIndex <= 0)\n        return;\n    var key = decodeURIComponent(keyPairPart.substring(0, separatorIndex).trim());\n    var value = decodeURIComponent(keyPairPart.substring(separatorIndex + 1).trim());\n    var metadata;\n    if (valueProps.length > 0) {\n        metadata = baggageEntryMetadataFromString(valueProps.join(BAGGAGE_PROPERTIES_SEPARATOR));\n    }\n    return { key: key, value: value, metadata: metadata };\n}\n/**\n * Parse a string serialized in the baggage HTTP Format (without metadata):\n * https://github.com/w3c/baggage/blob/master/baggage/HTTP_HEADER_FORMAT.md\n */\nexport function parseKeyPairsIntoRecord(value) {\n    if (typeof value !== 'string' || value.length === 0)\n        return {};\n    return value\n        .split(BAGGAGE_ITEMS_SEPARATOR)\n        .map(function (entry) {\n        return parsePairKeyValue(entry);\n    })\n        .filter(function (keyPair) { return keyPair !== undefined && keyPair.value.length > 0; })\n        .reduce(function (headers, keyPair) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        headers[keyPair.key] = keyPair.value;\n        return headers;\n    }, {});\n}\n//# sourceMappingURL=utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { diag } from '@opentelemetry/api';\nexport function sanitizeAttributes(attributes) {\n    var e_1, _a;\n    var out = {};\n    if (typeof attributes !== 'object' || attributes == null) {\n        return out;\n    }\n    try {\n        for (var _b = __values(Object.entries(attributes)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var _d = __read(_c.value, 2), key = _d[0], val = _d[1];\n            if (!isAttributeKey(key)) {\n                diag.warn(\"Invalid attribute key: \" + key);\n                continue;\n            }\n            if (!isAttributeValue(val)) {\n                diag.warn(\"Invalid attribute value set for key: \" + key);\n                continue;\n            }\n            if (Array.isArray(val)) {\n                out[key] = val.slice();\n            }\n            else {\n                out[key] = val;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return out;\n}\nexport function isAttributeKey(key) {\n    return typeof key === 'string' && key.length > 0;\n}\nexport function isAttributeValue(val) {\n    if (val == null) {\n        return true;\n    }\n    if (Array.isArray(val)) {\n        return isHomogeneousAttributeValueArray(val);\n    }\n    return isValidPrimitiveAttributeValue(val);\n}\nfunction isHomogeneousAttributeValueArray(arr) {\n    var e_2, _a;\n    var type;\n    try {\n        for (var arr_1 = __values(arr), arr_1_1 = arr_1.next(); !arr_1_1.done; arr_1_1 = arr_1.next()) {\n            var element = arr_1_1.value;\n            // null/undefined elements are allowed\n            if (element == null)\n                continue;\n            if (!type) {\n                if (isValidPrimitiveAttributeValue(element)) {\n                    type = typeof element;\n                    continue;\n                }\n                // encountered an invalid primitive\n                return false;\n            }\n            if (typeof element === type) {\n                continue;\n            }\n            return false;\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (arr_1_1 && !arr_1_1.done && (_a = arr_1.return)) _a.call(arr_1);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return true;\n}\nfunction isValidPrimitiveAttributeValue(val) {\n    switch (typeof val) {\n        case 'number':\n        case 'boolean':\n        case 'string':\n            return true;\n    }\n    return false;\n}\n//# sourceMappingURL=attributes.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { loggingErrorHandler } from './logging-error-handler';\n/** The global error handler delegate */\nvar delegateHandler = loggingErrorHandler();\n/**\n * Set the global error handler\n * @param {ErrorHandler} handler\n */\nexport function setGlobalErrorHandler(handler) {\n    delegateHandler = handler;\n}\n/**\n * Return the global error handler\n * @param {Exception} ex\n */\nexport function globalErrorHandler(ex) {\n    try {\n        delegateHandler(ex);\n    }\n    catch (_a) { } // eslint-disable-line no-empty\n}\n//# sourceMappingURL=global-error-handler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { diag } from '@opentelemetry/api';\n/**\n * Returns a function that logs an error using the provided logger, or a\n * console logger if one was not provided.\n */\nexport function loggingErrorHandler() {\n    return function (ex) {\n        diag.error(stringifyException(ex));\n    };\n}\n/**\n * Converts an exception into a string representation\n * @param {Exception} ex\n */\nfunction stringifyException(ex) {\n    if (typeof ex === 'string') {\n        return ex;\n    }\n    else {\n        return JSON.stringify(flattenException(ex));\n    }\n}\n/**\n * Flattens an exception into key-value pairs by traversing the prototype chain\n * and coercing values to strings. Duplicate properties will not be overwritten;\n * the first insert wins.\n */\nfunction flattenException(ex) {\n    var result = {};\n    var current = ex;\n    while (current !== null) {\n        Object.getOwnPropertyNames(current).forEach(function (propertyName) {\n            if (result[propertyName])\n                return;\n            var value = current[propertyName];\n            if (value) {\n                result[propertyName] = String(value);\n            }\n        });\n        current = Object.getPrototypeOf(current);\n    }\n    return result;\n}\n//# sourceMappingURL=logging-error-handler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { otperformance as performance } from '../platform';\nvar NANOSECOND_DIGITS = 9;\nvar NANOSECOND_DIGITS_IN_MILLIS = 6;\nvar MILLISECONDS_TO_NANOSECONDS = Math.pow(10, NANOSECOND_DIGITS_IN_MILLIS);\nvar SECOND_TO_NANOSECONDS = Math.pow(10, NANOSECOND_DIGITS);\n/**\n * Converts a number of milliseconds from epoch to HrTime([seconds, remainder in nanoseconds]).\n * @param epochMillis\n */\nexport function millisToHrTime(epochMillis) {\n    var epochSeconds = epochMillis / 1000;\n    // Decimals only.\n    var seconds = Math.trunc(epochSeconds);\n    // Round sub-nanosecond accuracy to nanosecond.\n    var nanos = Math.round((epochMillis % 1000) * MILLISECONDS_TO_NANOSECONDS);\n    return [seconds, nanos];\n}\nexport function getTimeOrigin() {\n    var timeOrigin = performance.timeOrigin;\n    if (typeof timeOrigin !== 'number') {\n        var perf = performance;\n        timeOrigin = perf.timing && perf.timing.fetchStart;\n    }\n    return timeOrigin;\n}\n/**\n * Returns an hrtime calculated via performance component.\n * @param performanceNow\n */\nexport function hrTime(performanceNow) {\n    var timeOrigin = millisToHrTime(getTimeOrigin());\n    var now = millisToHrTime(typeof performanceNow === 'number' ? performanceNow : performance.now());\n    return addHrTimes(timeOrigin, now);\n}\n/**\n *\n * Converts a TimeInput to an HrTime, defaults to _hrtime().\n * @param time\n */\nexport function timeInputToHrTime(time) {\n    // process.hrtime\n    if (isTimeInputHrTime(time)) {\n        return time;\n    }\n    else if (typeof time === 'number') {\n        // Must be a performance.now() if it's smaller than process start time.\n        if (time < getTimeOrigin()) {\n            return hrTime(time);\n        }\n        else {\n            // epoch milliseconds or performance.timeOrigin\n            return millisToHrTime(time);\n        }\n    }\n    else if (time instanceof Date) {\n        return millisToHrTime(time.getTime());\n    }\n    else {\n        throw TypeError('Invalid input type');\n    }\n}\n/**\n * Returns a duration of two hrTime.\n * @param startTime\n * @param endTime\n */\nexport function hrTimeDuration(startTime, endTime) {\n    var seconds = endTime[0] - startTime[0];\n    var nanos = endTime[1] - startTime[1];\n    // overflow\n    if (nanos < 0) {\n        seconds -= 1;\n        // negate\n        nanos += SECOND_TO_NANOSECONDS;\n    }\n    return [seconds, nanos];\n}\n/**\n * Convert hrTime to timestamp, for example \"2019-05-14T17:00:00.000123456Z\"\n * @param time\n */\nexport function hrTimeToTimeStamp(time) {\n    var precision = NANOSECOND_DIGITS;\n    var tmp = \"\" + '0'.repeat(precision) + time[1] + \"Z\";\n    var nanoString = tmp.substr(tmp.length - precision - 1);\n    var date = new Date(time[0] * 1000).toISOString();\n    return date.replace('000Z', nanoString);\n}\n/**\n * Convert hrTime to nanoseconds.\n * @param time\n */\nexport function hrTimeToNanoseconds(time) {\n    return time[0] * SECOND_TO_NANOSECONDS + time[1];\n}\n/**\n * Convert hrTime to milliseconds.\n * @param time\n */\nexport function hrTimeToMilliseconds(time) {\n    return time[0] * 1e3 + time[1] / 1e6;\n}\n/**\n * Convert hrTime to microseconds.\n * @param time\n */\nexport function hrTimeToMicroseconds(time) {\n    return time[0] * 1e6 + time[1] / 1e3;\n}\n/**\n * check if time is HrTime\n * @param value\n */\nexport function isTimeInputHrTime(value) {\n    return (Array.isArray(value) &&\n        value.length === 2 &&\n        typeof value[0] === 'number' &&\n        typeof value[1] === 'number');\n}\n/**\n * check if input value is a correct types.TimeInput\n * @param value\n */\nexport function isTimeInput(value) {\n    return (isTimeInputHrTime(value) ||\n        typeof value === 'number' ||\n        value instanceof Date);\n}\n/**\n * Given 2 HrTime formatted times, return their sum as an HrTime.\n */\nexport function addHrTimes(time1, time2) {\n    var out = [time1[0] + time2[0], time1[1] + time2[1]];\n    // Nanoseconds\n    if (out[1] >= SECOND_TO_NANOSECONDS) {\n        out[1] -= SECOND_TO_NANOSECONDS;\n        out[0] += 1;\n    }\n    return out;\n}\n//# sourceMappingURL=time.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A utility for returning wall times anchored to a given point in time. Wall time measurements will\n * not be taken from the system, but instead are computed by adding a monotonic clock time\n * to the anchor point.\n *\n * This is needed because the system time can change and result in unexpected situations like\n * spans ending before they are started. Creating an anchored clock for each local root span\n * ensures that span timings and durations are accurate while preventing span times from drifting\n * too far from the system clock.\n *\n * Only creating an anchored clock once per local trace ensures span times are correct relative\n * to each other. For example, a child span will never have a start time before its parent even\n * if the system clock is corrected during the local trace.\n *\n * Heavily inspired by the OTel Java anchored clock\n * https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk/trace/src/main/java/io/opentelemetry/sdk/trace/AnchoredClock.java\n */\nvar AnchoredClock = /** @class */ (function () {\n    /**\n     * Create a new AnchoredClock anchored to the current time returned by systemClock.\n     *\n     * @param systemClock should be a clock that returns the number of milliseconds since January 1 1970 such as Date\n     * @param monotonicClock should be a clock that counts milliseconds monotonically such as window.performance or perf_hooks.performance\n     */\n    function AnchoredClock(systemClock, monotonicClock) {\n        this._monotonicClock = monotonicClock;\n        this._epochMillis = systemClock.now();\n        this._performanceMillis = monotonicClock.now();\n    }\n    /**\n     * Returns the current time by adding the number of milliseconds since the\n     * AnchoredClock was created to the creation epoch time\n     */\n    AnchoredClock.prototype.now = function () {\n        var delta = this._monotonicClock.now() - this._performanceMillis;\n        return this._epochMillis + delta;\n    };\n    return AnchoredClock;\n}());\nexport { AnchoredClock };\n//# sourceMappingURL=anchored-clock.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction intValue(charCode) {\n    // 0-9\n    if (charCode >= 48 && charCode <= 57) {\n        return charCode - 48;\n    }\n    // a-f\n    if (charCode >= 97 && charCode <= 102) {\n        return charCode - 87;\n    }\n    // A-F\n    return charCode - 55;\n}\nexport function hexToBinary(hexStr) {\n    var buf = new Uint8Array(hexStr.length / 2);\n    var offset = 0;\n    for (var i = 0; i < hexStr.length; i += 2) {\n        var hi = intValue(hexStr.charCodeAt(i));\n        var lo = intValue(hexStr.charCodeAt(i + 1));\n        buf[offset++] = (hi << 4) | lo;\n    }\n    return buf;\n}\n//# sourceMappingURL=hex-to-binary.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** only globals that common to node and browsers are allowed */\n// eslint-disable-next-line node/no-unsupported-features/es-builtins\nexport var _globalThis = typeof globalThis === 'object' ? globalThis : global;\n//# sourceMappingURL=globalThis.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { hexToBinary } from '../../common/hex-to-binary';\nexport function hexToBase64(hexStr) {\n    return Buffer.from(hexToBinary(hexStr)).toString('base64');\n}\n//# sourceMappingURL=hex-to-base64.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar SPAN_ID_BYTES = 8;\nvar TRACE_ID_BYTES = 16;\n/**\n * @deprecated Use the one defined in @opentelemetry/sdk-trace-base instead.\n */\nvar RandomIdGenerator = /** @class */ (function () {\n    function RandomIdGenerator() {\n        /**\n         * Returns a random 16-byte trace ID formatted/encoded as a 32 lowercase hex\n         * characters corresponding to 128 bits.\n         */\n        this.generateTraceId = getIdGenerator(TRACE_ID_BYTES);\n        /**\n         * Returns a random 8-byte span ID formatted/encoded as a 16 lowercase hex\n         * characters corresponding to 64 bits.\n         */\n        this.generateSpanId = getIdGenerator(SPAN_ID_BYTES);\n    }\n    return RandomIdGenerator;\n}());\nexport { RandomIdGenerator };\nvar SHARED_BUFFER = Buffer.allocUnsafe(TRACE_ID_BYTES);\nfunction getIdGenerator(bytes) {\n    return function generateId() {\n        for (var i = 0; i < bytes / 4; i++) {\n            // unsigned right shift drops decimal part of the number\n            // it is required because if a number between 2**32 and 2**32 - 1 is generated, an out of range error is thrown by writeUInt32BE\n            SHARED_BUFFER.writeUInt32BE((Math.random() * Math.pow(2, 32)) >>> 0, i * 4);\n        }\n        // If buffer is all 0, set the last byte to 1 to guarantee a valid w3c id is generated\n        for (var i = 0; i < bytes; i++) {\n            if (SHARED_BUFFER[i] > 0) {\n                break;\n            }\n            else if (i === bytes - 1) {\n                SHARED_BUFFER[bytes - 1] = 1;\n            }\n        }\n        return SHARED_BUFFER.toString('hex', 0, bytes);\n    };\n}\n//# sourceMappingURL=RandomIdGenerator.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createContextKey } from '@opentelemetry/api';\nvar RPC_METADATA_KEY = createContextKey('OpenTelemetry SDK Context Key RPC_METADATA');\nexport var RPCType;\n(function (RPCType) {\n    RPCType[\"HTTP\"] = \"http\";\n})(RPCType || (RPCType = {}));\nexport function setRPCMetadata(context, meta) {\n    return context.setValue(RPC_METADATA_KEY, meta);\n}\nexport function deleteRPCMetadata(context) {\n    return context.deleteValue(RPC_METADATA_KEY);\n}\nexport function getRPCMetadata(context) {\n    return context.getValue(RPC_METADATA_KEY);\n}\n//# sourceMappingURL=rpc-metadata.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Error that is thrown on timeouts.\n */\nvar TimeoutError = /** @class */ (function (_super) {\n    __extends(TimeoutError, _super);\n    function TimeoutError(message) {\n        var _this = _super.call(this, message) || this;\n        // manually adjust prototype to retain `instanceof` functionality when targeting ES5, see:\n        // https://github.com/Microsoft/TypeScript-wiki/blob/main/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n        Object.setPrototypeOf(_this, TimeoutError.prototype);\n        return _this;\n    }\n    return TimeoutError;\n}(Error));\nexport { TimeoutError };\n/**\n * Adds a timeout to a promise and rejects if the specified timeout has elapsed. Also rejects if the specified promise\n * rejects, and resolves if the specified promise resolves.\n *\n * <p> NOTE: this operation will continue even after it throws a {@link TimeoutError}.\n *\n * @param promise promise to use with timeout.\n * @param timeout the timeout in milliseconds until the returned promise is rejected.\n */\nexport function callWithTimeout(promise, timeout) {\n    var timeoutHandle;\n    var timeoutPromise = new Promise(function timeoutFunction(_resolve, reject) {\n        timeoutHandle = setTimeout(function timeoutHandler() {\n            reject(new TimeoutError('Operation timed out.'));\n        }, timeout);\n    });\n    return Promise.race([promise, timeoutPromise]).then(function (result) {\n        clearTimeout(timeoutHandle);\n        return result;\n    }, function (reason) {\n        clearTimeout(timeoutHandle);\n        throw reason;\n    });\n}\n//# sourceMappingURL=timeout.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { SamplingDecision } from '@opentelemetry/api';\n/**\n * @deprecated Use the one defined in @opentelemetry/sdk-trace-base instead.\n * Sampler that samples no traces.\n */\nvar AlwaysOffSampler = /** @class */ (function () {\n    function AlwaysOffSampler() {\n    }\n    AlwaysOffSampler.prototype.shouldSample = function () {\n        return {\n            decision: SamplingDecision.NOT_RECORD,\n        };\n    };\n    AlwaysOffSampler.prototype.toString = function () {\n        return 'AlwaysOffSampler';\n    };\n    return AlwaysOffSampler;\n}());\nexport { AlwaysOffSampler };\n//# sourceMappingURL=AlwaysOffSampler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { SamplingDecision } from '@opentelemetry/api';\n/**\n * @deprecated Use the one defined in @opentelemetry/sdk-trace-base instead.\n * Sampler that samples all traces.\n */\nvar AlwaysOnSampler = /** @class */ (function () {\n    function AlwaysOnSampler() {\n    }\n    AlwaysOnSampler.prototype.shouldSample = function () {\n        return {\n            decision: SamplingDecision.RECORD_AND_SAMPLED,\n        };\n    };\n    AlwaysOnSampler.prototype.toString = function () {\n        return 'AlwaysOnSampler';\n    };\n    return AlwaysOnSampler;\n}());\nexport { AlwaysOnSampler };\n//# sourceMappingURL=AlwaysOnSampler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { isSpanContextValid, TraceFlags, trace, } from '@opentelemetry/api';\nimport { globalErrorHandler } from '../../common/global-error-handler';\nimport { AlwaysOffSampler } from './AlwaysOffSampler';\nimport { AlwaysOnSampler } from './AlwaysOnSampler';\n/**\n * @deprecated Use the one defined in @opentelemetry/sdk-trace-base instead.\n * A composite sampler that either respects the parent span's sampling decision\n * or delegates to `delegateSampler` for root spans.\n */\nvar ParentBasedSampler = /** @class */ (function () {\n    function ParentBasedSampler(config) {\n        var _a, _b, _c, _d;\n        this._root = config.root;\n        if (!this._root) {\n            globalErrorHandler(new Error('ParentBasedSampler must have a root sampler configured'));\n            this._root = new AlwaysOnSampler();\n        }\n        this._remoteParentSampled =\n            (_a = config.remoteParentSampled) !== null && _a !== void 0 ? _a : new AlwaysOnSampler();\n        this._remoteParentNotSampled =\n            (_b = config.remoteParentNotSampled) !== null && _b !== void 0 ? _b : new AlwaysOffSampler();\n        this._localParentSampled =\n            (_c = config.localParentSampled) !== null && _c !== void 0 ? _c : new AlwaysOnSampler();\n        this._localParentNotSampled =\n            (_d = config.localParentNotSampled) !== null && _d !== void 0 ? _d : new AlwaysOffSampler();\n    }\n    ParentBasedSampler.prototype.shouldSample = function (context, traceId, spanName, spanKind, attributes, links) {\n        var parentContext = trace.getSpanContext(context);\n        if (!parentContext || !isSpanContextValid(parentContext)) {\n            return this._root.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n        }\n        if (parentContext.isRemote) {\n            if (parentContext.traceFlags & TraceFlags.SAMPLED) {\n                return this._remoteParentSampled.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n            }\n            return this._remoteParentNotSampled.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n        }\n        if (parentContext.traceFlags & TraceFlags.SAMPLED) {\n            return this._localParentSampled.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n        }\n        return this._localParentNotSampled.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n    };\n    ParentBasedSampler.prototype.toString = function () {\n        return \"ParentBased{root=\" + this._root.toString() + \", remoteParentSampled=\" + this._remoteParentSampled.toString() + \", remoteParentNotSampled=\" + this._remoteParentNotSampled.toString() + \", localParentSampled=\" + this._localParentSampled.toString() + \", localParentNotSampled=\" + this._localParentNotSampled.toString() + \"}\";\n    };\n    return ParentBasedSampler;\n}());\nexport { ParentBasedSampler };\n//# sourceMappingURL=ParentBasedSampler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { SamplingDecision, isValidTraceId, } from '@opentelemetry/api';\n/**\n * @deprecated Use the one defined in @opentelemetry/sdk-trace-base instead.\n * Sampler that samples a given fraction of traces based of trace id deterministically.\n */\nvar TraceIdRatioBasedSampler = /** @class */ (function () {\n    function TraceIdRatioBasedSampler(_ratio) {\n        if (_ratio === void 0) { _ratio = 0; }\n        this._ratio = _ratio;\n        this._ratio = this._normalize(_ratio);\n        this._upperBound = Math.floor(this._ratio * 0xffffffff);\n    }\n    TraceIdRatioBasedSampler.prototype.shouldSample = function (context, traceId) {\n        return {\n            decision: isValidTraceId(traceId) && this._accumulate(traceId) < this._upperBound\n                ? SamplingDecision.RECORD_AND_SAMPLED\n                : SamplingDecision.NOT_RECORD,\n        };\n    };\n    TraceIdRatioBasedSampler.prototype.toString = function () {\n        return \"TraceIdRatioBased{\" + this._ratio + \"}\";\n    };\n    TraceIdRatioBasedSampler.prototype._normalize = function (ratio) {\n        if (typeof ratio !== 'number' || isNaN(ratio))\n            return 0;\n        return ratio >= 1 ? 1 : ratio <= 0 ? 0 : ratio;\n    };\n    TraceIdRatioBasedSampler.prototype._accumulate = function (traceId) {\n        var accumulation = 0;\n        for (var i = 0; i < traceId.length / 8; i++) {\n            var pos = i * 8;\n            var part = parseInt(traceId.slice(pos, pos + 8), 16);\n            accumulation = (accumulation ^ part) >>> 0;\n        }\n        return accumulation;\n    };\n    return TraceIdRatioBasedSampler;\n}());\nexport { TraceIdRatioBasedSampler };\n//# sourceMappingURL=TraceIdRatioBasedSampler.js.map","var __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport function urlMatches(url, urlToMatch) {\n    if (typeof urlToMatch === 'string') {\n        return url === urlToMatch;\n    }\n    else {\n        return !!url.match(urlToMatch);\n    }\n}\n/**\n * Check if {@param url} should be ignored when comparing against {@param ignoredUrls}\n * @param url\n * @param ignoredUrls\n */\nexport function isUrlIgnored(url, ignoredUrls) {\n    var e_1, _a;\n    if (!ignoredUrls) {\n        return false;\n    }\n    try {\n        for (var ignoredUrls_1 = __values(ignoredUrls), ignoredUrls_1_1 = ignoredUrls_1.next(); !ignoredUrls_1_1.done; ignoredUrls_1_1 = ignoredUrls_1.next()) {\n            var ignoreUrl = ignoredUrls_1_1.value;\n            if (urlMatches(url, ignoreUrl)) {\n                return true;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (ignoredUrls_1_1 && !ignoredUrls_1_1.done && (_a = ignoredUrls_1.return)) _a.call(ignoredUrls_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return false;\n}\n//# sourceMappingURL=url.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Checks if certain function has been already wrapped\n * @param func\n */\nexport function isWrapped(func) {\n    return (typeof func === 'function' &&\n        typeof func.__original === 'function' &&\n        typeof func.__unwrap === 'function' &&\n        func.__wrapped === true);\n}\n//# sourceMappingURL=wrap.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport * from './baggage/propagation/W3CBaggagePropagator';\nexport * from './common/anchored-clock';\nexport * from './common/attributes';\nexport * from './common/global-error-handler';\nexport * from './common/logging-error-handler';\nexport * from './common/time';\nexport * from './common/types';\nexport * from './common/hex-to-binary';\nexport * from './ExportResult';\nimport * as baggageUtils_1 from './baggage/utils';\nexport { baggageUtils_1 as baggageUtils };\nexport * from './platform';\nexport * from './propagation/composite';\nexport * from './trace/W3CTraceContextPropagator';\nexport * from './trace/IdGenerator';\nexport * from './trace/rpc-metadata';\nexport * from './trace/sampler/AlwaysOffSampler';\nexport * from './trace/sampler/AlwaysOnSampler';\nexport * from './trace/sampler/ParentBasedSampler';\nexport * from './trace/sampler/TraceIdRatioBasedSampler';\nexport * from './trace/suppress-tracing';\nexport * from './trace/TraceState';\nexport * from './utils/environment';\nexport * from './utils/merge';\nexport * from './utils/sampling';\nexport * from './utils/timeout';\nexport * from './utils/url';\nexport * from './utils/wrap';\nexport * from './utils/callback';\nexport * from './version';\nimport { _export } from './internal/exporter';\nexport var internal = {\n    _export: _export,\n};\n//# sourceMappingURL=index.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { context } from '@opentelemetry/api';\nimport { suppressTracing } from '../trace/suppress-tracing';\n/**\n * @internal\n * Shared functionality used by Exporters while exporting data, including suppression of Traces.\n */\nexport function _export(exporter, arg) {\n    return new Promise(function (resolve) {\n        // prevent downstream exporter calls from generating spans\n        context.with(suppressTracing(context.active()), function () {\n            exporter.export(arg, function (result) {\n                resolve(result);\n            });\n        });\n    });\n}\n//# sourceMappingURL=exporter.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { DEFAULT_ENVIRONMENT, parseEnvironment, } from '../../utils/environment';\n/**\n * Gets the environment variables\n */\nexport function getEnv() {\n    var processEnv = parseEnvironment(process.env);\n    return Object.assign({}, DEFAULT_ENVIRONMENT, processEnv);\n}\nexport function getEnvWithoutDefaults() {\n    return parseEnvironment(process.env);\n}\n//# sourceMappingURL=environment.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { performance } from 'perf_hooks';\nexport var otperformance = performance;\n//# sourceMappingURL=performance.js.map","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"perf_hooks\");","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar _a;\nimport { VERSION } from '../../version';\nimport { SEMRESATTRS_TELEMETRY_SDK_NAME, SEMRESATTRS_PROCESS_RUNTIME_NAME, SEMRESATTRS_TELEMETRY_SDK_LANGUAGE, TELEMETRYSDKLANGUAGEVALUES_NODEJS, SEMRESATTRS_TELEMETRY_SDK_VERSION, } from '@opentelemetry/semantic-conventions';\n/** Constants describing the SDK in use */\nexport var SDK_INFO = (_a = {},\n    _a[SEMRESATTRS_TELEMETRY_SDK_NAME] = 'opentelemetry',\n    _a[SEMRESATTRS_PROCESS_RUNTIME_NAME] = 'node',\n    _a[SEMRESATTRS_TELEMETRY_SDK_LANGUAGE] = TELEMETRYSDKLANGUAGEVALUES_NODEJS,\n    _a[SEMRESATTRS_TELEMETRY_SDK_VERSION] = VERSION,\n    _a);\n//# sourceMappingURL=sdk-info.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport function unrefTimer(timer) {\n    timer.unref();\n}\n//# sourceMappingURL=timer-util.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { diag, } from '@opentelemetry/api';\n/** Combines multiple propagators into a single propagator. */\nvar CompositePropagator = /** @class */ (function () {\n    /**\n     * Construct a composite propagator from a list of propagators.\n     *\n     * @param [config] Configuration object for composite propagator\n     */\n    function CompositePropagator(config) {\n        if (config === void 0) { config = {}; }\n        var _a;\n        this._propagators = (_a = config.propagators) !== null && _a !== void 0 ? _a : [];\n        this._fields = Array.from(new Set(this._propagators\n            // older propagators may not have fields function, null check to be sure\n            .map(function (p) { return (typeof p.fields === 'function' ? p.fields() : []); })\n            .reduce(function (x, y) { return x.concat(y); }, [])));\n    }\n    /**\n     * Run each of the configured propagators with the given context and carrier.\n     * Propagators are run in the order they are configured, so if multiple\n     * propagators write the same carrier key, the propagator later in the list\n     * will \"win\".\n     *\n     * @param context Context to inject\n     * @param carrier Carrier into which context will be injected\n     */\n    CompositePropagator.prototype.inject = function (context, carrier, setter) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(this._propagators), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var propagator = _c.value;\n                try {\n                    propagator.inject(context, carrier, setter);\n                }\n                catch (err) {\n                    diag.warn(\"Failed to inject with \" + propagator.constructor.name + \". Err: \" + err.message);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    /**\n     * Run each of the configured propagators with the given context and carrier.\n     * Propagators are run in the order they are configured, so if multiple\n     * propagators write the same context key, the propagator later in the list\n     * will \"win\".\n     *\n     * @param context Context to add values to\n     * @param carrier Carrier from which to extract context\n     */\n    CompositePropagator.prototype.extract = function (context, carrier, getter) {\n        return this._propagators.reduce(function (ctx, propagator) {\n            try {\n                return propagator.extract(ctx, carrier, getter);\n            }\n            catch (err) {\n                diag.warn(\"Failed to inject with \" + propagator.constructor.name + \". Err: \" + err.message);\n            }\n            return ctx;\n        }, context);\n    };\n    CompositePropagator.prototype.fields = function () {\n        // return a new array so our fields cannot be modified\n        return this._fields.slice();\n    };\n    return CompositePropagator;\n}());\nexport { CompositePropagator };\n//# sourceMappingURL=composite.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar VALID_KEY_CHAR_RANGE = '[_0-9a-z-*/]';\nvar VALID_KEY = \"[a-z]\" + VALID_KEY_CHAR_RANGE + \"{0,255}\";\nvar VALID_VENDOR_KEY = \"[a-z0-9]\" + VALID_KEY_CHAR_RANGE + \"{0,240}@[a-z]\" + VALID_KEY_CHAR_RANGE + \"{0,13}\";\nvar VALID_KEY_REGEX = new RegExp(\"^(?:\" + VALID_KEY + \"|\" + VALID_VENDOR_KEY + \")$\");\nvar VALID_VALUE_BASE_REGEX = /^[ -~]{0,255}[!-~]$/;\nvar INVALID_VALUE_COMMA_EQUAL_REGEX = /,|=/;\n/**\n * Key is opaque string up to 256 characters printable. It MUST begin with a\n * lowercase letter, and can only contain lowercase letters a-z, digits 0-9,\n * underscores _, dashes -, asterisks *, and forward slashes /.\n * For multi-tenant vendor scenarios, an at sign (@) can be used to prefix the\n * vendor name. Vendors SHOULD set the tenant ID at the beginning of the key.\n * see https://www.w3.org/TR/trace-context/#key\n */\nexport function validateKey(key) {\n    return VALID_KEY_REGEX.test(key);\n}\n/**\n * Value is opaque string up to 256 characters printable ASCII RFC0020\n * characters (i.e., the range 0x20 to 0x7E) except comma , and =.\n */\nexport function validateValue(value) {\n    return (VALID_VALUE_BASE_REGEX.test(value) &&\n        !INVALID_VALUE_COMMA_EQUAL_REGEX.test(value));\n}\n//# sourceMappingURL=validators.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { validateKey, validateValue } from '../internal/validators';\nvar MAX_TRACE_STATE_ITEMS = 32;\nvar MAX_TRACE_STATE_LEN = 512;\nvar LIST_MEMBERS_SEPARATOR = ',';\nvar LIST_MEMBER_KEY_VALUE_SPLITTER = '=';\n/**\n * TraceState must be a class and not a simple object type because of the spec\n * requirement (https://www.w3.org/TR/trace-context/#tracestate-field).\n *\n * Here is the list of allowed mutations:\n * - New key-value pair should be added into the beginning of the list\n * - The value of any key can be updated. Modified keys MUST be moved to the\n * beginning of the list.\n */\nvar TraceState = /** @class */ (function () {\n    function TraceState(rawTraceState) {\n        this._internalState = new Map();\n        if (rawTraceState)\n            this._parse(rawTraceState);\n    }\n    TraceState.prototype.set = function (key, value) {\n        // TODO: Benchmark the different approaches(map vs list) and\n        // use the faster one.\n        var traceState = this._clone();\n        if (traceState._internalState.has(key)) {\n            traceState._internalState.delete(key);\n        }\n        traceState._internalState.set(key, value);\n        return traceState;\n    };\n    TraceState.prototype.unset = function (key) {\n        var traceState = this._clone();\n        traceState._internalState.delete(key);\n        return traceState;\n    };\n    TraceState.prototype.get = function (key) {\n        return this._internalState.get(key);\n    };\n    TraceState.prototype.serialize = function () {\n        var _this = this;\n        return this._keys()\n            .reduce(function (agg, key) {\n            agg.push(key + LIST_MEMBER_KEY_VALUE_SPLITTER + _this.get(key));\n            return agg;\n        }, [])\n            .join(LIST_MEMBERS_SEPARATOR);\n    };\n    TraceState.prototype._parse = function (rawTraceState) {\n        if (rawTraceState.length > MAX_TRACE_STATE_LEN)\n            return;\n        this._internalState = rawTraceState\n            .split(LIST_MEMBERS_SEPARATOR)\n            .reverse() // Store in reverse so new keys (.set(...)) will be placed at the beginning\n            .reduce(function (agg, part) {\n            var listMember = part.trim(); // Optional Whitespace (OWS) handling\n            var i = listMember.indexOf(LIST_MEMBER_KEY_VALUE_SPLITTER);\n            if (i !== -1) {\n                var key = listMember.slice(0, i);\n                var value = listMember.slice(i + 1, part.length);\n                if (validateKey(key) && validateValue(value)) {\n                    agg.set(key, value);\n                }\n                else {\n                    // TODO: Consider to add warning log\n                }\n            }\n            return agg;\n        }, new Map());\n        // Because of the reverse() requirement, trunc must be done after map is created\n        if (this._internalState.size > MAX_TRACE_STATE_ITEMS) {\n            this._internalState = new Map(Array.from(this._internalState.entries())\n                .reverse() // Use reverse same as original tracestate parse chain\n                .slice(0, MAX_TRACE_STATE_ITEMS));\n        }\n    };\n    TraceState.prototype._keys = function () {\n        return Array.from(this._internalState.keys()).reverse();\n    };\n    TraceState.prototype._clone = function () {\n        var traceState = new TraceState();\n        traceState._internalState = new Map(this._internalState);\n        return traceState;\n    };\n    return TraceState;\n}());\nexport { TraceState };\n//# sourceMappingURL=TraceState.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { isSpanContextValid, trace, TraceFlags, } from '@opentelemetry/api';\nimport { isTracingSuppressed } from './suppress-tracing';\nimport { TraceState } from './TraceState';\nexport var TRACE_PARENT_HEADER = 'traceparent';\nexport var TRACE_STATE_HEADER = 'tracestate';\nvar VERSION = '00';\nvar VERSION_PART = '(?!ff)[\\\\da-f]{2}';\nvar TRACE_ID_PART = '(?![0]{32})[\\\\da-f]{32}';\nvar PARENT_ID_PART = '(?![0]{16})[\\\\da-f]{16}';\nvar FLAGS_PART = '[\\\\da-f]{2}';\nvar TRACE_PARENT_REGEX = new RegExp(\"^\\\\s?(\" + VERSION_PART + \")-(\" + TRACE_ID_PART + \")-(\" + PARENT_ID_PART + \")-(\" + FLAGS_PART + \")(-.*)?\\\\s?$\");\n/**\n * Parses information from the [traceparent] span tag and converts it into {@link SpanContext}\n * @param traceParent - A meta property that comes from server.\n *     It should be dynamically generated server side to have the server's request trace Id,\n *     a parent span Id that was set on the server's request span,\n *     and the trace flags to indicate the server's sampling decision\n *     (01 = sampled, 00 = not sampled).\n *     for example: '{version}-{traceId}-{spanId}-{sampleDecision}'\n *     For more information see {@link https://www.w3.org/TR/trace-context/}\n */\nexport function parseTraceParent(traceParent) {\n    var match = TRACE_PARENT_REGEX.exec(traceParent);\n    if (!match)\n        return null;\n    // According to the specification the implementation should be compatible\n    // with future versions. If there are more parts, we only reject it if it's using version 00\n    // See https://www.w3.org/TR/trace-context/#versioning-of-traceparent\n    if (match[1] === '00' && match[5])\n        return null;\n    return {\n        traceId: match[2],\n        spanId: match[3],\n        traceFlags: parseInt(match[4], 16),\n    };\n}\n/**\n * Propagates {@link SpanContext} through Trace Context format propagation.\n *\n * Based on the Trace Context specification:\n * https://www.w3.org/TR/trace-context/\n */\nvar W3CTraceContextPropagator = /** @class */ (function () {\n    function W3CTraceContextPropagator() {\n    }\n    W3CTraceContextPropagator.prototype.inject = function (context, carrier, setter) {\n        var spanContext = trace.getSpanContext(context);\n        if (!spanContext ||\n            isTracingSuppressed(context) ||\n            !isSpanContextValid(spanContext))\n            return;\n        var traceParent = VERSION + \"-\" + spanContext.traceId + \"-\" + spanContext.spanId + \"-0\" + Number(spanContext.traceFlags || TraceFlags.NONE).toString(16);\n        setter.set(carrier, TRACE_PARENT_HEADER, traceParent);\n        if (spanContext.traceState) {\n            setter.set(carrier, TRACE_STATE_HEADER, spanContext.traceState.serialize());\n        }\n    };\n    W3CTraceContextPropagator.prototype.extract = function (context, carrier, getter) {\n        var traceParentHeader = getter.get(carrier, TRACE_PARENT_HEADER);\n        if (!traceParentHeader)\n            return context;\n        var traceParent = Array.isArray(traceParentHeader)\n            ? traceParentHeader[0]\n            : traceParentHeader;\n        if (typeof traceParent !== 'string')\n            return context;\n        var spanContext = parseTraceParent(traceParent);\n        if (!spanContext)\n            return context;\n        spanContext.isRemote = true;\n        var traceStateHeader = getter.get(carrier, TRACE_STATE_HEADER);\n        if (traceStateHeader) {\n            // If more than one `tracestate` header is found, we merge them into a\n            // single header.\n            var state = Array.isArray(traceStateHeader)\n                ? traceStateHeader.join(',')\n                : traceStateHeader;\n            spanContext.traceState = new TraceState(typeof state === 'string' ? state : undefined);\n        }\n        return trace.setSpanContext(context, spanContext);\n    };\n    W3CTraceContextPropagator.prototype.fields = function () {\n        return [TRACE_PARENT_HEADER, TRACE_STATE_HEADER];\n    };\n    return W3CTraceContextPropagator;\n}());\nexport { W3CTraceContextPropagator };\n//# sourceMappingURL=W3CTraceContextPropagator.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createContextKey } from '@opentelemetry/api';\nvar SUPPRESS_TRACING_KEY = createContextKey('OpenTelemetry SDK Context Key SUPPRESS_TRACING');\nexport function suppressTracing(context) {\n    return context.setValue(SUPPRESS_TRACING_KEY, true);\n}\nexport function unsuppressTracing(context) {\n    return context.deleteValue(SUPPRESS_TRACING_KEY);\n}\nexport function isTracingSuppressed(context) {\n    return context.getValue(SUPPRESS_TRACING_KEY) === true;\n}\n//# sourceMappingURL=suppress-tracing.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Deferred = /** @class */ (function () {\n    function Deferred() {\n        var _this = this;\n        this._promise = new Promise(function (resolve, reject) {\n            _this._resolve = resolve;\n            _this._reject = reject;\n        });\n    }\n    Object.defineProperty(Deferred.prototype, \"promise\", {\n        get: function () {\n            return this._promise;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Deferred.prototype.resolve = function (val) {\n        this._resolve(val);\n    };\n    Deferred.prototype.reject = function (err) {\n        this._reject(err);\n    };\n    return Deferred;\n}());\nexport { Deferred };\n//# sourceMappingURL=promise.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { Deferred } from './promise';\n/**\n * Bind the callback and only invoke the callback once regardless how many times `BindOnceFuture.call` is invoked.\n */\nvar BindOnceFuture = /** @class */ (function () {\n    function BindOnceFuture(_callback, _that) {\n        this._callback = _callback;\n        this._that = _that;\n        this._isCalled = false;\n        this._deferred = new Deferred();\n    }\n    Object.defineProperty(BindOnceFuture.prototype, \"isCalled\", {\n        get: function () {\n            return this._isCalled;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BindOnceFuture.prototype, \"promise\", {\n        get: function () {\n            return this._deferred.promise;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BindOnceFuture.prototype.call = function () {\n        var _a;\n        var _this = this;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this._isCalled) {\n            this._isCalled = true;\n            try {\n                Promise.resolve((_a = this._callback).call.apply(_a, __spreadArray([this._that], __read(args), false))).then(function (val) { return _this._deferred.resolve(val); }, function (err) { return _this._deferred.reject(err); });\n            }\n            catch (err) {\n                this._deferred.reject(err);\n            }\n        }\n        return this._deferred.promise;\n    };\n    return BindOnceFuture;\n}());\nexport { BindOnceFuture };\n//# sourceMappingURL=callback.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { DiagLogLevel } from '@opentelemetry/api';\nimport { TracesSamplerValues } from './sampling';\nvar DEFAULT_LIST_SEPARATOR = ',';\n/**\n * Environment interface to define all names\n */\nvar ENVIRONMENT_BOOLEAN_KEYS = ['OTEL_SDK_DISABLED'];\nfunction isEnvVarABoolean(key) {\n    return (ENVIRONMENT_BOOLEAN_KEYS.indexOf(key) > -1);\n}\nvar ENVIRONMENT_NUMBERS_KEYS = [\n    'OTEL_BSP_EXPORT_TIMEOUT',\n    'OTEL_BSP_MAX_EXPORT_BATCH_SIZE',\n    'OTEL_BSP_MAX_QUEUE_SIZE',\n    'OTEL_BSP_SCHEDULE_DELAY',\n    'OTEL_BLRP_EXPORT_TIMEOUT',\n    'OTEL_BLRP_MAX_EXPORT_BATCH_SIZE',\n    'OTEL_BLRP_MAX_QUEUE_SIZE',\n    'OTEL_BLRP_SCHEDULE_DELAY',\n    'OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT',\n    'OTEL_ATTRIBUTE_COUNT_LIMIT',\n    'OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT',\n    'OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT',\n    'OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT',\n    'OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT',\n    'OTEL_SPAN_EVENT_COUNT_LIMIT',\n    'OTEL_SPAN_LINK_COUNT_LIMIT',\n    'OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT',\n    'OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT',\n    'OTEL_EXPORTER_OTLP_TIMEOUT',\n    'OTEL_EXPORTER_OTLP_TRACES_TIMEOUT',\n    'OTEL_EXPORTER_OTLP_METRICS_TIMEOUT',\n    'OTEL_EXPORTER_OTLP_LOGS_TIMEOUT',\n    'OTEL_EXPORTER_JAEGER_AGENT_PORT',\n];\nfunction isEnvVarANumber(key) {\n    return (ENVIRONMENT_NUMBERS_KEYS.indexOf(key) > -1);\n}\nvar ENVIRONMENT_LISTS_KEYS = [\n    'OTEL_NO_PATCH_MODULES',\n    'OTEL_PROPAGATORS',\n];\nfunction isEnvVarAList(key) {\n    return ENVIRONMENT_LISTS_KEYS.indexOf(key) > -1;\n}\nexport var DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT = Infinity;\nexport var DEFAULT_ATTRIBUTE_COUNT_LIMIT = 128;\nexport var DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT = 128;\nexport var DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT = 128;\n/**\n * Default environment variables\n */\nexport var DEFAULT_ENVIRONMENT = {\n    OTEL_SDK_DISABLED: false,\n    CONTAINER_NAME: '',\n    ECS_CONTAINER_METADATA_URI_V4: '',\n    ECS_CONTAINER_METADATA_URI: '',\n    HOSTNAME: '',\n    KUBERNETES_SERVICE_HOST: '',\n    NAMESPACE: '',\n    OTEL_BSP_EXPORT_TIMEOUT: 30000,\n    OTEL_BSP_MAX_EXPORT_BATCH_SIZE: 512,\n    OTEL_BSP_MAX_QUEUE_SIZE: 2048,\n    OTEL_BSP_SCHEDULE_DELAY: 5000,\n    OTEL_BLRP_EXPORT_TIMEOUT: 30000,\n    OTEL_BLRP_MAX_EXPORT_BATCH_SIZE: 512,\n    OTEL_BLRP_MAX_QUEUE_SIZE: 2048,\n    OTEL_BLRP_SCHEDULE_DELAY: 5000,\n    OTEL_EXPORTER_JAEGER_AGENT_HOST: '',\n    OTEL_EXPORTER_JAEGER_AGENT_PORT: 6832,\n    OTEL_EXPORTER_JAEGER_ENDPOINT: '',\n    OTEL_EXPORTER_JAEGER_PASSWORD: '',\n    OTEL_EXPORTER_JAEGER_USER: '',\n    OTEL_EXPORTER_OTLP_ENDPOINT: '',\n    OTEL_EXPORTER_OTLP_TRACES_ENDPOINT: '',\n    OTEL_EXPORTER_OTLP_METRICS_ENDPOINT: '',\n    OTEL_EXPORTER_OTLP_LOGS_ENDPOINT: '',\n    OTEL_EXPORTER_OTLP_HEADERS: '',\n    OTEL_EXPORTER_OTLP_TRACES_HEADERS: '',\n    OTEL_EXPORTER_OTLP_METRICS_HEADERS: '',\n    OTEL_EXPORTER_OTLP_LOGS_HEADERS: '',\n    OTEL_EXPORTER_OTLP_TIMEOUT: 10000,\n    OTEL_EXPORTER_OTLP_TRACES_TIMEOUT: 10000,\n    OTEL_EXPORTER_OTLP_METRICS_TIMEOUT: 10000,\n    OTEL_EXPORTER_OTLP_LOGS_TIMEOUT: 10000,\n    OTEL_EXPORTER_ZIPKIN_ENDPOINT: 'http://localhost:9411/api/v2/spans',\n    OTEL_LOG_LEVEL: DiagLogLevel.INFO,\n    OTEL_NO_PATCH_MODULES: [],\n    OTEL_PROPAGATORS: ['tracecontext', 'baggage'],\n    OTEL_RESOURCE_ATTRIBUTES: '',\n    OTEL_SERVICE_NAME: '',\n    OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT: DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,\n    OTEL_ATTRIBUTE_COUNT_LIMIT: DEFAULT_ATTRIBUTE_COUNT_LIMIT,\n    OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT: DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,\n    OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT: DEFAULT_ATTRIBUTE_COUNT_LIMIT,\n    OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT: DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,\n    OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT: DEFAULT_ATTRIBUTE_COUNT_LIMIT,\n    OTEL_SPAN_EVENT_COUNT_LIMIT: 128,\n    OTEL_SPAN_LINK_COUNT_LIMIT: 128,\n    OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT: DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,\n    OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT: DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,\n    OTEL_TRACES_EXPORTER: '',\n    OTEL_TRACES_SAMPLER: TracesSamplerValues.ParentBasedAlwaysOn,\n    OTEL_TRACES_SAMPLER_ARG: '',\n    OTEL_LOGS_EXPORTER: '',\n    OTEL_EXPORTER_OTLP_INSECURE: '',\n    OTEL_EXPORTER_OTLP_TRACES_INSECURE: '',\n    OTEL_EXPORTER_OTLP_METRICS_INSECURE: '',\n    OTEL_EXPORTER_OTLP_LOGS_INSECURE: '',\n    OTEL_EXPORTER_OTLP_CERTIFICATE: '',\n    OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE: '',\n    OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE: '',\n    OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE: '',\n    OTEL_EXPORTER_OTLP_COMPRESSION: '',\n    OTEL_EXPORTER_OTLP_TRACES_COMPRESSION: '',\n    OTEL_EXPORTER_OTLP_METRICS_COMPRESSION: '',\n    OTEL_EXPORTER_OTLP_LOGS_COMPRESSION: '',\n    OTEL_EXPORTER_OTLP_CLIENT_KEY: '',\n    OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY: '',\n    OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY: '',\n    OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY: '',\n    OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE: '',\n    OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE: '',\n    OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE: '',\n    OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE: '',\n    OTEL_EXPORTER_OTLP_PROTOCOL: 'http/protobuf',\n    OTEL_EXPORTER_OTLP_TRACES_PROTOCOL: 'http/protobuf',\n    OTEL_EXPORTER_OTLP_METRICS_PROTOCOL: 'http/protobuf',\n    OTEL_EXPORTER_OTLP_LOGS_PROTOCOL: 'http/protobuf',\n    OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE: 'cumulative',\n};\n/**\n * @param key\n * @param environment\n * @param values\n */\nfunction parseBoolean(key, environment, values) {\n    if (typeof values[key] === 'undefined') {\n        return;\n    }\n    var value = String(values[key]);\n    // support case-insensitive \"true\"\n    environment[key] = value.toLowerCase() === 'true';\n}\n/**\n * Parses a variable as number with number validation\n * @param name\n * @param environment\n * @param values\n * @param min\n * @param max\n */\nfunction parseNumber(name, environment, values, min, max) {\n    if (min === void 0) { min = -Infinity; }\n    if (max === void 0) { max = Infinity; }\n    if (typeof values[name] !== 'undefined') {\n        var value = Number(values[name]);\n        if (!isNaN(value)) {\n            if (value < min) {\n                environment[name] = min;\n            }\n            else if (value > max) {\n                environment[name] = max;\n            }\n            else {\n                environment[name] = value;\n            }\n        }\n    }\n}\n/**\n * Parses list-like strings from input into output.\n * @param name\n * @param environment\n * @param values\n * @param separator\n */\nfunction parseStringList(name, output, input, separator) {\n    if (separator === void 0) { separator = DEFAULT_LIST_SEPARATOR; }\n    var givenValue = input[name];\n    if (typeof givenValue === 'string') {\n        output[name] = givenValue.split(separator).map(function (v) { return v.trim(); });\n    }\n}\n// The support string -> DiagLogLevel mappings\nvar logLevelMap = {\n    ALL: DiagLogLevel.ALL,\n    VERBOSE: DiagLogLevel.VERBOSE,\n    DEBUG: DiagLogLevel.DEBUG,\n    INFO: DiagLogLevel.INFO,\n    WARN: DiagLogLevel.WARN,\n    ERROR: DiagLogLevel.ERROR,\n    NONE: DiagLogLevel.NONE,\n};\n/**\n * Environmentally sets log level if valid log level string is provided\n * @param key\n * @param environment\n * @param values\n */\nfunction setLogLevelFromEnv(key, environment, values) {\n    var value = values[key];\n    if (typeof value === 'string') {\n        var theLevel = logLevelMap[value.toUpperCase()];\n        if (theLevel != null) {\n            environment[key] = theLevel;\n        }\n    }\n}\n/**\n * Parses environment values\n * @param values\n */\nexport function parseEnvironment(values) {\n    var environment = {};\n    for (var env in DEFAULT_ENVIRONMENT) {\n        var key = env;\n        switch (key) {\n            case 'OTEL_LOG_LEVEL':\n                setLogLevelFromEnv(key, environment, values);\n                break;\n            default:\n                if (isEnvVarABoolean(key)) {\n                    parseBoolean(key, environment, values);\n                }\n                else if (isEnvVarANumber(key)) {\n                    parseNumber(key, environment, values);\n                }\n                else if (isEnvVarAList(key)) {\n                    parseStringList(key, environment, values);\n                }\n                else {\n                    var value = values[key];\n                    if (typeof value !== 'undefined' && value !== null) {\n                        environment[key] = String(value);\n                    }\n                }\n        }\n    }\n    return environment;\n}\n//# sourceMappingURL=environment.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * based on lodash in order to support esm builds without esModuleInterop.\n * lodash is using MIT License.\n **/\nvar objectTag = '[object Object]';\nvar nullTag = '[object Null]';\nvar undefinedTag = '[object Undefined]';\nvar funcProto = Function.prototype;\nvar funcToString = funcProto.toString;\nvar objectCtorString = funcToString.call(Object);\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\nvar nativeObjectToString = objectProto.toString;\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n    return function (arg) {\n        return func(transform(arg));\n    };\n}\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nexport function isPlainObject(value) {\n    if (!isObjectLike(value) || baseGetTag(value) !== objectTag) {\n        return false;\n    }\n    var proto = getPrototype(value);\n    if (proto === null) {\n        return true;\n    }\n    var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n    return (typeof Ctor == 'function' &&\n        Ctor instanceof Ctor &&\n        funcToString.call(Ctor) === objectCtorString);\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n    return value != null && typeof value == 'object';\n}\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n    if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n    }\n    return symToStringTag && symToStringTag in Object(value)\n        ? getRawTag(value)\n        : objectToString(value);\n}\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n    var isOwn = hasOwnProperty.call(value, symToStringTag), tag = value[symToStringTag];\n    var unmasked = false;\n    try {\n        value[symToStringTag] = undefined;\n        unmasked = true;\n    }\n    catch (e) {\n        // silence\n    }\n    var result = nativeObjectToString.call(value);\n    if (unmasked) {\n        if (isOwn) {\n            value[symToStringTag] = tag;\n        }\n        else {\n            delete value[symToStringTag];\n        }\n    }\n    return result;\n}\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n    return nativeObjectToString.call(value);\n}\n//# sourceMappingURL=lodash.merge.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isPlainObject } from './lodash.merge';\nvar MAX_LEVEL = 20;\n/**\n * Merges objects together\n * @param args - objects / values to be merged\n */\nexport function merge() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var result = args.shift();\n    var objects = new WeakMap();\n    while (args.length > 0) {\n        result = mergeTwoObjects(result, args.shift(), 0, objects);\n    }\n    return result;\n}\nfunction takeValue(value) {\n    if (isArray(value)) {\n        return value.slice();\n    }\n    return value;\n}\n/**\n * Merges two objects\n * @param one - first object\n * @param two - second object\n * @param level - current deep level\n * @param objects - objects holder that has been already referenced - to prevent\n * cyclic dependency\n */\nfunction mergeTwoObjects(one, two, level, objects) {\n    if (level === void 0) { level = 0; }\n    var result;\n    if (level > MAX_LEVEL) {\n        return undefined;\n    }\n    level++;\n    if (isPrimitive(one) || isPrimitive(two) || isFunction(two)) {\n        result = takeValue(two);\n    }\n    else if (isArray(one)) {\n        result = one.slice();\n        if (isArray(two)) {\n            for (var i = 0, j = two.length; i < j; i++) {\n                result.push(takeValue(two[i]));\n            }\n        }\n        else if (isObject(two)) {\n            var keys = Object.keys(two);\n            for (var i = 0, j = keys.length; i < j; i++) {\n                var key = keys[i];\n                result[key] = takeValue(two[key]);\n            }\n        }\n    }\n    else if (isObject(one)) {\n        if (isObject(two)) {\n            if (!shouldMerge(one, two)) {\n                return two;\n            }\n            result = Object.assign({}, one);\n            var keys = Object.keys(two);\n            for (var i = 0, j = keys.length; i < j; i++) {\n                var key = keys[i];\n                var twoValue = two[key];\n                if (isPrimitive(twoValue)) {\n                    if (typeof twoValue === 'undefined') {\n                        delete result[key];\n                    }\n                    else {\n                        // result[key] = takeValue(twoValue);\n                        result[key] = twoValue;\n                    }\n                }\n                else {\n                    var obj1 = result[key];\n                    var obj2 = twoValue;\n                    if (wasObjectReferenced(one, key, objects) ||\n                        wasObjectReferenced(two, key, objects)) {\n                        delete result[key];\n                    }\n                    else {\n                        if (isObject(obj1) && isObject(obj2)) {\n                            var arr1 = objects.get(obj1) || [];\n                            var arr2 = objects.get(obj2) || [];\n                            arr1.push({ obj: one, key: key });\n                            arr2.push({ obj: two, key: key });\n                            objects.set(obj1, arr1);\n                            objects.set(obj2, arr2);\n                        }\n                        result[key] = mergeTwoObjects(result[key], twoValue, level, objects);\n                    }\n                }\n            }\n        }\n        else {\n            result = two;\n        }\n    }\n    return result;\n}\n/**\n * Function to check if object has been already reference\n * @param obj\n * @param key\n * @param objects\n */\nfunction wasObjectReferenced(obj, key, objects) {\n    var arr = objects.get(obj[key]) || [];\n    for (var i = 0, j = arr.length; i < j; i++) {\n        var info = arr[i];\n        if (info.key === key && info.obj === obj) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction isArray(value) {\n    return Array.isArray(value);\n}\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\nfunction isObject(value) {\n    return (!isPrimitive(value) &&\n        !isArray(value) &&\n        !isFunction(value) &&\n        typeof value === 'object');\n}\nfunction isPrimitive(value) {\n    return (typeof value === 'string' ||\n        typeof value === 'number' ||\n        typeof value === 'boolean' ||\n        typeof value === 'undefined' ||\n        value instanceof Date ||\n        value instanceof RegExp ||\n        value === null);\n}\nfunction shouldMerge(one, two) {\n    if (!isPlainObject(one) || !isPlainObject(two)) {\n        return false;\n    }\n    return true;\n}\n//# sourceMappingURL=merge.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var TracesSamplerValues;\n(function (TracesSamplerValues) {\n    TracesSamplerValues[\"AlwaysOff\"] = \"always_off\";\n    TracesSamplerValues[\"AlwaysOn\"] = \"always_on\";\n    TracesSamplerValues[\"ParentBasedAlwaysOff\"] = \"parentbased_always_off\";\n    TracesSamplerValues[\"ParentBasedAlwaysOn\"] = \"parentbased_always_on\";\n    TracesSamplerValues[\"ParentBasedTraceIdRatio\"] = \"parentbased_traceidratio\";\n    TracesSamplerValues[\"TraceIdRatio\"] = \"traceidratio\";\n})(TracesSamplerValues || (TracesSamplerValues = {}));\n//# sourceMappingURL=sampling.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// this is autogenerated file, see scripts/version-update.js\nexport var VERSION = '1.25.0';\n//# sourceMappingURL=version.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Parses the options and returns instrumentations, node plugins and\n *   web plugins\n * @param options\n */\nexport function parseInstrumentationOptions(options) {\n    if (options === void 0) { options = []; }\n    var instrumentations = [];\n    for (var i = 0, j = options.length; i < j; i++) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var option = options[i];\n        if (Array.isArray(option)) {\n            var results = parseInstrumentationOptions(option);\n            instrumentations = instrumentations.concat(results.instrumentations);\n        }\n        else if (typeof option === 'function') {\n            instrumentations.push(new option());\n        }\n        else if (option.instrumentationName) {\n            instrumentations.push(option);\n        }\n    }\n    return { instrumentations: instrumentations };\n}\n/**\n * Enable instrumentations\n * @param instrumentations\n * @param tracerProvider\n * @param meterProvider\n */\nexport function enableInstrumentations(instrumentations, tracerProvider, meterProvider) {\n    for (var i = 0, j = instrumentations.length; i < j; i++) {\n        var instrumentation = instrumentations[i];\n        if (tracerProvider) {\n            instrumentation.setTracerProvider(tracerProvider);\n        }\n        if (meterProvider) {\n            instrumentation.setMeterProvider(meterProvider);\n        }\n        // instrumentations have been already enabled during creation\n        // so enable only if user prevented that by setting enabled to false\n        // this is to prevent double enabling but when calling register all\n        // instrumentations should be now enabled\n        if (!instrumentation.getConfig().enabled) {\n            instrumentation.enable();\n        }\n    }\n}\n/**\n * Disable instrumentations\n * @param instrumentations\n */\nexport function disableInstrumentations(instrumentations) {\n    instrumentations.forEach(function (instrumentation) { return instrumentation.disable(); });\n}\n//# sourceMappingURL=autoLoaderUtils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { trace, metrics } from '@opentelemetry/api';\nimport { disableInstrumentations, enableInstrumentations, parseInstrumentationOptions, } from './autoLoaderUtils';\n/**\n * It will register instrumentations and plugins\n * @param options\n * @return returns function to unload instrumentation and plugins that were\n *   registered\n */\nexport function registerInstrumentations(options) {\n    var instrumentations = parseInstrumentationOptions(options.instrumentations).instrumentations;\n    var tracerProvider = options.tracerProvider || trace.getTracerProvider();\n    var meterProvider = options.meterProvider || metrics.getMeterProvider();\n    enableInstrumentations(instrumentations, tracerProvider, meterProvider);\n    return function () {\n        disableInstrumentations(instrumentations);\n    };\n}\n//# sourceMappingURL=autoLoader.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { normalize } from 'path';\nvar InstrumentationNodeModuleFile = /** @class */ (function () {\n    function InstrumentationNodeModuleFile(name, supportedVersions, patch, unpatch) {\n        this.supportedVersions = supportedVersions;\n        this.patch = patch;\n        this.unpatch = unpatch;\n        this.name = normalize(name);\n    }\n    return InstrumentationNodeModuleFile;\n}());\nexport { InstrumentationNodeModuleFile };\n//# sourceMappingURL=instrumentationNodeModuleFile.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/**\n * function to execute patched function and being able to catch errors\n * @param execute - function to be executed\n * @param onFinish - callback to run when execute finishes\n */\nexport function safeExecuteInTheMiddle(execute, onFinish, preventThrowingError) {\n    var error;\n    var result;\n    try {\n        result = execute();\n    }\n    catch (e) {\n        error = e;\n    }\n    finally {\n        onFinish(error, result);\n        if (error && !preventThrowingError) {\n            // eslint-disable-next-line no-unsafe-finally\n            throw error;\n        }\n        // eslint-disable-next-line no-unsafe-finally\n        return result;\n    }\n}\n/**\n * Async function to execute patched function and being able to catch errors\n * @param execute - function to be executed\n * @param onFinish - callback to run when execute finishes\n */\nexport function safeExecuteInTheMiddleAsync(execute, onFinish, preventThrowingError) {\n    return __awaiter(this, void 0, void 0, function () {\n        var error, result, e_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, 3, 4]);\n                    return [4 /*yield*/, execute()];\n                case 1:\n                    result = _a.sent();\n                    return [3 /*break*/, 4];\n                case 2:\n                    e_1 = _a.sent();\n                    error = e_1;\n                    return [3 /*break*/, 4];\n                case 3:\n                    onFinish(error, result);\n                    if (error && !preventThrowingError) {\n                        // eslint-disable-next-line no-unsafe-finally\n                        throw error;\n                    }\n                    // eslint-disable-next-line no-unsafe-finally\n                    return [2 /*return*/, result];\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\n/**\n * Checks if certain function has been already wrapped\n * @param func\n */\nexport function isWrapped(func) {\n    return (typeof func === 'function' &&\n        typeof func.__original === 'function' &&\n        typeof func.__unwrap === 'function' &&\n        func.__wrapped === true);\n}\n//# sourceMappingURL=utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport * as path from 'path';\nimport { types as utilTypes } from 'util';\nimport { satisfies } from 'semver';\nimport { wrap, unwrap } from 'shimmer';\nimport { InstrumentationAbstract } from '../../instrumentation';\nimport { RequireInTheMiddleSingleton, } from './RequireInTheMiddleSingleton';\nimport * as ImportInTheMiddle from 'import-in-the-middle';\nimport { diag } from '@opentelemetry/api';\nimport { Hook } from 'require-in-the-middle';\n/**\n * Base abstract class for instrumenting node plugins\n */\nvar InstrumentationBase = /** @class */ (function (_super) {\n    __extends(InstrumentationBase, _super);\n    function InstrumentationBase(instrumentationName, instrumentationVersion, config) {\n        if (config === void 0) { config = {}; }\n        var _this = _super.call(this, instrumentationName, instrumentationVersion, config) || this;\n        _this._hooks = [];\n        _this._requireInTheMiddleSingleton = RequireInTheMiddleSingleton.getInstance();\n        _this._enabled = false;\n        _this._wrap = function (moduleExports, name, wrapper) {\n            if (!utilTypes.isProxy(moduleExports)) {\n                return wrap(moduleExports, name, wrapper);\n            }\n            else {\n                var wrapped = wrap(Object.assign({}, moduleExports), name, wrapper);\n                return Object.defineProperty(moduleExports, name, {\n                    value: wrapped,\n                });\n            }\n        };\n        _this._unwrap = function (moduleExports, name) {\n            if (!utilTypes.isProxy(moduleExports)) {\n                return unwrap(moduleExports, name);\n            }\n            else {\n                return Object.defineProperty(moduleExports, name, {\n                    value: moduleExports[name],\n                });\n            }\n        };\n        _this._massWrap = function (moduleExportsArray, names, wrapper) {\n            if (!moduleExportsArray) {\n                diag.error('must provide one or more modules to patch');\n                return;\n            }\n            else if (!Array.isArray(moduleExportsArray)) {\n                moduleExportsArray = [moduleExportsArray];\n            }\n            if (!(names && Array.isArray(names))) {\n                diag.error('must provide one or more functions to wrap on modules');\n                return;\n            }\n            moduleExportsArray.forEach(function (moduleExports) {\n                names.forEach(function (name) {\n                    _this._wrap(moduleExports, name, wrapper);\n                });\n            });\n        };\n        _this._massUnwrap = function (moduleExportsArray, names) {\n            if (!moduleExportsArray) {\n                diag.error('must provide one or more modules to patch');\n                return;\n            }\n            else if (!Array.isArray(moduleExportsArray)) {\n                moduleExportsArray = [moduleExportsArray];\n            }\n            if (!(names && Array.isArray(names))) {\n                diag.error('must provide one or more functions to wrap on modules');\n                return;\n            }\n            moduleExportsArray.forEach(function (moduleExports) {\n                names.forEach(function (name) {\n                    _this._unwrap(moduleExports, name);\n                });\n            });\n        };\n        var modules = _this.init();\n        if (modules && !Array.isArray(modules)) {\n            modules = [modules];\n        }\n        _this._modules = modules || [];\n        if (_this._modules.length === 0) {\n            diag.debug('No modules instrumentation has been defined for ' +\n                (\"'\" + _this.instrumentationName + \"@\" + _this.instrumentationVersion + \"'\") +\n                ', nothing will be patched');\n        }\n        if (_this._config.enabled) {\n            _this.enable();\n        }\n        return _this;\n    }\n    InstrumentationBase.prototype._warnOnPreloadedModules = function () {\n        var _this = this;\n        this._modules.forEach(function (module) {\n            var name = module.name;\n            try {\n                var resolvedModule = require.resolve(name);\n                if (require.cache[resolvedModule]) {\n                    // Module is already cached, which means the instrumentation hook might not work\n                    _this._diag.warn(\"Module \" + name + \" has been loaded before \" + _this.instrumentationName + \" so it might not work, please initialize it before requiring \" + name);\n                }\n            }\n            catch (_a) {\n                // Module isn't available, we can simply skip\n            }\n        });\n    };\n    InstrumentationBase.prototype._extractPackageVersion = function (baseDir) {\n        try {\n            // eslint-disable-next-line @typescript-eslint/no-var-requires\n            var version = require(path.join(baseDir, 'package.json')).version;\n            return typeof version === 'string' ? version : undefined;\n        }\n        catch (error) {\n            diag.warn('Failed extracting version', baseDir);\n        }\n        return undefined;\n    };\n    InstrumentationBase.prototype._onRequire = function (module, exports, name, baseDir) {\n        var _this = this;\n        var _a;\n        if (!baseDir) {\n            if (typeof module.patch === 'function') {\n                module.moduleExports = exports;\n                if (this._enabled) {\n                    return module.patch(exports);\n                }\n            }\n            return exports;\n        }\n        var version = this._extractPackageVersion(baseDir);\n        module.moduleVersion = version;\n        if (module.name === name) {\n            // main module\n            if (isSupported(module.supportedVersions, version, module.includePrerelease)) {\n                if (typeof module.patch === 'function') {\n                    module.moduleExports = exports;\n                    if (this._enabled) {\n                        return module.patch(exports, module.moduleVersion);\n                    }\n                }\n            }\n            return exports;\n        }\n        // internal file\n        var files = (_a = module.files) !== null && _a !== void 0 ? _a : [];\n        var supportedFileInstrumentations = files\n            .filter(function (f) { return f.name === name; })\n            .filter(function (f) {\n            return isSupported(f.supportedVersions, version, module.includePrerelease);\n        });\n        return supportedFileInstrumentations.reduce(function (patchedExports, file) {\n            file.moduleExports = patchedExports;\n            if (_this._enabled) {\n                return file.patch(patchedExports, module.moduleVersion);\n            }\n            return patchedExports;\n        }, exports);\n    };\n    InstrumentationBase.prototype.enable = function () {\n        var e_1, _a, e_2, _b, e_3, _c;\n        var _this = this;\n        if (this._enabled) {\n            return;\n        }\n        this._enabled = true;\n        // already hooked, just call patch again\n        if (this._hooks.length > 0) {\n            try {\n                for (var _d = __values(this._modules), _e = _d.next(); !_e.done; _e = _d.next()) {\n                    var module_1 = _e.value;\n                    if (typeof module_1.patch === 'function' && module_1.moduleExports) {\n                        module_1.patch(module_1.moduleExports, module_1.moduleVersion);\n                    }\n                    try {\n                        for (var _f = (e_2 = void 0, __values(module_1.files)), _g = _f.next(); !_g.done; _g = _f.next()) {\n                            var file = _g.value;\n                            if (file.moduleExports) {\n                                file.patch(file.moduleExports, module_1.moduleVersion);\n                            }\n                        }\n                    }\n                    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                    finally {\n                        try {\n                            if (_g && !_g.done && (_b = _f.return)) _b.call(_f);\n                        }\n                        finally { if (e_2) throw e_2.error; }\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return;\n        }\n        this._warnOnPreloadedModules();\n        var _loop_1 = function (module_2) {\n            var hookFn = function (exports, name, baseDir) {\n                return _this._onRequire(module_2, exports, name, baseDir);\n            };\n            var onRequire = function (exports, name, baseDir) {\n                return _this._onRequire(module_2, exports, name, baseDir);\n            };\n            // `RequireInTheMiddleSingleton` does not support absolute paths.\n            // For an absolute paths, we must create a separate instance of the\n            // require-in-the-middle `Hook`.\n            var hook = path.isAbsolute(module_2.name)\n                ? new Hook([module_2.name], { internals: true }, onRequire)\n                : this_1._requireInTheMiddleSingleton.register(module_2.name, onRequire);\n            this_1._hooks.push(hook);\n            var esmHook = new ImportInTheMiddle([module_2.name], { internals: false }, hookFn);\n            this_1._hooks.push(esmHook);\n        };\n        var this_1 = this;\n        try {\n            for (var _h = __values(this._modules), _j = _h.next(); !_j.done; _j = _h.next()) {\n                var module_2 = _j.value;\n                _loop_1(module_2);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_j && !_j.done && (_c = _h.return)) _c.call(_h);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n    };\n    InstrumentationBase.prototype.disable = function () {\n        var e_4, _a, e_5, _b;\n        if (!this._enabled) {\n            return;\n        }\n        this._enabled = false;\n        try {\n            for (var _c = __values(this._modules), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var module_3 = _d.value;\n                if (typeof module_3.unpatch === 'function' && module_3.moduleExports) {\n                    module_3.unpatch(module_3.moduleExports, module_3.moduleVersion);\n                }\n                try {\n                    for (var _e = (e_5 = void 0, __values(module_3.files)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                        var file = _f.value;\n                        if (file.moduleExports) {\n                            file.unpatch(file.moduleExports, module_3.moduleVersion);\n                        }\n                    }\n                }\n                catch (e_5_1) { e_5 = { error: e_5_1 }; }\n                finally {\n                    try {\n                        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                    }\n                    finally { if (e_5) throw e_5.error; }\n                }\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n    };\n    InstrumentationBase.prototype.isEnabled = function () {\n        return this._enabled;\n    };\n    return InstrumentationBase;\n}(InstrumentationAbstract));\nexport { InstrumentationBase };\nfunction isSupported(supportedVersions, version, includePrerelease) {\n    if (typeof version === 'undefined') {\n        // If we don't have the version, accept the wildcard case only\n        return supportedVersions.includes('*');\n    }\n    return supportedVersions.some(function (supportedVersion) {\n        return satisfies(version, supportedVersion, { includePrerelease: includePrerelease });\n    });\n}\n//# sourceMappingURL=instrumentation.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { diag, metrics, trace, } from '@opentelemetry/api';\nimport * as shimmer from 'shimmer';\n/**\n * Base abstract internal class for instrumenting node and web plugins\n */\nvar InstrumentationAbstract = /** @class */ (function () {\n    function InstrumentationAbstract(instrumentationName, instrumentationVersion, config) {\n        if (config === void 0) { config = {}; }\n        this.instrumentationName = instrumentationName;\n        this.instrumentationVersion = instrumentationVersion;\n        /* Api to wrap instrumented method */\n        this._wrap = shimmer.wrap;\n        /* Api to unwrap instrumented methods */\n        this._unwrap = shimmer.unwrap;\n        /* Api to mass wrap instrumented method */\n        this._massWrap = shimmer.massWrap;\n        /* Api to mass unwrap instrumented methods */\n        this._massUnwrap = shimmer.massUnwrap;\n        this._config = __assign({ enabled: true }, config);\n        this._diag = diag.createComponentLogger({\n            namespace: instrumentationName,\n        });\n        this._tracer = trace.getTracer(instrumentationName, instrumentationVersion);\n        this._meter = metrics.getMeter(instrumentationName, instrumentationVersion);\n        this._updateMetricInstruments();\n    }\n    Object.defineProperty(InstrumentationAbstract.prototype, \"meter\", {\n        /* Returns meter */\n        get: function () {\n            return this._meter;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Sets MeterProvider to this plugin\n     * @param meterProvider\n     */\n    InstrumentationAbstract.prototype.setMeterProvider = function (meterProvider) {\n        this._meter = meterProvider.getMeter(this.instrumentationName, this.instrumentationVersion);\n        this._updateMetricInstruments();\n    };\n    /**\n     * Sets the new metric instruments with the current Meter.\n     */\n    InstrumentationAbstract.prototype._updateMetricInstruments = function () {\n        return;\n    };\n    /* Returns InstrumentationConfig */\n    InstrumentationAbstract.prototype.getConfig = function () {\n        return this._config;\n    };\n    /**\n     * Sets InstrumentationConfig to this plugin\n     * @param InstrumentationConfig\n     */\n    InstrumentationAbstract.prototype.setConfig = function (config) {\n        if (config === void 0) { config = {}; }\n        this._config = Object.assign({}, config);\n    };\n    /**\n     * Sets TraceProvider to this plugin\n     * @param tracerProvider\n     */\n    InstrumentationAbstract.prototype.setTracerProvider = function (tracerProvider) {\n        this._tracer = tracerProvider.getTracer(this.instrumentationName, this.instrumentationVersion);\n    };\n    Object.defineProperty(InstrumentationAbstract.prototype, \"tracer\", {\n        /* Returns tracer */\n        get: function () {\n            return this._tracer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return InstrumentationAbstract;\n}());\nexport { InstrumentationAbstract };\n//# sourceMappingURL=instrumentation.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nexport var ModuleNameSeparator = '/';\n/**\n * Node in a `ModuleNameTrie`\n */\nvar ModuleNameTrieNode = /** @class */ (function () {\n    function ModuleNameTrieNode() {\n        this.hooks = [];\n        this.children = new Map();\n    }\n    return ModuleNameTrieNode;\n}());\n/**\n * Trie containing nodes that represent a part of a module name (i.e. the parts separated by forward slash)\n */\nvar ModuleNameTrie = /** @class */ (function () {\n    function ModuleNameTrie() {\n        this._trie = new ModuleNameTrieNode();\n        this._counter = 0;\n    }\n    /**\n     * Insert a module hook into the trie\n     *\n     * @param {Hooked} hook Hook\n     */\n    ModuleNameTrie.prototype.insert = function (hook) {\n        var e_1, _a;\n        var trieNode = this._trie;\n        try {\n            for (var _b = __values(hook.moduleName.split(ModuleNameSeparator)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var moduleNamePart = _c.value;\n                var nextNode = trieNode.children.get(moduleNamePart);\n                if (!nextNode) {\n                    nextNode = new ModuleNameTrieNode();\n                    trieNode.children.set(moduleNamePart, nextNode);\n                }\n                trieNode = nextNode;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        trieNode.hooks.push({ hook: hook, insertedId: this._counter++ });\n    };\n    /**\n     * Search for matching hooks in the trie\n     *\n     * @param {string} moduleName Module name\n     * @param {boolean} maintainInsertionOrder Whether to return the results in insertion order\n     * @param {boolean} fullOnly Whether to return only full matches\n     * @returns {Hooked[]} Matching hooks\n     */\n    ModuleNameTrie.prototype.search = function (moduleName, _a) {\n        var e_2, _b;\n        var _c = _a === void 0 ? {} : _a, maintainInsertionOrder = _c.maintainInsertionOrder, fullOnly = _c.fullOnly;\n        var trieNode = this._trie;\n        var results = [];\n        var foundFull = true;\n        try {\n            for (var _d = __values(moduleName.split(ModuleNameSeparator)), _e = _d.next(); !_e.done; _e = _d.next()) {\n                var moduleNamePart = _e.value;\n                var nextNode = trieNode.children.get(moduleNamePart);\n                if (!nextNode) {\n                    foundFull = false;\n                    break;\n                }\n                if (!fullOnly) {\n                    results.push.apply(results, __spreadArray([], __read(nextNode.hooks), false));\n                }\n                trieNode = nextNode;\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_e && !_e.done && (_b = _d.return)) _b.call(_d);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        if (fullOnly && foundFull) {\n            results.push.apply(results, __spreadArray([], __read(trieNode.hooks), false));\n        }\n        if (results.length === 0) {\n            return [];\n        }\n        if (results.length === 1) {\n            return [results[0].hook];\n        }\n        if (maintainInsertionOrder) {\n            results.sort(function (a, b) { return a.insertedId - b.insertedId; });\n        }\n        return results.map(function (_a) {\n            var hook = _a.hook;\n            return hook;\n        });\n    };\n    return ModuleNameTrie;\n}());\nexport { ModuleNameTrie };\n//# sourceMappingURL=ModuleNameTrie.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { Hook } from 'require-in-the-middle';\nimport * as path from 'path';\nimport { ModuleNameTrie, ModuleNameSeparator } from './ModuleNameTrie';\n/**\n * Whether Mocha is running in this process\n * Inspired by https://github.com/AndreasPizsa/detect-mocha\n *\n * @type {boolean}\n */\nvar isMocha = [\n    'afterEach',\n    'after',\n    'beforeEach',\n    'before',\n    'describe',\n    'it',\n].every(function (fn) {\n    // @ts-expect-error TS7053: Element implicitly has an 'any' type\n    return typeof global[fn] === 'function';\n});\n/**\n * Singleton class for `require-in-the-middle`\n * Allows instrumentation plugins to patch modules with only a single `require` patch\n * WARNING: Because this class will create its own `require-in-the-middle` (RITM) instance,\n * we should minimize the number of new instances of this class.\n * Multiple instances of `@opentelemetry/instrumentation` (e.g. multiple versions) in a single process\n * will result in multiple instances of RITM, which will have an impact\n * on the performance of instrumentation hooks being applied.\n */\nvar RequireInTheMiddleSingleton = /** @class */ (function () {\n    function RequireInTheMiddleSingleton() {\n        this._moduleNameTrie = new ModuleNameTrie();\n        this._initialize();\n    }\n    RequireInTheMiddleSingleton.prototype._initialize = function () {\n        var _this = this;\n        new Hook(\n        // Intercept all `require` calls; we will filter the matching ones below\n        null, { internals: true }, function (exports, name, basedir) {\n            var e_1, _a;\n            // For internal files on Windows, `name` will use backslash as the path separator\n            var normalizedModuleName = normalizePathSeparators(name);\n            var matches = _this._moduleNameTrie.search(normalizedModuleName, {\n                maintainInsertionOrder: true,\n                // For core modules (e.g. `fs`), do not match on sub-paths (e.g. `fs/promises').\n                // This matches the behavior of `require-in-the-middle`.\n                // `basedir` is always `undefined` for core modules.\n                fullOnly: basedir === undefined,\n            });\n            try {\n                for (var matches_1 = __values(matches), matches_1_1 = matches_1.next(); !matches_1_1.done; matches_1_1 = matches_1.next()) {\n                    var onRequire = matches_1_1.value.onRequire;\n                    exports = onRequire(exports, name, basedir);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (matches_1_1 && !matches_1_1.done && (_a = matches_1.return)) _a.call(matches_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return exports;\n        });\n    };\n    /**\n     * Register a hook with `require-in-the-middle`\n     *\n     * @param {string} moduleName Module name\n     * @param {OnRequireFn} onRequire Hook function\n     * @returns {Hooked} Registered hook\n     */\n    RequireInTheMiddleSingleton.prototype.register = function (moduleName, onRequire) {\n        var hooked = { moduleName: moduleName, onRequire: onRequire };\n        this._moduleNameTrie.insert(hooked);\n        return hooked;\n    };\n    /**\n     * Get the `RequireInTheMiddleSingleton` singleton\n     *\n     * @returns {RequireInTheMiddleSingleton} Singleton of `RequireInTheMiddleSingleton`\n     */\n    RequireInTheMiddleSingleton.getInstance = function () {\n        var _a;\n        // Mocha runs all test suites in the same process\n        // This prevents test suites from sharing a singleton\n        if (isMocha)\n            return new RequireInTheMiddleSingleton();\n        return (this._instance =\n            (_a = this._instance) !== null && _a !== void 0 ? _a : new RequireInTheMiddleSingleton());\n    };\n    return RequireInTheMiddleSingleton;\n}());\nexport { RequireInTheMiddleSingleton };\n/**\n * Normalize the path separators to forward slash in a module name or path\n *\n * @param {string} moduleNameOrPath Module name or path\n * @returns {string} Normalized module name or path\n */\nfunction normalizePathSeparators(moduleNameOrPath) {\n    return path.sep !== ModuleNameSeparator\n        ? moduleNameOrPath.split(path.sep).join(ModuleNameSeparator)\n        : moduleNameOrPath;\n}\n//# sourceMappingURL=RequireInTheMiddleSingleton.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar InstrumentationNodeModuleDefinition = /** @class */ (function () {\n    function InstrumentationNodeModuleDefinition(name, supportedVersions, patch, unpatch, files) {\n        this.name = name;\n        this.supportedVersions = supportedVersions;\n        this.patch = patch;\n        this.unpatch = unpatch;\n        this.files = files || [];\n    }\n    return InstrumentationNodeModuleDefinition;\n}());\nexport { InstrumentationNodeModuleDefinition };\n//# sourceMappingURL=instrumentationNodeModuleDefinition.js.map","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 5834;\nmodule.exports = webpackEmptyContext;","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A sampling decision that determines how a {@link Span} will be recorded\n * and collected.\n */\nexport var SamplingDecision;\n(function (SamplingDecision) {\n    /**\n     * `Span.isRecording() === false`, span will not be recorded and all events\n     * and attributes will be dropped.\n     */\n    SamplingDecision[SamplingDecision[\"NOT_RECORD\"] = 0] = \"NOT_RECORD\";\n    /**\n     * `Span.isRecording() === true`, but `Sampled` flag in {@link TraceFlags}\n     * MUST NOT be set.\n     */\n    SamplingDecision[SamplingDecision[\"RECORD\"] = 1] = \"RECORD\";\n    /**\n     * `Span.isRecording() === true` AND `Sampled` flag in {@link TraceFlags}\n     * MUST be set.\n     */\n    SamplingDecision[SamplingDecision[\"RECORD_AND_SAMPLED\"] = 2] = \"RECORD_AND_SAMPLED\";\n})(SamplingDecision || (SamplingDecision = {}));\n//# sourceMappingURL=Sampler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { diag, SpanStatusCode, } from '@opentelemetry/api';\nimport { addHrTimes, millisToHrTime, getTimeOrigin, hrTime, hrTimeDuration, isAttributeValue, isTimeInput, isTimeInputHrTime, otperformance, sanitizeAttributes, } from '@opentelemetry/core';\nimport { SEMATTRS_EXCEPTION_MESSAGE, SEMATTRS_EXCEPTION_STACKTRACE, SEMATTRS_EXCEPTION_TYPE, } from '@opentelemetry/semantic-conventions';\nimport { ExceptionEventName } from './enums';\n/**\n * This class represents a span.\n */\nvar Span = /** @class */ (function () {\n    /**\n     * Constructs a new Span instance.\n     *\n     * @deprecated calling Span constructor directly is not supported. Please use tracer.startSpan.\n     * */\n    function Span(parentTracer, context, spanName, spanContext, kind, parentSpanId, links, startTime, _deprecatedClock, // keeping this argument even though it is unused to ensure backwards compatibility\n    attributes) {\n        if (links === void 0) { links = []; }\n        this.attributes = {};\n        this.links = [];\n        this.events = [];\n        this._droppedAttributesCount = 0;\n        this._droppedEventsCount = 0;\n        this._droppedLinksCount = 0;\n        this.status = {\n            code: SpanStatusCode.UNSET,\n        };\n        this.endTime = [0, 0];\n        this._ended = false;\n        this._duration = [-1, -1];\n        this.name = spanName;\n        this._spanContext = spanContext;\n        this.parentSpanId = parentSpanId;\n        this.kind = kind;\n        this.links = links;\n        var now = Date.now();\n        this._performanceStartTime = otperformance.now();\n        this._performanceOffset =\n            now - (this._performanceStartTime + getTimeOrigin());\n        this._startTimeProvided = startTime != null;\n        this.startTime = this._getTime(startTime !== null && startTime !== void 0 ? startTime : now);\n        this.resource = parentTracer.resource;\n        this.instrumentationLibrary = parentTracer.instrumentationLibrary;\n        this._spanLimits = parentTracer.getSpanLimits();\n        this._attributeValueLengthLimit =\n            this._spanLimits.attributeValueLengthLimit || 0;\n        if (attributes != null) {\n            this.setAttributes(attributes);\n        }\n        this._spanProcessor = parentTracer.getActiveSpanProcessor();\n        this._spanProcessor.onStart(this, context);\n    }\n    Span.prototype.spanContext = function () {\n        return this._spanContext;\n    };\n    Span.prototype.setAttribute = function (key, value) {\n        if (value == null || this._isSpanEnded())\n            return this;\n        if (key.length === 0) {\n            diag.warn(\"Invalid attribute key: \" + key);\n            return this;\n        }\n        if (!isAttributeValue(value)) {\n            diag.warn(\"Invalid attribute value set for key: \" + key);\n            return this;\n        }\n        if (Object.keys(this.attributes).length >=\n            this._spanLimits.attributeCountLimit &&\n            !Object.prototype.hasOwnProperty.call(this.attributes, key)) {\n            this._droppedAttributesCount++;\n            return this;\n        }\n        this.attributes[key] = this._truncateToSize(value);\n        return this;\n    };\n    Span.prototype.setAttributes = function (attributes) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(Object.entries(attributes)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), k = _d[0], v = _d[1];\n                this.setAttribute(k, v);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return this;\n    };\n    /**\n     *\n     * @param name Span Name\n     * @param [attributesOrStartTime] Span attributes or start time\n     *     if type is {@type TimeInput} and 3rd param is undefined\n     * @param [timeStamp] Specified time stamp for the event\n     */\n    Span.prototype.addEvent = function (name, attributesOrStartTime, timeStamp) {\n        if (this._isSpanEnded())\n            return this;\n        if (this._spanLimits.eventCountLimit === 0) {\n            diag.warn('No events allowed.');\n            this._droppedEventsCount++;\n            return this;\n        }\n        if (this.events.length >= this._spanLimits.eventCountLimit) {\n            if (this._droppedEventsCount === 0) {\n                diag.debug('Dropping extra events.');\n            }\n            this.events.shift();\n            this._droppedEventsCount++;\n        }\n        if (isTimeInput(attributesOrStartTime)) {\n            if (!isTimeInput(timeStamp)) {\n                timeStamp = attributesOrStartTime;\n            }\n            attributesOrStartTime = undefined;\n        }\n        var attributes = sanitizeAttributes(attributesOrStartTime);\n        this.events.push({\n            name: name,\n            attributes: attributes,\n            time: this._getTime(timeStamp),\n            droppedAttributesCount: 0,\n        });\n        return this;\n    };\n    Span.prototype.addLink = function (link) {\n        this.links.push(link);\n        return this;\n    };\n    Span.prototype.addLinks = function (links) {\n        var _a;\n        (_a = this.links).push.apply(_a, __spreadArray([], __read(links), false));\n        return this;\n    };\n    Span.prototype.setStatus = function (status) {\n        if (this._isSpanEnded())\n            return this;\n        this.status = status;\n        return this;\n    };\n    Span.prototype.updateName = function (name) {\n        if (this._isSpanEnded())\n            return this;\n        this.name = name;\n        return this;\n    };\n    Span.prototype.end = function (endTime) {\n        if (this._isSpanEnded()) {\n            diag.error(this.name + \" \" + this._spanContext.traceId + \"-\" + this._spanContext.spanId + \" - You can only call end() on a span once.\");\n            return;\n        }\n        this._ended = true;\n        this.endTime = this._getTime(endTime);\n        this._duration = hrTimeDuration(this.startTime, this.endTime);\n        if (this._duration[0] < 0) {\n            diag.warn('Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.', this.startTime, this.endTime);\n            this.endTime = this.startTime.slice();\n            this._duration = [0, 0];\n        }\n        if (this._droppedEventsCount > 0) {\n            diag.warn(\"Dropped \" + this._droppedEventsCount + \" events because eventCountLimit reached\");\n        }\n        this._spanProcessor.onEnd(this);\n    };\n    Span.prototype._getTime = function (inp) {\n        if (typeof inp === 'number' && inp < otperformance.now()) {\n            // must be a performance timestamp\n            // apply correction and convert to hrtime\n            return hrTime(inp + this._performanceOffset);\n        }\n        if (typeof inp === 'number') {\n            return millisToHrTime(inp);\n        }\n        if (inp instanceof Date) {\n            return millisToHrTime(inp.getTime());\n        }\n        if (isTimeInputHrTime(inp)) {\n            return inp;\n        }\n        if (this._startTimeProvided) {\n            // if user provided a time for the start manually\n            // we can't use duration to calculate event/end times\n            return millisToHrTime(Date.now());\n        }\n        var msDuration = otperformance.now() - this._performanceStartTime;\n        return addHrTimes(this.startTime, millisToHrTime(msDuration));\n    };\n    Span.prototype.isRecording = function () {\n        return this._ended === false;\n    };\n    Span.prototype.recordException = function (exception, time) {\n        var attributes = {};\n        if (typeof exception === 'string') {\n            attributes[SEMATTRS_EXCEPTION_MESSAGE] = exception;\n        }\n        else if (exception) {\n            if (exception.code) {\n                attributes[SEMATTRS_EXCEPTION_TYPE] = exception.code.toString();\n            }\n            else if (exception.name) {\n                attributes[SEMATTRS_EXCEPTION_TYPE] = exception.name;\n            }\n            if (exception.message) {\n                attributes[SEMATTRS_EXCEPTION_MESSAGE] = exception.message;\n            }\n            if (exception.stack) {\n                attributes[SEMATTRS_EXCEPTION_STACKTRACE] = exception.stack;\n            }\n        }\n        // these are minimum requirements from spec\n        if (attributes[SEMATTRS_EXCEPTION_TYPE] ||\n            attributes[SEMATTRS_EXCEPTION_MESSAGE]) {\n            this.addEvent(ExceptionEventName, attributes, time);\n        }\n        else {\n            diag.warn(\"Failed to record an exception \" + exception);\n        }\n    };\n    Object.defineProperty(Span.prototype, \"duration\", {\n        get: function () {\n            return this._duration;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Span.prototype, \"ended\", {\n        get: function () {\n            return this._ended;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Span.prototype, \"droppedAttributesCount\", {\n        get: function () {\n            return this._droppedAttributesCount;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Span.prototype, \"droppedEventsCount\", {\n        get: function () {\n            return this._droppedEventsCount;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Span.prototype, \"droppedLinksCount\", {\n        get: function () {\n            return this._droppedLinksCount;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Span.prototype._isSpanEnded = function () {\n        if (this._ended) {\n            diag.warn(\"Can not execute the operation on ended Span {traceId: \" + this._spanContext.traceId + \", spanId: \" + this._spanContext.spanId + \"}\");\n        }\n        return this._ended;\n    };\n    // Utility function to truncate given value within size\n    // for value type of string, will truncate to given limit\n    // for type of non-string, will return same value\n    Span.prototype._truncateToLimitUtil = function (value, limit) {\n        if (value.length <= limit) {\n            return value;\n        }\n        return value.substr(0, limit);\n    };\n    /**\n     * If the given attribute value is of type string and has more characters than given {@code attributeValueLengthLimit} then\n     * return string with truncated to {@code attributeValueLengthLimit} characters\n     *\n     * If the given attribute value is array of strings then\n     * return new array of strings with each element truncated to {@code attributeValueLengthLimit} characters\n     *\n     * Otherwise return same Attribute {@code value}\n     *\n     * @param value Attribute value\n     * @returns truncated attribute value if required, otherwise same value\n     */\n    Span.prototype._truncateToSize = function (value) {\n        var _this = this;\n        var limit = this._attributeValueLengthLimit;\n        // Check limit\n        if (limit <= 0) {\n            // Negative values are invalid, so do not truncate\n            diag.warn(\"Attribute value limit must be positive, got \" + limit);\n            return value;\n        }\n        // String\n        if (typeof value === 'string') {\n            return this._truncateToLimitUtil(value, limit);\n        }\n        // Array of strings\n        if (Array.isArray(value)) {\n            return value.map(function (val) {\n                return typeof val === 'string' ? _this._truncateToLimitUtil(val, limit) : val;\n            });\n        }\n        // Other types, no need to apply value length limit\n        return value;\n    };\n    return Span;\n}());\nexport { Span };\n//# sourceMappingURL=Span.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Event name definitions\nexport var ExceptionEventName = 'exception';\n//# sourceMappingURL=enums.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { SamplingDecision } from '../Sampler';\n/** Sampler that samples no traces. */\nvar AlwaysOffSampler = /** @class */ (function () {\n    function AlwaysOffSampler() {\n    }\n    AlwaysOffSampler.prototype.shouldSample = function () {\n        return {\n            decision: SamplingDecision.NOT_RECORD,\n        };\n    };\n    AlwaysOffSampler.prototype.toString = function () {\n        return 'AlwaysOffSampler';\n    };\n    return AlwaysOffSampler;\n}());\nexport { AlwaysOffSampler };\n//# sourceMappingURL=AlwaysOffSampler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { SamplingDecision } from '../Sampler';\n/** Sampler that samples all traces. */\nvar AlwaysOnSampler = /** @class */ (function () {\n    function AlwaysOnSampler() {\n    }\n    AlwaysOnSampler.prototype.shouldSample = function () {\n        return {\n            decision: SamplingDecision.RECORD_AND_SAMPLED,\n        };\n    };\n    AlwaysOnSampler.prototype.toString = function () {\n        return 'AlwaysOnSampler';\n    };\n    return AlwaysOnSampler;\n}());\nexport { AlwaysOnSampler };\n//# sourceMappingURL=AlwaysOnSampler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { isSpanContextValid, TraceFlags, trace, } from '@opentelemetry/api';\nimport { globalErrorHandler } from '@opentelemetry/core';\nimport { AlwaysOffSampler } from './AlwaysOffSampler';\nimport { AlwaysOnSampler } from './AlwaysOnSampler';\n/**\n * A composite sampler that either respects the parent span's sampling decision\n * or delegates to `delegateSampler` for root spans.\n */\nvar ParentBasedSampler = /** @class */ (function () {\n    function ParentBasedSampler(config) {\n        var _a, _b, _c, _d;\n        this._root = config.root;\n        if (!this._root) {\n            globalErrorHandler(new Error('ParentBasedSampler must have a root sampler configured'));\n            this._root = new AlwaysOnSampler();\n        }\n        this._remoteParentSampled =\n            (_a = config.remoteParentSampled) !== null && _a !== void 0 ? _a : new AlwaysOnSampler();\n        this._remoteParentNotSampled =\n            (_b = config.remoteParentNotSampled) !== null && _b !== void 0 ? _b : new AlwaysOffSampler();\n        this._localParentSampled =\n            (_c = config.localParentSampled) !== null && _c !== void 0 ? _c : new AlwaysOnSampler();\n        this._localParentNotSampled =\n            (_d = config.localParentNotSampled) !== null && _d !== void 0 ? _d : new AlwaysOffSampler();\n    }\n    ParentBasedSampler.prototype.shouldSample = function (context, traceId, spanName, spanKind, attributes, links) {\n        var parentContext = trace.getSpanContext(context);\n        if (!parentContext || !isSpanContextValid(parentContext)) {\n            return this._root.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n        }\n        if (parentContext.isRemote) {\n            if (parentContext.traceFlags & TraceFlags.SAMPLED) {\n                return this._remoteParentSampled.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n            }\n            return this._remoteParentNotSampled.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n        }\n        if (parentContext.traceFlags & TraceFlags.SAMPLED) {\n            return this._localParentSampled.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n        }\n        return this._localParentNotSampled.shouldSample(context, traceId, spanName, spanKind, attributes, links);\n    };\n    ParentBasedSampler.prototype.toString = function () {\n        return \"ParentBased{root=\" + this._root.toString() + \", remoteParentSampled=\" + this._remoteParentSampled.toString() + \", remoteParentNotSampled=\" + this._remoteParentNotSampled.toString() + \", localParentSampled=\" + this._localParentSampled.toString() + \", localParentNotSampled=\" + this._localParentNotSampled.toString() + \"}\";\n    };\n    return ParentBasedSampler;\n}());\nexport { ParentBasedSampler };\n//# sourceMappingURL=ParentBasedSampler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { isValidTraceId } from '@opentelemetry/api';\nimport { SamplingDecision } from '../Sampler';\n/** Sampler that samples a given fraction of traces based of trace id deterministically. */\nvar TraceIdRatioBasedSampler = /** @class */ (function () {\n    function TraceIdRatioBasedSampler(_ratio) {\n        if (_ratio === void 0) { _ratio = 0; }\n        this._ratio = _ratio;\n        this._ratio = this._normalize(_ratio);\n        this._upperBound = Math.floor(this._ratio * 0xffffffff);\n    }\n    TraceIdRatioBasedSampler.prototype.shouldSample = function (context, traceId) {\n        return {\n            decision: isValidTraceId(traceId) && this._accumulate(traceId) < this._upperBound\n                ? SamplingDecision.RECORD_AND_SAMPLED\n                : SamplingDecision.NOT_RECORD,\n        };\n    };\n    TraceIdRatioBasedSampler.prototype.toString = function () {\n        return \"TraceIdRatioBased{\" + this._ratio + \"}\";\n    };\n    TraceIdRatioBasedSampler.prototype._normalize = function (ratio) {\n        if (typeof ratio !== 'number' || isNaN(ratio))\n            return 0;\n        return ratio >= 1 ? 1 : ratio <= 0 ? 0 : ratio;\n    };\n    TraceIdRatioBasedSampler.prototype._accumulate = function (traceId) {\n        var accumulation = 0;\n        for (var i = 0; i < traceId.length / 8; i++) {\n            var pos = i * 8;\n            var part = parseInt(traceId.slice(pos, pos + 8), 16);\n            accumulation = (accumulation ^ part) >>> 0;\n        }\n        return accumulation;\n    };\n    return TraceIdRatioBasedSampler;\n}());\nexport { TraceIdRatioBasedSampler };\n//# sourceMappingURL=TraceIdRatioBasedSampler.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { diag } from '@opentelemetry/api';\nimport { getEnv, TracesSamplerValues } from '@opentelemetry/core';\nimport { AlwaysOffSampler } from './sampler/AlwaysOffSampler';\nimport { AlwaysOnSampler } from './sampler/AlwaysOnSampler';\nimport { ParentBasedSampler } from './sampler/ParentBasedSampler';\nimport { TraceIdRatioBasedSampler } from './sampler/TraceIdRatioBasedSampler';\nvar env = getEnv();\nvar FALLBACK_OTEL_TRACES_SAMPLER = TracesSamplerValues.AlwaysOn;\nvar DEFAULT_RATIO = 1;\n/**\n * Load default configuration. For fields with primitive values, any user-provided\n * value will override the corresponding default value. For fields with\n * non-primitive values (like `spanLimits`), the user-provided value will be\n * used to extend the default value.\n */\n// object needs to be wrapped in this function and called when needed otherwise\n// envs are parsed before tests are ran - causes tests using these envs to fail\nexport function loadDefaultConfig() {\n    return {\n        sampler: buildSamplerFromEnv(env),\n        forceFlushTimeoutMillis: 30000,\n        generalLimits: {\n            attributeValueLengthLimit: getEnv().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,\n            attributeCountLimit: getEnv().OTEL_ATTRIBUTE_COUNT_LIMIT,\n        },\n        spanLimits: {\n            attributeValueLengthLimit: getEnv().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,\n            attributeCountLimit: getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,\n            linkCountLimit: getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,\n            eventCountLimit: getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT,\n            attributePerEventCountLimit: getEnv().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,\n            attributePerLinkCountLimit: getEnv().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,\n        },\n    };\n}\n/**\n * Based on environment, builds a sampler, complies with specification.\n * @param environment optional, by default uses getEnv(), but allows passing a value to reuse parsed environment\n */\nexport function buildSamplerFromEnv(environment) {\n    if (environment === void 0) { environment = getEnv(); }\n    switch (environment.OTEL_TRACES_SAMPLER) {\n        case TracesSamplerValues.AlwaysOn:\n            return new AlwaysOnSampler();\n        case TracesSamplerValues.AlwaysOff:\n            return new AlwaysOffSampler();\n        case TracesSamplerValues.ParentBasedAlwaysOn:\n            return new ParentBasedSampler({\n                root: new AlwaysOnSampler(),\n            });\n        case TracesSamplerValues.ParentBasedAlwaysOff:\n            return new ParentBasedSampler({\n                root: new AlwaysOffSampler(),\n            });\n        case TracesSamplerValues.TraceIdRatio:\n            return new TraceIdRatioBasedSampler(getSamplerProbabilityFromEnv(environment));\n        case TracesSamplerValues.ParentBasedTraceIdRatio:\n            return new ParentBasedSampler({\n                root: new TraceIdRatioBasedSampler(getSamplerProbabilityFromEnv(environment)),\n            });\n        default:\n            diag.error(\"OTEL_TRACES_SAMPLER value \\\"\" + environment.OTEL_TRACES_SAMPLER + \" invalid, defaulting to \" + FALLBACK_OTEL_TRACES_SAMPLER + \"\\\".\");\n            return new AlwaysOnSampler();\n    }\n}\nfunction getSamplerProbabilityFromEnv(environment) {\n    if (environment.OTEL_TRACES_SAMPLER_ARG === undefined ||\n        environment.OTEL_TRACES_SAMPLER_ARG === '') {\n        diag.error(\"OTEL_TRACES_SAMPLER_ARG is blank, defaulting to \" + DEFAULT_RATIO + \".\");\n        return DEFAULT_RATIO;\n    }\n    var probability = Number(environment.OTEL_TRACES_SAMPLER_ARG);\n    if (isNaN(probability)) {\n        diag.error(\"OTEL_TRACES_SAMPLER_ARG=\" + environment.OTEL_TRACES_SAMPLER_ARG + \" was given, but it is invalid, defaulting to \" + DEFAULT_RATIO + \".\");\n        return DEFAULT_RATIO;\n    }\n    if (probability < 0 || probability > 1) {\n        diag.error(\"OTEL_TRACES_SAMPLER_ARG=\" + environment.OTEL_TRACES_SAMPLER_ARG + \" was given, but it is out of range ([0..1]), defaulting to \" + DEFAULT_RATIO + \".\");\n        return DEFAULT_RATIO;\n    }\n    return probability;\n}\n//# sourceMappingURL=config.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar SPAN_ID_BYTES = 8;\nvar TRACE_ID_BYTES = 16;\nvar RandomIdGenerator = /** @class */ (function () {\n    function RandomIdGenerator() {\n        /**\n         * Returns a random 16-byte trace ID formatted/encoded as a 32 lowercase hex\n         * characters corresponding to 128 bits.\n         */\n        this.generateTraceId = getIdGenerator(TRACE_ID_BYTES);\n        /**\n         * Returns a random 8-byte span ID formatted/encoded as a 16 lowercase hex\n         * characters corresponding to 64 bits.\n         */\n        this.generateSpanId = getIdGenerator(SPAN_ID_BYTES);\n    }\n    return RandomIdGenerator;\n}());\nexport { RandomIdGenerator };\nvar SHARED_BUFFER = Buffer.allocUnsafe(TRACE_ID_BYTES);\nfunction getIdGenerator(bytes) {\n    return function generateId() {\n        for (var i = 0; i < bytes / 4; i++) {\n            // unsigned right shift drops decimal part of the number\n            // it is required because if a number between 2**32 and 2**32 - 1 is generated, an out of range error is thrown by writeUInt32BE\n            SHARED_BUFFER.writeUInt32BE((Math.random() * Math.pow(2, 32)) >>> 0, i * 4);\n        }\n        // If buffer is all 0, set the last byte to 1 to guarantee a valid w3c id is generated\n        for (var i = 0; i < bytes; i++) {\n            if (SHARED_BUFFER[i] > 0) {\n                break;\n            }\n            else if (i === bytes - 1) {\n                SHARED_BUFFER[bytes - 1] = 1;\n            }\n        }\n        return SHARED_BUFFER.toString('hex', 0, bytes);\n    };\n}\n//# sourceMappingURL=RandomIdGenerator.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as api from '@opentelemetry/api';\nimport { sanitizeAttributes, isTracingSuppressed, } from '@opentelemetry/core';\nimport { Span } from './Span';\nimport { mergeConfig } from './utility';\nimport { RandomIdGenerator } from './platform';\n/**\n * This class represents a basic tracer.\n */\nvar Tracer = /** @class */ (function () {\n    /**\n     * Constructs a new Tracer instance.\n     */\n    function Tracer(instrumentationLibrary, config, _tracerProvider) {\n        this._tracerProvider = _tracerProvider;\n        var localConfig = mergeConfig(config);\n        this._sampler = localConfig.sampler;\n        this._generalLimits = localConfig.generalLimits;\n        this._spanLimits = localConfig.spanLimits;\n        this._idGenerator = config.idGenerator || new RandomIdGenerator();\n        this.resource = _tracerProvider.resource;\n        this.instrumentationLibrary = instrumentationLibrary;\n    }\n    /**\n     * Starts a new Span or returns the default NoopSpan based on the sampling\n     * decision.\n     */\n    Tracer.prototype.startSpan = function (name, options, context) {\n        var _a, _b, _c;\n        if (options === void 0) { options = {}; }\n        if (context === void 0) { context = api.context.active(); }\n        // remove span from context in case a root span is requested via options\n        if (options.root) {\n            context = api.trace.deleteSpan(context);\n        }\n        var parentSpan = api.trace.getSpan(context);\n        if (isTracingSuppressed(context)) {\n            api.diag.debug('Instrumentation suppressed, returning Noop Span');\n            var nonRecordingSpan = api.trace.wrapSpanContext(api.INVALID_SPAN_CONTEXT);\n            return nonRecordingSpan;\n        }\n        var parentSpanContext = parentSpan === null || parentSpan === void 0 ? void 0 : parentSpan.spanContext();\n        var spanId = this._idGenerator.generateSpanId();\n        var traceId;\n        var traceState;\n        var parentSpanId;\n        if (!parentSpanContext ||\n            !api.trace.isSpanContextValid(parentSpanContext)) {\n            // New root span.\n            traceId = this._idGenerator.generateTraceId();\n        }\n        else {\n            // New child span.\n            traceId = parentSpanContext.traceId;\n            traceState = parentSpanContext.traceState;\n            parentSpanId = parentSpanContext.spanId;\n        }\n        var spanKind = (_a = options.kind) !== null && _a !== void 0 ? _a : api.SpanKind.INTERNAL;\n        var links = ((_b = options.links) !== null && _b !== void 0 ? _b : []).map(function (link) {\n            return {\n                context: link.context,\n                attributes: sanitizeAttributes(link.attributes),\n            };\n        });\n        var attributes = sanitizeAttributes(options.attributes);\n        // make sampling decision\n        var samplingResult = this._sampler.shouldSample(context, traceId, name, spanKind, attributes, links);\n        traceState = (_c = samplingResult.traceState) !== null && _c !== void 0 ? _c : traceState;\n        var traceFlags = samplingResult.decision === api.SamplingDecision.RECORD_AND_SAMPLED\n            ? api.TraceFlags.SAMPLED\n            : api.TraceFlags.NONE;\n        var spanContext = { traceId: traceId, spanId: spanId, traceFlags: traceFlags, traceState: traceState };\n        if (samplingResult.decision === api.SamplingDecision.NOT_RECORD) {\n            api.diag.debug('Recording is off, propagating context in a non-recording span');\n            var nonRecordingSpan = api.trace.wrapSpanContext(spanContext);\n            return nonRecordingSpan;\n        }\n        // Set initial span attributes. The attributes object may have been mutated\n        // by the sampler, so we sanitize the merged attributes before setting them.\n        var initAttributes = sanitizeAttributes(Object.assign(attributes, samplingResult.attributes));\n        var span = new Span(this, context, name, spanContext, spanKind, parentSpanId, links, options.startTime, undefined, initAttributes);\n        return span;\n    };\n    Tracer.prototype.startActiveSpan = function (name, arg2, arg3, arg4) {\n        var opts;\n        var ctx;\n        var fn;\n        if (arguments.length < 2) {\n            return;\n        }\n        else if (arguments.length === 2) {\n            fn = arg2;\n        }\n        else if (arguments.length === 3) {\n            opts = arg2;\n            fn = arg3;\n        }\n        else {\n            opts = arg2;\n            ctx = arg3;\n            fn = arg4;\n        }\n        var parentContext = ctx !== null && ctx !== void 0 ? ctx : api.context.active();\n        var span = this.startSpan(name, opts, parentContext);\n        var contextWithSpanSet = api.trace.setSpan(parentContext, span);\n        return api.context.with(contextWithSpanSet, fn, undefined, span);\n    };\n    /** Returns the active {@link GeneralLimits}. */\n    Tracer.prototype.getGeneralLimits = function () {\n        return this._generalLimits;\n    };\n    /** Returns the active {@link SpanLimits}. */\n    Tracer.prototype.getSpanLimits = function () {\n        return this._spanLimits;\n    };\n    Tracer.prototype.getActiveSpanProcessor = function () {\n        return this._tracerProvider.getActiveSpanProcessor();\n    };\n    return Tracer;\n}());\nexport { Tracer };\n//# sourceMappingURL=Tracer.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { BatchSpanProcessorBase } from '../../../export/BatchSpanProcessorBase';\nvar BatchSpanProcessor = /** @class */ (function (_super) {\n    __extends(BatchSpanProcessor, _super);\n    function BatchSpanProcessor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BatchSpanProcessor.prototype.onShutdown = function () { };\n    return BatchSpanProcessor;\n}(BatchSpanProcessorBase));\nexport { BatchSpanProcessor };\n//# sourceMappingURL=BatchSpanProcessor.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { context, diag, propagation, trace, } from '@opentelemetry/api';\nimport { CompositePropagator, W3CBaggagePropagator, W3CTraceContextPropagator, getEnv, merge, } from '@opentelemetry/core';\nimport { Resource } from '@opentelemetry/resources';\nimport { Tracer } from '.';\nimport { loadDefaultConfig } from './config';\nimport { MultiSpanProcessor } from './MultiSpanProcessor';\nimport { NoopSpanProcessor } from './export/NoopSpanProcessor';\nimport { BatchSpanProcessor } from './platform';\nimport { reconfigureLimits } from './utility';\nexport var ForceFlushState;\n(function (ForceFlushState) {\n    ForceFlushState[ForceFlushState[\"resolved\"] = 0] = \"resolved\";\n    ForceFlushState[ForceFlushState[\"timeout\"] = 1] = \"timeout\";\n    ForceFlushState[ForceFlushState[\"error\"] = 2] = \"error\";\n    ForceFlushState[ForceFlushState[\"unresolved\"] = 3] = \"unresolved\";\n})(ForceFlushState || (ForceFlushState = {}));\n/**\n * This class represents a basic tracer provider which platform libraries can extend\n */\nvar BasicTracerProvider = /** @class */ (function () {\n    function BasicTracerProvider(config) {\n        if (config === void 0) { config = {}; }\n        var _a;\n        this._registeredSpanProcessors = [];\n        this._tracers = new Map();\n        var mergedConfig = merge({}, loadDefaultConfig(), reconfigureLimits(config));\n        this.resource = (_a = mergedConfig.resource) !== null && _a !== void 0 ? _a : Resource.empty();\n        this.resource = Resource.default().merge(this.resource);\n        this._config = Object.assign({}, mergedConfig, {\n            resource: this.resource,\n        });\n        var defaultExporter = this._buildExporterFromEnv();\n        if (defaultExporter !== undefined) {\n            var batchProcessor = new BatchSpanProcessor(defaultExporter);\n            this.activeSpanProcessor = batchProcessor;\n        }\n        else {\n            this.activeSpanProcessor = new NoopSpanProcessor();\n        }\n    }\n    BasicTracerProvider.prototype.getTracer = function (name, version, options) {\n        var key = name + \"@\" + (version || '') + \":\" + ((options === null || options === void 0 ? void 0 : options.schemaUrl) || '');\n        if (!this._tracers.has(key)) {\n            this._tracers.set(key, new Tracer({ name: name, version: version, schemaUrl: options === null || options === void 0 ? void 0 : options.schemaUrl }, this._config, this));\n        }\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        return this._tracers.get(key);\n    };\n    /**\n     * Adds a new {@link SpanProcessor} to this tracer.\n     * @param spanProcessor the new SpanProcessor to be added.\n     */\n    BasicTracerProvider.prototype.addSpanProcessor = function (spanProcessor) {\n        if (this._registeredSpanProcessors.length === 0) {\n            // since we might have enabled by default a batchProcessor, we disable it\n            // before adding the new one\n            this.activeSpanProcessor\n                .shutdown()\n                .catch(function (err) {\n                return diag.error('Error while trying to shutdown current span processor', err);\n            });\n        }\n        this._registeredSpanProcessors.push(spanProcessor);\n        this.activeSpanProcessor = new MultiSpanProcessor(this._registeredSpanProcessors);\n    };\n    BasicTracerProvider.prototype.getActiveSpanProcessor = function () {\n        return this.activeSpanProcessor;\n    };\n    /**\n     * Register this TracerProvider for use with the OpenTelemetry API.\n     * Undefined values may be replaced with defaults, and\n     * null values will be skipped.\n     *\n     * @param config Configuration object for SDK registration\n     */\n    BasicTracerProvider.prototype.register = function (config) {\n        if (config === void 0) { config = {}; }\n        trace.setGlobalTracerProvider(this);\n        if (config.propagator === undefined) {\n            config.propagator = this._buildPropagatorFromEnv();\n        }\n        if (config.contextManager) {\n            context.setGlobalContextManager(config.contextManager);\n        }\n        if (config.propagator) {\n            propagation.setGlobalPropagator(config.propagator);\n        }\n    };\n    BasicTracerProvider.prototype.forceFlush = function () {\n        var timeout = this._config.forceFlushTimeoutMillis;\n        var promises = this._registeredSpanProcessors.map(function (spanProcessor) {\n            return new Promise(function (resolve) {\n                var state;\n                var timeoutInterval = setTimeout(function () {\n                    resolve(new Error(\"Span processor did not completed within timeout period of \" + timeout + \" ms\"));\n                    state = ForceFlushState.timeout;\n                }, timeout);\n                spanProcessor\n                    .forceFlush()\n                    .then(function () {\n                    clearTimeout(timeoutInterval);\n                    if (state !== ForceFlushState.timeout) {\n                        state = ForceFlushState.resolved;\n                        resolve(state);\n                    }\n                })\n                    .catch(function (error) {\n                    clearTimeout(timeoutInterval);\n                    state = ForceFlushState.error;\n                    resolve(error);\n                });\n            });\n        });\n        return new Promise(function (resolve, reject) {\n            Promise.all(promises)\n                .then(function (results) {\n                var errors = results.filter(function (result) { return result !== ForceFlushState.resolved; });\n                if (errors.length > 0) {\n                    reject(errors);\n                }\n                else {\n                    resolve();\n                }\n            })\n                .catch(function (error) { return reject([error]); });\n        });\n    };\n    BasicTracerProvider.prototype.shutdown = function () {\n        return this.activeSpanProcessor.shutdown();\n    };\n    /**\n     * TS cannot yet infer the type of this.constructor:\n     * https://github.com/Microsoft/TypeScript/issues/3841#issuecomment-337560146\n     * There is no need to override either of the getters in your child class.\n     * The type of the registered component maps should be the same across all\n     * classes in the inheritance tree.\n     */\n    BasicTracerProvider.prototype._getPropagator = function (name) {\n        var _a;\n        return (_a = this.constructor._registeredPropagators.get(name)) === null || _a === void 0 ? void 0 : _a();\n    };\n    BasicTracerProvider.prototype._getSpanExporter = function (name) {\n        var _a;\n        return (_a = this.constructor._registeredExporters.get(name)) === null || _a === void 0 ? void 0 : _a();\n    };\n    BasicTracerProvider.prototype._buildPropagatorFromEnv = function () {\n        var _this = this;\n        // per spec, propagators from env must be deduplicated\n        var uniquePropagatorNames = Array.from(new Set(getEnv().OTEL_PROPAGATORS));\n        var propagators = uniquePropagatorNames.map(function (name) {\n            var propagator = _this._getPropagator(name);\n            if (!propagator) {\n                diag.warn(\"Propagator \\\"\" + name + \"\\\" requested through environment variable is unavailable.\");\n            }\n            return propagator;\n        });\n        var validPropagators = propagators.reduce(function (list, item) {\n            if (item) {\n                list.push(item);\n            }\n            return list;\n        }, []);\n        if (validPropagators.length === 0) {\n            return;\n        }\n        else if (uniquePropagatorNames.length === 1) {\n            return validPropagators[0];\n        }\n        else {\n            return new CompositePropagator({\n                propagators: validPropagators,\n            });\n        }\n    };\n    BasicTracerProvider.prototype._buildExporterFromEnv = function () {\n        var exporterName = getEnv().OTEL_TRACES_EXPORTER;\n        if (exporterName === 'none' || exporterName === '')\n            return;\n        var exporter = this._getSpanExporter(exporterName);\n        if (!exporter) {\n            diag.error(\"Exporter \\\"\" + exporterName + \"\\\" requested through environment variable is unavailable.\");\n        }\n        return exporter;\n    };\n    BasicTracerProvider._registeredPropagators = new Map([\n        ['tracecontext', function () { return new W3CTraceContextPropagator(); }],\n        ['baggage', function () { return new W3CBaggagePropagator(); }],\n    ]);\n    BasicTracerProvider._registeredExporters = new Map();\n    return BasicTracerProvider;\n}());\nexport { BasicTracerProvider };\n//# sourceMappingURL=BasicTracerProvider.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { buildSamplerFromEnv, loadDefaultConfig } from './config';\nimport { DEFAULT_ATTRIBUTE_COUNT_LIMIT, DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT, getEnvWithoutDefaults, } from '@opentelemetry/core';\n/**\n * Function to merge Default configuration (as specified in './config') with\n * user provided configurations.\n */\nexport function mergeConfig(userConfig) {\n    var perInstanceDefaults = {\n        sampler: buildSamplerFromEnv(),\n    };\n    var DEFAULT_CONFIG = loadDefaultConfig();\n    var target = Object.assign({}, DEFAULT_CONFIG, perInstanceDefaults, userConfig);\n    target.generalLimits = Object.assign({}, DEFAULT_CONFIG.generalLimits, userConfig.generalLimits || {});\n    target.spanLimits = Object.assign({}, DEFAULT_CONFIG.spanLimits, userConfig.spanLimits || {});\n    return target;\n}\n/**\n * When general limits are provided and model specific limits are not,\n * configures the model specific limits by using the values from the general ones.\n * @param userConfig User provided tracer configuration\n */\nexport function reconfigureLimits(userConfig) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    var spanLimits = Object.assign({}, userConfig.spanLimits);\n    var parsedEnvConfig = getEnvWithoutDefaults();\n    /**\n     * Reassign span attribute count limit to use first non null value defined by user or use default value\n     */\n    spanLimits.attributeCountLimit =\n        (_f = (_e = (_d = (_b = (_a = userConfig.spanLimits) === null || _a === void 0 ? void 0 : _a.attributeCountLimit) !== null && _b !== void 0 ? _b : (_c = userConfig.generalLimits) === null || _c === void 0 ? void 0 : _c.attributeCountLimit) !== null && _d !== void 0 ? _d : parsedEnvConfig.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT) !== null && _e !== void 0 ? _e : parsedEnvConfig.OTEL_ATTRIBUTE_COUNT_LIMIT) !== null && _f !== void 0 ? _f : DEFAULT_ATTRIBUTE_COUNT_LIMIT;\n    /**\n     * Reassign span attribute value length limit to use first non null value defined by user or use default value\n     */\n    spanLimits.attributeValueLengthLimit =\n        (_m = (_l = (_k = (_h = (_g = userConfig.spanLimits) === null || _g === void 0 ? void 0 : _g.attributeValueLengthLimit) !== null && _h !== void 0 ? _h : (_j = userConfig.generalLimits) === null || _j === void 0 ? void 0 : _j.attributeValueLengthLimit) !== null && _k !== void 0 ? _k : parsedEnvConfig.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT) !== null && _l !== void 0 ? _l : parsedEnvConfig.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT) !== null && _m !== void 0 ? _m : DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT;\n    return Object.assign({}, userConfig, { spanLimits: spanLimits });\n}\n//# sourceMappingURL=utility.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { diag } from '@opentelemetry/api';\nimport { SEMRESATTRS_SERVICE_NAME, SEMRESATTRS_TELEMETRY_SDK_LANGUAGE, SEMRESATTRS_TELEMETRY_SDK_NAME, SEMRESATTRS_TELEMETRY_SDK_VERSION, } from '@opentelemetry/semantic-conventions';\nimport { SDK_INFO } from '@opentelemetry/core';\nimport { defaultServiceName } from './platform';\n/**\n * A Resource describes the entity for which a signals (metrics or trace) are\n * collected.\n */\nvar Resource = /** @class */ (function () {\n    function Resource(\n    /**\n     * A dictionary of attributes with string keys and values that provide\n     * information about the entity as numbers, strings or booleans\n     * TODO: Consider to add check/validation on attributes.\n     */\n    attributes, asyncAttributesPromise) {\n        var _this = this;\n        var _a;\n        this._attributes = attributes;\n        this.asyncAttributesPending = asyncAttributesPromise != null;\n        this._syncAttributes = (_a = this._attributes) !== null && _a !== void 0 ? _a : {};\n        this._asyncAttributesPromise = asyncAttributesPromise === null || asyncAttributesPromise === void 0 ? void 0 : asyncAttributesPromise.then(function (asyncAttributes) {\n            _this._attributes = Object.assign({}, _this._attributes, asyncAttributes);\n            _this.asyncAttributesPending = false;\n            return asyncAttributes;\n        }, function (err) {\n            diag.debug(\"a resource's async attributes promise rejected: %s\", err);\n            _this.asyncAttributesPending = false;\n            return {};\n        });\n    }\n    /**\n     * Returns an empty Resource\n     */\n    Resource.empty = function () {\n        return Resource.EMPTY;\n    };\n    /**\n     * Returns a Resource that identifies the SDK in use.\n     */\n    Resource.default = function () {\n        var _a;\n        return new Resource((_a = {},\n            _a[SEMRESATTRS_SERVICE_NAME] = defaultServiceName(),\n            _a[SEMRESATTRS_TELEMETRY_SDK_LANGUAGE] = SDK_INFO[SEMRESATTRS_TELEMETRY_SDK_LANGUAGE],\n            _a[SEMRESATTRS_TELEMETRY_SDK_NAME] = SDK_INFO[SEMRESATTRS_TELEMETRY_SDK_NAME],\n            _a[SEMRESATTRS_TELEMETRY_SDK_VERSION] = SDK_INFO[SEMRESATTRS_TELEMETRY_SDK_VERSION],\n            _a));\n    };\n    Object.defineProperty(Resource.prototype, \"attributes\", {\n        get: function () {\n            var _a;\n            if (this.asyncAttributesPending) {\n                diag.error('Accessing resource attributes before async attributes settled');\n            }\n            return (_a = this._attributes) !== null && _a !== void 0 ? _a : {};\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Returns a promise that will never be rejected. Resolves when all async attributes have finished being added to\n     * this Resource's attributes. This is useful in exporters to block until resource detection\n     * has finished.\n     */\n    Resource.prototype.waitForAsyncAttributes = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.asyncAttributesPending) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._asyncAttributesPromise];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Returns a new, merged {@link Resource} by merging the current Resource\n     * with the other Resource. In case of a collision, other Resource takes\n     * precedence.\n     *\n     * @param other the Resource that will be merged with this.\n     * @returns the newly merged Resource.\n     */\n    Resource.prototype.merge = function (other) {\n        var _this = this;\n        var _a;\n        if (!other)\n            return this;\n        // SpanAttributes from other resource overwrite attributes from this resource.\n        var mergedSyncAttributes = __assign(__assign({}, this._syncAttributes), ((_a = other._syncAttributes) !== null && _a !== void 0 ? _a : other.attributes));\n        if (!this._asyncAttributesPromise &&\n            !other._asyncAttributesPromise) {\n            return new Resource(mergedSyncAttributes);\n        }\n        var mergedAttributesPromise = Promise.all([\n            this._asyncAttributesPromise,\n            other._asyncAttributesPromise,\n        ]).then(function (_a) {\n            var _b;\n            var _c = __read(_a, 2), thisAsyncAttributes = _c[0], otherAsyncAttributes = _c[1];\n            return __assign(__assign(__assign(__assign({}, _this._syncAttributes), thisAsyncAttributes), ((_b = other._syncAttributes) !== null && _b !== void 0 ? _b : other.attributes)), otherAsyncAttributes);\n        });\n        return new Resource(mergedSyncAttributes, mergedAttributesPromise);\n    };\n    Resource.EMPTY = new Resource({});\n    return Resource;\n}());\nexport { Resource };\n//# sourceMappingURL=Resource.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport function defaultServiceName() {\n    return \"unknown_service:\" + process.argv0;\n}\n//# sourceMappingURL=default-service-name.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { globalErrorHandler } from '@opentelemetry/core';\n/**\n * Implementation of the {@link SpanProcessor} that simply forwards all\n * received events to a list of {@link SpanProcessor}s.\n */\nvar MultiSpanProcessor = /** @class */ (function () {\n    function MultiSpanProcessor(_spanProcessors) {\n        this._spanProcessors = _spanProcessors;\n    }\n    MultiSpanProcessor.prototype.forceFlush = function () {\n        var e_1, _a;\n        var promises = [];\n        try {\n            for (var _b = __values(this._spanProcessors), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var spanProcessor = _c.value;\n                promises.push(spanProcessor.forceFlush());\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return new Promise(function (resolve) {\n            Promise.all(promises)\n                .then(function () {\n                resolve();\n            })\n                .catch(function (error) {\n                globalErrorHandler(error || new Error('MultiSpanProcessor: forceFlush failed'));\n                resolve();\n            });\n        });\n    };\n    MultiSpanProcessor.prototype.onStart = function (span, context) {\n        var e_2, _a;\n        try {\n            for (var _b = __values(this._spanProcessors), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var spanProcessor = _c.value;\n                spanProcessor.onStart(span, context);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    };\n    MultiSpanProcessor.prototype.onEnd = function (span) {\n        var e_3, _a;\n        try {\n            for (var _b = __values(this._spanProcessors), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var spanProcessor = _c.value;\n                spanProcessor.onEnd(span);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n    };\n    MultiSpanProcessor.prototype.shutdown = function () {\n        var e_4, _a;\n        var promises = [];\n        try {\n            for (var _b = __values(this._spanProcessors), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var spanProcessor = _c.value;\n                promises.push(spanProcessor.shutdown());\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        return new Promise(function (resolve, reject) {\n            Promise.all(promises).then(function () {\n                resolve();\n            }, reject);\n        });\n    };\n    return MultiSpanProcessor;\n}());\nexport { MultiSpanProcessor };\n//# sourceMappingURL=MultiSpanProcessor.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** No-op implementation of SpanProcessor */\nvar NoopSpanProcessor = /** @class */ (function () {\n    function NoopSpanProcessor() {\n    }\n    NoopSpanProcessor.prototype.onStart = function (_span, _context) { };\n    NoopSpanProcessor.prototype.onEnd = function (_span) { };\n    NoopSpanProcessor.prototype.shutdown = function () {\n        return Promise.resolve();\n    };\n    NoopSpanProcessor.prototype.forceFlush = function () {\n        return Promise.resolve();\n    };\n    return NoopSpanProcessor;\n}());\nexport { NoopSpanProcessor };\n//# sourceMappingURL=NoopSpanProcessor.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { context, diag, TraceFlags } from '@opentelemetry/api';\nimport { BindOnceFuture, ExportResultCode, getEnv, globalErrorHandler, suppressTracing, unrefTimer, } from '@opentelemetry/core';\n/**\n * Implementation of the {@link SpanProcessor} that batches spans exported by\n * the SDK then pushes them to the exporter pipeline.\n */\nvar BatchSpanProcessorBase = /** @class */ (function () {\n    function BatchSpanProcessorBase(_exporter, config) {\n        this._exporter = _exporter;\n        this._isExporting = false;\n        this._finishedSpans = [];\n        this._droppedSpansCount = 0;\n        var env = getEnv();\n        this._maxExportBatchSize =\n            typeof (config === null || config === void 0 ? void 0 : config.maxExportBatchSize) === 'number'\n                ? config.maxExportBatchSize\n                : env.OTEL_BSP_MAX_EXPORT_BATCH_SIZE;\n        this._maxQueueSize =\n            typeof (config === null || config === void 0 ? void 0 : config.maxQueueSize) === 'number'\n                ? config.maxQueueSize\n                : env.OTEL_BSP_MAX_QUEUE_SIZE;\n        this._scheduledDelayMillis =\n            typeof (config === null || config === void 0 ? void 0 : config.scheduledDelayMillis) === 'number'\n                ? config.scheduledDelayMillis\n                : env.OTEL_BSP_SCHEDULE_DELAY;\n        this._exportTimeoutMillis =\n            typeof (config === null || config === void 0 ? void 0 : config.exportTimeoutMillis) === 'number'\n                ? config.exportTimeoutMillis\n                : env.OTEL_BSP_EXPORT_TIMEOUT;\n        this._shutdownOnce = new BindOnceFuture(this._shutdown, this);\n        if (this._maxExportBatchSize > this._maxQueueSize) {\n            diag.warn('BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize');\n            this._maxExportBatchSize = this._maxQueueSize;\n        }\n    }\n    BatchSpanProcessorBase.prototype.forceFlush = function () {\n        if (this._shutdownOnce.isCalled) {\n            return this._shutdownOnce.promise;\n        }\n        return this._flushAll();\n    };\n    // does nothing.\n    BatchSpanProcessorBase.prototype.onStart = function (_span, _parentContext) { };\n    BatchSpanProcessorBase.prototype.onEnd = function (span) {\n        if (this._shutdownOnce.isCalled) {\n            return;\n        }\n        if ((span.spanContext().traceFlags & TraceFlags.SAMPLED) === 0) {\n            return;\n        }\n        this._addToBuffer(span);\n    };\n    BatchSpanProcessorBase.prototype.shutdown = function () {\n        return this._shutdownOnce.call();\n    };\n    BatchSpanProcessorBase.prototype._shutdown = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () {\n            return _this.onShutdown();\n        })\n            .then(function () {\n            return _this._flushAll();\n        })\n            .then(function () {\n            return _this._exporter.shutdown();\n        });\n    };\n    /** Add a span in the buffer. */\n    BatchSpanProcessorBase.prototype._addToBuffer = function (span) {\n        if (this._finishedSpans.length >= this._maxQueueSize) {\n            // limit reached, drop span\n            if (this._droppedSpansCount === 0) {\n                diag.debug('maxQueueSize reached, dropping spans');\n            }\n            this._droppedSpansCount++;\n            return;\n        }\n        if (this._droppedSpansCount > 0) {\n            // some spans were dropped, log once with count of spans dropped\n            diag.warn(\"Dropped \" + this._droppedSpansCount + \" spans because maxQueueSize reached\");\n            this._droppedSpansCount = 0;\n        }\n        this._finishedSpans.push(span);\n        this._maybeStartTimer();\n    };\n    /**\n     * Send all spans to the exporter respecting the batch size limit\n     * This function is used only on forceFlush or shutdown,\n     * for all other cases _flush should be used\n     * */\n    BatchSpanProcessorBase.prototype._flushAll = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var promises = [];\n            // calculate number of batches\n            var count = Math.ceil(_this._finishedSpans.length / _this._maxExportBatchSize);\n            for (var i = 0, j = count; i < j; i++) {\n                promises.push(_this._flushOneBatch());\n            }\n            Promise.all(promises)\n                .then(function () {\n                resolve();\n            })\n                .catch(reject);\n        });\n    };\n    BatchSpanProcessorBase.prototype._flushOneBatch = function () {\n        var _this = this;\n        this._clearTimer();\n        if (this._finishedSpans.length === 0) {\n            return Promise.resolve();\n        }\n        return new Promise(function (resolve, reject) {\n            var timer = setTimeout(function () {\n                // don't wait anymore for export, this way the next batch can start\n                reject(new Error('Timeout'));\n            }, _this._exportTimeoutMillis);\n            // prevent downstream exporter calls from generating spans\n            context.with(suppressTracing(context.active()), function () {\n                // Reset the finished spans buffer here because the next invocations of the _flush method\n                // could pass the same finished spans to the exporter if the buffer is cleared\n                // outside the execution of this callback.\n                var spans;\n                if (_this._finishedSpans.length <= _this._maxExportBatchSize) {\n                    spans = _this._finishedSpans;\n                    _this._finishedSpans = [];\n                }\n                else {\n                    spans = _this._finishedSpans.splice(0, _this._maxExportBatchSize);\n                }\n                var doExport = function () {\n                    return _this._exporter.export(spans, function (result) {\n                        var _a;\n                        clearTimeout(timer);\n                        if (result.code === ExportResultCode.SUCCESS) {\n                            resolve();\n                        }\n                        else {\n                            reject((_a = result.error) !== null && _a !== void 0 ? _a : new Error('BatchSpanProcessor: span export failed'));\n                        }\n                    });\n                };\n                var pendingResources = null;\n                for (var i = 0, len = spans.length; i < len; i++) {\n                    var span = spans[i];\n                    if (span.resource.asyncAttributesPending &&\n                        span.resource.waitForAsyncAttributes) {\n                        pendingResources !== null && pendingResources !== void 0 ? pendingResources : (pendingResources = []);\n                        pendingResources.push(span.resource.waitForAsyncAttributes());\n                    }\n                }\n                // Avoid scheduling a promise to make the behavior more predictable and easier to test\n                if (pendingResources === null) {\n                    doExport();\n                }\n                else {\n                    Promise.all(pendingResources).then(doExport, function (err) {\n                        globalErrorHandler(err);\n                        reject(err);\n                    });\n                }\n            });\n        });\n    };\n    BatchSpanProcessorBase.prototype._maybeStartTimer = function () {\n        var _this = this;\n        if (this._isExporting)\n            return;\n        var flush = function () {\n            _this._isExporting = true;\n            _this._flushOneBatch()\n                .finally(function () {\n                _this._isExporting = false;\n                if (_this._finishedSpans.length > 0) {\n                    _this._clearTimer();\n                    _this._maybeStartTimer();\n                }\n            })\n                .catch(function (e) {\n                _this._isExporting = false;\n                globalErrorHandler(e);\n            });\n        };\n        // we only wait if the queue doesn't have enough elements yet\n        if (this._finishedSpans.length >= this._maxExportBatchSize) {\n            return flush();\n        }\n        if (this._timer !== undefined)\n            return;\n        this._timer = setTimeout(function () { return flush(); }, this._scheduledDelayMillis);\n        unrefTimer(this._timer);\n    };\n    BatchSpanProcessorBase.prototype._clearTimer = function () {\n        if (this._timer !== undefined) {\n            clearTimeout(this._timer);\n            this._timer = undefined;\n        }\n    };\n    return BatchSpanProcessorBase;\n}());\nexport { BatchSpanProcessorBase };\n//# sourceMappingURL=BatchSpanProcessorBase.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { ExportResultCode, hrTimeToMicroseconds, } from '@opentelemetry/core';\n/**\n * This is implementation of {@link SpanExporter} that prints spans to the\n * console. This class can be used for diagnostic purposes.\n */\n/* eslint-disable no-console */\nvar ConsoleSpanExporter = /** @class */ (function () {\n    function ConsoleSpanExporter() {\n    }\n    /**\n     * Export spans.\n     * @param spans\n     * @param resultCallback\n     */\n    ConsoleSpanExporter.prototype.export = function (spans, resultCallback) {\n        return this._sendSpans(spans, resultCallback);\n    };\n    /**\n     * Shutdown the exporter.\n     */\n    ConsoleSpanExporter.prototype.shutdown = function () {\n        this._sendSpans([]);\n        return this.forceFlush();\n    };\n    /**\n     * Exports any pending spans in exporter\n     */\n    ConsoleSpanExporter.prototype.forceFlush = function () {\n        return Promise.resolve();\n    };\n    /**\n     * converts span info into more readable format\n     * @param span\n     */\n    ConsoleSpanExporter.prototype._exportInfo = function (span) {\n        var _a;\n        return {\n            resource: {\n                attributes: span.resource.attributes,\n            },\n            traceId: span.spanContext().traceId,\n            parentId: span.parentSpanId,\n            traceState: (_a = span.spanContext().traceState) === null || _a === void 0 ? void 0 : _a.serialize(),\n            name: span.name,\n            id: span.spanContext().spanId,\n            kind: span.kind,\n            timestamp: hrTimeToMicroseconds(span.startTime),\n            duration: hrTimeToMicroseconds(span.duration),\n            attributes: span.attributes,\n            status: span.status,\n            events: span.events,\n            links: span.links,\n        };\n    };\n    /**\n     * Showing spans in console\n     * @param spans\n     * @param done\n     */\n    ConsoleSpanExporter.prototype._sendSpans = function (spans, done) {\n        var e_1, _a;\n        try {\n            for (var spans_1 = __values(spans), spans_1_1 = spans_1.next(); !spans_1_1.done; spans_1_1 = spans_1.next()) {\n                var span = spans_1_1.value;\n                console.dir(this._exportInfo(span), { depth: 3 });\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (spans_1_1 && !spans_1_1.done && (_a = spans_1.return)) _a.call(spans_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (done) {\n            return done({ code: ExportResultCode.SUCCESS });\n        }\n    };\n    return ConsoleSpanExporter;\n}());\nexport { ConsoleSpanExporter };\n//# sourceMappingURL=ConsoleSpanExporter.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { ExportResultCode } from '@opentelemetry/core';\n/**\n * This class can be used for testing purposes. It stores the exported spans\n * in a list in memory that can be retrieved using the `getFinishedSpans()`\n * method.\n */\nvar InMemorySpanExporter = /** @class */ (function () {\n    function InMemorySpanExporter() {\n        this._finishedSpans = [];\n        /**\n         * Indicates if the exporter has been \"shutdown.\"\n         * When false, exported spans will not be stored in-memory.\n         */\n        this._stopped = false;\n    }\n    InMemorySpanExporter.prototype.export = function (spans, resultCallback) {\n        var _a;\n        if (this._stopped)\n            return resultCallback({\n                code: ExportResultCode.FAILED,\n                error: new Error('Exporter has been stopped'),\n            });\n        (_a = this._finishedSpans).push.apply(_a, __spreadArray([], __read(spans), false));\n        setTimeout(function () { return resultCallback({ code: ExportResultCode.SUCCESS }); }, 0);\n    };\n    InMemorySpanExporter.prototype.shutdown = function () {\n        this._stopped = true;\n        this._finishedSpans = [];\n        return this.forceFlush();\n    };\n    /**\n     * Exports any pending spans in the exporter\n     */\n    InMemorySpanExporter.prototype.forceFlush = function () {\n        return Promise.resolve();\n    };\n    InMemorySpanExporter.prototype.reset = function () {\n        this._finishedSpans = [];\n    };\n    InMemorySpanExporter.prototype.getFinishedSpans = function () {\n        return this._finishedSpans;\n    };\n    return InMemorySpanExporter;\n}());\nexport { InMemorySpanExporter };\n//# sourceMappingURL=InMemorySpanExporter.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { TraceFlags } from '@opentelemetry/api';\nimport { internal, ExportResultCode, globalErrorHandler, BindOnceFuture, } from '@opentelemetry/core';\n/**\n * An implementation of the {@link SpanProcessor} that converts the {@link Span}\n * to {@link ReadableSpan} and passes it to the configured exporter.\n *\n * Only spans that are sampled are converted.\n */\nvar SimpleSpanProcessor = /** @class */ (function () {\n    function SimpleSpanProcessor(_exporter) {\n        this._exporter = _exporter;\n        this._shutdownOnce = new BindOnceFuture(this._shutdown, this);\n        this._unresolvedExports = new Set();\n    }\n    SimpleSpanProcessor.prototype.forceFlush = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: \n                    // await unresolved resources before resolving\n                    return [4 /*yield*/, Promise.all(Array.from(this._unresolvedExports))];\n                    case 1:\n                        // await unresolved resources before resolving\n                        _a.sent();\n                        if (!this._exporter.forceFlush) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this._exporter.forceFlush()];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SimpleSpanProcessor.prototype.onStart = function (_span, _parentContext) { };\n    SimpleSpanProcessor.prototype.onEnd = function (span) {\n        var _this = this;\n        var _a, _b;\n        if (this._shutdownOnce.isCalled) {\n            return;\n        }\n        if ((span.spanContext().traceFlags & TraceFlags.SAMPLED) === 0) {\n            return;\n        }\n        var doExport = function () {\n            return internal\n                ._export(_this._exporter, [span])\n                .then(function (result) {\n                var _a;\n                if (result.code !== ExportResultCode.SUCCESS) {\n                    globalErrorHandler((_a = result.error) !== null && _a !== void 0 ? _a : new Error(\"SimpleSpanProcessor: span export failed (status \" + result + \")\"));\n                }\n            })\n                .catch(function (error) {\n                globalErrorHandler(error);\n            });\n        };\n        // Avoid scheduling a promise to make the behavior more predictable and easier to test\n        if (span.resource.asyncAttributesPending) {\n            var exportPromise_1 = (_b = (_a = span.resource).waitForAsyncAttributes) === null || _b === void 0 ? void 0 : _b.call(_a).then(function () {\n                if (exportPromise_1 != null) {\n                    _this._unresolvedExports.delete(exportPromise_1);\n                }\n                return doExport();\n            }, function (err) { return globalErrorHandler(err); });\n            // store the unresolved exports\n            if (exportPromise_1 != null) {\n                this._unresolvedExports.add(exportPromise_1);\n            }\n        }\n        else {\n            void doExport();\n        }\n    };\n    SimpleSpanProcessor.prototype.shutdown = function () {\n        return this._shutdownOnce.call();\n    };\n    SimpleSpanProcessor.prototype._shutdown = function () {\n        return this._exporter.shutdown();\n    };\n    return SimpleSpanProcessor;\n}());\nexport { SimpleSpanProcessor };\n//# sourceMappingURL=SimpleSpanProcessor.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Creates a const map from the given values\n * @param values - An array of values to be used as keys and values in the map.\n * @returns A populated version of the map with the values and keys derived from the values.\n */\n/*#__NO_SIDE_EFFECTS__*/\nexport function createConstMap(values) {\n    // eslint-disable-next-line prefer-const, @typescript-eslint/no-explicit-any\n    var res = {};\n    var len = values.length;\n    for (var lp = 0; lp < len; lp++) {\n        var val = values[lp];\n        if (val) {\n            res[String(val).toUpperCase().replace(/[-.]/g, '_')] = val;\n        }\n    }\n    return res;\n}\n//# sourceMappingURL=utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createConstMap } from '../internal/utils';\n//----------------------------------------------------------------------------------------------------------\n// DO NOT EDIT, this is an Auto-generated file from scripts/semconv/templates//templates/SemanticAttributes.ts.j2\n//----------------------------------------------------------------------------------------------------------\n//----------------------------------------------------------------------------------------------------------\n// Constant values for SemanticResourceAttributes\n//----------------------------------------------------------------------------------------------------------\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_CLOUD_PROVIDER = 'cloud.provider';\nvar TMP_CLOUD_ACCOUNT_ID = 'cloud.account.id';\nvar TMP_CLOUD_REGION = 'cloud.region';\nvar TMP_CLOUD_AVAILABILITY_ZONE = 'cloud.availability_zone';\nvar TMP_CLOUD_PLATFORM = 'cloud.platform';\nvar TMP_AWS_ECS_CONTAINER_ARN = 'aws.ecs.container.arn';\nvar TMP_AWS_ECS_CLUSTER_ARN = 'aws.ecs.cluster.arn';\nvar TMP_AWS_ECS_LAUNCHTYPE = 'aws.ecs.launchtype';\nvar TMP_AWS_ECS_TASK_ARN = 'aws.ecs.task.arn';\nvar TMP_AWS_ECS_TASK_FAMILY = 'aws.ecs.task.family';\nvar TMP_AWS_ECS_TASK_REVISION = 'aws.ecs.task.revision';\nvar TMP_AWS_EKS_CLUSTER_ARN = 'aws.eks.cluster.arn';\nvar TMP_AWS_LOG_GROUP_NAMES = 'aws.log.group.names';\nvar TMP_AWS_LOG_GROUP_ARNS = 'aws.log.group.arns';\nvar TMP_AWS_LOG_STREAM_NAMES = 'aws.log.stream.names';\nvar TMP_AWS_LOG_STREAM_ARNS = 'aws.log.stream.arns';\nvar TMP_CONTAINER_NAME = 'container.name';\nvar TMP_CONTAINER_ID = 'container.id';\nvar TMP_CONTAINER_RUNTIME = 'container.runtime';\nvar TMP_CONTAINER_IMAGE_NAME = 'container.image.name';\nvar TMP_CONTAINER_IMAGE_TAG = 'container.image.tag';\nvar TMP_DEPLOYMENT_ENVIRONMENT = 'deployment.environment';\nvar TMP_DEVICE_ID = 'device.id';\nvar TMP_DEVICE_MODEL_IDENTIFIER = 'device.model.identifier';\nvar TMP_DEVICE_MODEL_NAME = 'device.model.name';\nvar TMP_FAAS_NAME = 'faas.name';\nvar TMP_FAAS_ID = 'faas.id';\nvar TMP_FAAS_VERSION = 'faas.version';\nvar TMP_FAAS_INSTANCE = 'faas.instance';\nvar TMP_FAAS_MAX_MEMORY = 'faas.max_memory';\nvar TMP_HOST_ID = 'host.id';\nvar TMP_HOST_NAME = 'host.name';\nvar TMP_HOST_TYPE = 'host.type';\nvar TMP_HOST_ARCH = 'host.arch';\nvar TMP_HOST_IMAGE_NAME = 'host.image.name';\nvar TMP_HOST_IMAGE_ID = 'host.image.id';\nvar TMP_HOST_IMAGE_VERSION = 'host.image.version';\nvar TMP_K8S_CLUSTER_NAME = 'k8s.cluster.name';\nvar TMP_K8S_NODE_NAME = 'k8s.node.name';\nvar TMP_K8S_NODE_UID = 'k8s.node.uid';\nvar TMP_K8S_NAMESPACE_NAME = 'k8s.namespace.name';\nvar TMP_K8S_POD_UID = 'k8s.pod.uid';\nvar TMP_K8S_POD_NAME = 'k8s.pod.name';\nvar TMP_K8S_CONTAINER_NAME = 'k8s.container.name';\nvar TMP_K8S_REPLICASET_UID = 'k8s.replicaset.uid';\nvar TMP_K8S_REPLICASET_NAME = 'k8s.replicaset.name';\nvar TMP_K8S_DEPLOYMENT_UID = 'k8s.deployment.uid';\nvar TMP_K8S_DEPLOYMENT_NAME = 'k8s.deployment.name';\nvar TMP_K8S_STATEFULSET_UID = 'k8s.statefulset.uid';\nvar TMP_K8S_STATEFULSET_NAME = 'k8s.statefulset.name';\nvar TMP_K8S_DAEMONSET_UID = 'k8s.daemonset.uid';\nvar TMP_K8S_DAEMONSET_NAME = 'k8s.daemonset.name';\nvar TMP_K8S_JOB_UID = 'k8s.job.uid';\nvar TMP_K8S_JOB_NAME = 'k8s.job.name';\nvar TMP_K8S_CRONJOB_UID = 'k8s.cronjob.uid';\nvar TMP_K8S_CRONJOB_NAME = 'k8s.cronjob.name';\nvar TMP_OS_TYPE = 'os.type';\nvar TMP_OS_DESCRIPTION = 'os.description';\nvar TMP_OS_NAME = 'os.name';\nvar TMP_OS_VERSION = 'os.version';\nvar TMP_PROCESS_PID = 'process.pid';\nvar TMP_PROCESS_EXECUTABLE_NAME = 'process.executable.name';\nvar TMP_PROCESS_EXECUTABLE_PATH = 'process.executable.path';\nvar TMP_PROCESS_COMMAND = 'process.command';\nvar TMP_PROCESS_COMMAND_LINE = 'process.command_line';\nvar TMP_PROCESS_COMMAND_ARGS = 'process.command_args';\nvar TMP_PROCESS_OWNER = 'process.owner';\nvar TMP_PROCESS_RUNTIME_NAME = 'process.runtime.name';\nvar TMP_PROCESS_RUNTIME_VERSION = 'process.runtime.version';\nvar TMP_PROCESS_RUNTIME_DESCRIPTION = 'process.runtime.description';\nvar TMP_SERVICE_NAME = 'service.name';\nvar TMP_SERVICE_NAMESPACE = 'service.namespace';\nvar TMP_SERVICE_INSTANCE_ID = 'service.instance.id';\nvar TMP_SERVICE_VERSION = 'service.version';\nvar TMP_TELEMETRY_SDK_NAME = 'telemetry.sdk.name';\nvar TMP_TELEMETRY_SDK_LANGUAGE = 'telemetry.sdk.language';\nvar TMP_TELEMETRY_SDK_VERSION = 'telemetry.sdk.version';\nvar TMP_TELEMETRY_AUTO_VERSION = 'telemetry.auto.version';\nvar TMP_WEBENGINE_NAME = 'webengine.name';\nvar TMP_WEBENGINE_VERSION = 'webengine.version';\nvar TMP_WEBENGINE_DESCRIPTION = 'webengine.description';\n/**\n * Name of the cloud provider.\n */\nexport var SEMRESATTRS_CLOUD_PROVIDER = TMP_CLOUD_PROVIDER;\n/**\n * The cloud account ID the resource is assigned to.\n */\nexport var SEMRESATTRS_CLOUD_ACCOUNT_ID = TMP_CLOUD_ACCOUNT_ID;\n/**\n * The geographical region the resource is running. Refer to your provider&#39;s docs to see the available regions, for example [Alibaba Cloud regions](https://www.alibabacloud.com/help/doc-detail/40654.htm), [AWS regions](https://aws.amazon.com/about-aws/global-infrastructure/regions_az/), [Azure regions](https://azure.microsoft.com/en-us/global-infrastructure/geographies/), or [Google Cloud regions](https://cloud.google.com/about/locations).\n */\nexport var SEMRESATTRS_CLOUD_REGION = TMP_CLOUD_REGION;\n/**\n * Cloud regions often have multiple, isolated locations known as zones to increase availability. Availability zone represents the zone where the resource is running.\n *\n * Note: Availability zones are called &#34;zones&#34; on Alibaba Cloud and Google Cloud.\n */\nexport var SEMRESATTRS_CLOUD_AVAILABILITY_ZONE = TMP_CLOUD_AVAILABILITY_ZONE;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var SEMRESATTRS_CLOUD_PLATFORM = TMP_CLOUD_PLATFORM;\n/**\n * The Amazon Resource Name (ARN) of an [ECS container instance](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ECS_instances.html).\n */\nexport var SEMRESATTRS_AWS_ECS_CONTAINER_ARN = TMP_AWS_ECS_CONTAINER_ARN;\n/**\n * The ARN of an [ECS cluster](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/clusters.html).\n */\nexport var SEMRESATTRS_AWS_ECS_CLUSTER_ARN = TMP_AWS_ECS_CLUSTER_ARN;\n/**\n * The [launch type](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/launch_types.html) for an ECS task.\n */\nexport var SEMRESATTRS_AWS_ECS_LAUNCHTYPE = TMP_AWS_ECS_LAUNCHTYPE;\n/**\n * The ARN of an [ECS task definition](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task_definitions.html).\n */\nexport var SEMRESATTRS_AWS_ECS_TASK_ARN = TMP_AWS_ECS_TASK_ARN;\n/**\n * The task definition family this task definition is a member of.\n */\nexport var SEMRESATTRS_AWS_ECS_TASK_FAMILY = TMP_AWS_ECS_TASK_FAMILY;\n/**\n * The revision for this task definition.\n */\nexport var SEMRESATTRS_AWS_ECS_TASK_REVISION = TMP_AWS_ECS_TASK_REVISION;\n/**\n * The ARN of an EKS cluster.\n */\nexport var SEMRESATTRS_AWS_EKS_CLUSTER_ARN = TMP_AWS_EKS_CLUSTER_ARN;\n/**\n * The name(s) of the AWS log group(s) an application is writing to.\n *\n * Note: Multiple log groups must be supported for cases like multi-container applications, where a single application has sidecar containers, and each write to their own log group.\n */\nexport var SEMRESATTRS_AWS_LOG_GROUP_NAMES = TMP_AWS_LOG_GROUP_NAMES;\n/**\n * The Amazon Resource Name(s) (ARN) of the AWS log group(s).\n *\n * Note: See the [log group ARN format documentation](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/iam-access-control-overview-cwl.html#CWL_ARN_Format).\n */\nexport var SEMRESATTRS_AWS_LOG_GROUP_ARNS = TMP_AWS_LOG_GROUP_ARNS;\n/**\n * The name(s) of the AWS log stream(s) an application is writing to.\n */\nexport var SEMRESATTRS_AWS_LOG_STREAM_NAMES = TMP_AWS_LOG_STREAM_NAMES;\n/**\n * The ARN(s) of the AWS log stream(s).\n *\n * Note: See the [log stream ARN format documentation](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/iam-access-control-overview-cwl.html#CWL_ARN_Format). One log group can contain several log streams, so these ARNs necessarily identify both a log group and a log stream.\n */\nexport var SEMRESATTRS_AWS_LOG_STREAM_ARNS = TMP_AWS_LOG_STREAM_ARNS;\n/**\n * Container name.\n */\nexport var SEMRESATTRS_CONTAINER_NAME = TMP_CONTAINER_NAME;\n/**\n * Container ID. Usually a UUID, as for example used to [identify Docker containers](https://docs.docker.com/engine/reference/run/#container-identification). The UUID might be abbreviated.\n */\nexport var SEMRESATTRS_CONTAINER_ID = TMP_CONTAINER_ID;\n/**\n * The container runtime managing this container.\n */\nexport var SEMRESATTRS_CONTAINER_RUNTIME = TMP_CONTAINER_RUNTIME;\n/**\n * Name of the image the container was built on.\n */\nexport var SEMRESATTRS_CONTAINER_IMAGE_NAME = TMP_CONTAINER_IMAGE_NAME;\n/**\n * Container image tag.\n */\nexport var SEMRESATTRS_CONTAINER_IMAGE_TAG = TMP_CONTAINER_IMAGE_TAG;\n/**\n * Name of the [deployment environment](https://en.wikipedia.org/wiki/Deployment_environment) (aka deployment tier).\n */\nexport var SEMRESATTRS_DEPLOYMENT_ENVIRONMENT = TMP_DEPLOYMENT_ENVIRONMENT;\n/**\n * A unique identifier representing the device.\n *\n * Note: The device identifier MUST only be defined using the values outlined below. This value is not an advertising identifier and MUST NOT be used as such. On iOS (Swift or Objective-C), this value MUST be equal to the [vendor identifier](https://developer.apple.com/documentation/uikit/uidevice/1620059-identifierforvendor). On Android (Java or Kotlin), this value MUST be equal to the Firebase Installation ID or a globally unique UUID which is persisted across sessions in your application. More information can be found [here](https://developer.android.com/training/articles/user-data-ids) on best practices and exact implementation details. Caution should be taken when storing personal data or anything which can identify a user. GDPR and data protection laws may apply, ensure you do your own due diligence.\n */\nexport var SEMRESATTRS_DEVICE_ID = TMP_DEVICE_ID;\n/**\n * The model identifier for the device.\n *\n * Note: It&#39;s recommended this value represents a machine readable version of the model identifier rather than the market or consumer-friendly name of the device.\n */\nexport var SEMRESATTRS_DEVICE_MODEL_IDENTIFIER = TMP_DEVICE_MODEL_IDENTIFIER;\n/**\n * The marketing name for the device model.\n *\n * Note: It&#39;s recommended this value represents a human readable version of the device model rather than a machine readable alternative.\n */\nexport var SEMRESATTRS_DEVICE_MODEL_NAME = TMP_DEVICE_MODEL_NAME;\n/**\n * The name of the single function that this runtime instance executes.\n *\n * Note: This is the name of the function as configured/deployed on the FaaS platform and is usually different from the name of the callback function (which may be stored in the [`code.namespace`/`code.function`](../../trace/semantic_conventions/span-general.md#source-code-attributes) span attributes).\n */\nexport var SEMRESATTRS_FAAS_NAME = TMP_FAAS_NAME;\n/**\n* The unique ID of the single function that this runtime instance executes.\n*\n* Note: Depending on the cloud provider, use:\n\n* **AWS Lambda:** The function [ARN](https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html).\nTake care not to use the &#34;invoked ARN&#34; directly but replace any\n[alias suffix](https://docs.aws.amazon.com/lambda/latest/dg/configuration-aliases.html) with the resolved function version, as the same runtime instance may be invokable with multiple\ndifferent aliases.\n* **GCP:** The [URI of the resource](https://cloud.google.com/iam/docs/full-resource-names)\n* **Azure:** The [Fully Qualified Resource ID](https://docs.microsoft.com/en-us/rest/api/resources/resources/get-by-id).\n\nOn some providers, it may not be possible to determine the full ID at startup,\nwhich is why this field cannot be made required. For example, on AWS the account ID\npart of the ARN is not available without calling another AWS API\nwhich may be deemed too slow for a short-running lambda function.\nAs an alternative, consider setting `faas.id` as a span attribute instead.\n*/\nexport var SEMRESATTRS_FAAS_ID = TMP_FAAS_ID;\n/**\n* The immutable version of the function being executed.\n*\n* Note: Depending on the cloud provider and platform, use:\n\n* **AWS Lambda:** The [function version](https://docs.aws.amazon.com/lambda/latest/dg/configuration-versions.html)\n  (an integer represented as a decimal string).\n* **Google Cloud Run:** The [revision](https://cloud.google.com/run/docs/managing/revisions)\n  (i.e., the function name plus the revision suffix).\n* **Google Cloud Functions:** The value of the\n  [`K_REVISION` environment variable](https://cloud.google.com/functions/docs/env-var#runtime_environment_variables_set_automatically).\n* **Azure Functions:** Not applicable. Do not set this attribute.\n*/\nexport var SEMRESATTRS_FAAS_VERSION = TMP_FAAS_VERSION;\n/**\n * The execution environment ID as a string, that will be potentially reused for other invocations to the same function/function version.\n *\n * Note: * **AWS Lambda:** Use the (full) log stream name.\n */\nexport var SEMRESATTRS_FAAS_INSTANCE = TMP_FAAS_INSTANCE;\n/**\n * The amount of memory available to the serverless function in MiB.\n *\n * Note: It&#39;s recommended to set this attribute since e.g. too little memory can easily stop a Java AWS Lambda function from working correctly. On AWS Lambda, the environment variable `AWS_LAMBDA_FUNCTION_MEMORY_SIZE` provides this information.\n */\nexport var SEMRESATTRS_FAAS_MAX_MEMORY = TMP_FAAS_MAX_MEMORY;\n/**\n * Unique host ID. For Cloud, this must be the instance_id assigned by the cloud provider.\n */\nexport var SEMRESATTRS_HOST_ID = TMP_HOST_ID;\n/**\n * Name of the host. On Unix systems, it may contain what the hostname command returns, or the fully qualified hostname, or another name specified by the user.\n */\nexport var SEMRESATTRS_HOST_NAME = TMP_HOST_NAME;\n/**\n * Type of host. For Cloud, this must be the machine type.\n */\nexport var SEMRESATTRS_HOST_TYPE = TMP_HOST_TYPE;\n/**\n * The CPU architecture the host system is running on.\n */\nexport var SEMRESATTRS_HOST_ARCH = TMP_HOST_ARCH;\n/**\n * Name of the VM image or OS install the host was instantiated from.\n */\nexport var SEMRESATTRS_HOST_IMAGE_NAME = TMP_HOST_IMAGE_NAME;\n/**\n * VM image ID. For Cloud, this value is from the provider.\n */\nexport var SEMRESATTRS_HOST_IMAGE_ID = TMP_HOST_IMAGE_ID;\n/**\n * The version string of the VM image as defined in [Version Attributes](README.md#version-attributes).\n */\nexport var SEMRESATTRS_HOST_IMAGE_VERSION = TMP_HOST_IMAGE_VERSION;\n/**\n * The name of the cluster.\n */\nexport var SEMRESATTRS_K8S_CLUSTER_NAME = TMP_K8S_CLUSTER_NAME;\n/**\n * The name of the Node.\n */\nexport var SEMRESATTRS_K8S_NODE_NAME = TMP_K8S_NODE_NAME;\n/**\n * The UID of the Node.\n */\nexport var SEMRESATTRS_K8S_NODE_UID = TMP_K8S_NODE_UID;\n/**\n * The name of the namespace that the pod is running in.\n */\nexport var SEMRESATTRS_K8S_NAMESPACE_NAME = TMP_K8S_NAMESPACE_NAME;\n/**\n * The UID of the Pod.\n */\nexport var SEMRESATTRS_K8S_POD_UID = TMP_K8S_POD_UID;\n/**\n * The name of the Pod.\n */\nexport var SEMRESATTRS_K8S_POD_NAME = TMP_K8S_POD_NAME;\n/**\n * The name of the Container in a Pod template.\n */\nexport var SEMRESATTRS_K8S_CONTAINER_NAME = TMP_K8S_CONTAINER_NAME;\n/**\n * The UID of the ReplicaSet.\n */\nexport var SEMRESATTRS_K8S_REPLICASET_UID = TMP_K8S_REPLICASET_UID;\n/**\n * The name of the ReplicaSet.\n */\nexport var SEMRESATTRS_K8S_REPLICASET_NAME = TMP_K8S_REPLICASET_NAME;\n/**\n * The UID of the Deployment.\n */\nexport var SEMRESATTRS_K8S_DEPLOYMENT_UID = TMP_K8S_DEPLOYMENT_UID;\n/**\n * The name of the Deployment.\n */\nexport var SEMRESATTRS_K8S_DEPLOYMENT_NAME = TMP_K8S_DEPLOYMENT_NAME;\n/**\n * The UID of the StatefulSet.\n */\nexport var SEMRESATTRS_K8S_STATEFULSET_UID = TMP_K8S_STATEFULSET_UID;\n/**\n * The name of the StatefulSet.\n */\nexport var SEMRESATTRS_K8S_STATEFULSET_NAME = TMP_K8S_STATEFULSET_NAME;\n/**\n * The UID of the DaemonSet.\n */\nexport var SEMRESATTRS_K8S_DAEMONSET_UID = TMP_K8S_DAEMONSET_UID;\n/**\n * The name of the DaemonSet.\n */\nexport var SEMRESATTRS_K8S_DAEMONSET_NAME = TMP_K8S_DAEMONSET_NAME;\n/**\n * The UID of the Job.\n */\nexport var SEMRESATTRS_K8S_JOB_UID = TMP_K8S_JOB_UID;\n/**\n * The name of the Job.\n */\nexport var SEMRESATTRS_K8S_JOB_NAME = TMP_K8S_JOB_NAME;\n/**\n * The UID of the CronJob.\n */\nexport var SEMRESATTRS_K8S_CRONJOB_UID = TMP_K8S_CRONJOB_UID;\n/**\n * The name of the CronJob.\n */\nexport var SEMRESATTRS_K8S_CRONJOB_NAME = TMP_K8S_CRONJOB_NAME;\n/**\n * The operating system type.\n */\nexport var SEMRESATTRS_OS_TYPE = TMP_OS_TYPE;\n/**\n * Human readable (not intended to be parsed) OS version information, like e.g. reported by `ver` or `lsb_release -a` commands.\n */\nexport var SEMRESATTRS_OS_DESCRIPTION = TMP_OS_DESCRIPTION;\n/**\n * Human readable operating system name.\n */\nexport var SEMRESATTRS_OS_NAME = TMP_OS_NAME;\n/**\n * The version string of the operating system as defined in [Version Attributes](../../resource/semantic_conventions/README.md#version-attributes).\n */\nexport var SEMRESATTRS_OS_VERSION = TMP_OS_VERSION;\n/**\n * Process identifier (PID).\n */\nexport var SEMRESATTRS_PROCESS_PID = TMP_PROCESS_PID;\n/**\n * The name of the process executable. On Linux based systems, can be set to the `Name` in `proc/[pid]/status`. On Windows, can be set to the base name of `GetProcessImageFileNameW`.\n */\nexport var SEMRESATTRS_PROCESS_EXECUTABLE_NAME = TMP_PROCESS_EXECUTABLE_NAME;\n/**\n * The full path to the process executable. On Linux based systems, can be set to the target of `proc/[pid]/exe`. On Windows, can be set to the result of `GetProcessImageFileNameW`.\n */\nexport var SEMRESATTRS_PROCESS_EXECUTABLE_PATH = TMP_PROCESS_EXECUTABLE_PATH;\n/**\n * The command used to launch the process (i.e. the command name). On Linux based systems, can be set to the zeroth string in `proc/[pid]/cmdline`. On Windows, can be set to the first parameter extracted from `GetCommandLineW`.\n */\nexport var SEMRESATTRS_PROCESS_COMMAND = TMP_PROCESS_COMMAND;\n/**\n * The full command used to launch the process as a single string representing the full command. On Windows, can be set to the result of `GetCommandLineW`. Do not set this if you have to assemble it just for monitoring; use `process.command_args` instead.\n */\nexport var SEMRESATTRS_PROCESS_COMMAND_LINE = TMP_PROCESS_COMMAND_LINE;\n/**\n * All the command arguments (including the command/executable itself) as received by the process. On Linux-based systems (and some other Unixoid systems supporting procfs), can be set according to the list of null-delimited strings extracted from `proc/[pid]/cmdline`. For libc-based executables, this would be the full argv vector passed to `main`.\n */\nexport var SEMRESATTRS_PROCESS_COMMAND_ARGS = TMP_PROCESS_COMMAND_ARGS;\n/**\n * The username of the user that owns the process.\n */\nexport var SEMRESATTRS_PROCESS_OWNER = TMP_PROCESS_OWNER;\n/**\n * The name of the runtime of this process. For compiled native binaries, this SHOULD be the name of the compiler.\n */\nexport var SEMRESATTRS_PROCESS_RUNTIME_NAME = TMP_PROCESS_RUNTIME_NAME;\n/**\n * The version of the runtime of this process, as returned by the runtime without modification.\n */\nexport var SEMRESATTRS_PROCESS_RUNTIME_VERSION = TMP_PROCESS_RUNTIME_VERSION;\n/**\n * An additional description about the runtime of the process, for example a specific vendor customization of the runtime environment.\n */\nexport var SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION = TMP_PROCESS_RUNTIME_DESCRIPTION;\n/**\n * Logical name of the service.\n *\n * Note: MUST be the same for all instances of horizontally scaled services. If the value was not specified, SDKs MUST fallback to `unknown_service:` concatenated with [`process.executable.name`](process.md#process), e.g. `unknown_service:bash`. If `process.executable.name` is not available, the value MUST be set to `unknown_service`.\n */\nexport var SEMRESATTRS_SERVICE_NAME = TMP_SERVICE_NAME;\n/**\n * A namespace for `service.name`.\n *\n * Note: A string value having a meaning that helps to distinguish a group of services, for example the team name that owns a group of services. `service.name` is expected to be unique within the same namespace. If `service.namespace` is not specified in the Resource then `service.name` is expected to be unique for all services that have no explicit namespace defined (so the empty/unspecified namespace is simply one more valid namespace). Zero-length namespace string is assumed equal to unspecified namespace.\n */\nexport var SEMRESATTRS_SERVICE_NAMESPACE = TMP_SERVICE_NAMESPACE;\n/**\n * The string ID of the service instance.\n *\n * Note: MUST be unique for each instance of the same `service.namespace,service.name` pair (in other words `service.namespace,service.name,service.instance.id` triplet MUST be globally unique). The ID helps to distinguish instances of the same service that exist at the same time (e.g. instances of a horizontally scaled service). It is preferable for the ID to be persistent and stay the same for the lifetime of the service instance, however it is acceptable that the ID is ephemeral and changes during important lifetime events for the service (e.g. service restarts). If the service has no inherent unique ID that can be used as the value of this attribute it is recommended to generate a random Version 1 or Version 4 RFC 4122 UUID (services aiming for reproducible UUIDs may also use Version 5, see RFC 4122 for more recommendations).\n */\nexport var SEMRESATTRS_SERVICE_INSTANCE_ID = TMP_SERVICE_INSTANCE_ID;\n/**\n * The version string of the service API or implementation.\n */\nexport var SEMRESATTRS_SERVICE_VERSION = TMP_SERVICE_VERSION;\n/**\n * The name of the telemetry SDK as defined above.\n */\nexport var SEMRESATTRS_TELEMETRY_SDK_NAME = TMP_TELEMETRY_SDK_NAME;\n/**\n * The language of the telemetry SDK.\n */\nexport var SEMRESATTRS_TELEMETRY_SDK_LANGUAGE = TMP_TELEMETRY_SDK_LANGUAGE;\n/**\n * The version string of the telemetry SDK.\n */\nexport var SEMRESATTRS_TELEMETRY_SDK_VERSION = TMP_TELEMETRY_SDK_VERSION;\n/**\n * The version string of the auto instrumentation agent, if used.\n */\nexport var SEMRESATTRS_TELEMETRY_AUTO_VERSION = TMP_TELEMETRY_AUTO_VERSION;\n/**\n * The name of the web engine.\n */\nexport var SEMRESATTRS_WEBENGINE_NAME = TMP_WEBENGINE_NAME;\n/**\n * The version of the web engine.\n */\nexport var SEMRESATTRS_WEBENGINE_VERSION = TMP_WEBENGINE_VERSION;\n/**\n * Additional description of the web engine (e.g. detailed version and edition information).\n */\nexport var SEMRESATTRS_WEBENGINE_DESCRIPTION = TMP_WEBENGINE_DESCRIPTION;\n/**\n * Create exported Value Map for SemanticResourceAttributes values\n * @deprecated Use the SEMRESATTRS_XXXXX constants rather than the SemanticResourceAttributes.XXXXX for bundle minification\n */\nexport var SemanticResourceAttributes = \n/*#__PURE__*/ createConstMap([\n    TMP_CLOUD_PROVIDER,\n    TMP_CLOUD_ACCOUNT_ID,\n    TMP_CLOUD_REGION,\n    TMP_CLOUD_AVAILABILITY_ZONE,\n    TMP_CLOUD_PLATFORM,\n    TMP_AWS_ECS_CONTAINER_ARN,\n    TMP_AWS_ECS_CLUSTER_ARN,\n    TMP_AWS_ECS_LAUNCHTYPE,\n    TMP_AWS_ECS_TASK_ARN,\n    TMP_AWS_ECS_TASK_FAMILY,\n    TMP_AWS_ECS_TASK_REVISION,\n    TMP_AWS_EKS_CLUSTER_ARN,\n    TMP_AWS_LOG_GROUP_NAMES,\n    TMP_AWS_LOG_GROUP_ARNS,\n    TMP_AWS_LOG_STREAM_NAMES,\n    TMP_AWS_LOG_STREAM_ARNS,\n    TMP_CONTAINER_NAME,\n    TMP_CONTAINER_ID,\n    TMP_CONTAINER_RUNTIME,\n    TMP_CONTAINER_IMAGE_NAME,\n    TMP_CONTAINER_IMAGE_TAG,\n    TMP_DEPLOYMENT_ENVIRONMENT,\n    TMP_DEVICE_ID,\n    TMP_DEVICE_MODEL_IDENTIFIER,\n    TMP_DEVICE_MODEL_NAME,\n    TMP_FAAS_NAME,\n    TMP_FAAS_ID,\n    TMP_FAAS_VERSION,\n    TMP_FAAS_INSTANCE,\n    TMP_FAAS_MAX_MEMORY,\n    TMP_HOST_ID,\n    TMP_HOST_NAME,\n    TMP_HOST_TYPE,\n    TMP_HOST_ARCH,\n    TMP_HOST_IMAGE_NAME,\n    TMP_HOST_IMAGE_ID,\n    TMP_HOST_IMAGE_VERSION,\n    TMP_K8S_CLUSTER_NAME,\n    TMP_K8S_NODE_NAME,\n    TMP_K8S_NODE_UID,\n    TMP_K8S_NAMESPACE_NAME,\n    TMP_K8S_POD_UID,\n    TMP_K8S_POD_NAME,\n    TMP_K8S_CONTAINER_NAME,\n    TMP_K8S_REPLICASET_UID,\n    TMP_K8S_REPLICASET_NAME,\n    TMP_K8S_DEPLOYMENT_UID,\n    TMP_K8S_DEPLOYMENT_NAME,\n    TMP_K8S_STATEFULSET_UID,\n    TMP_K8S_STATEFULSET_NAME,\n    TMP_K8S_DAEMONSET_UID,\n    TMP_K8S_DAEMONSET_NAME,\n    TMP_K8S_JOB_UID,\n    TMP_K8S_JOB_NAME,\n    TMP_K8S_CRONJOB_UID,\n    TMP_K8S_CRONJOB_NAME,\n    TMP_OS_TYPE,\n    TMP_OS_DESCRIPTION,\n    TMP_OS_NAME,\n    TMP_OS_VERSION,\n    TMP_PROCESS_PID,\n    TMP_PROCESS_EXECUTABLE_NAME,\n    TMP_PROCESS_EXECUTABLE_PATH,\n    TMP_PROCESS_COMMAND,\n    TMP_PROCESS_COMMAND_LINE,\n    TMP_PROCESS_COMMAND_ARGS,\n    TMP_PROCESS_OWNER,\n    TMP_PROCESS_RUNTIME_NAME,\n    TMP_PROCESS_RUNTIME_VERSION,\n    TMP_PROCESS_RUNTIME_DESCRIPTION,\n    TMP_SERVICE_NAME,\n    TMP_SERVICE_NAMESPACE,\n    TMP_SERVICE_INSTANCE_ID,\n    TMP_SERVICE_VERSION,\n    TMP_TELEMETRY_SDK_NAME,\n    TMP_TELEMETRY_SDK_LANGUAGE,\n    TMP_TELEMETRY_SDK_VERSION,\n    TMP_TELEMETRY_AUTO_VERSION,\n    TMP_WEBENGINE_NAME,\n    TMP_WEBENGINE_VERSION,\n    TMP_WEBENGINE_DESCRIPTION,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for CloudProviderValues enum definition\n *\n * Name of the cloud provider.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_CLOUDPROVIDERVALUES_ALIBABA_CLOUD = 'alibaba_cloud';\nvar TMP_CLOUDPROVIDERVALUES_AWS = 'aws';\nvar TMP_CLOUDPROVIDERVALUES_AZURE = 'azure';\nvar TMP_CLOUDPROVIDERVALUES_GCP = 'gcp';\n/**\n * Name of the cloud provider.\n */\nexport var CLOUDPROVIDERVALUES_ALIBABA_CLOUD = TMP_CLOUDPROVIDERVALUES_ALIBABA_CLOUD;\n/**\n * Name of the cloud provider.\n */\nexport var CLOUDPROVIDERVALUES_AWS = TMP_CLOUDPROVIDERVALUES_AWS;\n/**\n * Name of the cloud provider.\n */\nexport var CLOUDPROVIDERVALUES_AZURE = TMP_CLOUDPROVIDERVALUES_AZURE;\n/**\n * Name of the cloud provider.\n */\nexport var CLOUDPROVIDERVALUES_GCP = TMP_CLOUDPROVIDERVALUES_GCP;\n/**\n * The constant map of values for CloudProviderValues.\n * @deprecated Use the CLOUDPROVIDERVALUES_XXXXX constants rather than the CloudProviderValues.XXXXX for bundle minification.\n */\nexport var CloudProviderValues = \n/*#__PURE__*/ createConstMap([\n    TMP_CLOUDPROVIDERVALUES_ALIBABA_CLOUD,\n    TMP_CLOUDPROVIDERVALUES_AWS,\n    TMP_CLOUDPROVIDERVALUES_AZURE,\n    TMP_CLOUDPROVIDERVALUES_GCP,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for CloudPlatformValues enum definition\n *\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS = 'alibaba_cloud_ecs';\nvar TMP_CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC = 'alibaba_cloud_fc';\nvar TMP_CLOUDPLATFORMVALUES_AWS_EC2 = 'aws_ec2';\nvar TMP_CLOUDPLATFORMVALUES_AWS_ECS = 'aws_ecs';\nvar TMP_CLOUDPLATFORMVALUES_AWS_EKS = 'aws_eks';\nvar TMP_CLOUDPLATFORMVALUES_AWS_LAMBDA = 'aws_lambda';\nvar TMP_CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK = 'aws_elastic_beanstalk';\nvar TMP_CLOUDPLATFORMVALUES_AZURE_VM = 'azure_vm';\nvar TMP_CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES = 'azure_container_instances';\nvar TMP_CLOUDPLATFORMVALUES_AZURE_AKS = 'azure_aks';\nvar TMP_CLOUDPLATFORMVALUES_AZURE_FUNCTIONS = 'azure_functions';\nvar TMP_CLOUDPLATFORMVALUES_AZURE_APP_SERVICE = 'azure_app_service';\nvar TMP_CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE = 'gcp_compute_engine';\nvar TMP_CLOUDPLATFORMVALUES_GCP_CLOUD_RUN = 'gcp_cloud_run';\nvar TMP_CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE = 'gcp_kubernetes_engine';\nvar TMP_CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS = 'gcp_cloud_functions';\nvar TMP_CLOUDPLATFORMVALUES_GCP_APP_ENGINE = 'gcp_app_engine';\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS = TMP_CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC = TMP_CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AWS_EC2 = TMP_CLOUDPLATFORMVALUES_AWS_EC2;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AWS_ECS = TMP_CLOUDPLATFORMVALUES_AWS_ECS;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AWS_EKS = TMP_CLOUDPLATFORMVALUES_AWS_EKS;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AWS_LAMBDA = TMP_CLOUDPLATFORMVALUES_AWS_LAMBDA;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK = TMP_CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AZURE_VM = TMP_CLOUDPLATFORMVALUES_AZURE_VM;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES = TMP_CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AZURE_AKS = TMP_CLOUDPLATFORMVALUES_AZURE_AKS;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AZURE_FUNCTIONS = TMP_CLOUDPLATFORMVALUES_AZURE_FUNCTIONS;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_AZURE_APP_SERVICE = TMP_CLOUDPLATFORMVALUES_AZURE_APP_SERVICE;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE = TMP_CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_GCP_CLOUD_RUN = TMP_CLOUDPLATFORMVALUES_GCP_CLOUD_RUN;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE = TMP_CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS = TMP_CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS;\n/**\n * The cloud platform in use.\n *\n * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n */\nexport var CLOUDPLATFORMVALUES_GCP_APP_ENGINE = TMP_CLOUDPLATFORMVALUES_GCP_APP_ENGINE;\n/**\n * The constant map of values for CloudPlatformValues.\n * @deprecated Use the CLOUDPLATFORMVALUES_XXXXX constants rather than the CloudPlatformValues.XXXXX for bundle minification.\n */\nexport var CloudPlatformValues = \n/*#__PURE__*/ createConstMap([\n    TMP_CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS,\n    TMP_CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC,\n    TMP_CLOUDPLATFORMVALUES_AWS_EC2,\n    TMP_CLOUDPLATFORMVALUES_AWS_ECS,\n    TMP_CLOUDPLATFORMVALUES_AWS_EKS,\n    TMP_CLOUDPLATFORMVALUES_AWS_LAMBDA,\n    TMP_CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK,\n    TMP_CLOUDPLATFORMVALUES_AZURE_VM,\n    TMP_CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES,\n    TMP_CLOUDPLATFORMVALUES_AZURE_AKS,\n    TMP_CLOUDPLATFORMVALUES_AZURE_FUNCTIONS,\n    TMP_CLOUDPLATFORMVALUES_AZURE_APP_SERVICE,\n    TMP_CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE,\n    TMP_CLOUDPLATFORMVALUES_GCP_CLOUD_RUN,\n    TMP_CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE,\n    TMP_CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS,\n    TMP_CLOUDPLATFORMVALUES_GCP_APP_ENGINE,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for AwsEcsLaunchtypeValues enum definition\n *\n * The [launch type](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/launch_types.html) for an ECS task.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_AWSECSLAUNCHTYPEVALUES_EC2 = 'ec2';\nvar TMP_AWSECSLAUNCHTYPEVALUES_FARGATE = 'fargate';\n/**\n * The [launch type](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/launch_types.html) for an ECS task.\n */\nexport var AWSECSLAUNCHTYPEVALUES_EC2 = TMP_AWSECSLAUNCHTYPEVALUES_EC2;\n/**\n * The [launch type](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/launch_types.html) for an ECS task.\n */\nexport var AWSECSLAUNCHTYPEVALUES_FARGATE = TMP_AWSECSLAUNCHTYPEVALUES_FARGATE;\n/**\n * The constant map of values for AwsEcsLaunchtypeValues.\n * @deprecated Use the AWSECSLAUNCHTYPEVALUES_XXXXX constants rather than the AwsEcsLaunchtypeValues.XXXXX for bundle minification.\n */\nexport var AwsEcsLaunchtypeValues = \n/*#__PURE__*/ createConstMap([\n    TMP_AWSECSLAUNCHTYPEVALUES_EC2,\n    TMP_AWSECSLAUNCHTYPEVALUES_FARGATE,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for HostArchValues enum definition\n *\n * The CPU architecture the host system is running on.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_HOSTARCHVALUES_AMD64 = 'amd64';\nvar TMP_HOSTARCHVALUES_ARM32 = 'arm32';\nvar TMP_HOSTARCHVALUES_ARM64 = 'arm64';\nvar TMP_HOSTARCHVALUES_IA64 = 'ia64';\nvar TMP_HOSTARCHVALUES_PPC32 = 'ppc32';\nvar TMP_HOSTARCHVALUES_PPC64 = 'ppc64';\nvar TMP_HOSTARCHVALUES_X86 = 'x86';\n/**\n * The CPU architecture the host system is running on.\n */\nexport var HOSTARCHVALUES_AMD64 = TMP_HOSTARCHVALUES_AMD64;\n/**\n * The CPU architecture the host system is running on.\n */\nexport var HOSTARCHVALUES_ARM32 = TMP_HOSTARCHVALUES_ARM32;\n/**\n * The CPU architecture the host system is running on.\n */\nexport var HOSTARCHVALUES_ARM64 = TMP_HOSTARCHVALUES_ARM64;\n/**\n * The CPU architecture the host system is running on.\n */\nexport var HOSTARCHVALUES_IA64 = TMP_HOSTARCHVALUES_IA64;\n/**\n * The CPU architecture the host system is running on.\n */\nexport var HOSTARCHVALUES_PPC32 = TMP_HOSTARCHVALUES_PPC32;\n/**\n * The CPU architecture the host system is running on.\n */\nexport var HOSTARCHVALUES_PPC64 = TMP_HOSTARCHVALUES_PPC64;\n/**\n * The CPU architecture the host system is running on.\n */\nexport var HOSTARCHVALUES_X86 = TMP_HOSTARCHVALUES_X86;\n/**\n * The constant map of values for HostArchValues.\n * @deprecated Use the HOSTARCHVALUES_XXXXX constants rather than the HostArchValues.XXXXX for bundle minification.\n */\nexport var HostArchValues = \n/*#__PURE__*/ createConstMap([\n    TMP_HOSTARCHVALUES_AMD64,\n    TMP_HOSTARCHVALUES_ARM32,\n    TMP_HOSTARCHVALUES_ARM64,\n    TMP_HOSTARCHVALUES_IA64,\n    TMP_HOSTARCHVALUES_PPC32,\n    TMP_HOSTARCHVALUES_PPC64,\n    TMP_HOSTARCHVALUES_X86,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for OsTypeValues enum definition\n *\n * The operating system type.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_OSTYPEVALUES_WINDOWS = 'windows';\nvar TMP_OSTYPEVALUES_LINUX = 'linux';\nvar TMP_OSTYPEVALUES_DARWIN = 'darwin';\nvar TMP_OSTYPEVALUES_FREEBSD = 'freebsd';\nvar TMP_OSTYPEVALUES_NETBSD = 'netbsd';\nvar TMP_OSTYPEVALUES_OPENBSD = 'openbsd';\nvar TMP_OSTYPEVALUES_DRAGONFLYBSD = 'dragonflybsd';\nvar TMP_OSTYPEVALUES_HPUX = 'hpux';\nvar TMP_OSTYPEVALUES_AIX = 'aix';\nvar TMP_OSTYPEVALUES_SOLARIS = 'solaris';\nvar TMP_OSTYPEVALUES_Z_OS = 'z_os';\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_WINDOWS = TMP_OSTYPEVALUES_WINDOWS;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_LINUX = TMP_OSTYPEVALUES_LINUX;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_DARWIN = TMP_OSTYPEVALUES_DARWIN;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_FREEBSD = TMP_OSTYPEVALUES_FREEBSD;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_NETBSD = TMP_OSTYPEVALUES_NETBSD;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_OPENBSD = TMP_OSTYPEVALUES_OPENBSD;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_DRAGONFLYBSD = TMP_OSTYPEVALUES_DRAGONFLYBSD;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_HPUX = TMP_OSTYPEVALUES_HPUX;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_AIX = TMP_OSTYPEVALUES_AIX;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_SOLARIS = TMP_OSTYPEVALUES_SOLARIS;\n/**\n * The operating system type.\n */\nexport var OSTYPEVALUES_Z_OS = TMP_OSTYPEVALUES_Z_OS;\n/**\n * The constant map of values for OsTypeValues.\n * @deprecated Use the OSTYPEVALUES_XXXXX constants rather than the OsTypeValues.XXXXX for bundle minification.\n */\nexport var OsTypeValues = \n/*#__PURE__*/ createConstMap([\n    TMP_OSTYPEVALUES_WINDOWS,\n    TMP_OSTYPEVALUES_LINUX,\n    TMP_OSTYPEVALUES_DARWIN,\n    TMP_OSTYPEVALUES_FREEBSD,\n    TMP_OSTYPEVALUES_NETBSD,\n    TMP_OSTYPEVALUES_OPENBSD,\n    TMP_OSTYPEVALUES_DRAGONFLYBSD,\n    TMP_OSTYPEVALUES_HPUX,\n    TMP_OSTYPEVALUES_AIX,\n    TMP_OSTYPEVALUES_SOLARIS,\n    TMP_OSTYPEVALUES_Z_OS,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for TelemetrySdkLanguageValues enum definition\n *\n * The language of the telemetry SDK.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_CPP = 'cpp';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_DOTNET = 'dotnet';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_ERLANG = 'erlang';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_GO = 'go';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_JAVA = 'java';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_NODEJS = 'nodejs';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_PHP = 'php';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_PYTHON = 'python';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_RUBY = 'ruby';\nvar TMP_TELEMETRYSDKLANGUAGEVALUES_WEBJS = 'webjs';\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_CPP = TMP_TELEMETRYSDKLANGUAGEVALUES_CPP;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_DOTNET = TMP_TELEMETRYSDKLANGUAGEVALUES_DOTNET;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_ERLANG = TMP_TELEMETRYSDKLANGUAGEVALUES_ERLANG;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_GO = TMP_TELEMETRYSDKLANGUAGEVALUES_GO;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_JAVA = TMP_TELEMETRYSDKLANGUAGEVALUES_JAVA;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_NODEJS = TMP_TELEMETRYSDKLANGUAGEVALUES_NODEJS;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_PHP = TMP_TELEMETRYSDKLANGUAGEVALUES_PHP;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_PYTHON = TMP_TELEMETRYSDKLANGUAGEVALUES_PYTHON;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_RUBY = TMP_TELEMETRYSDKLANGUAGEVALUES_RUBY;\n/**\n * The language of the telemetry SDK.\n */\nexport var TELEMETRYSDKLANGUAGEVALUES_WEBJS = TMP_TELEMETRYSDKLANGUAGEVALUES_WEBJS;\n/**\n * The constant map of values for TelemetrySdkLanguageValues.\n * @deprecated Use the TELEMETRYSDKLANGUAGEVALUES_XXXXX constants rather than the TelemetrySdkLanguageValues.XXXXX for bundle minification.\n */\nexport var TelemetrySdkLanguageValues = \n/*#__PURE__*/ createConstMap([\n    TMP_TELEMETRYSDKLANGUAGEVALUES_CPP,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_DOTNET,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_ERLANG,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_GO,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_JAVA,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_NODEJS,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_PHP,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_PYTHON,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_RUBY,\n    TMP_TELEMETRYSDKLANGUAGEVALUES_WEBJS,\n]);\n//# sourceMappingURL=SemanticResourceAttributes.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createConstMap } from '../internal/utils';\n//----------------------------------------------------------------------------------------------------------\n// DO NOT EDIT, this is an Auto-generated file from scripts/semconv/templates//templates/SemanticAttributes.ts.j2\n//----------------------------------------------------------------------------------------------------------\n//----------------------------------------------------------------------------------------------------------\n// Constant values for SemanticAttributes\n//----------------------------------------------------------------------------------------------------------\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_AWS_LAMBDA_INVOKED_ARN = 'aws.lambda.invoked_arn';\nvar TMP_DB_SYSTEM = 'db.system';\nvar TMP_DB_CONNECTION_STRING = 'db.connection_string';\nvar TMP_DB_USER = 'db.user';\nvar TMP_DB_JDBC_DRIVER_CLASSNAME = 'db.jdbc.driver_classname';\nvar TMP_DB_NAME = 'db.name';\nvar TMP_DB_STATEMENT = 'db.statement';\nvar TMP_DB_OPERATION = 'db.operation';\nvar TMP_DB_MSSQL_INSTANCE_NAME = 'db.mssql.instance_name';\nvar TMP_DB_CASSANDRA_KEYSPACE = 'db.cassandra.keyspace';\nvar TMP_DB_CASSANDRA_PAGE_SIZE = 'db.cassandra.page_size';\nvar TMP_DB_CASSANDRA_CONSISTENCY_LEVEL = 'db.cassandra.consistency_level';\nvar TMP_DB_CASSANDRA_TABLE = 'db.cassandra.table';\nvar TMP_DB_CASSANDRA_IDEMPOTENCE = 'db.cassandra.idempotence';\nvar TMP_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT = 'db.cassandra.speculative_execution_count';\nvar TMP_DB_CASSANDRA_COORDINATOR_ID = 'db.cassandra.coordinator.id';\nvar TMP_DB_CASSANDRA_COORDINATOR_DC = 'db.cassandra.coordinator.dc';\nvar TMP_DB_HBASE_NAMESPACE = 'db.hbase.namespace';\nvar TMP_DB_REDIS_DATABASE_INDEX = 'db.redis.database_index';\nvar TMP_DB_MONGODB_COLLECTION = 'db.mongodb.collection';\nvar TMP_DB_SQL_TABLE = 'db.sql.table';\nvar TMP_EXCEPTION_TYPE = 'exception.type';\nvar TMP_EXCEPTION_MESSAGE = 'exception.message';\nvar TMP_EXCEPTION_STACKTRACE = 'exception.stacktrace';\nvar TMP_EXCEPTION_ESCAPED = 'exception.escaped';\nvar TMP_FAAS_TRIGGER = 'faas.trigger';\nvar TMP_FAAS_EXECUTION = 'faas.execution';\nvar TMP_FAAS_DOCUMENT_COLLECTION = 'faas.document.collection';\nvar TMP_FAAS_DOCUMENT_OPERATION = 'faas.document.operation';\nvar TMP_FAAS_DOCUMENT_TIME = 'faas.document.time';\nvar TMP_FAAS_DOCUMENT_NAME = 'faas.document.name';\nvar TMP_FAAS_TIME = 'faas.time';\nvar TMP_FAAS_CRON = 'faas.cron';\nvar TMP_FAAS_COLDSTART = 'faas.coldstart';\nvar TMP_FAAS_INVOKED_NAME = 'faas.invoked_name';\nvar TMP_FAAS_INVOKED_PROVIDER = 'faas.invoked_provider';\nvar TMP_FAAS_INVOKED_REGION = 'faas.invoked_region';\nvar TMP_NET_TRANSPORT = 'net.transport';\nvar TMP_NET_PEER_IP = 'net.peer.ip';\nvar TMP_NET_PEER_PORT = 'net.peer.port';\nvar TMP_NET_PEER_NAME = 'net.peer.name';\nvar TMP_NET_HOST_IP = 'net.host.ip';\nvar TMP_NET_HOST_PORT = 'net.host.port';\nvar TMP_NET_HOST_NAME = 'net.host.name';\nvar TMP_NET_HOST_CONNECTION_TYPE = 'net.host.connection.type';\nvar TMP_NET_HOST_CONNECTION_SUBTYPE = 'net.host.connection.subtype';\nvar TMP_NET_HOST_CARRIER_NAME = 'net.host.carrier.name';\nvar TMP_NET_HOST_CARRIER_MCC = 'net.host.carrier.mcc';\nvar TMP_NET_HOST_CARRIER_MNC = 'net.host.carrier.mnc';\nvar TMP_NET_HOST_CARRIER_ICC = 'net.host.carrier.icc';\nvar TMP_PEER_SERVICE = 'peer.service';\nvar TMP_ENDUSER_ID = 'enduser.id';\nvar TMP_ENDUSER_ROLE = 'enduser.role';\nvar TMP_ENDUSER_SCOPE = 'enduser.scope';\nvar TMP_THREAD_ID = 'thread.id';\nvar TMP_THREAD_NAME = 'thread.name';\nvar TMP_CODE_FUNCTION = 'code.function';\nvar TMP_CODE_NAMESPACE = 'code.namespace';\nvar TMP_CODE_FILEPATH = 'code.filepath';\nvar TMP_CODE_LINENO = 'code.lineno';\nvar TMP_HTTP_METHOD = 'http.method';\nvar TMP_HTTP_URL = 'http.url';\nvar TMP_HTTP_TARGET = 'http.target';\nvar TMP_HTTP_HOST = 'http.host';\nvar TMP_HTTP_SCHEME = 'http.scheme';\nvar TMP_HTTP_STATUS_CODE = 'http.status_code';\nvar TMP_HTTP_FLAVOR = 'http.flavor';\nvar TMP_HTTP_USER_AGENT = 'http.user_agent';\nvar TMP_HTTP_REQUEST_CONTENT_LENGTH = 'http.request_content_length';\nvar TMP_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED = 'http.request_content_length_uncompressed';\nvar TMP_HTTP_RESPONSE_CONTENT_LENGTH = 'http.response_content_length';\nvar TMP_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED = 'http.response_content_length_uncompressed';\nvar TMP_HTTP_SERVER_NAME = 'http.server_name';\nvar TMP_HTTP_ROUTE = 'http.route';\nvar TMP_HTTP_CLIENT_IP = 'http.client_ip';\nvar TMP_AWS_DYNAMODB_TABLE_NAMES = 'aws.dynamodb.table_names';\nvar TMP_AWS_DYNAMODB_CONSUMED_CAPACITY = 'aws.dynamodb.consumed_capacity';\nvar TMP_AWS_DYNAMODB_ITEM_COLLECTION_METRICS = 'aws.dynamodb.item_collection_metrics';\nvar TMP_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY = 'aws.dynamodb.provisioned_read_capacity';\nvar TMP_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY = 'aws.dynamodb.provisioned_write_capacity';\nvar TMP_AWS_DYNAMODB_CONSISTENT_READ = 'aws.dynamodb.consistent_read';\nvar TMP_AWS_DYNAMODB_PROJECTION = 'aws.dynamodb.projection';\nvar TMP_AWS_DYNAMODB_LIMIT = 'aws.dynamodb.limit';\nvar TMP_AWS_DYNAMODB_ATTRIBUTES_TO_GET = 'aws.dynamodb.attributes_to_get';\nvar TMP_AWS_DYNAMODB_INDEX_NAME = 'aws.dynamodb.index_name';\nvar TMP_AWS_DYNAMODB_SELECT = 'aws.dynamodb.select';\nvar TMP_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES = 'aws.dynamodb.global_secondary_indexes';\nvar TMP_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES = 'aws.dynamodb.local_secondary_indexes';\nvar TMP_AWS_DYNAMODB_EXCLUSIVE_START_TABLE = 'aws.dynamodb.exclusive_start_table';\nvar TMP_AWS_DYNAMODB_TABLE_COUNT = 'aws.dynamodb.table_count';\nvar TMP_AWS_DYNAMODB_SCAN_FORWARD = 'aws.dynamodb.scan_forward';\nvar TMP_AWS_DYNAMODB_SEGMENT = 'aws.dynamodb.segment';\nvar TMP_AWS_DYNAMODB_TOTAL_SEGMENTS = 'aws.dynamodb.total_segments';\nvar TMP_AWS_DYNAMODB_COUNT = 'aws.dynamodb.count';\nvar TMP_AWS_DYNAMODB_SCANNED_COUNT = 'aws.dynamodb.scanned_count';\nvar TMP_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS = 'aws.dynamodb.attribute_definitions';\nvar TMP_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES = 'aws.dynamodb.global_secondary_index_updates';\nvar TMP_MESSAGING_SYSTEM = 'messaging.system';\nvar TMP_MESSAGING_DESTINATION = 'messaging.destination';\nvar TMP_MESSAGING_DESTINATION_KIND = 'messaging.destination_kind';\nvar TMP_MESSAGING_TEMP_DESTINATION = 'messaging.temp_destination';\nvar TMP_MESSAGING_PROTOCOL = 'messaging.protocol';\nvar TMP_MESSAGING_PROTOCOL_VERSION = 'messaging.protocol_version';\nvar TMP_MESSAGING_URL = 'messaging.url';\nvar TMP_MESSAGING_MESSAGE_ID = 'messaging.message_id';\nvar TMP_MESSAGING_CONVERSATION_ID = 'messaging.conversation_id';\nvar TMP_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES = 'messaging.message_payload_size_bytes';\nvar TMP_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES = 'messaging.message_payload_compressed_size_bytes';\nvar TMP_MESSAGING_OPERATION = 'messaging.operation';\nvar TMP_MESSAGING_CONSUMER_ID = 'messaging.consumer_id';\nvar TMP_MESSAGING_RABBITMQ_ROUTING_KEY = 'messaging.rabbitmq.routing_key';\nvar TMP_MESSAGING_KAFKA_MESSAGE_KEY = 'messaging.kafka.message_key';\nvar TMP_MESSAGING_KAFKA_CONSUMER_GROUP = 'messaging.kafka.consumer_group';\nvar TMP_MESSAGING_KAFKA_CLIENT_ID = 'messaging.kafka.client_id';\nvar TMP_MESSAGING_KAFKA_PARTITION = 'messaging.kafka.partition';\nvar TMP_MESSAGING_KAFKA_TOMBSTONE = 'messaging.kafka.tombstone';\nvar TMP_RPC_SYSTEM = 'rpc.system';\nvar TMP_RPC_SERVICE = 'rpc.service';\nvar TMP_RPC_METHOD = 'rpc.method';\nvar TMP_RPC_GRPC_STATUS_CODE = 'rpc.grpc.status_code';\nvar TMP_RPC_JSONRPC_VERSION = 'rpc.jsonrpc.version';\nvar TMP_RPC_JSONRPC_REQUEST_ID = 'rpc.jsonrpc.request_id';\nvar TMP_RPC_JSONRPC_ERROR_CODE = 'rpc.jsonrpc.error_code';\nvar TMP_RPC_JSONRPC_ERROR_MESSAGE = 'rpc.jsonrpc.error_message';\nvar TMP_MESSAGE_TYPE = 'message.type';\nvar TMP_MESSAGE_ID = 'message.id';\nvar TMP_MESSAGE_COMPRESSED_SIZE = 'message.compressed_size';\nvar TMP_MESSAGE_UNCOMPRESSED_SIZE = 'message.uncompressed_size';\n/**\n * The full invoked ARN as provided on the `Context` passed to the function (`Lambda-Runtime-Invoked-Function-Arn` header on the `/runtime/invocation/next` applicable).\n *\n * Note: This may be different from `faas.id` if an alias is involved.\n */\nexport var SEMATTRS_AWS_LAMBDA_INVOKED_ARN = TMP_AWS_LAMBDA_INVOKED_ARN;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var SEMATTRS_DB_SYSTEM = TMP_DB_SYSTEM;\n/**\n * The connection string used to connect to the database. It is recommended to remove embedded credentials.\n */\nexport var SEMATTRS_DB_CONNECTION_STRING = TMP_DB_CONNECTION_STRING;\n/**\n * Username for accessing the database.\n */\nexport var SEMATTRS_DB_USER = TMP_DB_USER;\n/**\n * The fully-qualified class name of the [Java Database Connectivity (JDBC)](https://docs.oracle.com/javase/8/docs/technotes/guides/jdbc/) driver used to connect.\n */\nexport var SEMATTRS_DB_JDBC_DRIVER_CLASSNAME = TMP_DB_JDBC_DRIVER_CLASSNAME;\n/**\n * If no [tech-specific attribute](#call-level-attributes-for-specific-technologies) is defined, this attribute is used to report the name of the database being accessed. For commands that switch the database, this should be set to the target database (even if the command fails).\n *\n * Note: In some SQL databases, the database name to be used is called &#34;schema name&#34;.\n */\nexport var SEMATTRS_DB_NAME = TMP_DB_NAME;\n/**\n * The database statement being executed.\n *\n * Note: The value may be sanitized to exclude sensitive information.\n */\nexport var SEMATTRS_DB_STATEMENT = TMP_DB_STATEMENT;\n/**\n * The name of the operation being executed, e.g. the [MongoDB command name](https://docs.mongodb.com/manual/reference/command/#database-operations) such as `findAndModify`, or the SQL keyword.\n *\n * Note: When setting this to an SQL keyword, it is not recommended to attempt any client-side parsing of `db.statement` just to get this property, but it should be set if the operation name is provided by the library being instrumented. If the SQL statement has an ambiguous operation, or performs more than one operation, this value may be omitted.\n */\nexport var SEMATTRS_DB_OPERATION = TMP_DB_OPERATION;\n/**\n * The Microsoft SQL Server [instance name](https://docs.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url?view=sql-server-ver15) connecting to. This name is used to determine the port of a named instance.\n *\n * Note: If setting a `db.mssql.instance_name`, `net.peer.port` is no longer required (but still recommended if non-standard).\n */\nexport var SEMATTRS_DB_MSSQL_INSTANCE_NAME = TMP_DB_MSSQL_INSTANCE_NAME;\n/**\n * The name of the keyspace being accessed. To be used instead of the generic `db.name` attribute.\n */\nexport var SEMATTRS_DB_CASSANDRA_KEYSPACE = TMP_DB_CASSANDRA_KEYSPACE;\n/**\n * The fetch size used for paging, i.e. how many rows will be returned at once.\n */\nexport var SEMATTRS_DB_CASSANDRA_PAGE_SIZE = TMP_DB_CASSANDRA_PAGE_SIZE;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL = TMP_DB_CASSANDRA_CONSISTENCY_LEVEL;\n/**\n * The name of the primary table that the operation is acting upon, including the schema name (if applicable).\n *\n * Note: This mirrors the db.sql.table attribute but references cassandra rather than sql. It is not recommended to attempt any client-side parsing of `db.statement` just to get this property, but it should be set if it is provided by the library being instrumented. If the operation is acting upon an anonymous table, or more than one table, this value MUST NOT be set.\n */\nexport var SEMATTRS_DB_CASSANDRA_TABLE = TMP_DB_CASSANDRA_TABLE;\n/**\n * Whether or not the query is idempotent.\n */\nexport var SEMATTRS_DB_CASSANDRA_IDEMPOTENCE = TMP_DB_CASSANDRA_IDEMPOTENCE;\n/**\n * The number of times a query was speculatively executed. Not set or `0` if the query was not executed speculatively.\n */\nexport var SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT = TMP_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT;\n/**\n * The ID of the coordinating node for a query.\n */\nexport var SEMATTRS_DB_CASSANDRA_COORDINATOR_ID = TMP_DB_CASSANDRA_COORDINATOR_ID;\n/**\n * The data center of the coordinating node for a query.\n */\nexport var SEMATTRS_DB_CASSANDRA_COORDINATOR_DC = TMP_DB_CASSANDRA_COORDINATOR_DC;\n/**\n * The [HBase namespace](https://hbase.apache.org/book.html#_namespace) being accessed. To be used instead of the generic `db.name` attribute.\n */\nexport var SEMATTRS_DB_HBASE_NAMESPACE = TMP_DB_HBASE_NAMESPACE;\n/**\n * The index of the database being accessed as used in the [`SELECT` command](https://redis.io/commands/select), provided as an integer. To be used instead of the generic `db.name` attribute.\n */\nexport var SEMATTRS_DB_REDIS_DATABASE_INDEX = TMP_DB_REDIS_DATABASE_INDEX;\n/**\n * The collection being accessed within the database stated in `db.name`.\n */\nexport var SEMATTRS_DB_MONGODB_COLLECTION = TMP_DB_MONGODB_COLLECTION;\n/**\n * The name of the primary table that the operation is acting upon, including the schema name (if applicable).\n *\n * Note: It is not recommended to attempt any client-side parsing of `db.statement` just to get this property, but it should be set if it is provided by the library being instrumented. If the operation is acting upon an anonymous table, or more than one table, this value MUST NOT be set.\n */\nexport var SEMATTRS_DB_SQL_TABLE = TMP_DB_SQL_TABLE;\n/**\n * The type of the exception (its fully-qualified class name, if applicable). The dynamic type of the exception should be preferred over the static type in languages that support it.\n */\nexport var SEMATTRS_EXCEPTION_TYPE = TMP_EXCEPTION_TYPE;\n/**\n * The exception message.\n */\nexport var SEMATTRS_EXCEPTION_MESSAGE = TMP_EXCEPTION_MESSAGE;\n/**\n * A stacktrace as a string in the natural representation for the language runtime. The representation is to be determined and documented by each language SIG.\n */\nexport var SEMATTRS_EXCEPTION_STACKTRACE = TMP_EXCEPTION_STACKTRACE;\n/**\n* SHOULD be set to true if the exception event is recorded at a point where it is known that the exception is escaping the scope of the span.\n*\n* Note: An exception is considered to have escaped (or left) the scope of a span,\nif that span is ended while the exception is still logically &#34;in flight&#34;.\nThis may be actually &#34;in flight&#34; in some languages (e.g. if the exception\nis passed to a Context manager&#39;s `__exit__` method in Python) but will\nusually be caught at the point of recording the exception in most languages.\n\nIt is usually not possible to determine at the point where an exception is thrown\nwhether it will escape the scope of a span.\nHowever, it is trivial to know that an exception\nwill escape, if one checks for an active exception just before ending the span,\nas done in the [example above](#exception-end-example).\n\nIt follows that an exception may still escape the scope of the span\neven if the `exception.escaped` attribute was not set or set to false,\nsince the event might have been recorded at a time where it was not\nclear whether the exception will escape.\n*/\nexport var SEMATTRS_EXCEPTION_ESCAPED = TMP_EXCEPTION_ESCAPED;\n/**\n * Type of the trigger on which the function is executed.\n */\nexport var SEMATTRS_FAAS_TRIGGER = TMP_FAAS_TRIGGER;\n/**\n * The execution ID of the current function execution.\n */\nexport var SEMATTRS_FAAS_EXECUTION = TMP_FAAS_EXECUTION;\n/**\n * The name of the source on which the triggering operation was performed. For example, in Cloud Storage or S3 corresponds to the bucket name, and in Cosmos DB to the database name.\n */\nexport var SEMATTRS_FAAS_DOCUMENT_COLLECTION = TMP_FAAS_DOCUMENT_COLLECTION;\n/**\n * Describes the type of the operation that was performed on the data.\n */\nexport var SEMATTRS_FAAS_DOCUMENT_OPERATION = TMP_FAAS_DOCUMENT_OPERATION;\n/**\n * A string containing the time when the data was accessed in the [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) format expressed in [UTC](https://www.w3.org/TR/NOTE-datetime).\n */\nexport var SEMATTRS_FAAS_DOCUMENT_TIME = TMP_FAAS_DOCUMENT_TIME;\n/**\n * The document name/table subjected to the operation. For example, in Cloud Storage or S3 is the name of the file, and in Cosmos DB the table name.\n */\nexport var SEMATTRS_FAAS_DOCUMENT_NAME = TMP_FAAS_DOCUMENT_NAME;\n/**\n * A string containing the function invocation time in the [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) format expressed in [UTC](https://www.w3.org/TR/NOTE-datetime).\n */\nexport var SEMATTRS_FAAS_TIME = TMP_FAAS_TIME;\n/**\n * A string containing the schedule period as [Cron Expression](https://docs.oracle.com/cd/E12058_01/doc/doc.1014/e12030/cron_expressions.htm).\n */\nexport var SEMATTRS_FAAS_CRON = TMP_FAAS_CRON;\n/**\n * A boolean that is true if the serverless function is executed for the first time (aka cold-start).\n */\nexport var SEMATTRS_FAAS_COLDSTART = TMP_FAAS_COLDSTART;\n/**\n * The name of the invoked function.\n *\n * Note: SHOULD be equal to the `faas.name` resource attribute of the invoked function.\n */\nexport var SEMATTRS_FAAS_INVOKED_NAME = TMP_FAAS_INVOKED_NAME;\n/**\n * The cloud provider of the invoked function.\n *\n * Note: SHOULD be equal to the `cloud.provider` resource attribute of the invoked function.\n */\nexport var SEMATTRS_FAAS_INVOKED_PROVIDER = TMP_FAAS_INVOKED_PROVIDER;\n/**\n * The cloud region of the invoked function.\n *\n * Note: SHOULD be equal to the `cloud.region` resource attribute of the invoked function.\n */\nexport var SEMATTRS_FAAS_INVOKED_REGION = TMP_FAAS_INVOKED_REGION;\n/**\n * Transport protocol used. See note below.\n */\nexport var SEMATTRS_NET_TRANSPORT = TMP_NET_TRANSPORT;\n/**\n * Remote address of the peer (dotted decimal for IPv4 or [RFC5952](https://tools.ietf.org/html/rfc5952) for IPv6).\n */\nexport var SEMATTRS_NET_PEER_IP = TMP_NET_PEER_IP;\n/**\n * Remote port number.\n */\nexport var SEMATTRS_NET_PEER_PORT = TMP_NET_PEER_PORT;\n/**\n * Remote hostname or similar, see note below.\n */\nexport var SEMATTRS_NET_PEER_NAME = TMP_NET_PEER_NAME;\n/**\n * Like `net.peer.ip` but for the host IP. Useful in case of a multi-IP host.\n */\nexport var SEMATTRS_NET_HOST_IP = TMP_NET_HOST_IP;\n/**\n * Like `net.peer.port` but for the host port.\n */\nexport var SEMATTRS_NET_HOST_PORT = TMP_NET_HOST_PORT;\n/**\n * Local hostname or similar, see note below.\n */\nexport var SEMATTRS_NET_HOST_NAME = TMP_NET_HOST_NAME;\n/**\n * The internet connection type currently being used by the host.\n */\nexport var SEMATTRS_NET_HOST_CONNECTION_TYPE = TMP_NET_HOST_CONNECTION_TYPE;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var SEMATTRS_NET_HOST_CONNECTION_SUBTYPE = TMP_NET_HOST_CONNECTION_SUBTYPE;\n/**\n * The name of the mobile carrier.\n */\nexport var SEMATTRS_NET_HOST_CARRIER_NAME = TMP_NET_HOST_CARRIER_NAME;\n/**\n * The mobile carrier country code.\n */\nexport var SEMATTRS_NET_HOST_CARRIER_MCC = TMP_NET_HOST_CARRIER_MCC;\n/**\n * The mobile carrier network code.\n */\nexport var SEMATTRS_NET_HOST_CARRIER_MNC = TMP_NET_HOST_CARRIER_MNC;\n/**\n * The ISO 3166-1 alpha-2 2-character country code associated with the mobile carrier network.\n */\nexport var SEMATTRS_NET_HOST_CARRIER_ICC = TMP_NET_HOST_CARRIER_ICC;\n/**\n * The [`service.name`](../../resource/semantic_conventions/README.md#service) of the remote service. SHOULD be equal to the actual `service.name` resource attribute of the remote service if any.\n */\nexport var SEMATTRS_PEER_SERVICE = TMP_PEER_SERVICE;\n/**\n * Username or client_id extracted from the access token or [Authorization](https://tools.ietf.org/html/rfc7235#section-4.2) header in the inbound request from outside the system.\n */\nexport var SEMATTRS_ENDUSER_ID = TMP_ENDUSER_ID;\n/**\n * Actual/assumed role the client is making the request under extracted from token or application security context.\n */\nexport var SEMATTRS_ENDUSER_ROLE = TMP_ENDUSER_ROLE;\n/**\n * Scopes or granted authorities the client currently possesses extracted from token or application security context. The value would come from the scope associated with an [OAuth 2.0 Access Token](https://tools.ietf.org/html/rfc6749#section-3.3) or an attribute value in a [SAML 2.0 Assertion](http://docs.oasis-open.org/security/saml/Post2.0/sstc-saml-tech-overview-2.0.html).\n */\nexport var SEMATTRS_ENDUSER_SCOPE = TMP_ENDUSER_SCOPE;\n/**\n * Current &#34;managed&#34; thread ID (as opposed to OS thread ID).\n */\nexport var SEMATTRS_THREAD_ID = TMP_THREAD_ID;\n/**\n * Current thread name.\n */\nexport var SEMATTRS_THREAD_NAME = TMP_THREAD_NAME;\n/**\n * The method or function name, or equivalent (usually rightmost part of the code unit&#39;s name).\n */\nexport var SEMATTRS_CODE_FUNCTION = TMP_CODE_FUNCTION;\n/**\n * The &#34;namespace&#34; within which `code.function` is defined. Usually the qualified class or module name, such that `code.namespace` + some separator + `code.function` form a unique identifier for the code unit.\n */\nexport var SEMATTRS_CODE_NAMESPACE = TMP_CODE_NAMESPACE;\n/**\n * The source code file name that identifies the code unit as uniquely as possible (preferably an absolute file path).\n */\nexport var SEMATTRS_CODE_FILEPATH = TMP_CODE_FILEPATH;\n/**\n * The line number in `code.filepath` best representing the operation. It SHOULD point within the code unit named in `code.function`.\n */\nexport var SEMATTRS_CODE_LINENO = TMP_CODE_LINENO;\n/**\n * HTTP request method.\n */\nexport var SEMATTRS_HTTP_METHOD = TMP_HTTP_METHOD;\n/**\n * Full HTTP request URL in the form `scheme://host[:port]/path?query[#fragment]`. Usually the fragment is not transmitted over HTTP, but if it is known, it should be included nevertheless.\n *\n * Note: `http.url` MUST NOT contain credentials passed via URL in form of `https://username:password@www.example.com/`. In such case the attribute&#39;s value should be `https://www.example.com/`.\n */\nexport var SEMATTRS_HTTP_URL = TMP_HTTP_URL;\n/**\n * The full request target as passed in a HTTP request line or equivalent.\n */\nexport var SEMATTRS_HTTP_TARGET = TMP_HTTP_TARGET;\n/**\n * The value of the [HTTP host header](https://tools.ietf.org/html/rfc7230#section-5.4). An empty Host header should also be reported, see note.\n *\n * Note: When the header is present but empty the attribute SHOULD be set to the empty string. Note that this is a valid situation that is expected in certain cases, according the aforementioned [section of RFC 7230](https://tools.ietf.org/html/rfc7230#section-5.4). When the header is not set the attribute MUST NOT be set.\n */\nexport var SEMATTRS_HTTP_HOST = TMP_HTTP_HOST;\n/**\n * The URI scheme identifying the used protocol.\n */\nexport var SEMATTRS_HTTP_SCHEME = TMP_HTTP_SCHEME;\n/**\n * [HTTP response status code](https://tools.ietf.org/html/rfc7231#section-6).\n */\nexport var SEMATTRS_HTTP_STATUS_CODE = TMP_HTTP_STATUS_CODE;\n/**\n * Kind of HTTP protocol used.\n *\n * Note: If `net.transport` is not specified, it can be assumed to be `IP.TCP` except if `http.flavor` is `QUIC`, in which case `IP.UDP` is assumed.\n */\nexport var SEMATTRS_HTTP_FLAVOR = TMP_HTTP_FLAVOR;\n/**\n * Value of the [HTTP User-Agent](https://tools.ietf.org/html/rfc7231#section-5.5.3) header sent by the client.\n */\nexport var SEMATTRS_HTTP_USER_AGENT = TMP_HTTP_USER_AGENT;\n/**\n * The size of the request payload body in bytes. This is the number of bytes transferred excluding headers and is often, but not always, present as the [Content-Length](https://tools.ietf.org/html/rfc7230#section-3.3.2) header. For requests using transport encoding, this should be the compressed size.\n */\nexport var SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH = TMP_HTTP_REQUEST_CONTENT_LENGTH;\n/**\n * The size of the uncompressed request payload body after transport decoding. Not set if transport encoding not used.\n */\nexport var SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED = TMP_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED;\n/**\n * The size of the response payload body in bytes. This is the number of bytes transferred excluding headers and is often, but not always, present as the [Content-Length](https://tools.ietf.org/html/rfc7230#section-3.3.2) header. For requests using transport encoding, this should be the compressed size.\n */\nexport var SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH = TMP_HTTP_RESPONSE_CONTENT_LENGTH;\n/**\n * The size of the uncompressed response payload body after transport decoding. Not set if transport encoding not used.\n */\nexport var SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED = TMP_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED;\n/**\n * The primary server name of the matched virtual host. This should be obtained via configuration. If no such configuration can be obtained, this attribute MUST NOT be set ( `net.host.name` should be used instead).\n *\n * Note: `http.url` is usually not readily available on the server side but would have to be assembled in a cumbersome and sometimes lossy process from other information (see e.g. open-telemetry/opentelemetry-python/pull/148). It is thus preferred to supply the raw data that is available.\n */\nexport var SEMATTRS_HTTP_SERVER_NAME = TMP_HTTP_SERVER_NAME;\n/**\n * The matched route (path template).\n */\nexport var SEMATTRS_HTTP_ROUTE = TMP_HTTP_ROUTE;\n/**\n* The IP address of the original client behind all proxies, if known (e.g. from [X-Forwarded-For](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For)).\n*\n* Note: This is not necessarily the same as `net.peer.ip`, which would\nidentify the network-level peer, which may be a proxy.\n\nThis attribute should be set when a source of information different\nfrom the one used for `net.peer.ip`, is available even if that other\nsource just confirms the same value as `net.peer.ip`.\nRationale: For `net.peer.ip`, one typically does not know if it\ncomes from a proxy, reverse proxy, or the actual client. Setting\n`http.client_ip` when it&#39;s the same as `net.peer.ip` means that\none is at least somewhat confident that the address is not that of\nthe closest proxy.\n*/\nexport var SEMATTRS_HTTP_CLIENT_IP = TMP_HTTP_CLIENT_IP;\n/**\n * The keys in the `RequestItems` object field.\n */\nexport var SEMATTRS_AWS_DYNAMODB_TABLE_NAMES = TMP_AWS_DYNAMODB_TABLE_NAMES;\n/**\n * The JSON-serialized value of each item in the `ConsumedCapacity` response field.\n */\nexport var SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY = TMP_AWS_DYNAMODB_CONSUMED_CAPACITY;\n/**\n * The JSON-serialized value of the `ItemCollectionMetrics` response field.\n */\nexport var SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS = TMP_AWS_DYNAMODB_ITEM_COLLECTION_METRICS;\n/**\n * The value of the `ProvisionedThroughput.ReadCapacityUnits` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY = TMP_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY;\n/**\n * The value of the `ProvisionedThroughput.WriteCapacityUnits` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY = TMP_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY;\n/**\n * The value of the `ConsistentRead` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ = TMP_AWS_DYNAMODB_CONSISTENT_READ;\n/**\n * The value of the `ProjectionExpression` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_PROJECTION = TMP_AWS_DYNAMODB_PROJECTION;\n/**\n * The value of the `Limit` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_LIMIT = TMP_AWS_DYNAMODB_LIMIT;\n/**\n * The value of the `AttributesToGet` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET = TMP_AWS_DYNAMODB_ATTRIBUTES_TO_GET;\n/**\n * The value of the `IndexName` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_INDEX_NAME = TMP_AWS_DYNAMODB_INDEX_NAME;\n/**\n * The value of the `Select` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_SELECT = TMP_AWS_DYNAMODB_SELECT;\n/**\n * The JSON-serialized value of each item of the `GlobalSecondaryIndexes` request field.\n */\nexport var SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES = TMP_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES;\n/**\n * The JSON-serialized value of each item of the `LocalSecondaryIndexes` request field.\n */\nexport var SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES = TMP_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES;\n/**\n * The value of the `ExclusiveStartTableName` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE = TMP_AWS_DYNAMODB_EXCLUSIVE_START_TABLE;\n/**\n * The the number of items in the `TableNames` response parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_TABLE_COUNT = TMP_AWS_DYNAMODB_TABLE_COUNT;\n/**\n * The value of the `ScanIndexForward` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD = TMP_AWS_DYNAMODB_SCAN_FORWARD;\n/**\n * The value of the `Segment` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_SEGMENT = TMP_AWS_DYNAMODB_SEGMENT;\n/**\n * The value of the `TotalSegments` request parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS = TMP_AWS_DYNAMODB_TOTAL_SEGMENTS;\n/**\n * The value of the `Count` response parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_COUNT = TMP_AWS_DYNAMODB_COUNT;\n/**\n * The value of the `ScannedCount` response parameter.\n */\nexport var SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT = TMP_AWS_DYNAMODB_SCANNED_COUNT;\n/**\n * The JSON-serialized value of each item in the `AttributeDefinitions` request field.\n */\nexport var SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS = TMP_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS;\n/**\n * The JSON-serialized value of each item in the the `GlobalSecondaryIndexUpdates` request field.\n */\nexport var SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES = TMP_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES;\n/**\n * A string identifying the messaging system.\n */\nexport var SEMATTRS_MESSAGING_SYSTEM = TMP_MESSAGING_SYSTEM;\n/**\n * The message destination name. This might be equal to the span name but is required nevertheless.\n */\nexport var SEMATTRS_MESSAGING_DESTINATION = TMP_MESSAGING_DESTINATION;\n/**\n * The kind of message destination.\n */\nexport var SEMATTRS_MESSAGING_DESTINATION_KIND = TMP_MESSAGING_DESTINATION_KIND;\n/**\n * A boolean that is true if the message destination is temporary.\n */\nexport var SEMATTRS_MESSAGING_TEMP_DESTINATION = TMP_MESSAGING_TEMP_DESTINATION;\n/**\n * The name of the transport protocol.\n */\nexport var SEMATTRS_MESSAGING_PROTOCOL = TMP_MESSAGING_PROTOCOL;\n/**\n * The version of the transport protocol.\n */\nexport var SEMATTRS_MESSAGING_PROTOCOL_VERSION = TMP_MESSAGING_PROTOCOL_VERSION;\n/**\n * Connection string.\n */\nexport var SEMATTRS_MESSAGING_URL = TMP_MESSAGING_URL;\n/**\n * A value used by the messaging system as an identifier for the message, represented as a string.\n */\nexport var SEMATTRS_MESSAGING_MESSAGE_ID = TMP_MESSAGING_MESSAGE_ID;\n/**\n * The [conversation ID](#conversations) identifying the conversation to which the message belongs, represented as a string. Sometimes called &#34;Correlation ID&#34;.\n */\nexport var SEMATTRS_MESSAGING_CONVERSATION_ID = TMP_MESSAGING_CONVERSATION_ID;\n/**\n * The (uncompressed) size of the message payload in bytes. Also use this attribute if it is unknown whether the compressed or uncompressed payload size is reported.\n */\nexport var SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES = TMP_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES;\n/**\n * The compressed size of the message payload in bytes.\n */\nexport var SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES = TMP_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES;\n/**\n * A string identifying the kind of message consumption as defined in the [Operation names](#operation-names) section above. If the operation is &#34;send&#34;, this attribute MUST NOT be set, since the operation can be inferred from the span kind in that case.\n */\nexport var SEMATTRS_MESSAGING_OPERATION = TMP_MESSAGING_OPERATION;\n/**\n * The identifier for the consumer receiving a message. For Kafka, set it to `{messaging.kafka.consumer_group} - {messaging.kafka.client_id}`, if both are present, or only `messaging.kafka.consumer_group`. For brokers, such as RabbitMQ and Artemis, set it to the `client_id` of the client consuming the message.\n */\nexport var SEMATTRS_MESSAGING_CONSUMER_ID = TMP_MESSAGING_CONSUMER_ID;\n/**\n * RabbitMQ message routing key.\n */\nexport var SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY = TMP_MESSAGING_RABBITMQ_ROUTING_KEY;\n/**\n * Message keys in Kafka are used for grouping alike messages to ensure they&#39;re processed on the same partition. They differ from `messaging.message_id` in that they&#39;re not unique. If the key is `null`, the attribute MUST NOT be set.\n *\n * Note: If the key type is not string, it&#39;s string representation has to be supplied for the attribute. If the key has no unambiguous, canonical string form, don&#39;t include its value.\n */\nexport var SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY = TMP_MESSAGING_KAFKA_MESSAGE_KEY;\n/**\n * Name of the Kafka Consumer Group that is handling the message. Only applies to consumers, not producers.\n */\nexport var SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP = TMP_MESSAGING_KAFKA_CONSUMER_GROUP;\n/**\n * Client Id for the Consumer or Producer that is handling the message.\n */\nexport var SEMATTRS_MESSAGING_KAFKA_CLIENT_ID = TMP_MESSAGING_KAFKA_CLIENT_ID;\n/**\n * Partition the message is sent to.\n */\nexport var SEMATTRS_MESSAGING_KAFKA_PARTITION = TMP_MESSAGING_KAFKA_PARTITION;\n/**\n * A boolean that is true if the message is a tombstone.\n */\nexport var SEMATTRS_MESSAGING_KAFKA_TOMBSTONE = TMP_MESSAGING_KAFKA_TOMBSTONE;\n/**\n * A string identifying the remoting system.\n */\nexport var SEMATTRS_RPC_SYSTEM = TMP_RPC_SYSTEM;\n/**\n * The full (logical) name of the service being called, including its package name, if applicable.\n *\n * Note: This is the logical name of the service from the RPC interface perspective, which can be different from the name of any implementing class. The `code.namespace` attribute may be used to store the latter (despite the attribute name, it may include a class name; e.g., class with method actually executing the call on the server side, RPC client stub class on the client side).\n */\nexport var SEMATTRS_RPC_SERVICE = TMP_RPC_SERVICE;\n/**\n * The name of the (logical) method being called, must be equal to the $method part in the span name.\n *\n * Note: This is the logical name of the method from the RPC interface perspective, which can be different from the name of any implementing method/function. The `code.function` attribute may be used to store the latter (e.g., method actually executing the call on the server side, RPC client stub method on the client side).\n */\nexport var SEMATTRS_RPC_METHOD = TMP_RPC_METHOD;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var SEMATTRS_RPC_GRPC_STATUS_CODE = TMP_RPC_GRPC_STATUS_CODE;\n/**\n * Protocol version as in `jsonrpc` property of request/response. Since JSON-RPC 1.0 does not specify this, the value can be omitted.\n */\nexport var SEMATTRS_RPC_JSONRPC_VERSION = TMP_RPC_JSONRPC_VERSION;\n/**\n * `id` property of request or response. Since protocol allows id to be int, string, `null` or missing (for notifications), value is expected to be cast to string for simplicity. Use empty string in case of `null` value. Omit entirely if this is a notification.\n */\nexport var SEMATTRS_RPC_JSONRPC_REQUEST_ID = TMP_RPC_JSONRPC_REQUEST_ID;\n/**\n * `error.code` property of response if it is an error response.\n */\nexport var SEMATTRS_RPC_JSONRPC_ERROR_CODE = TMP_RPC_JSONRPC_ERROR_CODE;\n/**\n * `error.message` property of response if it is an error response.\n */\nexport var SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE = TMP_RPC_JSONRPC_ERROR_MESSAGE;\n/**\n * Whether this is a received or sent message.\n */\nexport var SEMATTRS_MESSAGE_TYPE = TMP_MESSAGE_TYPE;\n/**\n * MUST be calculated as two different counters starting from `1` one for sent messages and one for received message.\n *\n * Note: This way we guarantee that the values will be consistent between different implementations.\n */\nexport var SEMATTRS_MESSAGE_ID = TMP_MESSAGE_ID;\n/**\n * Compressed size of the message in bytes.\n */\nexport var SEMATTRS_MESSAGE_COMPRESSED_SIZE = TMP_MESSAGE_COMPRESSED_SIZE;\n/**\n * Uncompressed size of the message in bytes.\n */\nexport var SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE = TMP_MESSAGE_UNCOMPRESSED_SIZE;\n/**\n * Create exported Value Map for SemanticAttributes values\n * @deprecated Use the SEMATTRS_XXXXX constants rather than the SemanticAttributes.XXXXX for bundle minification\n */\nexport var SemanticAttributes = \n/*#__PURE__*/ createConstMap([\n    TMP_AWS_LAMBDA_INVOKED_ARN,\n    TMP_DB_SYSTEM,\n    TMP_DB_CONNECTION_STRING,\n    TMP_DB_USER,\n    TMP_DB_JDBC_DRIVER_CLASSNAME,\n    TMP_DB_NAME,\n    TMP_DB_STATEMENT,\n    TMP_DB_OPERATION,\n    TMP_DB_MSSQL_INSTANCE_NAME,\n    TMP_DB_CASSANDRA_KEYSPACE,\n    TMP_DB_CASSANDRA_PAGE_SIZE,\n    TMP_DB_CASSANDRA_CONSISTENCY_LEVEL,\n    TMP_DB_CASSANDRA_TABLE,\n    TMP_DB_CASSANDRA_IDEMPOTENCE,\n    TMP_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT,\n    TMP_DB_CASSANDRA_COORDINATOR_ID,\n    TMP_DB_CASSANDRA_COORDINATOR_DC,\n    TMP_DB_HBASE_NAMESPACE,\n    TMP_DB_REDIS_DATABASE_INDEX,\n    TMP_DB_MONGODB_COLLECTION,\n    TMP_DB_SQL_TABLE,\n    TMP_EXCEPTION_TYPE,\n    TMP_EXCEPTION_MESSAGE,\n    TMP_EXCEPTION_STACKTRACE,\n    TMP_EXCEPTION_ESCAPED,\n    TMP_FAAS_TRIGGER,\n    TMP_FAAS_EXECUTION,\n    TMP_FAAS_DOCUMENT_COLLECTION,\n    TMP_FAAS_DOCUMENT_OPERATION,\n    TMP_FAAS_DOCUMENT_TIME,\n    TMP_FAAS_DOCUMENT_NAME,\n    TMP_FAAS_TIME,\n    TMP_FAAS_CRON,\n    TMP_FAAS_COLDSTART,\n    TMP_FAAS_INVOKED_NAME,\n    TMP_FAAS_INVOKED_PROVIDER,\n    TMP_FAAS_INVOKED_REGION,\n    TMP_NET_TRANSPORT,\n    TMP_NET_PEER_IP,\n    TMP_NET_PEER_PORT,\n    TMP_NET_PEER_NAME,\n    TMP_NET_HOST_IP,\n    TMP_NET_HOST_PORT,\n    TMP_NET_HOST_NAME,\n    TMP_NET_HOST_CONNECTION_TYPE,\n    TMP_NET_HOST_CONNECTION_SUBTYPE,\n    TMP_NET_HOST_CARRIER_NAME,\n    TMP_NET_HOST_CARRIER_MCC,\n    TMP_NET_HOST_CARRIER_MNC,\n    TMP_NET_HOST_CARRIER_ICC,\n    TMP_PEER_SERVICE,\n    TMP_ENDUSER_ID,\n    TMP_ENDUSER_ROLE,\n    TMP_ENDUSER_SCOPE,\n    TMP_THREAD_ID,\n    TMP_THREAD_NAME,\n    TMP_CODE_FUNCTION,\n    TMP_CODE_NAMESPACE,\n    TMP_CODE_FILEPATH,\n    TMP_CODE_LINENO,\n    TMP_HTTP_METHOD,\n    TMP_HTTP_URL,\n    TMP_HTTP_TARGET,\n    TMP_HTTP_HOST,\n    TMP_HTTP_SCHEME,\n    TMP_HTTP_STATUS_CODE,\n    TMP_HTTP_FLAVOR,\n    TMP_HTTP_USER_AGENT,\n    TMP_HTTP_REQUEST_CONTENT_LENGTH,\n    TMP_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED,\n    TMP_HTTP_RESPONSE_CONTENT_LENGTH,\n    TMP_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED,\n    TMP_HTTP_SERVER_NAME,\n    TMP_HTTP_ROUTE,\n    TMP_HTTP_CLIENT_IP,\n    TMP_AWS_DYNAMODB_TABLE_NAMES,\n    TMP_AWS_DYNAMODB_CONSUMED_CAPACITY,\n    TMP_AWS_DYNAMODB_ITEM_COLLECTION_METRICS,\n    TMP_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY,\n    TMP_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY,\n    TMP_AWS_DYNAMODB_CONSISTENT_READ,\n    TMP_AWS_DYNAMODB_PROJECTION,\n    TMP_AWS_DYNAMODB_LIMIT,\n    TMP_AWS_DYNAMODB_ATTRIBUTES_TO_GET,\n    TMP_AWS_DYNAMODB_INDEX_NAME,\n    TMP_AWS_DYNAMODB_SELECT,\n    TMP_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES,\n    TMP_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES,\n    TMP_AWS_DYNAMODB_EXCLUSIVE_START_TABLE,\n    TMP_AWS_DYNAMODB_TABLE_COUNT,\n    TMP_AWS_DYNAMODB_SCAN_FORWARD,\n    TMP_AWS_DYNAMODB_SEGMENT,\n    TMP_AWS_DYNAMODB_TOTAL_SEGMENTS,\n    TMP_AWS_DYNAMODB_COUNT,\n    TMP_AWS_DYNAMODB_SCANNED_COUNT,\n    TMP_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS,\n    TMP_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES,\n    TMP_MESSAGING_SYSTEM,\n    TMP_MESSAGING_DESTINATION,\n    TMP_MESSAGING_DESTINATION_KIND,\n    TMP_MESSAGING_TEMP_DESTINATION,\n    TMP_MESSAGING_PROTOCOL,\n    TMP_MESSAGING_PROTOCOL_VERSION,\n    TMP_MESSAGING_URL,\n    TMP_MESSAGING_MESSAGE_ID,\n    TMP_MESSAGING_CONVERSATION_ID,\n    TMP_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES,\n    TMP_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES,\n    TMP_MESSAGING_OPERATION,\n    TMP_MESSAGING_CONSUMER_ID,\n    TMP_MESSAGING_RABBITMQ_ROUTING_KEY,\n    TMP_MESSAGING_KAFKA_MESSAGE_KEY,\n    TMP_MESSAGING_KAFKA_CONSUMER_GROUP,\n    TMP_MESSAGING_KAFKA_CLIENT_ID,\n    TMP_MESSAGING_KAFKA_PARTITION,\n    TMP_MESSAGING_KAFKA_TOMBSTONE,\n    TMP_RPC_SYSTEM,\n    TMP_RPC_SERVICE,\n    TMP_RPC_METHOD,\n    TMP_RPC_GRPC_STATUS_CODE,\n    TMP_RPC_JSONRPC_VERSION,\n    TMP_RPC_JSONRPC_REQUEST_ID,\n    TMP_RPC_JSONRPC_ERROR_CODE,\n    TMP_RPC_JSONRPC_ERROR_MESSAGE,\n    TMP_MESSAGE_TYPE,\n    TMP_MESSAGE_ID,\n    TMP_MESSAGE_COMPRESSED_SIZE,\n    TMP_MESSAGE_UNCOMPRESSED_SIZE,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for DbSystemValues enum definition\n *\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_DBSYSTEMVALUES_OTHER_SQL = 'other_sql';\nvar TMP_DBSYSTEMVALUES_MSSQL = 'mssql';\nvar TMP_DBSYSTEMVALUES_MYSQL = 'mysql';\nvar TMP_DBSYSTEMVALUES_ORACLE = 'oracle';\nvar TMP_DBSYSTEMVALUES_DB2 = 'db2';\nvar TMP_DBSYSTEMVALUES_POSTGRESQL = 'postgresql';\nvar TMP_DBSYSTEMVALUES_REDSHIFT = 'redshift';\nvar TMP_DBSYSTEMVALUES_HIVE = 'hive';\nvar TMP_DBSYSTEMVALUES_CLOUDSCAPE = 'cloudscape';\nvar TMP_DBSYSTEMVALUES_HSQLDB = 'hsqldb';\nvar TMP_DBSYSTEMVALUES_PROGRESS = 'progress';\nvar TMP_DBSYSTEMVALUES_MAXDB = 'maxdb';\nvar TMP_DBSYSTEMVALUES_HANADB = 'hanadb';\nvar TMP_DBSYSTEMVALUES_INGRES = 'ingres';\nvar TMP_DBSYSTEMVALUES_FIRSTSQL = 'firstsql';\nvar TMP_DBSYSTEMVALUES_EDB = 'edb';\nvar TMP_DBSYSTEMVALUES_CACHE = 'cache';\nvar TMP_DBSYSTEMVALUES_ADABAS = 'adabas';\nvar TMP_DBSYSTEMVALUES_FIREBIRD = 'firebird';\nvar TMP_DBSYSTEMVALUES_DERBY = 'derby';\nvar TMP_DBSYSTEMVALUES_FILEMAKER = 'filemaker';\nvar TMP_DBSYSTEMVALUES_INFORMIX = 'informix';\nvar TMP_DBSYSTEMVALUES_INSTANTDB = 'instantdb';\nvar TMP_DBSYSTEMVALUES_INTERBASE = 'interbase';\nvar TMP_DBSYSTEMVALUES_MARIADB = 'mariadb';\nvar TMP_DBSYSTEMVALUES_NETEZZA = 'netezza';\nvar TMP_DBSYSTEMVALUES_PERVASIVE = 'pervasive';\nvar TMP_DBSYSTEMVALUES_POINTBASE = 'pointbase';\nvar TMP_DBSYSTEMVALUES_SQLITE = 'sqlite';\nvar TMP_DBSYSTEMVALUES_SYBASE = 'sybase';\nvar TMP_DBSYSTEMVALUES_TERADATA = 'teradata';\nvar TMP_DBSYSTEMVALUES_VERTICA = 'vertica';\nvar TMP_DBSYSTEMVALUES_H2 = 'h2';\nvar TMP_DBSYSTEMVALUES_COLDFUSION = 'coldfusion';\nvar TMP_DBSYSTEMVALUES_CASSANDRA = 'cassandra';\nvar TMP_DBSYSTEMVALUES_HBASE = 'hbase';\nvar TMP_DBSYSTEMVALUES_MONGODB = 'mongodb';\nvar TMP_DBSYSTEMVALUES_REDIS = 'redis';\nvar TMP_DBSYSTEMVALUES_COUCHBASE = 'couchbase';\nvar TMP_DBSYSTEMVALUES_COUCHDB = 'couchdb';\nvar TMP_DBSYSTEMVALUES_COSMOSDB = 'cosmosdb';\nvar TMP_DBSYSTEMVALUES_DYNAMODB = 'dynamodb';\nvar TMP_DBSYSTEMVALUES_NEO4J = 'neo4j';\nvar TMP_DBSYSTEMVALUES_GEODE = 'geode';\nvar TMP_DBSYSTEMVALUES_ELASTICSEARCH = 'elasticsearch';\nvar TMP_DBSYSTEMVALUES_MEMCACHED = 'memcached';\nvar TMP_DBSYSTEMVALUES_COCKROACHDB = 'cockroachdb';\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_OTHER_SQL = TMP_DBSYSTEMVALUES_OTHER_SQL;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_MSSQL = TMP_DBSYSTEMVALUES_MSSQL;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_MYSQL = TMP_DBSYSTEMVALUES_MYSQL;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_ORACLE = TMP_DBSYSTEMVALUES_ORACLE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_DB2 = TMP_DBSYSTEMVALUES_DB2;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_POSTGRESQL = TMP_DBSYSTEMVALUES_POSTGRESQL;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_REDSHIFT = TMP_DBSYSTEMVALUES_REDSHIFT;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_HIVE = TMP_DBSYSTEMVALUES_HIVE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_CLOUDSCAPE = TMP_DBSYSTEMVALUES_CLOUDSCAPE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_HSQLDB = TMP_DBSYSTEMVALUES_HSQLDB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_PROGRESS = TMP_DBSYSTEMVALUES_PROGRESS;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_MAXDB = TMP_DBSYSTEMVALUES_MAXDB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_HANADB = TMP_DBSYSTEMVALUES_HANADB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_INGRES = TMP_DBSYSTEMVALUES_INGRES;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_FIRSTSQL = TMP_DBSYSTEMVALUES_FIRSTSQL;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_EDB = TMP_DBSYSTEMVALUES_EDB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_CACHE = TMP_DBSYSTEMVALUES_CACHE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_ADABAS = TMP_DBSYSTEMVALUES_ADABAS;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_FIREBIRD = TMP_DBSYSTEMVALUES_FIREBIRD;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_DERBY = TMP_DBSYSTEMVALUES_DERBY;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_FILEMAKER = TMP_DBSYSTEMVALUES_FILEMAKER;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_INFORMIX = TMP_DBSYSTEMVALUES_INFORMIX;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_INSTANTDB = TMP_DBSYSTEMVALUES_INSTANTDB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_INTERBASE = TMP_DBSYSTEMVALUES_INTERBASE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_MARIADB = TMP_DBSYSTEMVALUES_MARIADB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_NETEZZA = TMP_DBSYSTEMVALUES_NETEZZA;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_PERVASIVE = TMP_DBSYSTEMVALUES_PERVASIVE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_POINTBASE = TMP_DBSYSTEMVALUES_POINTBASE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_SQLITE = TMP_DBSYSTEMVALUES_SQLITE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_SYBASE = TMP_DBSYSTEMVALUES_SYBASE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_TERADATA = TMP_DBSYSTEMVALUES_TERADATA;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_VERTICA = TMP_DBSYSTEMVALUES_VERTICA;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_H2 = TMP_DBSYSTEMVALUES_H2;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_COLDFUSION = TMP_DBSYSTEMVALUES_COLDFUSION;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_CASSANDRA = TMP_DBSYSTEMVALUES_CASSANDRA;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_HBASE = TMP_DBSYSTEMVALUES_HBASE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_MONGODB = TMP_DBSYSTEMVALUES_MONGODB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_REDIS = TMP_DBSYSTEMVALUES_REDIS;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_COUCHBASE = TMP_DBSYSTEMVALUES_COUCHBASE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_COUCHDB = TMP_DBSYSTEMVALUES_COUCHDB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_COSMOSDB = TMP_DBSYSTEMVALUES_COSMOSDB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_DYNAMODB = TMP_DBSYSTEMVALUES_DYNAMODB;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_NEO4J = TMP_DBSYSTEMVALUES_NEO4J;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_GEODE = TMP_DBSYSTEMVALUES_GEODE;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_ELASTICSEARCH = TMP_DBSYSTEMVALUES_ELASTICSEARCH;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_MEMCACHED = TMP_DBSYSTEMVALUES_MEMCACHED;\n/**\n * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n */\nexport var DBSYSTEMVALUES_COCKROACHDB = TMP_DBSYSTEMVALUES_COCKROACHDB;\n/**\n * The constant map of values for DbSystemValues.\n * @deprecated Use the DBSYSTEMVALUES_XXXXX constants rather than the DbSystemValues.XXXXX for bundle minification.\n */\nexport var DbSystemValues = \n/*#__PURE__*/ createConstMap([\n    TMP_DBSYSTEMVALUES_OTHER_SQL,\n    TMP_DBSYSTEMVALUES_MSSQL,\n    TMP_DBSYSTEMVALUES_MYSQL,\n    TMP_DBSYSTEMVALUES_ORACLE,\n    TMP_DBSYSTEMVALUES_DB2,\n    TMP_DBSYSTEMVALUES_POSTGRESQL,\n    TMP_DBSYSTEMVALUES_REDSHIFT,\n    TMP_DBSYSTEMVALUES_HIVE,\n    TMP_DBSYSTEMVALUES_CLOUDSCAPE,\n    TMP_DBSYSTEMVALUES_HSQLDB,\n    TMP_DBSYSTEMVALUES_PROGRESS,\n    TMP_DBSYSTEMVALUES_MAXDB,\n    TMP_DBSYSTEMVALUES_HANADB,\n    TMP_DBSYSTEMVALUES_INGRES,\n    TMP_DBSYSTEMVALUES_FIRSTSQL,\n    TMP_DBSYSTEMVALUES_EDB,\n    TMP_DBSYSTEMVALUES_CACHE,\n    TMP_DBSYSTEMVALUES_ADABAS,\n    TMP_DBSYSTEMVALUES_FIREBIRD,\n    TMP_DBSYSTEMVALUES_DERBY,\n    TMP_DBSYSTEMVALUES_FILEMAKER,\n    TMP_DBSYSTEMVALUES_INFORMIX,\n    TMP_DBSYSTEMVALUES_INSTANTDB,\n    TMP_DBSYSTEMVALUES_INTERBASE,\n    TMP_DBSYSTEMVALUES_MARIADB,\n    TMP_DBSYSTEMVALUES_NETEZZA,\n    TMP_DBSYSTEMVALUES_PERVASIVE,\n    TMP_DBSYSTEMVALUES_POINTBASE,\n    TMP_DBSYSTEMVALUES_SQLITE,\n    TMP_DBSYSTEMVALUES_SYBASE,\n    TMP_DBSYSTEMVALUES_TERADATA,\n    TMP_DBSYSTEMVALUES_VERTICA,\n    TMP_DBSYSTEMVALUES_H2,\n    TMP_DBSYSTEMVALUES_COLDFUSION,\n    TMP_DBSYSTEMVALUES_CASSANDRA,\n    TMP_DBSYSTEMVALUES_HBASE,\n    TMP_DBSYSTEMVALUES_MONGODB,\n    TMP_DBSYSTEMVALUES_REDIS,\n    TMP_DBSYSTEMVALUES_COUCHBASE,\n    TMP_DBSYSTEMVALUES_COUCHDB,\n    TMP_DBSYSTEMVALUES_COSMOSDB,\n    TMP_DBSYSTEMVALUES_DYNAMODB,\n    TMP_DBSYSTEMVALUES_NEO4J,\n    TMP_DBSYSTEMVALUES_GEODE,\n    TMP_DBSYSTEMVALUES_ELASTICSEARCH,\n    TMP_DBSYSTEMVALUES_MEMCACHED,\n    TMP_DBSYSTEMVALUES_COCKROACHDB,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for DbCassandraConsistencyLevelValues enum definition\n *\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ALL = 'all';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM = 'each_quorum';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM = 'quorum';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM = 'local_quorum';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ONE = 'one';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_TWO = 'two';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_THREE = 'three';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE = 'local_one';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ANY = 'any';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL = 'serial';\nvar TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL = 'local_serial';\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_ALL = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ALL;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_ONE = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ONE;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_TWO = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_TWO;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_THREE = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_THREE;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_ANY = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ANY;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL;\n/**\n * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n */\nexport var DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL = TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL;\n/**\n * The constant map of values for DbCassandraConsistencyLevelValues.\n * @deprecated Use the DBCASSANDRACONSISTENCYLEVELVALUES_XXXXX constants rather than the DbCassandraConsistencyLevelValues.XXXXX for bundle minification.\n */\nexport var DbCassandraConsistencyLevelValues = \n/*#__PURE__*/ createConstMap([\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ALL,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ONE,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_TWO,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_THREE,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_ANY,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL,\n    TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for FaasTriggerValues enum definition\n *\n * Type of the trigger on which the function is executed.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_FAASTRIGGERVALUES_DATASOURCE = 'datasource';\nvar TMP_FAASTRIGGERVALUES_HTTP = 'http';\nvar TMP_FAASTRIGGERVALUES_PUBSUB = 'pubsub';\nvar TMP_FAASTRIGGERVALUES_TIMER = 'timer';\nvar TMP_FAASTRIGGERVALUES_OTHER = 'other';\n/**\n * Type of the trigger on which the function is executed.\n */\nexport var FAASTRIGGERVALUES_DATASOURCE = TMP_FAASTRIGGERVALUES_DATASOURCE;\n/**\n * Type of the trigger on which the function is executed.\n */\nexport var FAASTRIGGERVALUES_HTTP = TMP_FAASTRIGGERVALUES_HTTP;\n/**\n * Type of the trigger on which the function is executed.\n */\nexport var FAASTRIGGERVALUES_PUBSUB = TMP_FAASTRIGGERVALUES_PUBSUB;\n/**\n * Type of the trigger on which the function is executed.\n */\nexport var FAASTRIGGERVALUES_TIMER = TMP_FAASTRIGGERVALUES_TIMER;\n/**\n * Type of the trigger on which the function is executed.\n */\nexport var FAASTRIGGERVALUES_OTHER = TMP_FAASTRIGGERVALUES_OTHER;\n/**\n * The constant map of values for FaasTriggerValues.\n * @deprecated Use the FAASTRIGGERVALUES_XXXXX constants rather than the FaasTriggerValues.XXXXX for bundle minification.\n */\nexport var FaasTriggerValues = \n/*#__PURE__*/ createConstMap([\n    TMP_FAASTRIGGERVALUES_DATASOURCE,\n    TMP_FAASTRIGGERVALUES_HTTP,\n    TMP_FAASTRIGGERVALUES_PUBSUB,\n    TMP_FAASTRIGGERVALUES_TIMER,\n    TMP_FAASTRIGGERVALUES_OTHER,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for FaasDocumentOperationValues enum definition\n *\n * Describes the type of the operation that was performed on the data.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_FAASDOCUMENTOPERATIONVALUES_INSERT = 'insert';\nvar TMP_FAASDOCUMENTOPERATIONVALUES_EDIT = 'edit';\nvar TMP_FAASDOCUMENTOPERATIONVALUES_DELETE = 'delete';\n/**\n * Describes the type of the operation that was performed on the data.\n */\nexport var FAASDOCUMENTOPERATIONVALUES_INSERT = TMP_FAASDOCUMENTOPERATIONVALUES_INSERT;\n/**\n * Describes the type of the operation that was performed on the data.\n */\nexport var FAASDOCUMENTOPERATIONVALUES_EDIT = TMP_FAASDOCUMENTOPERATIONVALUES_EDIT;\n/**\n * Describes the type of the operation that was performed on the data.\n */\nexport var FAASDOCUMENTOPERATIONVALUES_DELETE = TMP_FAASDOCUMENTOPERATIONVALUES_DELETE;\n/**\n * The constant map of values for FaasDocumentOperationValues.\n * @deprecated Use the FAASDOCUMENTOPERATIONVALUES_XXXXX constants rather than the FaasDocumentOperationValues.XXXXX for bundle minification.\n */\nexport var FaasDocumentOperationValues = \n/*#__PURE__*/ createConstMap([\n    TMP_FAASDOCUMENTOPERATIONVALUES_INSERT,\n    TMP_FAASDOCUMENTOPERATIONVALUES_EDIT,\n    TMP_FAASDOCUMENTOPERATIONVALUES_DELETE,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for FaasInvokedProviderValues enum definition\n *\n * The cloud provider of the invoked function.\n *\n * Note: SHOULD be equal to the `cloud.provider` resource attribute of the invoked function.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD = 'alibaba_cloud';\nvar TMP_FAASINVOKEDPROVIDERVALUES_AWS = 'aws';\nvar TMP_FAASINVOKEDPROVIDERVALUES_AZURE = 'azure';\nvar TMP_FAASINVOKEDPROVIDERVALUES_GCP = 'gcp';\n/**\n * The cloud provider of the invoked function.\n *\n * Note: SHOULD be equal to the `cloud.provider` resource attribute of the invoked function.\n */\nexport var FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD = TMP_FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD;\n/**\n * The cloud provider of the invoked function.\n *\n * Note: SHOULD be equal to the `cloud.provider` resource attribute of the invoked function.\n */\nexport var FAASINVOKEDPROVIDERVALUES_AWS = TMP_FAASINVOKEDPROVIDERVALUES_AWS;\n/**\n * The cloud provider of the invoked function.\n *\n * Note: SHOULD be equal to the `cloud.provider` resource attribute of the invoked function.\n */\nexport var FAASINVOKEDPROVIDERVALUES_AZURE = TMP_FAASINVOKEDPROVIDERVALUES_AZURE;\n/**\n * The cloud provider of the invoked function.\n *\n * Note: SHOULD be equal to the `cloud.provider` resource attribute of the invoked function.\n */\nexport var FAASINVOKEDPROVIDERVALUES_GCP = TMP_FAASINVOKEDPROVIDERVALUES_GCP;\n/**\n * The constant map of values for FaasInvokedProviderValues.\n * @deprecated Use the FAASINVOKEDPROVIDERVALUES_XXXXX constants rather than the FaasInvokedProviderValues.XXXXX for bundle minification.\n */\nexport var FaasInvokedProviderValues = \n/*#__PURE__*/ createConstMap([\n    TMP_FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD,\n    TMP_FAASINVOKEDPROVIDERVALUES_AWS,\n    TMP_FAASINVOKEDPROVIDERVALUES_AZURE,\n    TMP_FAASINVOKEDPROVIDERVALUES_GCP,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for NetTransportValues enum definition\n *\n * Transport protocol used. See note below.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_NETTRANSPORTVALUES_IP_TCP = 'ip_tcp';\nvar TMP_NETTRANSPORTVALUES_IP_UDP = 'ip_udp';\nvar TMP_NETTRANSPORTVALUES_IP = 'ip';\nvar TMP_NETTRANSPORTVALUES_UNIX = 'unix';\nvar TMP_NETTRANSPORTVALUES_PIPE = 'pipe';\nvar TMP_NETTRANSPORTVALUES_INPROC = 'inproc';\nvar TMP_NETTRANSPORTVALUES_OTHER = 'other';\n/**\n * Transport protocol used. See note below.\n */\nexport var NETTRANSPORTVALUES_IP_TCP = TMP_NETTRANSPORTVALUES_IP_TCP;\n/**\n * Transport protocol used. See note below.\n */\nexport var NETTRANSPORTVALUES_IP_UDP = TMP_NETTRANSPORTVALUES_IP_UDP;\n/**\n * Transport protocol used. See note below.\n */\nexport var NETTRANSPORTVALUES_IP = TMP_NETTRANSPORTVALUES_IP;\n/**\n * Transport protocol used. See note below.\n */\nexport var NETTRANSPORTVALUES_UNIX = TMP_NETTRANSPORTVALUES_UNIX;\n/**\n * Transport protocol used. See note below.\n */\nexport var NETTRANSPORTVALUES_PIPE = TMP_NETTRANSPORTVALUES_PIPE;\n/**\n * Transport protocol used. See note below.\n */\nexport var NETTRANSPORTVALUES_INPROC = TMP_NETTRANSPORTVALUES_INPROC;\n/**\n * Transport protocol used. See note below.\n */\nexport var NETTRANSPORTVALUES_OTHER = TMP_NETTRANSPORTVALUES_OTHER;\n/**\n * The constant map of values for NetTransportValues.\n * @deprecated Use the NETTRANSPORTVALUES_XXXXX constants rather than the NetTransportValues.XXXXX for bundle minification.\n */\nexport var NetTransportValues = \n/*#__PURE__*/ createConstMap([\n    TMP_NETTRANSPORTVALUES_IP_TCP,\n    TMP_NETTRANSPORTVALUES_IP_UDP,\n    TMP_NETTRANSPORTVALUES_IP,\n    TMP_NETTRANSPORTVALUES_UNIX,\n    TMP_NETTRANSPORTVALUES_PIPE,\n    TMP_NETTRANSPORTVALUES_INPROC,\n    TMP_NETTRANSPORTVALUES_OTHER,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for NetHostConnectionTypeValues enum definition\n *\n * The internet connection type currently being used by the host.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_NETHOSTCONNECTIONTYPEVALUES_WIFI = 'wifi';\nvar TMP_NETHOSTCONNECTIONTYPEVALUES_WIRED = 'wired';\nvar TMP_NETHOSTCONNECTIONTYPEVALUES_CELL = 'cell';\nvar TMP_NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE = 'unavailable';\nvar TMP_NETHOSTCONNECTIONTYPEVALUES_UNKNOWN = 'unknown';\n/**\n * The internet connection type currently being used by the host.\n */\nexport var NETHOSTCONNECTIONTYPEVALUES_WIFI = TMP_NETHOSTCONNECTIONTYPEVALUES_WIFI;\n/**\n * The internet connection type currently being used by the host.\n */\nexport var NETHOSTCONNECTIONTYPEVALUES_WIRED = TMP_NETHOSTCONNECTIONTYPEVALUES_WIRED;\n/**\n * The internet connection type currently being used by the host.\n */\nexport var NETHOSTCONNECTIONTYPEVALUES_CELL = TMP_NETHOSTCONNECTIONTYPEVALUES_CELL;\n/**\n * The internet connection type currently being used by the host.\n */\nexport var NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE = TMP_NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE;\n/**\n * The internet connection type currently being used by the host.\n */\nexport var NETHOSTCONNECTIONTYPEVALUES_UNKNOWN = TMP_NETHOSTCONNECTIONTYPEVALUES_UNKNOWN;\n/**\n * The constant map of values for NetHostConnectionTypeValues.\n * @deprecated Use the NETHOSTCONNECTIONTYPEVALUES_XXXXX constants rather than the NetHostConnectionTypeValues.XXXXX for bundle minification.\n */\nexport var NetHostConnectionTypeValues = \n/*#__PURE__*/ createConstMap([\n    TMP_NETHOSTCONNECTIONTYPEVALUES_WIFI,\n    TMP_NETHOSTCONNECTIONTYPEVALUES_WIRED,\n    TMP_NETHOSTCONNECTIONTYPEVALUES_CELL,\n    TMP_NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE,\n    TMP_NETHOSTCONNECTIONTYPEVALUES_UNKNOWN,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for NetHostConnectionSubtypeValues enum definition\n *\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_GPRS = 'gprs';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EDGE = 'edge';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_UMTS = 'umts';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_CDMA = 'cdma';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0 = 'evdo_0';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A = 'evdo_a';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT = 'cdma2000_1xrtt';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA = 'hsdpa';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA = 'hsupa';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSPA = 'hspa';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_IDEN = 'iden';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B = 'evdo_b';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_LTE = 'lte';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD = 'ehrpd';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP = 'hspap';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_GSM = 'gsm';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA = 'td_scdma';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN = 'iwlan';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_NR = 'nr';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA = 'nrnsa';\nvar TMP_NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA = 'lte_ca';\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_GPRS = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_GPRS;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_EDGE = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EDGE;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_UMTS = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_UMTS;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_CDMA = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_CDMA;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0 = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_HSPA = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSPA;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_IDEN = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_IDEN;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_LTE = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_LTE;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_GSM = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_GSM;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_NR = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_NR;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA;\n/**\n * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n */\nexport var NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA = TMP_NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA;\n/**\n * The constant map of values for NetHostConnectionSubtypeValues.\n * @deprecated Use the NETHOSTCONNECTIONSUBTYPEVALUES_XXXXX constants rather than the NetHostConnectionSubtypeValues.XXXXX for bundle minification.\n */\nexport var NetHostConnectionSubtypeValues = \n/*#__PURE__*/ createConstMap([\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_GPRS,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EDGE,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_UMTS,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_CDMA,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSPA,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_IDEN,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_LTE,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_GSM,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_NR,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA,\n    TMP_NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for HttpFlavorValues enum definition\n *\n * Kind of HTTP protocol used.\n *\n * Note: If `net.transport` is not specified, it can be assumed to be `IP.TCP` except if `http.flavor` is `QUIC`, in which case `IP.UDP` is assumed.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_HTTPFLAVORVALUES_HTTP_1_0 = '1.0';\nvar TMP_HTTPFLAVORVALUES_HTTP_1_1 = '1.1';\nvar TMP_HTTPFLAVORVALUES_HTTP_2_0 = '2.0';\nvar TMP_HTTPFLAVORVALUES_SPDY = 'SPDY';\nvar TMP_HTTPFLAVORVALUES_QUIC = 'QUIC';\n/**\n * Kind of HTTP protocol used.\n *\n * Note: If `net.transport` is not specified, it can be assumed to be `IP.TCP` except if `http.flavor` is `QUIC`, in which case `IP.UDP` is assumed.\n */\nexport var HTTPFLAVORVALUES_HTTP_1_0 = TMP_HTTPFLAVORVALUES_HTTP_1_0;\n/**\n * Kind of HTTP protocol used.\n *\n * Note: If `net.transport` is not specified, it can be assumed to be `IP.TCP` except if `http.flavor` is `QUIC`, in which case `IP.UDP` is assumed.\n */\nexport var HTTPFLAVORVALUES_HTTP_1_1 = TMP_HTTPFLAVORVALUES_HTTP_1_1;\n/**\n * Kind of HTTP protocol used.\n *\n * Note: If `net.transport` is not specified, it can be assumed to be `IP.TCP` except if `http.flavor` is `QUIC`, in which case `IP.UDP` is assumed.\n */\nexport var HTTPFLAVORVALUES_HTTP_2_0 = TMP_HTTPFLAVORVALUES_HTTP_2_0;\n/**\n * Kind of HTTP protocol used.\n *\n * Note: If `net.transport` is not specified, it can be assumed to be `IP.TCP` except if `http.flavor` is `QUIC`, in which case `IP.UDP` is assumed.\n */\nexport var HTTPFLAVORVALUES_SPDY = TMP_HTTPFLAVORVALUES_SPDY;\n/**\n * Kind of HTTP protocol used.\n *\n * Note: If `net.transport` is not specified, it can be assumed to be `IP.TCP` except if `http.flavor` is `QUIC`, in which case `IP.UDP` is assumed.\n */\nexport var HTTPFLAVORVALUES_QUIC = TMP_HTTPFLAVORVALUES_QUIC;\n/**\n * The constant map of values for HttpFlavorValues.\n * @deprecated Use the HTTPFLAVORVALUES_XXXXX constants rather than the HttpFlavorValues.XXXXX for bundle minification.\n */\nexport var HttpFlavorValues = {\n    HTTP_1_0: TMP_HTTPFLAVORVALUES_HTTP_1_0,\n    HTTP_1_1: TMP_HTTPFLAVORVALUES_HTTP_1_1,\n    HTTP_2_0: TMP_HTTPFLAVORVALUES_HTTP_2_0,\n    SPDY: TMP_HTTPFLAVORVALUES_SPDY,\n    QUIC: TMP_HTTPFLAVORVALUES_QUIC,\n};\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for MessagingDestinationKindValues enum definition\n *\n * The kind of message destination.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_MESSAGINGDESTINATIONKINDVALUES_QUEUE = 'queue';\nvar TMP_MESSAGINGDESTINATIONKINDVALUES_TOPIC = 'topic';\n/**\n * The kind of message destination.\n */\nexport var MESSAGINGDESTINATIONKINDVALUES_QUEUE = TMP_MESSAGINGDESTINATIONKINDVALUES_QUEUE;\n/**\n * The kind of message destination.\n */\nexport var MESSAGINGDESTINATIONKINDVALUES_TOPIC = TMP_MESSAGINGDESTINATIONKINDVALUES_TOPIC;\n/**\n * The constant map of values for MessagingDestinationKindValues.\n * @deprecated Use the MESSAGINGDESTINATIONKINDVALUES_XXXXX constants rather than the MessagingDestinationKindValues.XXXXX for bundle minification.\n */\nexport var MessagingDestinationKindValues = \n/*#__PURE__*/ createConstMap([\n    TMP_MESSAGINGDESTINATIONKINDVALUES_QUEUE,\n    TMP_MESSAGINGDESTINATIONKINDVALUES_TOPIC,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for MessagingOperationValues enum definition\n *\n * A string identifying the kind of message consumption as defined in the [Operation names](#operation-names) section above. If the operation is &#34;send&#34;, this attribute MUST NOT be set, since the operation can be inferred from the span kind in that case.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_MESSAGINGOPERATIONVALUES_RECEIVE = 'receive';\nvar TMP_MESSAGINGOPERATIONVALUES_PROCESS = 'process';\n/**\n * A string identifying the kind of message consumption as defined in the [Operation names](#operation-names) section above. If the operation is &#34;send&#34;, this attribute MUST NOT be set, since the operation can be inferred from the span kind in that case.\n */\nexport var MESSAGINGOPERATIONVALUES_RECEIVE = TMP_MESSAGINGOPERATIONVALUES_RECEIVE;\n/**\n * A string identifying the kind of message consumption as defined in the [Operation names](#operation-names) section above. If the operation is &#34;send&#34;, this attribute MUST NOT be set, since the operation can be inferred from the span kind in that case.\n */\nexport var MESSAGINGOPERATIONVALUES_PROCESS = TMP_MESSAGINGOPERATIONVALUES_PROCESS;\n/**\n * The constant map of values for MessagingOperationValues.\n * @deprecated Use the MESSAGINGOPERATIONVALUES_XXXXX constants rather than the MessagingOperationValues.XXXXX for bundle minification.\n */\nexport var MessagingOperationValues = \n/*#__PURE__*/ createConstMap([\n    TMP_MESSAGINGOPERATIONVALUES_RECEIVE,\n    TMP_MESSAGINGOPERATIONVALUES_PROCESS,\n]);\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for RpcGrpcStatusCodeValues enum definition\n *\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_RPCGRPCSTATUSCODEVALUES_OK = 0;\nvar TMP_RPCGRPCSTATUSCODEVALUES_CANCELLED = 1;\nvar TMP_RPCGRPCSTATUSCODEVALUES_UNKNOWN = 2;\nvar TMP_RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT = 3;\nvar TMP_RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED = 4;\nvar TMP_RPCGRPCSTATUSCODEVALUES_NOT_FOUND = 5;\nvar TMP_RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS = 6;\nvar TMP_RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED = 7;\nvar TMP_RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED = 8;\nvar TMP_RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION = 9;\nvar TMP_RPCGRPCSTATUSCODEVALUES_ABORTED = 10;\nvar TMP_RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE = 11;\nvar TMP_RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED = 12;\nvar TMP_RPCGRPCSTATUSCODEVALUES_INTERNAL = 13;\nvar TMP_RPCGRPCSTATUSCODEVALUES_UNAVAILABLE = 14;\nvar TMP_RPCGRPCSTATUSCODEVALUES_DATA_LOSS = 15;\nvar TMP_RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED = 16;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_OK = TMP_RPCGRPCSTATUSCODEVALUES_OK;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_CANCELLED = TMP_RPCGRPCSTATUSCODEVALUES_CANCELLED;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_UNKNOWN = TMP_RPCGRPCSTATUSCODEVALUES_UNKNOWN;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT = TMP_RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED = TMP_RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_NOT_FOUND = TMP_RPCGRPCSTATUSCODEVALUES_NOT_FOUND;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS = TMP_RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED = TMP_RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED = TMP_RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION = TMP_RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_ABORTED = TMP_RPCGRPCSTATUSCODEVALUES_ABORTED;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE = TMP_RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED = TMP_RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_INTERNAL = TMP_RPCGRPCSTATUSCODEVALUES_INTERNAL;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_UNAVAILABLE = TMP_RPCGRPCSTATUSCODEVALUES_UNAVAILABLE;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_DATA_LOSS = TMP_RPCGRPCSTATUSCODEVALUES_DATA_LOSS;\n/**\n * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n */\nexport var RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED = TMP_RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED;\n/**\n * The constant map of values for RpcGrpcStatusCodeValues.\n * @deprecated Use the RPCGRPCSTATUSCODEVALUES_XXXXX constants rather than the RpcGrpcStatusCodeValues.XXXXX for bundle minification.\n */\nexport var RpcGrpcStatusCodeValues = {\n    OK: TMP_RPCGRPCSTATUSCODEVALUES_OK,\n    CANCELLED: TMP_RPCGRPCSTATUSCODEVALUES_CANCELLED,\n    UNKNOWN: TMP_RPCGRPCSTATUSCODEVALUES_UNKNOWN,\n    INVALID_ARGUMENT: TMP_RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT,\n    DEADLINE_EXCEEDED: TMP_RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED,\n    NOT_FOUND: TMP_RPCGRPCSTATUSCODEVALUES_NOT_FOUND,\n    ALREADY_EXISTS: TMP_RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS,\n    PERMISSION_DENIED: TMP_RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED,\n    RESOURCE_EXHAUSTED: TMP_RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED,\n    FAILED_PRECONDITION: TMP_RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION,\n    ABORTED: TMP_RPCGRPCSTATUSCODEVALUES_ABORTED,\n    OUT_OF_RANGE: TMP_RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE,\n    UNIMPLEMENTED: TMP_RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED,\n    INTERNAL: TMP_RPCGRPCSTATUSCODEVALUES_INTERNAL,\n    UNAVAILABLE: TMP_RPCGRPCSTATUSCODEVALUES_UNAVAILABLE,\n    DATA_LOSS: TMP_RPCGRPCSTATUSCODEVALUES_DATA_LOSS,\n    UNAUTHENTICATED: TMP_RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED,\n};\n/* ----------------------------------------------------------------------------------------------------------\n * Constant values for MessageTypeValues enum definition\n *\n * Whether this is a received or sent message.\n * ---------------------------------------------------------------------------------------------------------- */\n// Temporary local constants to assign to the individual exports and the namespaced version\n// Required to avoid the namespace exports using the unminifable export names for some package types\nvar TMP_MESSAGETYPEVALUES_SENT = 'SENT';\nvar TMP_MESSAGETYPEVALUES_RECEIVED = 'RECEIVED';\n/**\n * Whether this is a received or sent message.\n */\nexport var MESSAGETYPEVALUES_SENT = TMP_MESSAGETYPEVALUES_SENT;\n/**\n * Whether this is a received or sent message.\n */\nexport var MESSAGETYPEVALUES_RECEIVED = TMP_MESSAGETYPEVALUES_RECEIVED;\n/**\n * The constant map of values for MessageTypeValues.\n * @deprecated Use the MESSAGETYPEVALUES_XXXXX constants rather than the MessageTypeValues.XXXXX for bundle minification.\n */\nexport var MessageTypeValues = \n/*#__PURE__*/ createConstMap([\n    TMP_MESSAGETYPEVALUES_SENT,\n    TMP_MESSAGETYPEVALUES_RECEIVED,\n]);\n//# sourceMappingURL=SemanticAttributes.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst events_1 = require(\"events\");\nconst debug_1 = __importDefault(require(\"debug\"));\nconst promisify_1 = __importDefault(require(\"./promisify\"));\nconst debug = debug_1.default('agent-base');\nfunction isAgent(v) {\n    return Boolean(v) && typeof v.addRequest === 'function';\n}\nfunction isSecureEndpoint() {\n    const { stack } = new Error();\n    if (typeof stack !== 'string')\n        return false;\n    return stack.split('\\n').some(l => l.indexOf('(https.js:') !== -1 || l.indexOf('node:https:') !== -1);\n}\nfunction createAgent(callback, opts) {\n    return new createAgent.Agent(callback, opts);\n}\n(function (createAgent) {\n    /**\n     * Base `http.Agent` implementation.\n     * No pooling/keep-alive is implemented by default.\n     *\n     * @param {Function} callback\n     * @api public\n     */\n    class Agent extends events_1.EventEmitter {\n        constructor(callback, _opts) {\n            super();\n            let opts = _opts;\n            if (typeof callback === 'function') {\n                this.callback = callback;\n            }\n            else if (callback) {\n                opts = callback;\n            }\n            // Timeout for the socket to be returned from the callback\n            this.timeout = null;\n            if (opts && typeof opts.timeout === 'number') {\n                this.timeout = opts.timeout;\n            }\n            // These aren't actually used by `agent-base`, but are required\n            // for the TypeScript definition files in `@types/node` :/\n            this.maxFreeSockets = 1;\n            this.maxSockets = 1;\n            this.maxTotalSockets = Infinity;\n            this.sockets = {};\n            this.freeSockets = {};\n            this.requests = {};\n            this.options = {};\n        }\n        get defaultPort() {\n            if (typeof this.explicitDefaultPort === 'number') {\n                return this.explicitDefaultPort;\n            }\n            return isSecureEndpoint() ? 443 : 80;\n        }\n        set defaultPort(v) {\n            this.explicitDefaultPort = v;\n        }\n        get protocol() {\n            if (typeof this.explicitProtocol === 'string') {\n                return this.explicitProtocol;\n            }\n            return isSecureEndpoint() ? 'https:' : 'http:';\n        }\n        set protocol(v) {\n            this.explicitProtocol = v;\n        }\n        callback(req, opts, fn) {\n            throw new Error('\"agent-base\" has no default implementation, you must subclass and override `callback()`');\n        }\n        /**\n         * Called by node-core's \"_http_client.js\" module when creating\n         * a new HTTP request with this Agent instance.\n         *\n         * @api public\n         */\n        addRequest(req, _opts) {\n            const opts = Object.assign({}, _opts);\n            if (typeof opts.secureEndpoint !== 'boolean') {\n                opts.secureEndpoint = isSecureEndpoint();\n            }\n            if (opts.host == null) {\n                opts.host = 'localhost';\n            }\n            if (opts.port == null) {\n                opts.port = opts.secureEndpoint ? 443 : 80;\n            }\n            if (opts.protocol == null) {\n                opts.protocol = opts.secureEndpoint ? 'https:' : 'http:';\n            }\n            if (opts.host && opts.path) {\n                // If both a `host` and `path` are specified then it's most\n                // likely the result of a `url.parse()` call... we need to\n                // remove the `path` portion so that `net.connect()` doesn't\n                // attempt to open that as a unix socket file.\n                delete opts.path;\n            }\n            delete opts.agent;\n            delete opts.hostname;\n            delete opts._defaultAgent;\n            delete opts.defaultPort;\n            delete opts.createConnection;\n            // Hint to use \"Connection: close\"\n            // XXX: non-documented `http` module API :(\n            req._last = true;\n            req.shouldKeepAlive = false;\n            let timedOut = false;\n            let timeoutId = null;\n            const timeoutMs = opts.timeout || this.timeout;\n            const onerror = (err) => {\n                if (req._hadError)\n                    return;\n                req.emit('error', err);\n                // For Safety. Some additional errors might fire later on\n                // and we need to make sure we don't double-fire the error event.\n                req._hadError = true;\n            };\n            const ontimeout = () => {\n                timeoutId = null;\n                timedOut = true;\n                const err = new Error(`A \"socket\" was not created for HTTP request before ${timeoutMs}ms`);\n                err.code = 'ETIMEOUT';\n                onerror(err);\n            };\n            const callbackError = (err) => {\n                if (timedOut)\n                    return;\n                if (timeoutId !== null) {\n                    clearTimeout(timeoutId);\n                    timeoutId = null;\n                }\n                onerror(err);\n            };\n            const onsocket = (socket) => {\n                if (timedOut)\n                    return;\n                if (timeoutId != null) {\n                    clearTimeout(timeoutId);\n                    timeoutId = null;\n                }\n                if (isAgent(socket)) {\n                    // `socket` is actually an `http.Agent` instance, so\n                    // relinquish responsibility for this `req` to the Agent\n                    // from here on\n                    debug('Callback returned another Agent instance %o', socket.constructor.name);\n                    socket.addRequest(req, opts);\n                    return;\n                }\n                if (socket) {\n                    socket.once('free', () => {\n                        this.freeSocket(socket, opts);\n                    });\n                    req.onSocket(socket);\n                    return;\n                }\n                const err = new Error(`no Duplex stream was returned to agent-base for \\`${req.method} ${req.path}\\``);\n                onerror(err);\n            };\n            if (typeof this.callback !== 'function') {\n                onerror(new Error('`callback` is not defined'));\n                return;\n            }\n            if (!this.promisifiedCallback) {\n                if (this.callback.length >= 3) {\n                    debug('Converting legacy callback function to promise');\n                    this.promisifiedCallback = promisify_1.default(this.callback);\n                }\n                else {\n                    this.promisifiedCallback = this.callback;\n                }\n            }\n            if (typeof timeoutMs === 'number' && timeoutMs > 0) {\n                timeoutId = setTimeout(ontimeout, timeoutMs);\n            }\n            if ('port' in opts && typeof opts.port !== 'number') {\n                opts.port = Number(opts.port);\n            }\n            try {\n                debug('Resolving socket for %o request: %o', opts.protocol, `${req.method} ${req.path}`);\n                Promise.resolve(this.promisifiedCallback(req, opts)).then(onsocket, callbackError);\n            }\n            catch (err) {\n                Promise.reject(err).catch(callbackError);\n            }\n        }\n        freeSocket(socket, opts) {\n            debug('Freeing socket %o %o', socket.constructor.name, opts);\n            socket.destroy();\n        }\n        destroy() {\n            debug('Destroying agent %o', this.constructor.name);\n        }\n    }\n    createAgent.Agent = Agent;\n    // So that `instanceof` works correctly\n    createAgent.prototype = createAgent.Agent.prototype;\n})(createAgent || (createAgent = {}));\nmodule.exports = createAgent;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction promisify(fn) {\n    return function (req, opts) {\n        return new Promise((resolve, reject) => {\n            fn.call(this, req, opts, (err, rtn) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(rtn);\n                }\n            });\n        });\n    };\n}\nexports.default = promisify;\n//# sourceMappingURL=promisify.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AsyncScopeManager = exports.OpenTelemetryScopeManagerWrapper = void 0;\r\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\r\nvar events_1 = require(\"events\");\r\nvar OpenTelemetryScopeManagerWrapper = /** @class */ (function () {\r\n    function OpenTelemetryScopeManagerWrapper() {\r\n    }\r\n    OpenTelemetryScopeManagerWrapper.prototype.active = function () {\r\n        var _this = this;\r\n        var context = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        return __assign(__assign({}, context), { getValue: function (key) {\r\n                // todo: lazy import activeSymbol from opentelemetry/api\r\n                if (!_this._activeSymbol) {\r\n                    _this._activeSymbol = key;\r\n                    return context;\r\n                }\r\n                if (key === _this._activeSymbol) {\r\n                    return context;\r\n                }\r\n                return false;\r\n            }, setValue: function () { } });\r\n    };\r\n    OpenTelemetryScopeManagerWrapper.prototype.with = function (span, fn) {\r\n        var parentSpanId = span.parentSpanId;\r\n        var name = span.name;\r\n        var correlationContext = OpenTelemetryScopeManagerWrapper._spanToContext(span, parentSpanId, name);\r\n        return CorrelationContextManager_1.CorrelationContextManager.runWithContext(correlationContext, fn)();\r\n    };\r\n    OpenTelemetryScopeManagerWrapper.prototype.bind = function (target) {\r\n        if (typeof target === \"function\") {\r\n            return CorrelationContextManager_1.CorrelationContextManager.wrapCallback(target);\r\n        }\r\n        else if (target instanceof events_1.EventEmitter) {\r\n            CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(target);\r\n        }\r\n        return target;\r\n    };\r\n    OpenTelemetryScopeManagerWrapper.prototype.enable = function () {\r\n        CorrelationContextManager_1.CorrelationContextManager.enable();\r\n        return this;\r\n    };\r\n    OpenTelemetryScopeManagerWrapper.prototype.disable = function () {\r\n        CorrelationContextManager_1.CorrelationContextManager.disable();\r\n        return this;\r\n    };\r\n    OpenTelemetryScopeManagerWrapper._spanToContext = function (span, parentSpanId, name) {\r\n        var spanContext = span.spanContext ? span.spanContext() : span.context(); // context is available in OT API <v0.19.0\r\n        var context = __assign(__assign({}, span.spanContext()), { traceFlags: span.spanContext().traceFlags });\r\n        var parentId = parentSpanId ? \"|\" + spanContext.traceId + \".\" + parentSpanId + \".\" : spanContext.traceId;\r\n        var aiContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        if (aiContext) {\r\n            context.traceId = aiContext.operation.id;\r\n            // If parent is no available use current context\r\n            if (!parentSpanId) {\r\n                parentId = aiContext.operation.parentId;\r\n            }\r\n        }\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.spanToContextObject(context, parentId, name);\r\n        return correlationContext;\r\n    };\r\n    return OpenTelemetryScopeManagerWrapper;\r\n}());\r\nexports.OpenTelemetryScopeManagerWrapper = OpenTelemetryScopeManagerWrapper;\r\nexports.AsyncScopeManager = new OpenTelemetryScopeManagerWrapper();\r\n//# sourceMappingURL=AsyncHooksScopeManager.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AzureFunctionsHook = void 0;\r\nvar Logging = require(\"../Library/Logging\");\r\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\r\n/** Node.js Azure Functions handle incoming HTTP requests before Application Insights SDK is available,\r\n * this code generate incoming request telemetry and generate correlation context to be used\r\n * by outgoing requests and other telemetry, we rely on hooks provided by Azure Functions\r\n*/\r\nvar AzureFunctionsHook = /** @class */ (function () {\r\n    function AzureFunctionsHook(client) {\r\n        this._client = client;\r\n        this._autoGenerateIncomingRequests = false;\r\n        try {\r\n            this._functionsCoreModule = require(\"@azure/functions-core\");\r\n            this._addPreInvocationHook();\r\n            this._addPostInvocationHook();\r\n        }\r\n        catch (error) {\r\n            Logging.info(\"AzureFunctionsHook failed to load, not running in Azure Functions\");\r\n        }\r\n    }\r\n    /**\r\n     * NOTE: The programming model can be changed any time until the first invocation\r\n     * For that reason, we delay setting the model helper until the first hook is called, but we can cache it after that\r\n     */\r\n    AzureFunctionsHook.prototype._getFuncModelHelper = function () {\r\n        if (this._cachedModelHelper === undefined) {\r\n            var funcProgModel = this._functionsCoreModule.getProgrammingModel();\r\n            if (funcProgModel.name === \"@azure/functions\") {\r\n                if (funcProgModel.version.startsWith(\"3.\")) {\r\n                    this._cachedModelHelper = new FuncModelV3Helper();\r\n                }\r\n                else if (funcProgModel.version.startsWith(\"4.\")) {\r\n                    this._cachedModelHelper = new FuncModelV4Helper();\r\n                }\r\n            }\r\n            if (!this._cachedModelHelper) {\r\n                this._cachedModelHelper = null;\r\n                Logging.warn(\"AzureFunctionsHook does not support model \\\"\" + funcProgModel.name + \"\\\" version \\\"\" + funcProgModel.version + \"\\\"\");\r\n            }\r\n        }\r\n        return this._cachedModelHelper;\r\n    };\r\n    AzureFunctionsHook.prototype.enable = function (isEnabled) {\r\n        this._autoGenerateIncomingRequests = isEnabled;\r\n    };\r\n    AzureFunctionsHook.prototype.dispose = function () {\r\n        this.enable(false);\r\n        this._removeInvocationHooks();\r\n        this._functionsCoreModule = undefined;\r\n    };\r\n    AzureFunctionsHook.prototype._addPreInvocationHook = function () {\r\n        var _this = this;\r\n        if (!this._preInvocationHook) {\r\n            this._preInvocationHook = this._functionsCoreModule.registerHook(\"preInvocation\", function (preInvocationContext) { return __awaiter(_this, void 0, void 0, function () {\r\n                var modelHelper, sharedContext, extractedContext, traceContext;\r\n                return __generator(this, function (_a) {\r\n                    try {\r\n                        modelHelper = this._getFuncModelHelper();\r\n                        if (modelHelper) {\r\n                            sharedContext = preInvocationContext.invocationContext;\r\n                            extractedContext = CorrelationContextManager_1.CorrelationContextManager.startOperation(sharedContext);\r\n                            if (extractedContext) { // Will be null if CorrelationContextManager is not enabled, we should not try to propagate context in that case\r\n                                extractedContext.customProperties.setProperty(\"InvocationId\", sharedContext.invocationId);\r\n                                traceContext = sharedContext.traceContext;\r\n                                if (traceContext.attributes) {\r\n                                    extractedContext.customProperties.setProperty(\"ProcessId\", traceContext.attributes[\"ProcessId\"]);\r\n                                    extractedContext.customProperties.setProperty(\"LogLevel\", traceContext.attributes[\"LogLevel\"]);\r\n                                    extractedContext.customProperties.setProperty(\"Category\", traceContext.attributes[\"Category\"]);\r\n                                    extractedContext.customProperties.setProperty(\"HostInstanceId\", traceContext.attributes[\"HostInstanceId\"]);\r\n                                    extractedContext.customProperties.setProperty(\"AzFuncLiveLogsSessionId\", traceContext.attributes[\"#AzFuncLiveLogsSessionId\"]);\r\n                                }\r\n                                preInvocationContext.functionCallback = CorrelationContextManager_1.CorrelationContextManager.wrapCallback(preInvocationContext.functionCallback, extractedContext);\r\n                                if (modelHelper.isHttpTrigger(preInvocationContext) && this._autoGenerateIncomingRequests) {\r\n                                    preInvocationContext.hookData.appInsightsExtractedContext = extractedContext;\r\n                                    preInvocationContext.hookData.appInsightsStartTime = Date.now(); // Start trackRequest timer\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    catch (err) {\r\n                        Logging.warn(\"Failed to propagate context in Azure Functions\", err);\r\n                        return [2 /*return*/];\r\n                    }\r\n                    return [2 /*return*/];\r\n                });\r\n            }); });\r\n        }\r\n    };\r\n    AzureFunctionsHook.prototype._addPostInvocationHook = function () {\r\n        var _this = this;\r\n        if (!this._postInvocationHook) {\r\n            this._postInvocationHook = this._functionsCoreModule.registerHook(\"postInvocation\", function (postInvocationContext) { return __awaiter(_this, void 0, void 0, function () {\r\n                var modelHelper, request_1, startTime_1, extractedContext_1;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    try {\r\n                        modelHelper = this._getFuncModelHelper();\r\n                        if (modelHelper) {\r\n                            if (this._autoGenerateIncomingRequests) {\r\n                                if (modelHelper.isHttpTrigger(postInvocationContext)) {\r\n                                    request_1 = postInvocationContext.inputs[0];\r\n                                    if (request_1) {\r\n                                        startTime_1 = postInvocationContext.hookData.appInsightsStartTime || Date.now();\r\n                                        extractedContext_1 = postInvocationContext.hookData.appInsightsExtractedContext;\r\n                                        if (!extractedContext_1) {\r\n                                            this._createIncomingRequestTelemetry(request_1, postInvocationContext, startTime_1, null);\r\n                                        }\r\n                                        else {\r\n                                            CorrelationContextManager_1.CorrelationContextManager.runWithContext(extractedContext_1, function () {\r\n                                                _this._createIncomingRequestTelemetry(request_1, postInvocationContext, startTime_1, extractedContext_1.operation.parentId);\r\n                                            });\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    catch (err) {\r\n                        Logging.warn(\"Error creating automatic incoming request in Azure Functions\", err);\r\n                    }\r\n                    return [2 /*return*/];\r\n                });\r\n            }); });\r\n        }\r\n    };\r\n    AzureFunctionsHook.prototype._createIncomingRequestTelemetry = function (request, hookContext, startTime, parentId) {\r\n        var values = this._getFuncModelHelper().getStatusCodes(hookContext);\r\n        var statusCode = 200; //Default\r\n        if (values) {\r\n            for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\r\n                var value = values_1[_i];\r\n                if (typeof value === \"number\" && Number.isInteger(value)) {\r\n                    statusCode = value;\r\n                    break;\r\n                }\r\n                else if (typeof value === \"string\") {\r\n                    var parsedVal = parseInt(value);\r\n                    if (!isNaN(parsedVal)) {\r\n                        statusCode = parsedVal;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            statusCode = undefined;\r\n        }\r\n        this._client.trackRequest({\r\n            name: request.method + \" \" + request.url,\r\n            resultCode: statusCode,\r\n            success: typeof (statusCode) === \"number\" ? (0 < statusCode) && (statusCode < 400) : undefined,\r\n            url: request.url,\r\n            time: new Date(startTime),\r\n            duration: Date.now() - startTime,\r\n            id: parentId\r\n        });\r\n        this._client.flush();\r\n    };\r\n    AzureFunctionsHook.prototype._removeInvocationHooks = function () {\r\n        if (this._preInvocationHook) {\r\n            this._preInvocationHook.dispose();\r\n            this._preInvocationHook = undefined;\r\n        }\r\n        if (this._postInvocationHook) {\r\n            this._postInvocationHook.dispose();\r\n            this._postInvocationHook = undefined;\r\n        }\r\n    };\r\n    return AzureFunctionsHook;\r\n}());\r\nexports.AzureFunctionsHook = AzureFunctionsHook;\r\nvar FuncModelV3Helper = /** @class */ (function () {\r\n    function FuncModelV3Helper() {\r\n    }\r\n    FuncModelV3Helper.prototype._getInvocationContext = function (hookContext) {\r\n        return hookContext.invocationContext;\r\n    };\r\n    FuncModelV3Helper.prototype.getStatusCodes = function (hookContext) {\r\n        var ctx = this._getInvocationContext(hookContext);\r\n        var response;\r\n        var httpOutputBinding = ctx.bindingDefinitions.find(function (b) { return b.direction === \"out\" && b.type.toLowerCase() === \"http\"; });\r\n        if ((httpOutputBinding === null || httpOutputBinding === void 0 ? void 0 : httpOutputBinding.name) === \"$return\") {\r\n            response = hookContext.result;\r\n        }\r\n        else if (httpOutputBinding && ctx.bindings && ctx.bindings[httpOutputBinding.name] !== undefined) {\r\n            response = ctx.bindings[httpOutputBinding.name];\r\n        }\r\n        else {\r\n            response = ctx.res;\r\n        }\r\n        return response ? [response.statusCode, response.status] : undefined;\r\n    };\r\n    FuncModelV3Helper.prototype.isHttpTrigger = function (hookContext) {\r\n        var ctx = this._getInvocationContext(hookContext);\r\n        return !!ctx.bindingDefinitions.find(function (b) { var _a; return ((_a = b.type) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === \"httptrigger\"; });\r\n    };\r\n    return FuncModelV3Helper;\r\n}());\r\n/**\r\n * V4 is only supported on Node.js v18+\r\n * Unfortunately that means we can't use the \"@azure/functions\" types for v4 or we break the build on Node <v18\r\n */\r\nvar FuncModelV4Helper = /** @class */ (function () {\r\n    function FuncModelV4Helper() {\r\n    }\r\n    FuncModelV4Helper.prototype._getInvocationContext = function (hookContext) {\r\n        return hookContext.invocationContext;\r\n    };\r\n    FuncModelV4Helper.prototype.getStatusCodes = function (hookContext) {\r\n        var response = hookContext.result;\r\n        return response ? [response.status] : undefined;\r\n    };\r\n    FuncModelV4Helper.prototype.isHttpTrigger = function (hookContext) {\r\n        var ctx = this._getInvocationContext(hookContext);\r\n        return ctx.options.trigger.type.toLowerCase() === \"httptrigger\";\r\n    };\r\n    return FuncModelV4Helper;\r\n}());\r\n//# sourceMappingURL=AzureFunctionsHook.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar DiagChannel = __importStar(require(\"./diagnostic-channel/initialization\"));\r\nvar AutoCollectConsole = /** @class */ (function () {\r\n    function AutoCollectConsole(client) {\r\n        if (!!AutoCollectConsole.INSTANCE) {\r\n            throw new Error(\"Console logging adapter tracking should be configured from the applicationInsights object\");\r\n        }\r\n        this._client = client;\r\n        AutoCollectConsole.INSTANCE = this;\r\n    }\r\n    AutoCollectConsole.prototype.enable = function (isEnabled, collectConsoleLog) {\r\n        if (DiagChannel.IsInitialized) {\r\n            require(\"./diagnostic-channel/console.sub\").enable(isEnabled && collectConsoleLog, this._client);\r\n            require(\"./diagnostic-channel/bunyan.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/winston.sub\").enable(isEnabled, this._client);\r\n        }\r\n    };\r\n    AutoCollectConsole.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectConsole.prototype.dispose = function () {\r\n        AutoCollectConsole.INSTANCE = null;\r\n        this.enable(false, false);\r\n    };\r\n    AutoCollectConsole._methodNames = [\"debug\", \"info\", \"log\", \"warn\", \"error\"];\r\n    return AutoCollectConsole;\r\n}());\r\nmodule.exports = AutoCollectConsole;\r\n//# sourceMappingURL=Console.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CorrelationContextManager = void 0;\r\nvar Logging = require(\"../Library/Logging\");\r\nvar DiagChannel = __importStar(require(\"./diagnostic-channel/initialization\"));\r\nvar Traceparent = require(\"../Library/Traceparent\");\r\nvar Tracestate = require(\"../Library/Tracestate\");\r\nvar HttpRequestParser = require(\"./HttpRequestParser\");\r\nvar Util = require(\"../Library/Util\");\r\nvar CorrelationContextManager = /** @class */ (function () {\r\n    function CorrelationContextManager() {\r\n    }\r\n    /**\r\n     *  Provides the current Context.\r\n     *  The context is the most recent one entered into for the current\r\n     *  logical chain of execution, including across asynchronous calls.\r\n     */\r\n    CorrelationContextManager.getCurrentContext = function () {\r\n        if (!CorrelationContextManager.enabled) {\r\n            return null;\r\n        }\r\n        var context = CorrelationContextManager.session.get(CorrelationContextManager.CONTEXT_NAME);\r\n        if (context === undefined) { // cast undefined to null\r\n            return null;\r\n        }\r\n        return context;\r\n    };\r\n    /**\r\n     *  A helper to generate objects conforming to the CorrelationContext interface\r\n     */\r\n    CorrelationContextManager.generateContextObject = function (operationId, parentId, operationName, correlationContextHeader, traceparent, tracestate) {\r\n        parentId = parentId || operationId;\r\n        if (this.enabled) {\r\n            return {\r\n                operation: {\r\n                    name: operationName,\r\n                    id: operationId,\r\n                    parentId: parentId,\r\n                    traceparent: traceparent,\r\n                    tracestate: tracestate\r\n                },\r\n                customProperties: new CustomPropertiesImpl(correlationContextHeader)\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    CorrelationContextManager.spanToContextObject = function (spanContext, parentId, name) {\r\n        var traceContext = new Traceparent();\r\n        traceContext.traceId = spanContext.traceId;\r\n        traceContext.spanId = spanContext.spanId;\r\n        traceContext.traceFlag = Traceparent.formatOpenTelemetryTraceFlags(spanContext.traceFlags) || Traceparent.DEFAULT_TRACE_FLAG;\r\n        traceContext.parentId = parentId;\r\n        return CorrelationContextManager.generateContextObject(traceContext.traceId, traceContext.parentId, name, null, traceContext);\r\n    };\r\n    /**\r\n     *  Runs a function inside a given Context.\r\n     *  All logical children of the execution path that entered this Context\r\n     *  will receive this Context object on calls to GetCurrentContext.\r\n     */\r\n    CorrelationContextManager.runWithContext = function (context, fn) {\r\n        var _a;\r\n        if (CorrelationContextManager.enabled) {\r\n            try {\r\n                return CorrelationContextManager.session.bind(fn, (_a = {}, _a[CorrelationContextManager.CONTEXT_NAME] = context, _a))();\r\n            }\r\n            catch (error) {\r\n                Logging.warn(\"Error binding to session context\", Util.dumpObj(error));\r\n            }\r\n        }\r\n        return fn();\r\n    };\r\n    /**\r\n     * Wrapper for cls-hooked bindEmitter method\r\n     */\r\n    CorrelationContextManager.wrapEmitter = function (emitter) {\r\n        if (CorrelationContextManager.enabled) {\r\n            try {\r\n                CorrelationContextManager.session.bindEmitter(emitter);\r\n            }\r\n            catch (error) {\r\n                Logging.warn(\"Error binding to session context\", Util.dumpObj(error));\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *  Patches a callback to restore the correct Context when getCurrentContext\r\n     *  is run within it. This is necessary if automatic correlation fails to work\r\n     *  with user-included libraries.\r\n     *\r\n     *  The supplied callback will be given the same context that was present for\r\n     *  the call to wrapCallback.  */\r\n    CorrelationContextManager.wrapCallback = function (fn, context) {\r\n        var _a;\r\n        if (CorrelationContextManager.enabled) {\r\n            try {\r\n                return CorrelationContextManager.session.bind(fn, context ? (_a = {},\r\n                    _a[CorrelationContextManager.CONTEXT_NAME] = context,\r\n                    _a) : undefined);\r\n            }\r\n            catch (error) {\r\n                Logging.warn(\"Error binding to session context\", Util.dumpObj(error));\r\n            }\r\n        }\r\n        return fn;\r\n    };\r\n    /**\r\n     *  Enables the CorrelationContextManager.\r\n     */\r\n    CorrelationContextManager.enable = function (forceClsHooked) {\r\n        if (this.enabled) {\r\n            return;\r\n        }\r\n        if (!this.isNodeVersionCompatible()) {\r\n            this.enabled = false;\r\n            return;\r\n        }\r\n        if (!CorrelationContextManager.hasEverEnabled) {\r\n            this.forceClsHooked = forceClsHooked;\r\n            this.hasEverEnabled = true;\r\n            if (typeof this.cls === \"undefined\") {\r\n                if ((CorrelationContextManager.forceClsHooked === true) || (CorrelationContextManager.forceClsHooked === undefined && CorrelationContextManager.shouldUseClsHooked())) {\r\n                    this.cls = require(\"cls-hooked\");\r\n                }\r\n                else {\r\n                    this.cls = require(\"continuation-local-storage\");\r\n                }\r\n            }\r\n            CorrelationContextManager.session = this.cls.createNamespace(\"AI-CLS-Session\");\r\n            DiagChannel.registerContextPreservation(function (cb) {\r\n                try {\r\n                    return CorrelationContextManager.session.bind(cb);\r\n                }\r\n                catch (error) {\r\n                    Logging.warn(\"Error binding to session context\", Util.dumpObj(error));\r\n                }\r\n            });\r\n        }\r\n        this.enabled = true;\r\n    };\r\n    /**\r\n     * Create new correlation context.\r\n     */\r\n    CorrelationContextManager.startOperation = function (input, request) {\r\n        var traceContext = input && input.traceContext || null;\r\n        var span = input && input.spanContext ? input : null;\r\n        var spanContext = input && input.traceId ? input : null;\r\n        var headers = input && input.headers;\r\n        // OpenTelemetry Span\r\n        if (span) {\r\n            return this.spanToContextObject(span.spanContext(), span.parentSpanId, span.name);\r\n        }\r\n        // OpenTelemetry SpanContext\r\n        if (spanContext) {\r\n            return this.spanToContextObject(spanContext, \"|\" + spanContext.traceId + \".\" + spanContext.spanId + \".\", typeof request === \"string\" ? request : \"\");\r\n        }\r\n        var operationName = typeof request === \"string\" ? request : \"\";\r\n        // AzFunction TraceContext\r\n        if (traceContext) {\r\n            var traceparent = null;\r\n            var tracestate = null;\r\n            operationName = traceContext.attributes[\"OperationName\"] || operationName;\r\n            if (request) {\r\n                var azureFnRequest = request;\r\n                if (azureFnRequest.headers) {\r\n                    if (azureFnRequest.headers.traceparent) {\r\n                        traceparent = new Traceparent(azureFnRequest.headers.traceparent);\r\n                    }\r\n                    else if (azureFnRequest.headers[\"request-id\"]) {\r\n                        traceparent = new Traceparent(null, azureFnRequest.headers[\"request-id\"]);\r\n                    }\r\n                    if (azureFnRequest.headers.tracestate) {\r\n                        tracestate = new Tracestate(azureFnRequest.headers.tracestate);\r\n                    }\r\n                }\r\n            }\r\n            if (!traceparent) {\r\n                traceparent = new Traceparent(traceContext.traceParent || traceContext.traceparent);\r\n            }\r\n            if (!tracestate) {\r\n                tracestate = new Tracestate(traceContext.traceState || traceContext.tracestate);\r\n            }\r\n            var correlationContextHeader = undefined;\r\n            if (typeof request === \"object\") {\r\n                var parser = new HttpRequestParser(request);\r\n                correlationContextHeader = parser.getCorrelationContextHeader();\r\n                operationName = parser.getOperationName({});\r\n            }\r\n            var correlationContext = CorrelationContextManager.generateContextObject(traceparent.traceId, traceparent.parentId, operationName, correlationContextHeader, traceparent, tracestate);\r\n            return correlationContext;\r\n        }\r\n        // No TraceContext available, parse as http.IncomingMessage\r\n        if (headers) {\r\n            var traceparent = new Traceparent(headers.traceparent ? headers.traceparent.toString() : null);\r\n            var tracestate = new Tracestate(headers.tracestate ? headers.tracestate.toString() : null);\r\n            var parser = new HttpRequestParser(input);\r\n            var correlationContext = CorrelationContextManager.generateContextObject(traceparent.traceId, traceparent.parentId, parser.getOperationName({}), parser.getCorrelationContextHeader(), traceparent, tracestate);\r\n            return correlationContext;\r\n        }\r\n        Logging.warn(\"startOperation was called with invalid arguments\", arguments);\r\n        return null;\r\n    };\r\n    /**\r\n     *  Disables the CorrelationContextManager.\r\n     */\r\n    CorrelationContextManager.disable = function () {\r\n        this.enabled = false;\r\n    };\r\n    /**\r\n     * Reset the namespace\r\n     */\r\n    CorrelationContextManager.reset = function () {\r\n        if (CorrelationContextManager.hasEverEnabled) {\r\n            CorrelationContextManager.session = null;\r\n            CorrelationContextManager.session = this.cls.createNamespace(\"AI-CLS-Session\");\r\n        }\r\n    };\r\n    /**\r\n     *  Reports if CorrelationContextManager is able to run in this environment\r\n     */\r\n    CorrelationContextManager.isNodeVersionCompatible = function () {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        return parseInt(nodeVer[0]) > 3 || (parseInt(nodeVer[0]) > 2 && parseInt(nodeVer[1]) > 2);\r\n    };\r\n    /**\r\n     * We only want to use cls-hooked when it uses async_hooks api (8.2+), else\r\n     * use async-listener (plain -cls)\r\n     */\r\n    CorrelationContextManager.shouldUseClsHooked = function () {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        return (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 2);\r\n    };\r\n    /**\r\n     * A TypeError is triggered by cls-hooked for node [8.0, 8.2)\r\n     * @internal Used in tests only\r\n     */\r\n    CorrelationContextManager.canUseClsHooked = function () {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        var greater800 = (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 0);\r\n        var less820 = (parseInt(nodeVer[0]) < 8) || (parseInt(nodeVer[0]) <= 8 && parseInt(nodeVer[1]) < 2);\r\n        var greater470 = parseInt(nodeVer[0]) > 4 || (parseInt(nodeVer[0]) >= 4 && parseInt(nodeVer[1]) >= 7); // cls-hooked requires node 4.7+\r\n        return !(greater800 && less820) && greater470;\r\n    };\r\n    CorrelationContextManager.enabled = false;\r\n    CorrelationContextManager.hasEverEnabled = false;\r\n    CorrelationContextManager.forceClsHooked = undefined; // true: use cls-hooked, false: use cls, undefined: choose based on node version\r\n    CorrelationContextManager.CONTEXT_NAME = \"ApplicationInsights-Context\";\r\n    return CorrelationContextManager;\r\n}());\r\nexports.CorrelationContextManager = CorrelationContextManager;\r\nvar CustomPropertiesImpl = /** @class */ (function () {\r\n    function CustomPropertiesImpl(header) {\r\n        this.props = [];\r\n        this.addHeaderData(header);\r\n    }\r\n    CustomPropertiesImpl.prototype.addHeaderData = function (header) {\r\n        var keyvals = header ? header.split(\", \") : [];\r\n        this.props = keyvals.map(function (keyval) {\r\n            var parts = keyval.split(\"=\");\r\n            return { key: parts[0], value: parts[1] };\r\n        }).concat(this.props);\r\n    };\r\n    CustomPropertiesImpl.prototype.serializeToHeader = function () {\r\n        return this.props.map(function (keyval) {\r\n            return keyval.key + \"=\" + keyval.value;\r\n        }).join(\", \");\r\n    };\r\n    CustomPropertiesImpl.prototype.getProperty = function (prop) {\r\n        for (var i = 0; i < this.props.length; ++i) {\r\n            var keyval = this.props[i];\r\n            if (keyval.key === prop) {\r\n                return keyval.value;\r\n            }\r\n        }\r\n        return;\r\n    };\r\n    // TODO: Strictly according to the spec, properties which are recieved from\r\n    // an incoming request should be left untouched, while we may add our own new\r\n    // properties. The logic here will need to change to track that.\r\n    CustomPropertiesImpl.prototype.setProperty = function (prop, val) {\r\n        if (CustomPropertiesImpl.bannedCharacters.test(prop) || CustomPropertiesImpl.bannedCharacters.test(val)) {\r\n            Logging.warn(\"Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: \" + prop + \" and value: \" + val);\r\n            return;\r\n        }\r\n        for (var i = 0; i < this.props.length; ++i) {\r\n            var keyval = this.props[i];\r\n            if (keyval.key === prop) {\r\n                keyval.value = val;\r\n                return;\r\n            }\r\n        }\r\n        this.props.push({ key: prop, value: val });\r\n    };\r\n    CustomPropertiesImpl.bannedCharacters = /[,=]/;\r\n    return CustomPropertiesImpl;\r\n}());\r\n//# sourceMappingURL=CorrelationContextManager.js.map","\"use strict\";\r\nvar AutoCollectExceptions = /** @class */ (function () {\r\n    function AutoCollectExceptions(client) {\r\n        if (!!AutoCollectExceptions.INSTANCE) {\r\n            throw new Error(\"Exception tracking should be configured from the applicationInsights object\");\r\n        }\r\n        AutoCollectExceptions.INSTANCE = this;\r\n        this._client = client;\r\n        // Only use for 13.7.0+\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        AutoCollectExceptions._canUseUncaughtExceptionMonitor = parseInt(nodeVer[0]) > 13 || (parseInt(nodeVer[0]) === 13 && parseInt(nodeVer[1]) >= 7);\r\n    }\r\n    AutoCollectExceptions.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectExceptions.prototype.enable = function (isEnabled) {\r\n        var _this = this;\r\n        if (isEnabled) {\r\n            this._isInitialized = true;\r\n            if (!this._exceptionListenerHandle) {\r\n                // For scenarios like Promise.reject(), an error won't be passed to the handle. Create a placeholder\r\n                // error for these scenarios.\r\n                var handle = function (reThrow, name, error) {\r\n                    if (error === void 0) { error = new Error(AutoCollectExceptions._FALLBACK_ERROR_MESSAGE); }\r\n                    var exceptionTelemetry = { exception: error };\r\n                    // Add full error in context so it could used in telemetryProcessors\r\n                    exceptionTelemetry.contextObjects = {};\r\n                    exceptionTelemetry.contextObjects[\"Error\"] = error;\r\n                    _this._client.trackException(exceptionTelemetry);\r\n                    _this._client.flush({ isAppCrashing: true });\r\n                    // only rethrow when we are the only listener\r\n                    if (reThrow && name && process.listeners(name).length === 1) {\r\n                        console.error(error);\r\n                        process.exit(1);\r\n                    }\r\n                };\r\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\r\n                    // Node.js >= 13.7.0, use uncaughtExceptionMonitor. It handles both promises and exceptions\r\n                    this._exceptionListenerHandle = handle.bind(this, false, undefined); // never rethrows\r\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\r\n                }\r\n                else {\r\n                    this._exceptionListenerHandle = handle.bind(this, true, AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME);\r\n                    this._rejectionListenerHandle = handle.bind(this, false, undefined); // never rethrows\r\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\r\n                    process.on(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (this._exceptionListenerHandle) {\r\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\r\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\r\n                }\r\n                else {\r\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\r\n                    process.removeListener(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\r\n                }\r\n                this._exceptionListenerHandle = undefined;\r\n                this._rejectionListenerHandle = undefined;\r\n                delete this._exceptionListenerHandle;\r\n                delete this._rejectionListenerHandle;\r\n            }\r\n        }\r\n    };\r\n    AutoCollectExceptions.prototype.dispose = function () {\r\n        AutoCollectExceptions.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    AutoCollectExceptions.INSTANCE = null;\r\n    AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME = \"uncaughtExceptionMonitor\";\r\n    AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME = \"uncaughtException\";\r\n    AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME = \"unhandledRejection\";\r\n    AutoCollectExceptions._RETHROW_EXIT_MESSAGE = \"Application Insights Rethrow Exception Handler\";\r\n    AutoCollectExceptions._FALLBACK_ERROR_MESSAGE = \"A promise was rejected without providing an error. Application Insights generated this error stack for you.\";\r\n    AutoCollectExceptions._canUseUncaughtExceptionMonitor = false;\r\n    return AutoCollectExceptions;\r\n}());\r\nmodule.exports = AutoCollectExceptions;\r\n//# sourceMappingURL=Exceptions.js.map","\"use strict\";\r\nvar crypto = require(\"crypto\");\r\nvar os = require(\"os\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar Context = require(\"../Library/Context\");\r\nvar HeartBeat = /** @class */ (function () {\r\n    function HeartBeat(client) {\r\n        this._collectionInterval = 900000;\r\n        if (!HeartBeat.INSTANCE) {\r\n            HeartBeat.INSTANCE = this;\r\n        }\r\n        this._isInitialized = false;\r\n        this._client = client;\r\n    }\r\n    HeartBeat.prototype.enable = function (isEnabled) {\r\n        var _this = this;\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n        if (isEnabled) {\r\n            if (!this._handle) {\r\n                this._handle = setInterval(function () { return _this.trackHeartBeat(_this._client.config, function () { }); }, this._collectionInterval);\r\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n        }\r\n        else {\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = null;\r\n            }\r\n        }\r\n    };\r\n    HeartBeat.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    HeartBeat.isEnabled = function () {\r\n        return HeartBeat.INSTANCE && HeartBeat.INSTANCE._isEnabled;\r\n    };\r\n    HeartBeat.prototype.trackHeartBeat = function (config, callback) {\r\n        var properties = {};\r\n        var sdkVersion = Context.sdkVersion; // \"node\" or \"node-nativeperf\"\r\n        properties[\"sdkVersion\"] = sdkVersion;\r\n        properties[\"osType\"] = os.type();\r\n        properties[\"osVersion\"] = os.release();\r\n        //  Random GUID that would help in analysis when app has stopped and restarted.\r\n        if (!this._uniqueProcessId) {\r\n            this._uniqueProcessId = crypto.randomBytes(16).toString(\"hex\");\r\n        }\r\n        properties[\"processSessionId\"] = this._uniqueProcessId;\r\n        if (process.env.WEBSITE_SITE_NAME) {\r\n            properties[\"appSrv_SiteName\"] = process.env.WEBSITE_SITE_NAME;\r\n        }\r\n        if (process.env.WEBSITE_HOME_STAMPNAME) {\r\n            properties[\"appSrv_wsStamp\"] = process.env.WEBSITE_HOME_STAMPNAME;\r\n        }\r\n        if (process.env.WEBSITE_HOSTNAME) {\r\n            properties[\"appSrv_wsHost\"] = process.env.WEBSITE_HOSTNAME;\r\n        }\r\n        if (process.env.WEBSITE_OWNER_NAME) {\r\n            properties[\"appSrv_wsOwner\"] = process.env.WEBSITE_OWNER_NAME;\r\n        }\r\n        if (process.env.WEBSITE_RESOURCE_GROUP) {\r\n            properties[\"appSrv_ResourceGroup\"] = process.env.WEBSITE_RESOURCE_GROUP;\r\n        }\r\n        if (process.env.WEBSITE_SLOT_NAME) {\r\n            properties[\"appSrv_SlotName\"] = process.env.WEBSITE_SLOT_NAME;\r\n        }\r\n        this._client.trackMetric({ name: Constants.HeartBeatMetricName, value: 0, properties: properties });\r\n        callback();\r\n    };\r\n    HeartBeat.prototype.dispose = function () {\r\n        HeartBeat.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    return HeartBeat;\r\n}());\r\nmodule.exports = HeartBeat;\r\n//# sourceMappingURL=HeartBeat.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar HttpDependencyParser = require(\"./HttpDependencyParser\");\r\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\r\nvar Traceparent = require(\"../Library/Traceparent\");\r\nvar DiagChannel = __importStar(require(\"./diagnostic-channel/initialization\"));\r\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\nvar AutoCollectHttpDependencies = /** @class */ (function () {\r\n    function AutoCollectHttpDependencies(client) {\r\n        if (!!AutoCollectHttpDependencies.INSTANCE) {\r\n            throw new Error(\"Client request tracking should be configured from the applicationInsights object\");\r\n        }\r\n        AutoCollectHttpDependencies.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n    AutoCollectHttpDependencies.prototype.enable = function (isEnabled) {\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._initialize();\r\n        }\r\n        if (DiagChannel.IsInitialized) {\r\n            require(\"./diagnostic-channel/azure-coretracing.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/mongodb.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/mysql.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/redis.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/postgres.sub\").enable(isEnabled, this._client);\r\n        }\r\n    };\r\n    AutoCollectHttpDependencies.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectHttpDependencies.prototype._initialize = function () {\r\n        var _this = this;\r\n        this._isInitialized = true;\r\n        var originalRequest = http.request;\r\n        var originalHttpsRequest = https.request;\r\n        var clientRequestPatch = function (request, options) {\r\n            try {\r\n                var shouldCollect = !options[AutoCollectHttpDependencies.disableCollectionRequestOption] &&\r\n                    !request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag];\r\n                // If someone else patched traceparent headers onto this request\r\n                var userAgentHeader = null;\r\n                // Azure SDK special handling\r\n                if (options.headers) {\r\n                    userAgentHeader = options.headers[\"User-Agent\"] || options.headers[\"user-agent\"];\r\n                    if (userAgentHeader && userAgentHeader.toString().indexOf(\"azsdk-js\") !== -1) {\r\n                        shouldCollect = false;\r\n                    }\r\n                }\r\n                if (request && options && shouldCollect) {\r\n                    CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\r\n                    if (_this._isEnabled) {\r\n                        // Mark as auto collected\r\n                        request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag] = true;\r\n                        // If there is no context create one, this apply when no request is triggering the dependency\r\n                        if (!CorrelationContextManager_1.CorrelationContextManager.getCurrentContext()) {\r\n                            // Create correlation context and wrap execution\r\n                            var operationId = null;\r\n                            if (CorrelationIdManager.w3cEnabled) {\r\n                                var traceparent = new Traceparent();\r\n                                operationId = traceparent.traceId;\r\n                            }\r\n                            else {\r\n                                var requestId = CorrelationIdManager.generateRequestId(null);\r\n                                operationId = CorrelationIdManager.getRootId(requestId);\r\n                            }\r\n                            var correlationContext = CorrelationContextManager_1.CorrelationContextManager.generateContextObject(operationId);\r\n                            CorrelationContextManager_1.CorrelationContextManager.runWithContext(correlationContext, function () {\r\n                                AutoCollectHttpDependencies.trackRequest(_this._client, { options: options, request: request });\r\n                            });\r\n                        }\r\n                        else {\r\n                            AutoCollectHttpDependencies.trackRequest(_this._client, { options: options, request: request });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            catch (err) {\r\n                Logging.warn(\"Failed to generate dependency telemetry.\", Util.dumpObj(err));\r\n            }\r\n        };\r\n        // On node >= v0.11.12 and < 9.0 (excluding 8.9.0) https.request just calls http.request (with additional options).\r\n        // On node < 0.11.12, 8.9.0, and 9.0 > https.request is handled separately\r\n        // Patch both and leave a flag to not double-count on versions that just call through\r\n        // We add the flag to both http and https to protect against strange double collection in other scenarios\r\n        http.request = function (options) {\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = originalRequest.call.apply(originalRequest, __spreadArrays([http, options], requestArgs));\r\n            clientRequestPatch(request, options);\r\n            return request;\r\n        };\r\n        https.request = function (options) {\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = originalHttpsRequest.call.apply(originalHttpsRequest, __spreadArrays([https, options], requestArgs));\r\n            clientRequestPatch(request, options);\r\n            return request;\r\n        };\r\n        // Node 8 calls http.request from http.get using a local reference!\r\n        // We have to patch .get manually in this case and can't just assume request is enough\r\n        // We have to replace the entire method in this case. We can't call the original.\r\n        // This is because calling the original will give us no chance to set headers as it internally does .end().\r\n        http.get = function (options) {\r\n            var _a;\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = (_a = http.request).call.apply(_a, __spreadArrays([http, options], requestArgs));\r\n            request.end();\r\n            return request;\r\n        };\r\n        https.get = function (options) {\r\n            var _a;\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = (_a = https.request).call.apply(_a, __spreadArrays([https, options], requestArgs));\r\n            request.end();\r\n            return request;\r\n        };\r\n    };\r\n    /**\r\n     * Tracks an outgoing request. Because it may set headers this method must be called before\r\n     * writing content to or ending the request.\r\n     */\r\n    AutoCollectHttpDependencies.trackRequest = function (client, telemetry) {\r\n        if (!telemetry.options || !telemetry.request || !client) {\r\n            Logging.info(\"AutoCollectHttpDependencies.trackRequest was called with invalid parameters: \", !telemetry.options, !telemetry.request, !client);\r\n            return;\r\n        }\r\n        var requestParser = new HttpDependencyParser(telemetry.options, telemetry.request);\r\n        var currentContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        var uniqueRequestId;\r\n        var uniqueTraceparent;\r\n        if (currentContext && currentContext.operation && currentContext.operation.traceparent && Traceparent.isValidTraceId(currentContext.operation.traceparent.traceId)) {\r\n            currentContext.operation.traceparent.updateSpanId();\r\n            uniqueRequestId = currentContext.operation.traceparent.getBackCompatRequestId();\r\n        }\r\n        else if (CorrelationIdManager.w3cEnabled) {\r\n            // Start an operation now so that we can include the w3c headers in the outgoing request\r\n            var traceparent = new Traceparent();\r\n            uniqueTraceparent = traceparent.toString();\r\n            uniqueRequestId = traceparent.getBackCompatRequestId();\r\n        }\r\n        else {\r\n            uniqueRequestId = currentContext && currentContext.operation && (currentContext.operation.parentId + AutoCollectHttpDependencies.requestNumber++ + \".\");\r\n        }\r\n        // Add the source correlationId to the request headers, if a value was not already provided.\r\n        // The getHeader/setHeader methods aren't available on very old Node versions, and\r\n        // are not included in the v0.10 type declarations currently used. So check if the\r\n        // methods exist before invoking them.\r\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl()) && telemetry.request.getHeader && telemetry.request.setHeader) {\r\n            if (client.config && client.config.correlationId) {\r\n                // getHeader returns \"any\" type in newer versions of node. In basic scenarios, this will be <string | string[] | number>, but could be modified to anything else via middleware\r\n                var correlationHeader = telemetry.request.getHeader(RequestResponseHeaders.requestContextHeader);\r\n                try {\r\n                    Util.safeIncludeCorrelationHeader(client, telemetry.request, correlationHeader);\r\n                }\r\n                catch (err) {\r\n                    Logging.warn(\"Request-Context header could not be set. Correlation of requests may be lost\", err);\r\n                }\r\n                if (currentContext && currentContext.operation) {\r\n                    try {\r\n                        telemetry.request.setHeader(RequestResponseHeaders.requestIdHeader, uniqueRequestId);\r\n                        // Also set legacy headers\r\n                        if (!client.config.ignoreLegacyHeaders) {\r\n                            telemetry.request.setHeader(RequestResponseHeaders.parentIdHeader, currentContext.operation.id);\r\n                            telemetry.request.setHeader(RequestResponseHeaders.rootIdHeader, uniqueRequestId);\r\n                        }\r\n                        // Set W3C headers, if available\r\n                        if (uniqueTraceparent || currentContext.operation.traceparent) {\r\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, uniqueTraceparent || currentContext.operation.traceparent.toString());\r\n                        }\r\n                        else if (CorrelationIdManager.w3cEnabled) {\r\n                            // should never get here since we set uniqueTraceparent above for the w3cEnabled scenario\r\n                            var traceparent = new Traceparent().toString();\r\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, traceparent);\r\n                        }\r\n                        if (currentContext.operation.tracestate) {\r\n                            var tracestate = currentContext.operation.tracestate.toString();\r\n                            if (tracestate) {\r\n                                telemetry.request.setHeader(RequestResponseHeaders.traceStateHeader, tracestate);\r\n                            }\r\n                        }\r\n                        var correlationContextHeader = currentContext.customProperties.serializeToHeader();\r\n                        if (correlationContextHeader) {\r\n                            telemetry.request.setHeader(RequestResponseHeaders.correlationContextHeader, correlationContextHeader);\r\n                        }\r\n                    }\r\n                    catch (err) {\r\n                        Logging.warn(\"Correlation headers could not be set. Correlation of requests may be lost.\", err);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // Collect dependency telemetry about the request when it finishes.\r\n        if (telemetry.request.on) {\r\n            telemetry.request.on(\"response\", function (response) {\r\n                if (telemetry.isProcessed) {\r\n                    return;\r\n                }\r\n                telemetry.isProcessed = true;\r\n                requestParser.onResponse(response);\r\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\r\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\r\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\r\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\r\n                dependencyTelemetry.contextObjects[\"http.ClientResponse\"] = response;\r\n                client.trackDependency(dependencyTelemetry);\r\n            });\r\n            telemetry.request.on(\"error\", function (error) {\r\n                if (telemetry.isProcessed) {\r\n                    return;\r\n                }\r\n                telemetry.isProcessed = true;\r\n                requestParser.onError(error);\r\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\r\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\r\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\r\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\r\n                dependencyTelemetry.contextObjects[\"Error\"] = error;\r\n                client.trackDependency(dependencyTelemetry);\r\n            });\r\n            telemetry.request.on(\"abort\", function () {\r\n                if (telemetry.isProcessed) {\r\n                    return;\r\n                }\r\n                telemetry.isProcessed = true;\r\n                requestParser.onError(new Error(\"The request has been aborted and the network socket has closed.\"));\r\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\r\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\r\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\r\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\r\n                client.trackDependency(dependencyTelemetry);\r\n            });\r\n        }\r\n    };\r\n    AutoCollectHttpDependencies.prototype.dispose = function () {\r\n        AutoCollectHttpDependencies.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    AutoCollectHttpDependencies.disableCollectionRequestOption = \"disableAppInsightsAutoCollection\";\r\n    AutoCollectHttpDependencies.requestNumber = 1;\r\n    AutoCollectHttpDependencies.alreadyAutoCollectedFlag = \"_appInsightsAutoCollected\";\r\n    return AutoCollectHttpDependencies;\r\n}());\r\nmodule.exports = AutoCollectHttpDependencies;\r\n//# sourceMappingURL=HttpDependencies.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar url = require(\"url\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar RequestParser = require(\"./RequestParser\");\r\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\n/**\r\n * Helper class to read data from the request/response objects and convert them into the telemetry contract\r\n */\r\nvar HttpDependencyParser = /** @class */ (function (_super) {\r\n    __extends(HttpDependencyParser, _super);\r\n    function HttpDependencyParser(requestOptions, request) {\r\n        var _this = _super.call(this) || this;\r\n        if (request && request.method && requestOptions) {\r\n            // The ClientRequest.method property isn't documented, but is always there.\r\n            _this.method = request.method;\r\n            _this.url = HttpDependencyParser._getUrlFromRequestOptions(requestOptions, request);\r\n            _this.startTime = +new Date();\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Called when the ClientRequest emits an error event.\r\n     */\r\n    HttpDependencyParser.prototype.onError = function (error) {\r\n        this._setStatus(undefined, error);\r\n    };\r\n    /**\r\n     * Called when the ClientRequest emits a response event.\r\n     */\r\n    HttpDependencyParser.prototype.onResponse = function (response) {\r\n        this._setStatus(response.statusCode, undefined);\r\n        this.correlationId = Util.getCorrelationContextTarget(response, RequestResponseHeaders.requestContextTargetKey);\r\n    };\r\n    /**\r\n     * Gets a dependency data contract object for a completed ClientRequest.\r\n     */\r\n    HttpDependencyParser.prototype.getDependencyTelemetry = function (baseTelemetry, dependencyId) {\r\n        var dependencyName = this.method.toUpperCase();\r\n        var remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\r\n        var remoteDependencyTarget = \"\";\r\n        try {\r\n            var urlObject = new url.URL(this.url);\r\n            urlObject.search = undefined;\r\n            urlObject.hash = undefined;\r\n            dependencyName += \" \" + urlObject.pathname;\r\n            remoteDependencyTarget = urlObject.hostname;\r\n            if (urlObject.port) {\r\n                remoteDependencyTarget += \":\" + urlObject.port;\r\n            }\r\n        }\r\n        catch (ex) { // Invalid URL\r\n            // Ignore error\r\n        }\r\n        if (this.correlationId) {\r\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_AI;\r\n            if (this.correlationId !== CorrelationIdManager.correlationIdPrefix) {\r\n                remoteDependencyTarget += \" | \" + this.correlationId;\r\n            }\r\n        }\r\n        else {\r\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\r\n        }\r\n        var dependencyTelemetry = {\r\n            id: dependencyId,\r\n            name: dependencyName,\r\n            data: this.url,\r\n            duration: this.duration,\r\n            success: this._isSuccess(),\r\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\r\n            properties: this.properties || {},\r\n            dependencyTypeName: remoteDependencyType,\r\n            target: remoteDependencyTarget\r\n        };\r\n        if (baseTelemetry && baseTelemetry.time) {\r\n            dependencyTelemetry.time = baseTelemetry.time;\r\n        }\r\n        else if (this.startTime) {\r\n            dependencyTelemetry.time = new Date(this.startTime);\r\n        }\r\n        // We should keep any parameters the user passed in\r\n        // Except the fields defined above in requestTelemetry, which take priority\r\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\r\n        if (baseTelemetry) {\r\n            // Copy missing fields\r\n            for (var key in baseTelemetry) {\r\n                if (!dependencyTelemetry[key]) {\r\n                    dependencyTelemetry[key] = baseTelemetry[key];\r\n                }\r\n            }\r\n            // Merge properties\r\n            if (baseTelemetry.properties) {\r\n                for (var key in baseTelemetry.properties) {\r\n                    dependencyTelemetry.properties[key] = baseTelemetry.properties[key];\r\n                }\r\n            }\r\n        }\r\n        return dependencyTelemetry;\r\n    };\r\n    /**\r\n     * Builds a URL from request options, using the same logic as http.request(). This is\r\n     * necessary because a ClientRequest object does not expose a url property.\r\n     */\r\n    HttpDependencyParser._getUrlFromRequestOptions = function (options, request) {\r\n        if (typeof options === \"string\") {\r\n            if (options.indexOf(\"http://\") === 0 || options.indexOf(\"https://\") === 0) {\r\n                // protocol exists, parse normally\r\n                try {\r\n                    options = new url.URL(options);\r\n                }\r\n                catch (ex) {\r\n                    // Ignore error\r\n                }\r\n            }\r\n            else {\r\n                // protocol not found, insert http/https where appropriate\r\n                try {\r\n                    var parsed = new url.URL(\"http://\" + options);\r\n                    if (parsed.port === \"443\") {\r\n                        options = new url.URL(\"https://\" + options);\r\n                    }\r\n                    else {\r\n                        options = new url.URL(\"http://\" + options);\r\n                    }\r\n                }\r\n                catch (ex) {\r\n                    // Ignore error\r\n                }\r\n            }\r\n        }\r\n        else if (options && typeof url.URL === \"function\" && options instanceof url.URL) {\r\n            return url.format(options);\r\n        }\r\n        else {\r\n            // Avoid modifying the original options object.\r\n            var originalOptions_1 = options;\r\n            options = {};\r\n            if (originalOptions_1) {\r\n                Object.keys(originalOptions_1).forEach(function (key) {\r\n                    options[key] = originalOptions_1[key];\r\n                });\r\n            }\r\n        }\r\n        // Oddly, url.format ignores path and only uses pathname and search,\r\n        // so create them from the path, if path was specified\r\n        if (options.path && options.host) {\r\n            // need to force a protocol to make parameter valid - base url is required when input is a relative url\r\n            try {\r\n                var parsedQuery = new url.URL(options.path, \"http://\" + options.host + options.path);\r\n                options.pathname = parsedQuery.pathname;\r\n                options.search = parsedQuery.search;\r\n            }\r\n            catch (ex) {\r\n                // Ignore error\r\n            }\r\n        }\r\n        // Sometimes the hostname is provided but not the host\r\n        // Add in the path when this occurs\r\n        if (options.path && options.hostname && !options.host) {\r\n            // need to force a protocol to make parameter valid - base url is required when input is a relative url\r\n            try {\r\n                var parsedQuery = new url.URL(options.path, \"http://\" + options.hostname + options.path);\r\n                options.pathname = parsedQuery.pathname;\r\n                options.search = parsedQuery.search;\r\n            }\r\n            catch (ex) {\r\n                // Ignore error\r\n            }\r\n        }\r\n        // Similarly, url.format ignores hostname and port if host is specified,\r\n        // even if host doesn't have the port, but http.request does not work\r\n        // this way. It will use the port if one is not specified in host,\r\n        // effectively treating host as hostname, but will use the port specified\r\n        // in host if it exists.\r\n        if (options.host && options.port) {\r\n            // Force a protocol so it will parse the host as the host, not path.\r\n            // It is discarded and not used, so it doesn't matter if it doesn't match\r\n            try {\r\n                var parsedHost = new url.URL(\"http://\" + options.host);\r\n                if (!parsedHost.port && options.port) {\r\n                    options.hostname = options.host;\r\n                    delete options.host;\r\n                }\r\n            }\r\n            catch (ex) {\r\n                // Ignore error\r\n            }\r\n        }\r\n        // Mix in default values used by http.request and others\r\n        options.protocol = options.protocol || (request.agent && request.agent.protocol) || (request.protocol) || undefined;\r\n        options.hostname = options.hostname || \"localhost\";\r\n        return url.format(options);\r\n    };\r\n    return HttpDependencyParser;\r\n}(RequestParser));\r\nmodule.exports = HttpDependencyParser;\r\n//# sourceMappingURL=HttpDependencyParser.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar url = require(\"url\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar RequestParser = require(\"./RequestParser\");\r\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\nvar Tracestate = require(\"../Library/Tracestate\");\r\nvar Traceparent = require(\"../Library/Traceparent\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar Constants_1 = require(\"../Declarations/Constants\");\r\n/**\r\n * Helper class to read data from the request/response objects and convert them into the telemetry contract\r\n */\r\nvar HttpRequestParser = /** @class */ (function (_super) {\r\n    __extends(HttpRequestParser, _super);\r\n    function HttpRequestParser(request, requestId) {\r\n        var _this = _super.call(this) || this;\r\n        if (request) {\r\n            _this.method = request.method;\r\n            _this.url = _this._getAbsoluteUrl(request);\r\n            _this.startTime = +new Date();\r\n            _this.socketRemoteAddress = request.socket && request.socket.remoteAddress;\r\n            _this.parseHeaders(request, requestId);\r\n            if (request.connection) {\r\n                _this.connectionRemoteAddress = request.connection.remoteAddress;\r\n                _this.legacySocketRemoteAddress = request.connection[\"socket\"] && request.connection[\"socket\"].remoteAddress;\r\n            }\r\n        }\r\n        return _this;\r\n    }\r\n    HttpRequestParser.prototype.onError = function (error, ellapsedMilliseconds) {\r\n        this._setStatus(undefined, error);\r\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\r\n        if (ellapsedMilliseconds) {\r\n            this.duration = ellapsedMilliseconds;\r\n        }\r\n    };\r\n    HttpRequestParser.prototype.onResponse = function (response, ellapsedMilliseconds) {\r\n        this._setStatus(response.statusCode, undefined);\r\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\r\n        if (ellapsedMilliseconds) {\r\n            this.duration = ellapsedMilliseconds;\r\n        }\r\n    };\r\n    HttpRequestParser.prototype.getRequestTelemetry = function (baseTelemetry) {\r\n        var name = this.method;\r\n        try {\r\n            name += \" \" + new url.URL(this.url).pathname;\r\n        }\r\n        catch (ex) { // Invalid URL\r\n            // Ignore error\r\n        }\r\n        var requestTelemetry = {\r\n            id: this.requestId,\r\n            name: name,\r\n            url: this.url,\r\n            /*\r\n            See https://github.com/microsoft/ApplicationInsights-dotnet-server/blob/25d695e6a906fbe977f67be3966d25dbf1c50a79/Src/Web/Web.Shared.Net/RequestTrackingTelemetryModule.cs#L250\r\n            for reference\r\n            */\r\n            source: this.sourceCorrelationId,\r\n            duration: this.duration,\r\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\r\n            success: this._isSuccess(),\r\n            properties: this.properties\r\n        };\r\n        if (baseTelemetry && baseTelemetry.time) {\r\n            requestTelemetry.time = baseTelemetry.time;\r\n        }\r\n        else if (this.startTime) {\r\n            requestTelemetry.time = new Date(this.startTime);\r\n        }\r\n        // We should keep any parameters the user passed in\r\n        // Except the fields defined above in requestTelemetry, which take priority\r\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\r\n        if (baseTelemetry) {\r\n            // Copy missing fields\r\n            for (var key in baseTelemetry) {\r\n                if (!requestTelemetry[key]) {\r\n                    requestTelemetry[key] = baseTelemetry[key];\r\n                }\r\n            }\r\n            // Merge properties\r\n            if (baseTelemetry.properties) {\r\n                for (var key in baseTelemetry.properties) {\r\n                    requestTelemetry.properties[key] = baseTelemetry.properties[key];\r\n                }\r\n            }\r\n        }\r\n        return requestTelemetry;\r\n    };\r\n    HttpRequestParser.prototype.getRequestTags = function (tags) {\r\n        // create a copy of the context for requests since client info will be used here\r\n        var newTags = {};\r\n        for (var key in tags) {\r\n            newTags[key] = tags[key];\r\n        }\r\n        // don't override tags if they are already set\r\n        newTags[HttpRequestParser.keys.locationIp] = tags[HttpRequestParser.keys.locationIp] || this._getIp();\r\n        newTags[HttpRequestParser.keys.sessionId] = tags[HttpRequestParser.keys.sessionId] || this._getId(Constants_1.HttpRequestCookieNames.SESSION);\r\n        newTags[HttpRequestParser.keys.userId] = tags[HttpRequestParser.keys.userId] || this._getId(Constants_1.HttpRequestCookieNames.USER);\r\n        newTags[HttpRequestParser.keys.userAuthUserId] = tags[HttpRequestParser.keys.userAuthUserId] || this._getId(Constants_1.HttpRequestCookieNames.AUTH_USER);\r\n        newTags[HttpRequestParser.keys.operationName] = this.getOperationName(tags);\r\n        newTags[HttpRequestParser.keys.operationParentId] = this.getOperationParentId(tags);\r\n        newTags[HttpRequestParser.keys.operationId] = this.getOperationId(tags);\r\n        return newTags;\r\n    };\r\n    HttpRequestParser.prototype.getOperationId = function (tags) {\r\n        return tags[HttpRequestParser.keys.operationId] || this.operationId;\r\n    };\r\n    HttpRequestParser.prototype.getOperationParentId = function (tags) {\r\n        return tags[HttpRequestParser.keys.operationParentId] || this.parentId || this.getOperationId(tags);\r\n    };\r\n    HttpRequestParser.prototype.getOperationName = function (tags) {\r\n        if (tags[HttpRequestParser.keys.operationName]) {\r\n            return tags[HttpRequestParser.keys.operationName];\r\n        }\r\n        var pathName = \"\";\r\n        try {\r\n            pathName = new url.URL(this.url).pathname;\r\n        }\r\n        catch (ex) { // Invalid URL\r\n            // Ignore error\r\n        }\r\n        var operationName = this.method;\r\n        if (pathName) {\r\n            operationName += \" \" + pathName;\r\n        }\r\n        return operationName;\r\n    };\r\n    HttpRequestParser.prototype.getRequestId = function () {\r\n        return this.requestId;\r\n    };\r\n    HttpRequestParser.prototype.getCorrelationContextHeader = function () {\r\n        return this.correlationContextHeader;\r\n    };\r\n    HttpRequestParser.prototype.getTraceparent = function () {\r\n        return this.traceparent;\r\n    };\r\n    HttpRequestParser.prototype.getTracestate = function () {\r\n        return this.tracestate;\r\n    };\r\n    HttpRequestParser.prototype.getLegacyRootId = function () {\r\n        return this.legacyRootId;\r\n    };\r\n    HttpRequestParser.prototype._getAbsoluteUrl = function (request) {\r\n        if (!request.headers) {\r\n            return request.url;\r\n        }\r\n        var encrypted = request.connection ? request.connection.encrypted : null;\r\n        var protocol = (encrypted || request.headers[\"x-forwarded-proto\"] == \"https\") ? \"https\" : \"http\";\r\n        var baseUrl = protocol + \"://\" + request.headers.host + \"/\";\r\n        var pathName = \"\";\r\n        var search = \"\";\r\n        try {\r\n            var requestUrl = new url.URL(request.url, baseUrl);\r\n            pathName = requestUrl.pathname;\r\n            search = requestUrl.search;\r\n        }\r\n        catch (ex) {\r\n            // Ignore errors\r\n        }\r\n        var absoluteUrl = url.format({\r\n            protocol: protocol,\r\n            host: request.headers.host,\r\n            pathname: pathName,\r\n            search: search\r\n        });\r\n        return absoluteUrl;\r\n    };\r\n    HttpRequestParser.prototype._getIp = function () {\r\n        // regex to match ipv4 without port\r\n        // Note: including the port would cause the payload to be rejected by the data collector\r\n        var ipMatch = /[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}/;\r\n        var check = function (str) {\r\n            var results = ipMatch.exec(str);\r\n            if (results) {\r\n                return results[0];\r\n            }\r\n        };\r\n        var ip = check(this.rawHeaders[\"x-forwarded-for\"])\r\n            || check(this.rawHeaders[\"x-client-ip\"])\r\n            || check(this.rawHeaders[\"x-real-ip\"])\r\n            || check(this.connectionRemoteAddress)\r\n            || check(this.socketRemoteAddress)\r\n            || check(this.legacySocketRemoteAddress);\r\n        // node v12 returns this if the address is \"localhost\"\r\n        if (!ip\r\n            && this.connectionRemoteAddress\r\n            && this.connectionRemoteAddress.substr\r\n            && this.connectionRemoteAddress.substr(0, 2) === \"::\") {\r\n            ip = \"127.0.0.1\";\r\n        }\r\n        return ip;\r\n    };\r\n    HttpRequestParser.prototype._getId = function (name) {\r\n        var cookie = (this.rawHeaders && this.rawHeaders[\"cookie\"] &&\r\n            typeof this.rawHeaders[\"cookie\"] === \"string\" && this.rawHeaders[\"cookie\"]) || \"\";\r\n        if (name === Constants_1.HttpRequestCookieNames.AUTH_USER) {\r\n            try {\r\n                cookie = decodeURI(cookie);\r\n            }\r\n            catch (error) {\r\n                // Failed to decode, ignore cookie\r\n                cookie = \"\";\r\n                Logging.warn(\"Could not decode the auth cookie with error: \", Util.dumpObj(error));\r\n            }\r\n        }\r\n        var value = HttpRequestParser.parseId(Util.getCookie(name, cookie));\r\n        return value;\r\n    };\r\n    /**\r\n     * Sets this operation's operationId, parentId, requestId (and legacyRootId, if necessary) based on this operation's traceparent\r\n     */\r\n    HttpRequestParser.prototype.setBackCompatFromThisTraceContext = function () {\r\n        // Set operationId\r\n        this.operationId = this.traceparent.traceId;\r\n        if (this.traceparent.legacyRootId) {\r\n            this.legacyRootId = this.traceparent.legacyRootId;\r\n        }\r\n        // Set parentId with existing spanId\r\n        this.parentId = this.traceparent.parentId;\r\n        // Update the spanId and set the current requestId\r\n        this.traceparent.updateSpanId();\r\n        this.requestId = this.traceparent.getBackCompatRequestId();\r\n    };\r\n    HttpRequestParser.prototype.parseHeaders = function (request, requestId) {\r\n        this.rawHeaders = request.headers || request.rawHeaders;\r\n        this.userAgent = request.headers && request.headers[\"user-agent\"];\r\n        this.sourceCorrelationId = Util.getCorrelationContextTarget(request, RequestResponseHeaders.requestContextSourceKey);\r\n        if (request.headers) {\r\n            var tracestateHeader = request.headers[RequestResponseHeaders.traceStateHeader] ? request.headers[RequestResponseHeaders.traceStateHeader].toString() : null; // w3c header\r\n            var traceparentHeader = request.headers[RequestResponseHeaders.traceparentHeader] ? request.headers[RequestResponseHeaders.traceparentHeader].toString() : null; // w3c header\r\n            var requestIdHeader = request.headers[RequestResponseHeaders.requestIdHeader] ? request.headers[RequestResponseHeaders.requestIdHeader].toString() : null; // default AI header\r\n            var legacy_parentId = request.headers[RequestResponseHeaders.parentIdHeader] ? request.headers[RequestResponseHeaders.parentIdHeader].toString() : null; // legacy AI header\r\n            var legacy_rootId = request.headers[RequestResponseHeaders.rootIdHeader] ? request.headers[RequestResponseHeaders.rootIdHeader].toString() : null; // legacy AI header\r\n            this.correlationContextHeader = request.headers[RequestResponseHeaders.correlationContextHeader] ? request.headers[RequestResponseHeaders.correlationContextHeader].toString() : null;\r\n            if (CorrelationIdManager.w3cEnabled && (traceparentHeader || tracestateHeader)) {\r\n                // Parse W3C Trace Context headers\r\n                this.traceparent = new Traceparent(traceparentHeader ? traceparentHeader.toString() : null); // new traceparent is always created from this\r\n                this.tracestate = traceparentHeader && tracestateHeader && new Tracestate(tracestateHeader ? tracestateHeader.toString() : null); // discard tracestate if no traceparent is present\r\n                this.setBackCompatFromThisTraceContext();\r\n            }\r\n            else if (requestIdHeader) {\r\n                // Parse AI headers\r\n                if (CorrelationIdManager.w3cEnabled) {\r\n                    this.traceparent = new Traceparent(null, requestIdHeader);\r\n                    this.setBackCompatFromThisTraceContext();\r\n                }\r\n                else {\r\n                    this.parentId = requestIdHeader;\r\n                    this.requestId = CorrelationIdManager.generateRequestId(this.parentId);\r\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\r\n                }\r\n            }\r\n            else {\r\n                // Legacy fallback\r\n                if (CorrelationIdManager.w3cEnabled) {\r\n                    this.traceparent = new Traceparent();\r\n                    this.traceparent.parentId = legacy_parentId;\r\n                    this.traceparent.legacyRootId = legacy_rootId || legacy_parentId;\r\n                    this.setBackCompatFromThisTraceContext();\r\n                }\r\n                else {\r\n                    this.parentId = legacy_parentId;\r\n                    this.requestId = CorrelationIdManager.generateRequestId(legacy_rootId || this.parentId);\r\n                    this.correlationContextHeader = null;\r\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\r\n                }\r\n            }\r\n            if (requestId) {\r\n                // For the scenarios that don't guarantee an AI-created context,\r\n                // override the requestId with the provided one.\r\n                this.requestId = requestId;\r\n                this.operationId = CorrelationIdManager.getRootId(this.requestId);\r\n            }\r\n        }\r\n    };\r\n    HttpRequestParser.parseId = function (cookieValue) {\r\n        var cookieParts = cookieValue.split(\"|\");\r\n        if (cookieParts.length > 0) {\r\n            return cookieParts[0];\r\n        }\r\n        return \"\"; // old behavior was to return \"\" for incorrect parsing\r\n    };\r\n    HttpRequestParser.keys = new Contracts.ContextTagKeys();\r\n    return HttpRequestParser;\r\n}(RequestParser));\r\nmodule.exports = HttpRequestParser;\r\n//# sourceMappingURL=HttpRequestParser.js.map","\"use strict\";\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar HttpRequestParser = require(\"./HttpRequestParser\");\r\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\r\nvar AutoCollectPerformance = require(\"./Performance\");\r\nvar AutoCollectHttpRequests = /** @class */ (function () {\r\n    function AutoCollectHttpRequests(client) {\r\n        if (!!AutoCollectHttpRequests.INSTANCE) {\r\n            throw new Error(\"Server request tracking should be configured from the applicationInsights object\");\r\n        }\r\n        AutoCollectHttpRequests.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n    AutoCollectHttpRequests.prototype.enable = function (isEnabled) {\r\n        this._isEnabled = isEnabled;\r\n        // Autocorrelation requires automatic monitoring of incoming server requests\r\n        // Disabling autocollection but enabling autocorrelation will still enable\r\n        // request monitoring but will not produce request events\r\n        if ((this._isAutoCorrelating || this._isEnabled || AutoCollectPerformance.isEnabled()) && !this._isInitialized) {\r\n            this.useAutoCorrelation(this._isAutoCorrelating);\r\n            this._initialize();\r\n        }\r\n    };\r\n    AutoCollectHttpRequests.prototype.useAutoCorrelation = function (isEnabled, forceClsHooked) {\r\n        if (isEnabled && !this._isAutoCorrelating) {\r\n            CorrelationContextManager_1.CorrelationContextManager.enable(forceClsHooked);\r\n        }\r\n        else if (!isEnabled && this._isAutoCorrelating) {\r\n            CorrelationContextManager_1.CorrelationContextManager.disable();\r\n        }\r\n        this._isAutoCorrelating = isEnabled;\r\n    };\r\n    AutoCollectHttpRequests.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectHttpRequests.prototype.isAutoCorrelating = function () {\r\n        return this._isAutoCorrelating;\r\n    };\r\n    AutoCollectHttpRequests.prototype._generateCorrelationContext = function (requestParser) {\r\n        if (!this._isAutoCorrelating) {\r\n            return;\r\n        }\r\n        return CorrelationContextManager_1.CorrelationContextManager.generateContextObject(requestParser.getOperationId(this._client.context.tags), requestParser.getRequestId(), requestParser.getOperationName(this._client.context.tags), requestParser.getCorrelationContextHeader(), requestParser.getTraceparent(), requestParser.getTracestate());\r\n    };\r\n    AutoCollectHttpRequests.prototype._registerRequest = function (request, response, onRequest) {\r\n        var _this = this;\r\n        // Set up correlation context\r\n        var requestParser = new HttpRequestParser(request);\r\n        var correlationContext = this._generateCorrelationContext(requestParser);\r\n        // Note: Check for if correlation is enabled happens within this method.\r\n        // If not enabled, function will directly call the callback.\r\n        CorrelationContextManager_1.CorrelationContextManager.runWithContext(correlationContext, function () {\r\n            if (_this._isEnabled) {\r\n                // Mark as auto collected\r\n                request[AutoCollectHttpRequests.alreadyAutoCollectedFlag] = true;\r\n                // Auto collect request\r\n                AutoCollectHttpRequests.trackRequest(_this._client, { request: request, response: response }, requestParser);\r\n            }\r\n            if (typeof onRequest === \"function\") {\r\n                onRequest(request, response);\r\n            }\r\n        });\r\n    };\r\n    AutoCollectHttpRequests.prototype._initialize = function () {\r\n        this._isInitialized = true;\r\n        // Avoid the creation of multiple handler on http(s).createServer\r\n        if (AutoCollectHttpRequests.HANDLER_READY) {\r\n            return;\r\n        }\r\n        AutoCollectHttpRequests.HANDLER_READY = true;\r\n        var wrapOnRequestHandler = function (onRequest) {\r\n            if (!onRequest) {\r\n                return undefined;\r\n            }\r\n            if (typeof onRequest !== \"function\") {\r\n                throw new Error(\"onRequest handler must be a function\");\r\n            }\r\n            return function (request, response) {\r\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\r\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(response);\r\n                var shouldCollect = request && !request[AutoCollectHttpRequests.alreadyAutoCollectedFlag];\r\n                if (request && shouldCollect && AutoCollectHttpRequests.INSTANCE) {\r\n                    AutoCollectHttpRequests.INSTANCE._registerRequest(request, response, onRequest);\r\n                }\r\n                else {\r\n                    onRequest(request, response);\r\n                }\r\n            };\r\n        };\r\n        // The `http.createServer` function will instantiate a new http.Server object.\r\n        // Inside the Server's constructor, it is using addListener to register the\r\n        // onRequest handler. So there are two ways to inject the wrapped onRequest handler:\r\n        // 1) Overwrite Server.prototype.addListener (and .on()) globally and not patching\r\n        //    the http.createServer call. Or\r\n        // 2) Overwrite the http.createServer method and add a patched addListener to the\r\n        //    fresh server instance. This seems more stable for possible future changes as\r\n        //    it also covers the case where the Server might not use addListener to manage\r\n        //    the callback internally.\r\n        //    And also as long as the constructor uses addListener to add the handle, it is\r\n        //    ok to patch the addListener after construction only. Because if we would patch\r\n        //    the prototype one and the createServer method, we would wrap the handler twice\r\n        //    in case of the constructor call.\r\n        var wrapServerEventHandler = function (server) {\r\n            var originalAddListener = server.addListener.bind(server);\r\n            server.addListener = function (eventType, eventHandler) {\r\n                switch (eventType) {\r\n                    case \"request\":\r\n                    case \"checkContinue\":\r\n                        return originalAddListener(eventType, wrapOnRequestHandler(eventHandler));\r\n                    default:\r\n                        return originalAddListener(eventType, eventHandler);\r\n                }\r\n            };\r\n            // on is an alias to addListener only\r\n            server.on = server.addListener;\r\n        };\r\n        var originalHttpServer = http.createServer;\r\n        // options parameter was added in Node.js v9.6.0, v8.12.0\r\n        // function createServer(requestListener?: RequestListener): Server;\r\n        // function createServer(options: ServerOptions, requestListener?: RequestListener): Server;\r\n        http.createServer = function (param1, param2) {\r\n            // todo: get a pointer to the server so the IP address can be read from server.address\r\n            if (param2 && typeof param2 === \"function\") {\r\n                var server = originalHttpServer(param1, wrapOnRequestHandler(param2));\r\n                wrapServerEventHandler(server);\r\n                return server;\r\n            }\r\n            else {\r\n                var server = originalHttpServer(wrapOnRequestHandler(param1));\r\n                wrapServerEventHandler(server);\r\n                return server;\r\n            }\r\n        };\r\n        var originalHttpsServer = https.createServer;\r\n        https.createServer = function (options, onRequest) {\r\n            var server = originalHttpsServer(options, wrapOnRequestHandler(onRequest));\r\n            wrapServerEventHandler(server);\r\n            return server;\r\n        };\r\n    };\r\n    /**\r\n     * Tracks a request synchronously (doesn't wait for response 'finish' event)\r\n     */\r\n    AutoCollectHttpRequests.trackRequestSync = function (client, telemetry) {\r\n        if (!telemetry.request || !telemetry.response || !client) {\r\n            Logging.info(\"AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\r\n            return;\r\n        }\r\n        telemetry.isProcessed = false;\r\n        AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\r\n        // store data about the request\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        var requestParser = new HttpRequestParser(telemetry.request, (correlationContext && correlationContext.operation.parentId));\r\n        // Overwrite correlation context with request parser results\r\n        if (correlationContext) {\r\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\r\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\r\n            correlationContext.operation.parentId = requestParser.getRequestId() || correlationContext.operation.parentId;\r\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\r\n        }\r\n        AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, telemetry.duration, telemetry.error);\r\n    };\r\n    /**\r\n     * Tracks a request by listening to the response 'finish' event\r\n     */\r\n    AutoCollectHttpRequests.trackRequest = function (client, telemetry, _requestParser) {\r\n        if (!telemetry.request || !telemetry.response || !client) {\r\n            Logging.info(\"AutoCollectHttpRequests.trackRequest was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\r\n            return;\r\n        }\r\n        telemetry.isProcessed = false;\r\n        // store data about the request\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        var requestParser = _requestParser || new HttpRequestParser(telemetry.request, correlationContext && correlationContext.operation.parentId);\r\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl())) {\r\n            AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\r\n        }\r\n        // Overwrite correlation context with request parser results (if not an automatic track. we've already precalculated the correlation context in that case)\r\n        if (correlationContext && !_requestParser) {\r\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\r\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\r\n            correlationContext.operation.parentId = requestParser.getOperationParentId(client.context.tags) || correlationContext.operation.parentId;\r\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\r\n        }\r\n        // response listeners\r\n        if (telemetry.response.once) {\r\n            telemetry.response.once(\"finish\", function () {\r\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, null);\r\n            });\r\n        }\r\n        // track a failed request if an error is emitted\r\n        if (telemetry.request.on) {\r\n            telemetry.request.on(\"error\", function (error) {\r\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, error);\r\n            });\r\n        }\r\n        // track an aborted request if an aborted event is emitted\r\n        // Newer versions of Node.js runtime will trigger error event as well, we need to ensure telemetry is not generated multiple times\r\n        if (telemetry.request.on) {\r\n            telemetry.request.on(\"aborted\", function () {\r\n                var errorMessage = \"The request has been aborted and the network socket has closed.\";\r\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, errorMessage);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Add the target correlationId to the response headers, if not already provided.\r\n     */\r\n    AutoCollectHttpRequests.addResponseCorrelationIdHeader = function (client, response) {\r\n        if (client.config && client.config.correlationId &&\r\n            response.getHeader && response.setHeader && !response.headersSent) {\r\n            var correlationHeader = response.getHeader(RequestResponseHeaders.requestContextHeader);\r\n            Util.safeIncludeCorrelationHeader(client, response, correlationHeader);\r\n        }\r\n    };\r\n    AutoCollectHttpRequests.endRequest = function (client, requestParser, telemetry, ellapsedMilliseconds, error) {\r\n        if (telemetry.isProcessed) {\r\n            return;\r\n        }\r\n        telemetry.isProcessed = true;\r\n        if (error) {\r\n            requestParser.onError(error, ellapsedMilliseconds);\r\n        }\r\n        else {\r\n            requestParser.onResponse(telemetry.response, ellapsedMilliseconds);\r\n        }\r\n        var requestTelemetry = requestParser.getRequestTelemetry(telemetry);\r\n        requestTelemetry.tagOverrides = requestParser.getRequestTags(client.context.tags);\r\n        if (telemetry.tagOverrides) {\r\n            for (var key in telemetry.tagOverrides) {\r\n                requestTelemetry.tagOverrides[key] = telemetry.tagOverrides[key];\r\n            }\r\n        }\r\n        var legacyRootId = requestParser.getLegacyRootId();\r\n        if (legacyRootId) {\r\n            requestTelemetry.properties[\"ai_legacyRootId\"] = legacyRootId;\r\n        }\r\n        requestTelemetry.contextObjects = requestTelemetry.contextObjects || {};\r\n        requestTelemetry.contextObjects[\"http.ServerRequest\"] = telemetry.request;\r\n        requestTelemetry.contextObjects[\"http.ServerResponse\"] = telemetry.response;\r\n        client.trackRequest(requestTelemetry);\r\n    };\r\n    AutoCollectHttpRequests.prototype.dispose = function () {\r\n        AutoCollectHttpRequests.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n        CorrelationContextManager_1.CorrelationContextManager.disable();\r\n        this._isAutoCorrelating = false;\r\n    };\r\n    AutoCollectHttpRequests.HANDLER_READY = false;\r\n    AutoCollectHttpRequests.alreadyAutoCollectedFlag = \"_appInsightsAutoCollected\";\r\n    return AutoCollectHttpRequests;\r\n}());\r\nmodule.exports = AutoCollectHttpRequests;\r\n//# sourceMappingURL=HttpRequests.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AutoCollectNativePerformance = void 0;\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar Context = require(\"../Library/Context\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar AutoCollectNativePerformance = /** @class */ (function () {\r\n    function AutoCollectNativePerformance(client) {\r\n        var _a;\r\n        this._disabledMetrics = {};\r\n        // Note: Only 1 instance of this can exist. So when we reconstruct this object,\r\n        // just disable old native instance and reset JS member variables\r\n        if (AutoCollectNativePerformance.INSTANCE) {\r\n            AutoCollectNativePerformance.INSTANCE.dispose();\r\n        }\r\n        AutoCollectNativePerformance.INSTANCE = this;\r\n        this._client = client;\r\n        this._statsbeat = (_a = this._client) === null || _a === void 0 ? void 0 : _a.getStatsbeat();\r\n    }\r\n    /**\r\n     * Start instance of native metrics agent.\r\n     *\r\n     * @param {boolean} isEnabled\r\n     * @param {number} [collectionInterval=60000]\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype.enable = function (isEnabled, disabledMetrics, collectionInterval) {\r\n        var _this = this;\r\n        if (disabledMetrics === void 0) { disabledMetrics = {}; }\r\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\r\n        if (AutoCollectNativePerformance._metricsAvailable == undefined && isEnabled && !this._isInitialized) {\r\n            // Try to require in the native-metrics library. If it's found initialize it, else do nothing and never try again.\r\n            try {\r\n                var NativeMetricsEmitters = require(\"applicationinsights-native-metrics\");\r\n                AutoCollectNativePerformance._emitter = new NativeMetricsEmitters();\r\n                AutoCollectNativePerformance._metricsAvailable = true;\r\n                Logging.info(\"Native metrics module successfully loaded!\");\r\n            }\r\n            catch (err) {\r\n                // Package not available. Never try again\r\n                AutoCollectNativePerformance._metricsAvailable = false;\r\n                return;\r\n            }\r\n        }\r\n        this._isEnabled = isEnabled;\r\n        this._disabledMetrics = disabledMetrics;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n        // Enable the emitter if we were able to construct one\r\n        if (this._isEnabled && AutoCollectNativePerformance._emitter) {\r\n            if (this._statsbeat) {\r\n                this._statsbeat.addFeature(Constants.StatsbeatFeature.NATIVE_METRICS);\r\n            }\r\n            // enable self\r\n            AutoCollectNativePerformance._emitter.enable(true, collectionInterval);\r\n            if (!this._handle) {\r\n                this._handle = setInterval(function () { return _this._trackNativeMetrics(); }, collectionInterval);\r\n                this._handle.unref();\r\n            }\r\n        }\r\n        else if (AutoCollectNativePerformance._emitter) {\r\n            if (this._statsbeat) {\r\n                this._statsbeat.removeFeature(Constants.StatsbeatFeature.NATIVE_METRICS);\r\n            }\r\n            // disable self\r\n            AutoCollectNativePerformance._emitter.enable(false);\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = undefined;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Cleanup this instance of AutoCollectNativePerformance\r\n     *\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype.dispose = function () {\r\n        this.enable(false);\r\n    };\r\n    /**\r\n     * Parse environment variable and overwrite isEnabled based on respective fields being set\r\n     *\r\n     * @private\r\n     * @static\r\n     * @param {(boolean | IDisabledExtendedMetrics)} collectExtendedMetrics\r\n     * @param {(IBaseConfig)} customConfig\r\n     * @returns {(boolean | IDisabledExtendedMetrics)}\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.parseEnabled = function (collectExtendedMetrics, customConfig) {\r\n        var disableAll = customConfig.disableAllExtendedMetrics;\r\n        var individualOptOuts = customConfig.extendedMetricDisablers;\r\n        // case 1: disable all env var set, RETURN with isEnabled=false\r\n        if (disableAll) {\r\n            return { isEnabled: false, disabledMetrics: {} };\r\n        }\r\n        // case 2: individual env vars set, RETURN with isEnabled=true, disabledMetrics={...}\r\n        if (individualOptOuts) {\r\n            var optOutsArr = individualOptOuts.split(\",\");\r\n            var disabledMetrics = {};\r\n            if (optOutsArr.length > 0) {\r\n                for (var _i = 0, optOutsArr_1 = optOutsArr; _i < optOutsArr_1.length; _i++) {\r\n                    var opt = optOutsArr_1[_i];\r\n                    disabledMetrics[opt] = true;\r\n                }\r\n            }\r\n            // case 2a: collectExtendedMetrics is an object, overwrite existing ones if they exist\r\n            if (typeof collectExtendedMetrics === \"object\") {\r\n                return { isEnabled: true, disabledMetrics: __assign(__assign({}, collectExtendedMetrics), disabledMetrics) };\r\n            }\r\n            // case 2b: collectExtendedMetrics is a boolean, set disabledMetrics as is\r\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: disabledMetrics };\r\n        }\r\n        // case 4: no env vars set, input arg is a boolean, RETURN with isEnabled=collectExtendedMetrics, disabledMetrics={}\r\n        if (typeof collectExtendedMetrics === \"boolean\") {\r\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: {} };\r\n        }\r\n        else { // use else so we don't need to force typing on collectExtendedMetrics\r\n            // case 5: no env vars set, input arg is object, RETURN with isEnabled=true, disabledMetrics=collectExtendedMetrics\r\n            return { isEnabled: true, disabledMetrics: collectExtendedMetrics };\r\n        }\r\n    };\r\n    /**\r\n     * Trigger an iteration of native metrics collection\r\n     *\r\n     * @private\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype._trackNativeMetrics = function () {\r\n        var shouldSendAll = true;\r\n        if (typeof this._isEnabled !== \"object\") {\r\n            shouldSendAll = this._isEnabled;\r\n        }\r\n        if (shouldSendAll) {\r\n            this._trackGarbageCollection();\r\n            this._trackEventLoop();\r\n            this._trackHeapUsage();\r\n        }\r\n    };\r\n    /**\r\n     * Tracks garbage collection stats for this interval. One custom metric is sent per type of garbage\r\n     * collection that occurred during this collection interval.\r\n     *\r\n     * @private\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype._trackGarbageCollection = function () {\r\n        var _a;\r\n        if (this._disabledMetrics.gc) {\r\n            return;\r\n        }\r\n        var gcData = AutoCollectNativePerformance._emitter.getGCData();\r\n        for (var gc in gcData) {\r\n            var metrics = gcData[gc].metrics;\r\n            var name_1 = gc + \" Garbage Collection Duration\";\r\n            var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\r\n            this._client.trackMetric({\r\n                name: name_1,\r\n                value: metrics.total,\r\n                count: metrics.count,\r\n                max: metrics.max,\r\n                min: metrics.min,\r\n                stdDev: stdDev,\r\n                tagOverrides: (_a = {},\r\n                    _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                    _a)\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Tracks event loop ticks per interval as a custom metric. Also included in the metric is min/max/avg\r\n     * time spent in event loop for this interval.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype._trackEventLoop = function () {\r\n        var _a;\r\n        if (this._disabledMetrics.loop) {\r\n            return;\r\n        }\r\n        var loopData = AutoCollectNativePerformance._emitter.getLoopData();\r\n        var metrics = loopData.loopUsage;\r\n        if (metrics.count == 0) {\r\n            return;\r\n        }\r\n        var name = \"Event Loop CPU Time\";\r\n        var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\r\n        this._client.trackMetric({\r\n            name: name,\r\n            value: metrics.total,\r\n            count: metrics.count,\r\n            min: metrics.min,\r\n            max: metrics.max,\r\n            stdDev: stdDev,\r\n            tagOverrides: (_a = {},\r\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                _a)\r\n        });\r\n    };\r\n    /**\r\n     * Track heap memory usage metrics as a custom metric.\r\n     *\r\n     * @private\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype._trackHeapUsage = function () {\r\n        var _a, _b, _c;\r\n        if (this._disabledMetrics.heap) {\r\n            return;\r\n        }\r\n        var memoryUsage = process.memoryUsage();\r\n        var heapUsed = memoryUsage.heapUsed, heapTotal = memoryUsage.heapTotal, rss = memoryUsage.rss;\r\n        this._client.trackMetric({\r\n            name: \"Memory Usage (Heap)\",\r\n            value: heapUsed,\r\n            count: 1,\r\n            tagOverrides: (_a = {},\r\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                _a)\r\n        });\r\n        this._client.trackMetric({\r\n            name: \"Memory Total (Heap)\",\r\n            value: heapTotal,\r\n            count: 1,\r\n            tagOverrides: (_b = {},\r\n                _b[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                _b)\r\n        });\r\n        this._client.trackMetric({\r\n            name: \"Memory Usage (Non-Heap)\",\r\n            value: rss - heapTotal,\r\n            count: 1,\r\n            tagOverrides: (_c = {},\r\n                _c[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                _c)\r\n        });\r\n    };\r\n    return AutoCollectNativePerformance;\r\n}());\r\nexports.AutoCollectNativePerformance = AutoCollectNativePerformance;\r\n//# sourceMappingURL=NativePerformance.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NetworkStatsbeat = void 0;\r\nvar NetworkStatsbeat = /** @class */ (function () {\r\n    function NetworkStatsbeat(endpoint, host) {\r\n        this.endpoint = endpoint;\r\n        this.host = host;\r\n        this.totalRequestCount = 0;\r\n        this.totalSuccesfulRequestCount = 0;\r\n        this.totalFailedRequestCount = [];\r\n        this.retryCount = [];\r\n        this.exceptionCount = [];\r\n        this.throttleCount = [];\r\n        this.intervalRequestExecutionTime = 0;\r\n        this.lastIntervalRequestExecutionTime = 0;\r\n        this.lastTime = +new Date;\r\n        this.lastRequestCount = 0;\r\n    }\r\n    return NetworkStatsbeat;\r\n}());\r\nexports.NetworkStatsbeat = NetworkStatsbeat;\r\n//# sourceMappingURL=NetworkStatsbeat.js.map","\"use strict\";\r\nvar os = require(\"os\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar AutoCollectPerformance = /** @class */ (function () {\r\n    /**\r\n     * @param enableLiveMetricsCounters - enable sending additional live metrics information (dependency metrics, exception metrics, committed memory)\r\n     */\r\n    function AutoCollectPerformance(client, collectionInterval, enableLiveMetricsCounters) {\r\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\r\n        if (enableLiveMetricsCounters === void 0) { enableLiveMetricsCounters = false; }\r\n        this._lastIntervalRequestExecutionTime = 0; // the sum of durations which took place during from app start until last interval\r\n        this._lastIntervalDependencyExecutionTime = 0;\r\n        if (!AutoCollectPerformance.INSTANCE) {\r\n            AutoCollectPerformance.INSTANCE = this;\r\n        }\r\n        this._lastRequests = { totalRequestCount: 0, totalFailedRequestCount: 0, time: 0 };\r\n        this._lastDependencies = { totalDependencyCount: 0, totalFailedDependencyCount: 0, time: 0 };\r\n        this._lastExceptions = { totalExceptionCount: 0, time: 0 };\r\n        this._isInitialized = false;\r\n        this._client = client;\r\n        this._collectionInterval = collectionInterval;\r\n        this._enableLiveMetricsCounters = enableLiveMetricsCounters;\r\n    }\r\n    AutoCollectPerformance.prototype.enable = function (isEnabled, collectionInterval) {\r\n        var _this = this;\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n        if (isEnabled) {\r\n            if (!this._handle) {\r\n                this._lastCpus = os.cpus();\r\n                this._lastRequests = {\r\n                    totalRequestCount: AutoCollectPerformance._totalRequestCount,\r\n                    totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\r\n                    time: +new Date\r\n                };\r\n                this._lastDependencies = {\r\n                    totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\r\n                    totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\r\n                    time: +new Date\r\n                };\r\n                this._lastExceptions = {\r\n                    totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\r\n                    time: +new Date\r\n                };\r\n                if (typeof process.cpuUsage === \"function\") {\r\n                    this._lastAppCpuUsage = process.cpuUsage();\r\n                }\r\n                this._lastHrtime = process.hrtime();\r\n                this._collectionInterval = collectionInterval || this._collectionInterval;\r\n                this._handle = setInterval(function () { return _this.trackPerformance(); }, this._collectionInterval);\r\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n        }\r\n        else {\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = undefined;\r\n            }\r\n        }\r\n    };\r\n    AutoCollectPerformance.countRequest = function (duration, success) {\r\n        var durationMs;\r\n        if (!AutoCollectPerformance.isEnabled()) {\r\n            return;\r\n        }\r\n        if (typeof duration === \"string\") {\r\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\r\n            durationMs = +new Date(\"1970-01-01T\" + duration + \"Z\"); // convert to num ms, returns NaN if wrong\r\n        }\r\n        else if (typeof duration === \"number\") {\r\n            durationMs = duration;\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        AutoCollectPerformance._intervalRequestExecutionTime += durationMs;\r\n        if (success === false) {\r\n            AutoCollectPerformance._totalFailedRequestCount++;\r\n        }\r\n        AutoCollectPerformance._totalRequestCount++;\r\n    };\r\n    AutoCollectPerformance.countException = function () {\r\n        AutoCollectPerformance._totalExceptionCount++;\r\n    };\r\n    AutoCollectPerformance.countDependency = function (duration, success) {\r\n        var durationMs;\r\n        if (!AutoCollectPerformance.isEnabled()) {\r\n            return;\r\n        }\r\n        if (typeof duration === \"string\") {\r\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\r\n            durationMs = +new Date(\"1970-01-01T\" + duration + \"Z\"); // convert to num ms, returns NaN if wrong\r\n        }\r\n        else if (typeof duration === \"number\") {\r\n            durationMs = duration;\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        AutoCollectPerformance._intervalDependencyExecutionTime += durationMs;\r\n        if (success === false) {\r\n            AutoCollectPerformance._totalFailedDependencyCount++;\r\n        }\r\n        AutoCollectPerformance._totalDependencyCount++;\r\n    };\r\n    AutoCollectPerformance.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectPerformance.isEnabled = function () {\r\n        return AutoCollectPerformance.INSTANCE && AutoCollectPerformance.INSTANCE._isEnabled;\r\n    };\r\n    AutoCollectPerformance.prototype.trackPerformance = function () {\r\n        this._trackCpu();\r\n        this._trackMemory();\r\n        this._trackNetwork();\r\n        this._trackDependencyRate();\r\n        this._trackExceptionRate();\r\n    };\r\n    AutoCollectPerformance.prototype._trackCpu = function () {\r\n        // this reports total ms spent in each category since the OS was booted, to calculate percent it is necessary\r\n        // to find the delta since the last measurement\r\n        var cpus = os.cpus();\r\n        if (cpus && cpus.length && this._lastCpus && cpus.length === this._lastCpus.length) {\r\n            var totalUser = 0;\r\n            var totalSys = 0;\r\n            var totalNice = 0;\r\n            var totalIdle = 0;\r\n            var totalIrq = 0;\r\n            for (var i = 0; !!cpus && i < cpus.length; i++) {\r\n                var cpu = cpus[i];\r\n                var lastCpu = this._lastCpus[i];\r\n                var name = \"% cpu(\" + i + \") \";\r\n                var model = cpu.model;\r\n                var speed = cpu.speed;\r\n                var times = cpu.times;\r\n                var lastTimes = lastCpu.times;\r\n                // user cpu time (or) % CPU time spent in user space\r\n                var user = (times.user - lastTimes.user) || 0;\r\n                totalUser += user;\r\n                // system cpu time (or) % CPU time spent in kernel space\r\n                var sys = (times.sys - lastTimes.sys) || 0;\r\n                totalSys += sys;\r\n                // user nice cpu time (or) % CPU time spent on low priority processes\r\n                var nice = (times.nice - lastTimes.nice) || 0;\r\n                totalNice += nice;\r\n                // idle cpu time (or) % CPU time spent idle\r\n                var idle = (times.idle - lastTimes.idle) || 0;\r\n                totalIdle += idle;\r\n                // irq (or) % CPU time spent servicing/handling hardware interrupts\r\n                var irq = (times.irq - lastTimes.irq) || 0;\r\n                totalIrq += irq;\r\n            }\r\n            // Calculate % of total cpu time (user + system) this App Process used (Only supported by node v6.1.0+)\r\n            var appCpuPercent = undefined;\r\n            if (typeof process.cpuUsage === \"function\") {\r\n                var appCpuUsage = process.cpuUsage();\r\n                var hrtime = process.hrtime();\r\n                var totalApp = ((appCpuUsage.user - this._lastAppCpuUsage.user) + (appCpuUsage.system - this._lastAppCpuUsage.system)) || 0;\r\n                if (typeof this._lastHrtime !== \"undefined\" && this._lastHrtime.length === 2) {\r\n                    var elapsedTime = ((hrtime[0] - this._lastHrtime[0]) * 1e6 + (hrtime[1] - this._lastHrtime[1]) / 1e3) || 0; // convert to microseconds\r\n                    appCpuPercent = 100 * totalApp / (elapsedTime * cpus.length);\r\n                }\r\n                // Set previous\r\n                this._lastAppCpuUsage = appCpuUsage;\r\n                this._lastHrtime = hrtime;\r\n            }\r\n            var combinedTotal = (totalUser + totalSys + totalNice + totalIdle + totalIrq) || 1;\r\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESSOR_TIME, value: ((combinedTotal - totalIdle) / combinedTotal) * 100 });\r\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESS_TIME, value: appCpuPercent || ((totalUser / combinedTotal) * 100) });\r\n        }\r\n        this._lastCpus = cpus;\r\n    };\r\n    AutoCollectPerformance.prototype._trackMemory = function () {\r\n        var freeMem = os.freemem();\r\n        var usedMem = process.memoryUsage().rss;\r\n        var committedMemory = os.totalmem() - freeMem;\r\n        this._client.trackMetric({ name: Constants.PerformanceCounter.PRIVATE_BYTES, value: usedMem });\r\n        this._client.trackMetric({ name: Constants.PerformanceCounter.AVAILABLE_BYTES, value: freeMem });\r\n        // Only supported by quickpulse service\r\n        if (this._enableLiveMetricsCounters) {\r\n            this._client.trackMetric({ name: Constants.QuickPulseCounter.COMMITTED_BYTES, value: committedMemory });\r\n        }\r\n    };\r\n    AutoCollectPerformance.prototype._trackNetwork = function () {\r\n        // track total request counters\r\n        var lastRequests = this._lastRequests;\r\n        var requests = {\r\n            totalRequestCount: AutoCollectPerformance._totalRequestCount,\r\n            totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\r\n            time: +new Date\r\n        };\r\n        var intervalRequests = (requests.totalRequestCount - lastRequests.totalRequestCount) || 0;\r\n        var intervalFailedRequests = (requests.totalFailedRequestCount - lastRequests.totalFailedRequestCount) || 0;\r\n        var elapsedMs = requests.time - lastRequests.time;\r\n        var elapsedSeconds = elapsedMs / 1000;\r\n        var averageRequestExecutionTime = ((AutoCollectPerformance._intervalRequestExecutionTime - this._lastIntervalRequestExecutionTime) / intervalRequests) || 0; // default to 0 in case no requests in this interval\r\n        this._lastIntervalRequestExecutionTime = AutoCollectPerformance._intervalRequestExecutionTime; // reset\r\n        if (elapsedMs > 0) {\r\n            var requestsPerSec = intervalRequests / elapsedSeconds;\r\n            var failedRequestsPerSec = intervalFailedRequests / elapsedSeconds;\r\n            this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_RATE, value: requestsPerSec });\r\n            // Only send duration to live metrics if it has been updated!\r\n            if (!this._enableLiveMetricsCounters || intervalRequests > 0) {\r\n                this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_DURATION, value: averageRequestExecutionTime });\r\n            }\r\n            // Only supported by quickpulse service\r\n            if (this._enableLiveMetricsCounters) {\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.REQUEST_FAILURE_RATE, value: failedRequestsPerSec });\r\n            }\r\n        }\r\n        this._lastRequests = requests;\r\n    };\r\n    // Static counter is accumulated externally. Report the rate to client here\r\n    // Note: This is currently only used with QuickPulse client\r\n    AutoCollectPerformance.prototype._trackDependencyRate = function () {\r\n        if (this._enableLiveMetricsCounters) {\r\n            var lastDependencies = this._lastDependencies;\r\n            var dependencies = {\r\n                totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\r\n                totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\r\n                time: +new Date\r\n            };\r\n            var intervalDependencies = (dependencies.totalDependencyCount - lastDependencies.totalDependencyCount) || 0;\r\n            var intervalFailedDependencies = (dependencies.totalFailedDependencyCount - lastDependencies.totalFailedDependencyCount) || 0;\r\n            var elapsedMs = dependencies.time - lastDependencies.time;\r\n            var elapsedSeconds = elapsedMs / 1000;\r\n            var averageDependencyExecutionTime = ((AutoCollectPerformance._intervalDependencyExecutionTime - this._lastIntervalDependencyExecutionTime) / intervalDependencies) || 0;\r\n            this._lastIntervalDependencyExecutionTime = AutoCollectPerformance._intervalDependencyExecutionTime; // reset\r\n            if (elapsedMs > 0) {\r\n                var dependenciesPerSec = intervalDependencies / elapsedSeconds;\r\n                var failedDependenciesPerSec = intervalFailedDependencies / elapsedSeconds;\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_RATE, value: dependenciesPerSec });\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_FAILURE_RATE, value: failedDependenciesPerSec });\r\n                // redundant check for livemetrics, but kept for consistency w/ requests\r\n                // Only send duration to live metrics if it has been updated!\r\n                if (!this._enableLiveMetricsCounters || intervalDependencies > 0) {\r\n                    this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_DURATION, value: averageDependencyExecutionTime });\r\n                }\r\n            }\r\n            this._lastDependencies = dependencies;\r\n        }\r\n    };\r\n    // Static counter is accumulated externally. Report the rate to client here\r\n    // Note: This is currently only used with QuickPulse client\r\n    AutoCollectPerformance.prototype._trackExceptionRate = function () {\r\n        if (this._enableLiveMetricsCounters) {\r\n            var lastExceptions = this._lastExceptions;\r\n            var exceptions = {\r\n                totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\r\n                time: +new Date\r\n            };\r\n            var intervalExceptions = (exceptions.totalExceptionCount - lastExceptions.totalExceptionCount) || 0;\r\n            var elapsedMs = exceptions.time - lastExceptions.time;\r\n            var elapsedSeconds = elapsedMs / 1000;\r\n            if (elapsedMs > 0) {\r\n                var exceptionsPerSec = intervalExceptions / elapsedSeconds;\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.EXCEPTION_RATE, value: exceptionsPerSec });\r\n            }\r\n            this._lastExceptions = exceptions;\r\n        }\r\n    };\r\n    AutoCollectPerformance.prototype.dispose = function () {\r\n        AutoCollectPerformance.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    AutoCollectPerformance._totalRequestCount = 0;\r\n    AutoCollectPerformance._totalFailedRequestCount = 0;\r\n    AutoCollectPerformance._totalDependencyCount = 0;\r\n    AutoCollectPerformance._totalFailedDependencyCount = 0;\r\n    AutoCollectPerformance._totalExceptionCount = 0;\r\n    AutoCollectPerformance._intervalDependencyExecutionTime = 0;\r\n    AutoCollectPerformance._intervalRequestExecutionTime = 0;\r\n    return AutoCollectPerformance;\r\n}());\r\nmodule.exports = AutoCollectPerformance;\r\n//# sourceMappingURL=Performance.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar AggregatedMetricCounters_1 = require(\"../Declarations/Metrics/AggregatedMetricCounters\");\r\nvar AggregatedMetricDimensions_1 = require(\"../Declarations/Metrics/AggregatedMetricDimensions\");\r\nvar AutoCollectPreAggregatedMetrics = /** @class */ (function () {\r\n    /**\r\n     * @param client - Telemetry Client\r\n     * @param collectionInterval - Metric collection interval in ms\r\n     */\r\n    function AutoCollectPreAggregatedMetrics(client, collectionInterval) {\r\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\r\n        if (!AutoCollectPreAggregatedMetrics.INSTANCE) {\r\n            AutoCollectPreAggregatedMetrics.INSTANCE = this;\r\n        }\r\n        this._isInitialized = false;\r\n        AutoCollectPreAggregatedMetrics._dependencyCountersCollection = [];\r\n        AutoCollectPreAggregatedMetrics._requestCountersCollection = [];\r\n        AutoCollectPreAggregatedMetrics._exceptionCountersCollection = [];\r\n        AutoCollectPreAggregatedMetrics._traceCountersCollection = [];\r\n        this._client = client;\r\n        this._collectionInterval = collectionInterval;\r\n    }\r\n    AutoCollectPreAggregatedMetrics.prototype.enable = function (isEnabled, collectionInterval) {\r\n        var _this = this;\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n        if (isEnabled) {\r\n            if (!this._handle) {\r\n                this._collectionInterval = collectionInterval || this._collectionInterval;\r\n                this._handle = setInterval(function () { return _this.trackPreAggregatedMetrics(); }, this._collectionInterval);\r\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n        }\r\n        else {\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = undefined;\r\n            }\r\n        }\r\n    };\r\n    AutoCollectPreAggregatedMetrics.countException = function (dimensions) {\r\n        if (!AutoCollectPreAggregatedMetrics.isEnabled()) {\r\n            return;\r\n        }\r\n        var counter = AutoCollectPreAggregatedMetrics._getAggregatedCounter(dimensions, this._exceptionCountersCollection);\r\n        counter.totalCount++;\r\n    };\r\n    AutoCollectPreAggregatedMetrics.countTrace = function (dimensions) {\r\n        if (!AutoCollectPreAggregatedMetrics.isEnabled()) {\r\n            return;\r\n        }\r\n        var counter = AutoCollectPreAggregatedMetrics._getAggregatedCounter(dimensions, this._traceCountersCollection);\r\n        counter.totalCount++;\r\n    };\r\n    AutoCollectPreAggregatedMetrics.countRequest = function (duration, dimensions) {\r\n        if (!AutoCollectPreAggregatedMetrics.isEnabled()) {\r\n            return;\r\n        }\r\n        var durationMs;\r\n        var counter = AutoCollectPreAggregatedMetrics._getAggregatedCounter(dimensions, this._requestCountersCollection);\r\n        if (typeof duration === \"string\") {\r\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\r\n            durationMs = +new Date(\"1970-01-01T\" + duration + \"Z\"); // convert to num ms, returns NaN if wrong\r\n        }\r\n        else if (typeof duration === \"number\") {\r\n            durationMs = duration;\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        counter.intervalExecutionTime += durationMs;\r\n        counter.totalCount++;\r\n    };\r\n    AutoCollectPreAggregatedMetrics.countDependency = function (duration, dimensions) {\r\n        if (!AutoCollectPreAggregatedMetrics.isEnabled()) {\r\n            return;\r\n        }\r\n        var counter = AutoCollectPreAggregatedMetrics._getAggregatedCounter(dimensions, this._dependencyCountersCollection);\r\n        var durationMs;\r\n        if (typeof duration === \"string\") {\r\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\r\n            durationMs = +new Date(\"1970-01-01T\" + duration + \"Z\"); // convert to num ms, returns NaN if wrong\r\n        }\r\n        else if (typeof duration === \"number\") {\r\n            durationMs = duration;\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        counter.intervalExecutionTime += durationMs;\r\n        counter.totalCount++;\r\n    };\r\n    AutoCollectPreAggregatedMetrics.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectPreAggregatedMetrics.isEnabled = function () {\r\n        return AutoCollectPreAggregatedMetrics.INSTANCE && AutoCollectPreAggregatedMetrics.INSTANCE._isEnabled;\r\n    };\r\n    AutoCollectPreAggregatedMetrics.prototype.trackPreAggregatedMetrics = function () {\r\n        this._trackRequestMetrics();\r\n        this._trackDependencyMetrics();\r\n        this._trackExceptionMetrics();\r\n        this._trackTraceMetrics();\r\n    };\r\n    AutoCollectPreAggregatedMetrics._getAggregatedCounter = function (dimensions, counterCollection) {\r\n        var notMatch = false;\r\n        // Check if counter with specified dimensions is available\r\n        for (var i = 0; i < counterCollection.length; i++) {\r\n            // Same object\r\n            if (dimensions === counterCollection[i].dimensions) {\r\n                return counterCollection[i];\r\n            }\r\n            // Diferent number of keys skip\r\n            if (Object.keys(dimensions).length !== Object.keys(counterCollection[i].dimensions).length) {\r\n                continue;\r\n            }\r\n            // Check dimension values\r\n            for (var dim in dimensions) {\r\n                if (dimensions[dim] != counterCollection[i].dimensions[dim]) {\r\n                    notMatch = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!notMatch) { // Found\r\n                return counterCollection[i];\r\n            }\r\n            notMatch = false;\r\n        }\r\n        // Create a new one if not found\r\n        var newCounter = new AggregatedMetricCounters_1.AggregatedMetricCounter(dimensions);\r\n        counterCollection.push(newCounter);\r\n        return newCounter;\r\n    };\r\n    AutoCollectPreAggregatedMetrics.prototype._trackRequestMetrics = function () {\r\n        for (var i = 0; i < AutoCollectPreAggregatedMetrics._requestCountersCollection.length; i++) {\r\n            var currentCounter = AutoCollectPreAggregatedMetrics._requestCountersCollection[i];\r\n            currentCounter.time = +new Date;\r\n            var intervalRequests = (currentCounter.totalCount - currentCounter.lastTotalCount) || 0;\r\n            var elapsedMs = currentCounter.time - currentCounter.lastTime;\r\n            var averageRequestExecutionTime = ((currentCounter.intervalExecutionTime - currentCounter.lastIntervalExecutionTime) / intervalRequests) || 0;\r\n            currentCounter.lastIntervalExecutionTime = currentCounter.intervalExecutionTime; // reset\r\n            if (elapsedMs > 0 && intervalRequests > 0) {\r\n                this._trackPreAggregatedMetric({\r\n                    name: \"Server response time\",\r\n                    dimensions: currentCounter.dimensions,\r\n                    value: averageRequestExecutionTime,\r\n                    count: intervalRequests,\r\n                    aggregationInterval: elapsedMs,\r\n                    metricType: Constants.MetricId.REQUESTS_DURATION\r\n                });\r\n            }\r\n            // Set last counters\r\n            currentCounter.lastTotalCount = currentCounter.totalCount;\r\n            currentCounter.lastTime = currentCounter.time;\r\n        }\r\n    };\r\n    AutoCollectPreAggregatedMetrics.prototype._trackDependencyMetrics = function () {\r\n        for (var i = 0; i < AutoCollectPreAggregatedMetrics._dependencyCountersCollection.length; i++) {\r\n            var currentCounter = AutoCollectPreAggregatedMetrics._dependencyCountersCollection[i];\r\n            currentCounter.time = +new Date;\r\n            var intervalDependencies = (currentCounter.totalCount - currentCounter.lastTotalCount) || 0;\r\n            var elapsedMs = currentCounter.time - currentCounter.lastTime;\r\n            var averageDependencyExecutionTime = ((currentCounter.intervalExecutionTime - currentCounter.lastIntervalExecutionTime) / intervalDependencies) || 0;\r\n            currentCounter.lastIntervalExecutionTime = currentCounter.intervalExecutionTime; // reset\r\n            if (elapsedMs > 0 && intervalDependencies > 0) {\r\n                this._trackPreAggregatedMetric({\r\n                    name: \"Dependency duration\",\r\n                    dimensions: currentCounter.dimensions,\r\n                    value: averageDependencyExecutionTime,\r\n                    count: intervalDependencies,\r\n                    aggregationInterval: elapsedMs,\r\n                    metricType: Constants.MetricId.DEPENDENCIES_DURATION\r\n                });\r\n            }\r\n            // Set last counters\r\n            currentCounter.lastTotalCount = currentCounter.totalCount;\r\n            currentCounter.lastTime = currentCounter.time;\r\n        }\r\n    };\r\n    AutoCollectPreAggregatedMetrics.prototype._trackExceptionMetrics = function () {\r\n        for (var i = 0; i < AutoCollectPreAggregatedMetrics._exceptionCountersCollection.length; i++) {\r\n            var currentCounter = AutoCollectPreAggregatedMetrics._exceptionCountersCollection[i];\r\n            currentCounter.time = +new Date;\r\n            var intervalExceptions = (currentCounter.totalCount - currentCounter.lastTotalCount) || 0;\r\n            var elapsedMs = currentCounter.time - currentCounter.lastTime;\r\n            if (elapsedMs > 0 && intervalExceptions > 0) {\r\n                this._trackPreAggregatedMetric({\r\n                    name: \"Exceptions\",\r\n                    dimensions: currentCounter.dimensions,\r\n                    value: intervalExceptions,\r\n                    count: intervalExceptions,\r\n                    aggregationInterval: elapsedMs,\r\n                    metricType: Constants.MetricId.EXCEPTIONS_COUNT\r\n                });\r\n            }\r\n            // Set last counters\r\n            currentCounter.lastTotalCount = currentCounter.totalCount;\r\n            currentCounter.lastTime = currentCounter.time;\r\n        }\r\n    };\r\n    AutoCollectPreAggregatedMetrics.prototype._trackTraceMetrics = function () {\r\n        for (var i = 0; i < AutoCollectPreAggregatedMetrics._traceCountersCollection.length; i++) {\r\n            var currentCounter = AutoCollectPreAggregatedMetrics._traceCountersCollection[i];\r\n            currentCounter.time = +new Date;\r\n            var intervalTraces = (currentCounter.totalCount - currentCounter.lastTotalCount) || 0;\r\n            var elapsedMs = currentCounter.time - currentCounter.lastTime;\r\n            if (elapsedMs > 0 && intervalTraces > 0) {\r\n                this._trackPreAggregatedMetric({\r\n                    name: \"Traces\",\r\n                    dimensions: currentCounter.dimensions,\r\n                    value: intervalTraces,\r\n                    count: intervalTraces,\r\n                    aggregationInterval: elapsedMs,\r\n                    metricType: Constants.MetricId.TRACES_COUNT\r\n                });\r\n            }\r\n            // Set last counters\r\n            currentCounter.lastTotalCount = currentCounter.totalCount;\r\n            currentCounter.lastTime = currentCounter.time;\r\n        }\r\n    };\r\n    AutoCollectPreAggregatedMetrics.prototype._trackPreAggregatedMetric = function (metric) {\r\n        // Build metric properties\r\n        var metricProperties = {};\r\n        for (var dim in metric.dimensions) {\r\n            metricProperties[AggregatedMetricDimensions_1.PreaggregatedMetricPropertyNames[dim]] = metric.dimensions[dim];\r\n        }\r\n        metricProperties = __assign(__assign({}, metricProperties), { \"_MS.MetricId\": metric.metricType, \"_MS.AggregationIntervalMs\": String(metric.aggregationInterval), \"_MS.IsAutocollected\": \"True\" });\r\n        var telemetry = {\r\n            name: metric.name,\r\n            value: metric.value,\r\n            count: metric.count,\r\n            properties: metricProperties,\r\n            kind: \"Aggregation\"\r\n        };\r\n        this._client.trackMetric(telemetry);\r\n    };\r\n    AutoCollectPreAggregatedMetrics.prototype.dispose = function () {\r\n        AutoCollectPreAggregatedMetrics.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    return AutoCollectPreAggregatedMetrics;\r\n}());\r\nmodule.exports = AutoCollectPreAggregatedMetrics;\r\n//# sourceMappingURL=PreAggregatedMetrics.js.map","\"use strict\";\r\n/**\r\n * Base class for helpers that read data from HTTP request/response objects and convert them\r\n * into the telemetry contract objects.\r\n */\r\nvar RequestParser = /** @class */ (function () {\r\n    function RequestParser() {\r\n    }\r\n    /**\r\n     * Gets a url parsed out from request options\r\n     */\r\n    RequestParser.prototype.getUrl = function () {\r\n        return this.url;\r\n    };\r\n    RequestParser.prototype.RequestParser = function () {\r\n        this.startTime = +new Date();\r\n    };\r\n    RequestParser.prototype._setStatus = function (status, error) {\r\n        var endTime = +new Date();\r\n        this.duration = endTime - this.startTime;\r\n        this.statusCode = status;\r\n        var properties = this.properties || {};\r\n        if (error) {\r\n            if (typeof error === \"string\") {\r\n                properties[\"error\"] = error;\r\n            }\r\n            else if (error instanceof Error) {\r\n                properties[\"error\"] = error.message;\r\n            }\r\n            else if (typeof error === \"object\") {\r\n                for (var key in error) {\r\n                    properties[key] = error[key] && error[key].toString && error[key].toString();\r\n                }\r\n            }\r\n        }\r\n        this.properties = properties;\r\n    };\r\n    RequestParser.prototype._isSuccess = function () {\r\n        return (0 < this.statusCode) && (this.statusCode < 400);\r\n    };\r\n    return RequestParser;\r\n}());\r\nmodule.exports = RequestParser;\r\n//# sourceMappingURL=RequestParser.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar os = require(\"os\");\r\nvar EnvelopeFactory = require(\"../Library/EnvelopeFactory\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar Sender = require(\"../Library/Sender\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Vm = require(\"../Library/AzureVirtualMachine\");\r\nvar Config = require(\"../Library/Config\");\r\nvar Context = require(\"../Library/Context\");\r\nvar Network = require(\"./NetworkStatsbeat\");\r\nvar Util = require(\"../Library/Util\");\r\nvar STATSBEAT_LANGUAGE = \"node\";\r\nvar Statsbeat = /** @class */ (function () {\r\n    function Statsbeat(config, context) {\r\n        this._attach = Constants.StatsbeatAttach.sdk; // Default is SDK\r\n        this._feature = Constants.StatsbeatFeature.NONE;\r\n        this._instrumentation = Constants.StatsbeatInstrumentation.NONE;\r\n        this._isInitialized = false;\r\n        this._statbeatMetrics = [];\r\n        this._networkStatsbeatCollection = [];\r\n        this._config = config;\r\n        this._context = context || new Context();\r\n        var statsbeatConnectionString = this._getConnectionString(config);\r\n        this._statsbeatConfig = new Config(statsbeatConnectionString);\r\n        this._statsbeatConfig.samplingPercentage = 100; // Do not sample\r\n        this._sender = new Sender(this._statsbeatConfig, null, null, null, null, true, this._shutdownStatsbeat.bind(this));\r\n    }\r\n    Statsbeat.prototype.enable = function (isEnabled) {\r\n        var _this = this;\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._getCustomProperties();\r\n            this._isInitialized = true;\r\n        }\r\n        if (isEnabled) {\r\n            if (!this._handle) {\r\n                this._handle = setInterval(function () {\r\n                    _this.trackShortIntervalStatsbeats();\r\n                }, Statsbeat.STATS_COLLECTION_SHORT_INTERVAL);\r\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n            if (!this._longHandle) {\r\n                // On first enablement\r\n                this.trackLongIntervalStatsbeats();\r\n                this._longHandle = setInterval(function () {\r\n                    _this.trackLongIntervalStatsbeats();\r\n                }, Statsbeat.STATS_COLLECTION_LONG_INTERVAL);\r\n                this._longHandle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n        }\r\n        else {\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = null;\r\n            }\r\n            if (this._longHandle) {\r\n                clearInterval(this._longHandle);\r\n                this._longHandle = null;\r\n            }\r\n        }\r\n    };\r\n    Statsbeat.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    Statsbeat.prototype.isEnabled = function () {\r\n        return this._isEnabled;\r\n    };\r\n    Statsbeat.prototype.setCodelessAttach = function () {\r\n        this._attach = Constants.StatsbeatAttach.codeless;\r\n    };\r\n    Statsbeat.prototype.addFeature = function (feature) {\r\n        this._feature |= feature;\r\n    };\r\n    Statsbeat.prototype.removeFeature = function (feature) {\r\n        this._feature &= ~feature;\r\n    };\r\n    Statsbeat.prototype.addInstrumentation = function (instrumentation) {\r\n        this._instrumentation |= instrumentation;\r\n    };\r\n    Statsbeat.prototype.removeInstrumentation = function (instrumentation) {\r\n        this._instrumentation &= ~instrumentation;\r\n    };\r\n    Statsbeat.prototype.countRequest = function (endpoint, host, duration, success, statusCode) {\r\n        if (!this.isEnabled()) {\r\n            return;\r\n        }\r\n        var counter = this._getNetworkStatsbeatCounter(endpoint, host);\r\n        counter.totalRequestCount++;\r\n        counter.intervalRequestExecutionTime += duration;\r\n        if (success === false) {\r\n            if (!statusCode) {\r\n                return;\r\n            }\r\n            var currentStatusCounter = counter.totalFailedRequestCount.find(function (statusCounter) { return statusCode === statusCounter.statusCode; });\r\n            if (currentStatusCounter) {\r\n                currentStatusCounter.count++;\r\n            }\r\n            else {\r\n                counter.totalFailedRequestCount.push({ statusCode: statusCode, count: 1 });\r\n            }\r\n        }\r\n        else {\r\n            counter.totalSuccesfulRequestCount++;\r\n        }\r\n    };\r\n    Statsbeat.prototype.countException = function (endpoint, host, exceptionType) {\r\n        if (!this.isEnabled()) {\r\n            return;\r\n        }\r\n        var counter = this._getNetworkStatsbeatCounter(endpoint, host);\r\n        var currentErrorCounter = counter.exceptionCount.find(function (exceptionCounter) { return exceptionType.name === exceptionCounter.exceptionType; });\r\n        if (currentErrorCounter) {\r\n            currentErrorCounter.count++;\r\n        }\r\n        else {\r\n            counter.exceptionCount.push({ exceptionType: exceptionType.name, count: 1 });\r\n        }\r\n    };\r\n    Statsbeat.prototype.countThrottle = function (endpoint, host, statusCode) {\r\n        if (!this.isEnabled()) {\r\n            return;\r\n        }\r\n        var counter = this._getNetworkStatsbeatCounter(endpoint, host);\r\n        var currentStatusCounter = counter.throttleCount.find(function (statusCounter) { return statusCode === statusCounter.statusCode; });\r\n        if (currentStatusCounter) {\r\n            currentStatusCounter.count++;\r\n        }\r\n        else {\r\n            counter.throttleCount.push({ statusCode: statusCode, count: 1 });\r\n        }\r\n    };\r\n    Statsbeat.prototype.countRetry = function (endpoint, host, statusCode) {\r\n        if (!this.isEnabled()) {\r\n            return;\r\n        }\r\n        var counter = this._getNetworkStatsbeatCounter(endpoint, host);\r\n        var currentStatusCounter = counter.retryCount.find(function (statusCounter) { return statusCode === statusCounter.statusCode; });\r\n        if (currentStatusCounter) {\r\n            currentStatusCounter.count++;\r\n        }\r\n        else {\r\n            counter.retryCount.push({ statusCode: statusCode, count: 1 });\r\n        }\r\n    };\r\n    Statsbeat.prototype.trackShortIntervalStatsbeats = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var networkProperties, error_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 3, , 4]);\r\n                        return [4 /*yield*/, this._getResourceProvider()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        networkProperties = {\r\n                            \"os\": this._os,\r\n                            \"rp\": this._resourceProvider,\r\n                            \"cikey\": this._cikey,\r\n                            \"runtimeVersion\": this._runtimeVersion,\r\n                            \"language\": this._language,\r\n                            \"version\": this._sdkVersion,\r\n                            \"attach\": this._attach\r\n                        };\r\n                        this._trackRequestDuration(networkProperties);\r\n                        this._trackRequestsCount(networkProperties);\r\n                        return [4 /*yield*/, this._sendStatsbeats()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        error_1 = _a.sent();\r\n                        Logging.info(Statsbeat.TAG, \"Failed to send Statsbeat metrics: \" + Util.dumpObj(error_1));\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Statsbeat.prototype.trackLongIntervalStatsbeats = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var commonProperties, attachProperties, instrumentationProperties, featureProperties, error_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 3, , 4]);\r\n                        return [4 /*yield*/, this._getResourceProvider()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        commonProperties = {\r\n                            \"os\": this._os,\r\n                            \"rp\": this._resourceProvider,\r\n                            \"cikey\": this._cikey,\r\n                            \"runtimeVersion\": this._runtimeVersion,\r\n                            \"language\": this._language,\r\n                            \"version\": this._sdkVersion,\r\n                            \"attach\": this._attach\r\n                        };\r\n                        attachProperties = Object.assign({\r\n                            \"rpId\": this._resourceIdentifier\r\n                        }, commonProperties);\r\n                        this._statbeatMetrics.push({ name: Constants.StatsbeatCounter.ATTACH, value: 1, properties: attachProperties });\r\n                        if (this._instrumentation != Constants.StatsbeatInstrumentation.NONE) { // Only send if there are some instrumentations enabled\r\n                            instrumentationProperties = Object.assign({ \"feature\": this._instrumentation, \"type\": Constants.StatsbeatFeatureType.Instrumentation }, commonProperties);\r\n                            this._statbeatMetrics.push({ name: Constants.StatsbeatCounter.FEATURE, value: 1, properties: instrumentationProperties });\r\n                        }\r\n                        if (this._feature != Constants.StatsbeatFeature.NONE) { // Only send if there are some features enabled\r\n                            featureProperties = Object.assign({ \"feature\": this._feature, \"type\": Constants.StatsbeatFeatureType.Feature }, commonProperties);\r\n                            this._statbeatMetrics.push({ name: Constants.StatsbeatCounter.FEATURE, value: 1, properties: featureProperties });\r\n                        }\r\n                        return [4 /*yield*/, this._sendStatsbeats()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        error_2 = _a.sent();\r\n                        Logging.info(Statsbeat.TAG, \"Failed to send Statsbeat metrics: \" + Util.dumpObj(error_2));\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Statsbeat.prototype._getNetworkStatsbeatCounter = function (endpoint, host) {\r\n        var shortHost = this._getShortHost(host);\r\n        // Check if counter is available\r\n        for (var i = 0; i < this._networkStatsbeatCollection.length; i++) {\r\n            // Same object\r\n            if (endpoint === this._networkStatsbeatCollection[i].endpoint &&\r\n                shortHost === this._networkStatsbeatCollection[i].host) {\r\n                return this._networkStatsbeatCollection[i];\r\n            }\r\n        }\r\n        // Create a new one if not found\r\n        var newCounter = new Network.NetworkStatsbeat(endpoint, shortHost);\r\n        this._networkStatsbeatCollection.push(newCounter);\r\n        return newCounter;\r\n    };\r\n    Statsbeat.prototype._trackRequestDuration = function (commonProperties) {\r\n        for (var i = 0; i < this._networkStatsbeatCollection.length; i++) {\r\n            var currentCounter = this._networkStatsbeatCollection[i];\r\n            currentCounter.time = +new Date;\r\n            var intervalRequests = (currentCounter.totalRequestCount - currentCounter.lastRequestCount) || 0;\r\n            var totalRequestExecutionTime = currentCounter.intervalRequestExecutionTime - currentCounter.lastIntervalRequestExecutionTime;\r\n            var averageRequestExecutionTime = totalRequestExecutionTime > 0 ? (totalRequestExecutionTime / intervalRequests) || 0 : 0;\r\n            currentCounter.lastIntervalRequestExecutionTime = currentCounter.intervalRequestExecutionTime; // reset\r\n            if (intervalRequests > 0) {\r\n                // Add extra properties\r\n                var properties = Object.assign({\r\n                    \"endpoint\": this._networkStatsbeatCollection[i].endpoint,\r\n                    \"host\": this._networkStatsbeatCollection[i].host\r\n                }, commonProperties);\r\n                this._statbeatMetrics.push({\r\n                    name: Constants.StatsbeatCounter.REQUEST_DURATION,\r\n                    value: averageRequestExecutionTime,\r\n                    properties: properties\r\n                });\r\n            }\r\n            // Set last counters\r\n            currentCounter.lastRequestCount = currentCounter.totalRequestCount;\r\n            currentCounter.lastTime = currentCounter.time;\r\n        }\r\n    };\r\n    Statsbeat.prototype._getShortHost = function (originalHost) {\r\n        var shortHost = originalHost;\r\n        try {\r\n            var hostRegex = new RegExp(/^https?:\\/\\/(?:www\\.)?([^\\/.-]+)/);\r\n            var res = hostRegex.exec(originalHost);\r\n            if (res != null && res.length > 1) {\r\n                shortHost = res[1];\r\n            }\r\n            shortHost = shortHost.replace(\".in.applicationinsights.azure.com\", \"\");\r\n        }\r\n        catch (error) {\r\n            // Ignore error\r\n        }\r\n        return shortHost;\r\n    };\r\n    Statsbeat.prototype._trackRequestsCount = function (commonProperties) {\r\n        var _this = this;\r\n        var _loop_1 = function (i) {\r\n            currentCounter = this_1._networkStatsbeatCollection[i];\r\n            var properties = Object.assign({ \"endpoint\": currentCounter.endpoint, \"host\": currentCounter.host }, commonProperties);\r\n            if (currentCounter.totalSuccesfulRequestCount > 0) {\r\n                this_1._statbeatMetrics.push({\r\n                    name: Constants.StatsbeatCounter.REQUEST_SUCCESS,\r\n                    value: currentCounter.totalSuccesfulRequestCount,\r\n                    properties: properties\r\n                });\r\n                currentCounter.totalSuccesfulRequestCount = 0; //Reset\r\n            }\r\n            if (currentCounter.totalFailedRequestCount.length > 0) {\r\n                currentCounter.totalFailedRequestCount.forEach(function (currentCounter) {\r\n                    properties = Object.assign(__assign(__assign({}, properties), { \"statusCode\": currentCounter.statusCode }));\r\n                    _this._statbeatMetrics.push({\r\n                        name: Constants.StatsbeatCounter.REQUEST_FAILURE,\r\n                        value: currentCounter.count,\r\n                        properties: properties\r\n                    });\r\n                });\r\n                currentCounter.totalFailedRequestCount = []; //Reset\r\n            }\r\n            if (currentCounter.retryCount.length > 0) {\r\n                currentCounter.retryCount.forEach(function (currentCounter) {\r\n                    properties = Object.assign(__assign(__assign({}, properties), { \"statusCode\": currentCounter.statusCode }));\r\n                    _this._statbeatMetrics.push({\r\n                        name: Constants.StatsbeatCounter.RETRY_COUNT,\r\n                        value: currentCounter.count,\r\n                        properties: properties\r\n                    });\r\n                });\r\n                currentCounter.retryCount = []; //Reset\r\n            }\r\n            if (currentCounter.throttleCount.length > 0) {\r\n                currentCounter.throttleCount.forEach(function (currentCounter) {\r\n                    properties = Object.assign(__assign(__assign({}, properties), { \"statusCode\": currentCounter.statusCode }));\r\n                    _this._statbeatMetrics.push({\r\n                        name: Constants.StatsbeatCounter.THROTTLE_COUNT,\r\n                        value: currentCounter.count,\r\n                        properties: properties\r\n                    });\r\n                });\r\n                currentCounter.throttleCount = []; //Reset\r\n            }\r\n            if (currentCounter.exceptionCount.length > 0) {\r\n                currentCounter.exceptionCount.forEach(function (currentCounter) {\r\n                    properties = Object.assign(__assign(__assign({}, properties), { \"exceptionType\": currentCounter.exceptionType }));\r\n                    _this._statbeatMetrics.push({\r\n                        name: Constants.StatsbeatCounter.EXCEPTION_COUNT,\r\n                        value: currentCounter.count,\r\n                        properties: properties\r\n                    });\r\n                });\r\n                currentCounter.exceptionCount = []; //Reset\r\n            }\r\n        };\r\n        var this_1 = this, currentCounter;\r\n        for (var i = 0; i < this._networkStatsbeatCollection.length; i++) {\r\n            _loop_1(i);\r\n        }\r\n    };\r\n    Statsbeat.prototype._sendStatsbeats = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var envelopes, i, statsbeat, envelope;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        envelopes = [];\r\n                        for (i = 0; i < this._statbeatMetrics.length; i++) {\r\n                            statsbeat = {\r\n                                name: this._statbeatMetrics[i].name,\r\n                                value: this._statbeatMetrics[i].value,\r\n                                properties: this._statbeatMetrics[i].properties\r\n                            };\r\n                            envelope = EnvelopeFactory.createEnvelope(statsbeat, Contracts.TelemetryType.Metric, null, this._context, this._statsbeatConfig);\r\n                            envelope.name = Constants.StatsbeatTelemetryName;\r\n                            envelopes.push(envelope);\r\n                        }\r\n                        this._statbeatMetrics = [];\r\n                        return [4 /*yield*/, this._sender.send(envelopes)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Statsbeat.prototype._getCustomProperties = function () {\r\n        this._language = STATSBEAT_LANGUAGE;\r\n        this._cikey = this._config.instrumentationKey;\r\n        this._sdkVersion = Context.sdkVersion; // \"node\" or \"node-nativeperf\"\r\n        this._os = os.type();\r\n        this._runtimeVersion = process.version;\r\n    };\r\n    Statsbeat.prototype._getResourceProvider = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            // Check resource provider\r\n            var waiting = false;\r\n            _this._resourceProvider = Constants.StatsbeatResourceProvider.unknown;\r\n            _this._resourceIdentifier = Constants.StatsbeatResourceProvider.unknown;\r\n            if (process.env.AKS_ARM_NAMESPACE_ID) { //AKS\r\n                _this._resourceProvider = Constants.StatsbeatResourceProvider.aks;\r\n                _this._resourceIdentifier = process.env.AKS_ARM_NAMESPACE_ID;\r\n            }\r\n            else if (process.env.WEBSITE_SITE_NAME) { // Web apps\r\n                _this._resourceProvider = Constants.StatsbeatResourceProvider.appsvc;\r\n                _this._resourceIdentifier = process.env.WEBSITE_SITE_NAME;\r\n                if (process.env.WEBSITE_HOME_STAMPNAME) {\r\n                    _this._resourceIdentifier += \"/\" + process.env.WEBSITE_HOME_STAMPNAME;\r\n                }\r\n            }\r\n            else if (process.env.FUNCTIONS_WORKER_RUNTIME) { // Function apps\r\n                _this._resourceProvider = Constants.StatsbeatResourceProvider.functions;\r\n                if (process.env.WEBSITE_HOSTNAME) {\r\n                    _this._resourceIdentifier = process.env.WEBSITE_HOSTNAME;\r\n                }\r\n            }\r\n            else if (_this._config) {\r\n                if (_this._isVM === undefined || _this._isVM == true) {\r\n                    waiting = true;\r\n                    Vm.AzureVirtualMachine.getAzureComputeMetadata(_this._config, function (vmInfo) {\r\n                        _this._isVM = vmInfo.isVM;\r\n                        if (_this._isVM) {\r\n                            _this._resourceProvider = Constants.StatsbeatResourceProvider.vm;\r\n                            _this._resourceIdentifier = vmInfo.id + \"/\" + vmInfo.subscriptionId;\r\n                            // Override OS as VM info have higher precedence\r\n                            if (vmInfo.osType) {\r\n                                _this._os = vmInfo.osType;\r\n                            }\r\n                        }\r\n                        resolve();\r\n                    });\r\n                }\r\n                else {\r\n                    _this._resourceProvider = Constants.StatsbeatResourceProvider.unknown;\r\n                }\r\n            }\r\n            if (!waiting) {\r\n                resolve();\r\n            }\r\n        });\r\n    };\r\n    Statsbeat.prototype._shutdownStatsbeat = function () {\r\n        this.enable(false); // Disable Statsbeat as is it failed 3 times consecutively during initialization, is possible SDK is running in private or restricted network\r\n    };\r\n    Statsbeat.prototype._getConnectionString = function (config) {\r\n        var currentEndpoint = config.endpointUrl;\r\n        var euEndpoints = [\r\n            \"westeurope\",\r\n            \"northeurope\",\r\n            \"francecentral\",\r\n            \"francesouth\",\r\n            \"germanywestcentral\",\r\n            \"norwayeast\",\r\n            \"norwaywest\",\r\n            \"swedencentral\",\r\n            \"switzerlandnorth\",\r\n            \"switzerlandwest\",\r\n            \"uksouth\",\r\n            \"ukwest\"\r\n        ];\r\n        for (var i = 0; i < euEndpoints.length; i++) {\r\n            if (currentEndpoint.indexOf(euEndpoints[i]) > -1) {\r\n                return Statsbeat.EU_CONNECTION_STRING;\r\n            }\r\n        }\r\n        return Statsbeat.NON_EU_CONNECTION_STRING;\r\n    };\r\n    Statsbeat.NON_EU_CONNECTION_STRING = \"InstrumentationKey=c4a29126-a7cb-47e5-b348-11414998b11e;IngestionEndpoint=https://westus-0.in.applicationinsights.azure.com\";\r\n    Statsbeat.EU_CONNECTION_STRING = \"InstrumentationKey=7dc56bab-3c0c-4e9f-9ebb-d1acadee8d0f;IngestionEndpoint=https://westeurope-5.in.applicationinsights.azure.com\";\r\n    Statsbeat.STATS_COLLECTION_SHORT_INTERVAL = 900000; // 15 minutes\r\n    Statsbeat.STATS_COLLECTION_LONG_INTERVAL = 86400000; // 1 day\r\n    Statsbeat.TAG = \"Statsbeat\";\r\n    return Statsbeat;\r\n}());\r\nmodule.exports = Statsbeat;\r\n//# sourceMappingURL=Statsbeat.js.map","\"use strict\";\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar zlib = require(\"zlib\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar snippetInjectionHelper = require(\"../Library/SnippetInjectionHelper\");\r\nvar prefixHelper = require(\"../Library/PrefixHelper\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar ConnectionStringParser = require(\"../Library/ConnectionStringParser\");\r\nvar applicationinsights_web_snippet_1 = require(\"@microsoft/applicationinsights-web-snippet\");\r\nvar WebSnippet = /** @class */ (function () {\r\n    function WebSnippet(client) {\r\n        var _a;\r\n        this._isIkeyValid = true;\r\n        if (!!WebSnippet.INSTANCE) {\r\n            throw new Error(\"Web snippet injection should be configured from the applicationInsights object\");\r\n        }\r\n        WebSnippet.INSTANCE = this;\r\n        // AI URL used to validate if snippet already included\r\n        WebSnippet._aiUrl = Constants.WEB_INSTRUMENTATION_DEFAULT_SOURCE;\r\n        WebSnippet._aiDeprecatedUrl = Constants.WEB_INSTRUMENTATION_DEPRECATED_SOURCE;\r\n        var clientWebIkey = this._getWebSnippetIkey((_a = client.config) === null || _a === void 0 ? void 0 : _a.webInstrumentationConnectionString);\r\n        this._webInstrumentationIkey = clientWebIkey || client.config.instrumentationKey;\r\n        this._clientWebInstrumentationConfig = client.config.webInstrumentationConfig;\r\n        this._clientWebInstrumentationSrc = client.config.webInstrumentationSrc;\r\n        this._statsbeat = client === null || client === void 0 ? void 0 : client.getStatsbeat();\r\n    }\r\n    WebSnippet.prototype.enable = function (isEnabled, webInstrumentationConnectionString) {\r\n        this._isEnabled = isEnabled;\r\n        this._webInstrumentationIkey = this._getWebSnippetIkey(webInstrumentationConnectionString) || this._webInstrumentationIkey;\r\n        WebSnippet._snippet = this._getWebInstrumentationReplacedStr();\r\n        if (this._isEnabled && !this._isInitialized && this._isIkeyValid) {\r\n            if (this._statsbeat) {\r\n                this._statsbeat.addFeature(Constants.StatsbeatFeature.BROWSER_SDK_LOADER);\r\n            }\r\n            this._initialize();\r\n        }\r\n        else if (!this._isEnabled) {\r\n            if (this._statsbeat) {\r\n                this._statsbeat.removeFeature(Constants.StatsbeatFeature.BROWSER_SDK_LOADER);\r\n            }\r\n        }\r\n    };\r\n    WebSnippet.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    WebSnippet.prototype._getWebSnippetIkey = function (connectionString) {\r\n        var iKey = null;\r\n        try {\r\n            var csCode = ConnectionStringParser.parse(connectionString);\r\n            var iKeyCode = csCode.instrumentationkey || \"\";\r\n            if (!ConnectionStringParser.isIkeyValid(iKeyCode)) {\r\n                this._isIkeyValid = false;\r\n                Logging.info(\"Invalid web Instrumentation connection string, web Instrumentation is not enabled.\");\r\n            }\r\n            else {\r\n                this._isIkeyValid = true;\r\n                iKey = iKeyCode;\r\n            }\r\n        }\r\n        catch (err) {\r\n            Logging.info(\"get web snippet ikey error: \" + err);\r\n        }\r\n        return iKey;\r\n    };\r\n    WebSnippet.prototype._getWebInstrumentationReplacedStr = function () {\r\n        var configStr = this._getClientWebInstrumentationConfigStr(this._clientWebInstrumentationConfig);\r\n        var osStr = prefixHelper.getOsPrefix();\r\n        var rpStr = prefixHelper.getResourceProvider();\r\n        var snippetReplacedStr = this._webInstrumentationIkey + \"\\\",\\r\\n\" + configStr + \" disableIkeyDeprecationMessage: true,\\r\\n sdkExtension: \\\"\" + rpStr + osStr + \"d_n_\";\r\n        var replacedSnippet = applicationinsights_web_snippet_1.webSnippet.replace(\"INSTRUMENTATION_KEY\", snippetReplacedStr);\r\n        if (this._clientWebInstrumentationSrc) {\r\n            return replacedSnippet.replace(Constants.WEB_INSTRUMENTATION_DEFAULT_SOURCE + \".2.min.js\", this._clientWebInstrumentationSrc);\r\n        }\r\n        return replacedSnippet;\r\n    };\r\n    // Do not use string replace here, because double quote should be kept.\r\n    // we want to transfer all values of config to the web snippet in the following way:\r\n    // cfg: {\r\n    //      config1: \"config1 string value\",\r\n    //      config2: true,\r\n    //      config3: 1,\r\n    //      ...\r\n    //}});\r\n    WebSnippet.prototype._getClientWebInstrumentationConfigStr = function (config) {\r\n        var configStr = \"\";\r\n        try {\r\n            if (config != undefined && config.length > 0) {\r\n                config.forEach(function (item) {\r\n                    var key = item.name;\r\n                    if (key === undefined)\r\n                        return;\r\n                    var val = item.value;\r\n                    var entry = \"\";\r\n                    // NOTE: users should convert object/function to string themselves\r\n                    // Type \"function\" and \"object\" will be skipped!\r\n                    switch (typeof val) {\r\n                        case \"function\":\r\n                            break;\r\n                        case \"object\":\r\n                            break;\r\n                        case \"string\":\r\n                            entry = \" \" + key + \": \\\"\" + val + \"\\\",\\r\\n\";\r\n                            configStr += entry;\r\n                            break;\r\n                        default:\r\n                            entry = \" \" + key + \": \" + val + \",\\r\\n\";\r\n                            configStr += entry;\r\n                            break;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        catch (e) {\r\n            // if has any errors here, web Instrumentation will be disabled.\r\n            this._isEnabled = false;\r\n            Logging.info(\"Parse client web instrumentation error. Web Instrumentation is disabled\");\r\n        }\r\n        return configStr;\r\n    };\r\n    WebSnippet.prototype._initialize = function () {\r\n        this._isInitialized = true;\r\n        var originalHttpServer = http.createServer;\r\n        var originalHttpsServer = https.createServer;\r\n        var isEnabled = this._isEnabled;\r\n        http.createServer = function (requestListener) {\r\n            var originalRequestListener = requestListener;\r\n            if (originalRequestListener) {\r\n                requestListener = function (request, response) {\r\n                    // Patch response write method\r\n                    var originalResponseWrite = response.write;\r\n                    var isGetRequest = request.method == \"GET\";\r\n                    response.write = function wrap(a, b, c) {\r\n                        //only patch GET request\r\n                        try {\r\n                            if (isEnabled && isGetRequest) {\r\n                                var headers = snippetInjectionHelper.getContentEncodingFromHeaders(response);\r\n                                var writeBufferType = undefined;\r\n                                if (typeof b === \"string\") {\r\n                                    writeBufferType = b;\r\n                                }\r\n                                if (headers === null || headers === undefined) {\r\n                                    if (WebSnippet.INSTANCE.ValidateInjection(response, a)) {\r\n                                        arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(response, a, undefined, writeBufferType);\r\n                                    }\r\n                                }\r\n                                else if (headers.length) {\r\n                                    var encodeType = headers[0];\r\n                                    arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(response, a, encodeType);\r\n                                }\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            Logging.warn(\"Inject snippet error: \" + err);\r\n                        }\r\n                        return originalResponseWrite.apply(response, arguments);\r\n                    };\r\n                    // Patch response end method for cases when HTML is added there\r\n                    var originalResponseEnd = response.end;\r\n                    response.end = function wrap(a, b, c) {\r\n                        if (isEnabled && isGetRequest) {\r\n                            try {\r\n                                if (isEnabled && isGetRequest) {\r\n                                    var headers = snippetInjectionHelper.getContentEncodingFromHeaders(response);\r\n                                    var endBufferType = undefined;\r\n                                    if (typeof b === \"string\") {\r\n                                        endBufferType = b;\r\n                                    }\r\n                                    if (headers === null || headers === undefined) {\r\n                                        if (WebSnippet.INSTANCE.ValidateInjection(response, a)) {\r\n                                            arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(response, a, undefined, endBufferType);\r\n                                        }\r\n                                    }\r\n                                    else if (headers.length) {\r\n                                        var encodeType = headers[0];\r\n                                        arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(response, a, encodeType);\r\n                                    }\r\n                                }\r\n                            }\r\n                            catch (err) {\r\n                                Logging.warn(\"Inject snipet error: \" + err);\r\n                            }\r\n                        }\r\n                        return originalResponseEnd.apply(response, arguments);\r\n                    };\r\n                    return originalRequestListener(request, response);\r\n                };\r\n            }\r\n            return originalHttpServer(requestListener);\r\n        };\r\n        https.createServer = function (options, httpsRequestListener) {\r\n            var originalHttpsRequestListener = httpsRequestListener;\r\n            if (originalHttpsRequestListener) {\r\n                httpsRequestListener = function (req, res) {\r\n                    var isGetHttpsRequest = req.method == \"GET\";\r\n                    var originalHttpsResponseWrite = res.write;\r\n                    var originalHttpsResponseEnd = res.end;\r\n                    res.write = function wrap(a, b, c) {\r\n                        try {\r\n                            if (isEnabled && isGetHttpsRequest) {\r\n                                var headers = snippetInjectionHelper.getContentEncodingFromHeaders(res);\r\n                                var writeBufferType = undefined;\r\n                                if (typeof b === \"string\") {\r\n                                    writeBufferType = b;\r\n                                }\r\n                                if (headers === null || headers === undefined) {\r\n                                    if (WebSnippet.INSTANCE.ValidateInjection(res, a)) {\r\n                                        arguments[0] = this.InjectWebSnippet(res, a, undefined, writeBufferType);\r\n                                    }\r\n                                }\r\n                                else if (headers.length) {\r\n                                    var encodeType = headers[0];\r\n                                    arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(res, a, encodeType);\r\n                                }\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            Logging.warn(\"Inject snippet error: \" + err);\r\n                        }\r\n                        return originalHttpsResponseWrite.apply(res, arguments);\r\n                    };\r\n                    res.end = function wrap(a, b, c) {\r\n                        try {\r\n                            if (isEnabled && isGetHttpsRequest) {\r\n                                var headers = snippetInjectionHelper.getContentEncodingFromHeaders(res);\r\n                                var endBufferType = undefined;\r\n                                if (typeof b === \"string\") {\r\n                                    endBufferType = b;\r\n                                }\r\n                                if (headers === null || headers === undefined) {\r\n                                    if (WebSnippet.INSTANCE.ValidateInjection(res, a)) {\r\n                                        arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(res, a, undefined, endBufferType);\r\n                                    }\r\n                                }\r\n                                else if (headers.length) {\r\n                                    var encodeType = headers[0];\r\n                                    arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(res, a, encodeType);\r\n                                }\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            Logging.warn(\"Inject snippet error: \" + err);\r\n                        }\r\n                        return originalHttpsResponseEnd.apply(res, arguments);\r\n                    };\r\n                    return originalHttpsRequestListener(req, res);\r\n                };\r\n                return originalHttpsServer(options, httpsRequestListener);\r\n            }\r\n        };\r\n    };\r\n    /**\r\n     * Validate response and try to inject Web snippet\r\n     */\r\n    WebSnippet.prototype.ValidateInjection = function (response, input) {\r\n        try {\r\n            if (!response || !input || response.statusCode != 200)\r\n                return false;\r\n            var isContentHtml = snippetInjectionHelper.isContentTypeHeaderHtml(response);\r\n            if (!isContentHtml)\r\n                return false;\r\n            var inputStr = input.slice().toString();\r\n            if (inputStr.indexOf(\"<head>\") >= 0 && inputStr.indexOf(\"</head>\") >= 0) {\r\n                // Check if snippet not already present looking for AI Web SDK URL\r\n                if (inputStr.indexOf(WebSnippet._aiUrl) < 0 && inputStr.indexOf(WebSnippet._aiDeprecatedUrl) < 0) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        catch (err) {\r\n            Logging.info(\"validate injections error: \" + err);\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Inject Web snippet\r\n     */\r\n    WebSnippet.prototype.InjectWebSnippet = function (response, input, encodeType, bufferEncodeType) {\r\n        try {\r\n            var isCompressedBuffer = !!encodeType;\r\n            if (!isCompressedBuffer) {\r\n                var html = input.toString();\r\n                var index = html.indexOf(\"</head>\");\r\n                if (index < 0)\r\n                    return input;\r\n                var newHtml = snippetInjectionHelper.insertSnippetByIndex(index, html, WebSnippet._snippet);\r\n                if (typeof input === \"string\") {\r\n                    response.removeHeader(\"Content-Length\");\r\n                    input = newHtml;\r\n                    response.setHeader(\"Content-Length\", Buffer.byteLength(input));\r\n                }\r\n                else if (Buffer.isBuffer(input)) {\r\n                    var bufferType = bufferEncodeType ? bufferEncodeType : \"utf8\";\r\n                    var isValidBufferType = snippetInjectionHelper.isBufferType(input, bufferType);\r\n                    if (isValidBufferType) {\r\n                        response.removeHeader(\"Content-Length\");\r\n                        var encodedString = Buffer.from(newHtml).toString(bufferType);\r\n                        input = Buffer.from(encodedString, bufferType);\r\n                        response.setHeader(\"Content-Length\", input.length);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                response.removeHeader(\"Content-Length\");\r\n                input = this._getInjectedCompressBuffer(response, input, encodeType);\r\n                response.setHeader(\"Content-Length\", input.length);\r\n            }\r\n        }\r\n        catch (ex) {\r\n            Logging.warn(\"Failed to inject web snippet and change content-lenght headers. Exception:\" + ex);\r\n        }\r\n        return input;\r\n    };\r\n    //***********************\r\n    // should NOT use sync functions here. But currently cannot get async functions to work\r\n    // because reponse.write return boolean\r\n    // and also this function do not support partial compression as well\r\n    // need more investigation\r\n    WebSnippet.prototype._getInjectedCompressBuffer = function (response, input, encodeType) {\r\n        try {\r\n            switch (encodeType) {\r\n                case snippetInjectionHelper.contentEncodingMethod.GZIP:\r\n                    var gunzipBuffer = zlib.gunzipSync(input);\r\n                    if (this.ValidateInjection(response, gunzipBuffer)) {\r\n                        var injectedGunzipBuffer = this.InjectWebSnippet(response, gunzipBuffer);\r\n                        input = zlib.gzipSync(injectedGunzipBuffer);\r\n                    }\r\n                    break;\r\n                case snippetInjectionHelper.contentEncodingMethod.DEFLATE:\r\n                    var inflateBuffer = zlib.inflateSync(input);\r\n                    if (this.ValidateInjection(response, inflateBuffer)) {\r\n                        var injectedInflateBuffer = this.InjectWebSnippet(response, inflateBuffer);\r\n                        input = zlib.deflateSync(injectedInflateBuffer);\r\n                    }\r\n                    break;\r\n                case snippetInjectionHelper.contentEncodingMethod.BR:\r\n                    var BrotliDecompressSync = snippetInjectionHelper.getBrotliDecompressSync(zlib);\r\n                    var BrotliCompressSync = snippetInjectionHelper.getBrotliCompressSync(zlib);\r\n                    if (BrotliDecompressSync && BrotliCompressSync) {\r\n                        var decompressBuffer = BrotliDecompressSync(input);\r\n                        if (this.ValidateInjection(response, decompressBuffer)) {\r\n                            var injectedDecompressBuffer = this.InjectWebSnippet(response, decompressBuffer);\r\n                            input = BrotliCompressSync(injectedDecompressBuffer);\r\n                        }\r\n                        break;\r\n                    }\r\n            }\r\n        }\r\n        catch (err) {\r\n            Logging.info(\"get web injection compress buffer error: \" + err);\r\n        }\r\n        return input;\r\n    };\r\n    WebSnippet.prototype.dispose = function () {\r\n        WebSnippet.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    return WebSnippet;\r\n}());\r\nmodule.exports = WebSnippet;\r\n//# sourceMappingURL=WebSnippet.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.parseEventHubSpan = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar api_1 = require(\"@opentelemetry/api\");\r\nvar core_1 = require(\"@opentelemetry/core\");\r\nvar semantic_conventions_1 = require(\"@opentelemetry/semantic-conventions\");\r\nvar Constants_1 = require(\"../../../Declarations/Constants\");\r\n/**\r\n * Average span.links[].attributes.enqueuedTime\r\n */\r\nvar getTimeSinceEnqueued = function (span) {\r\n    var countEnqueueDiffs = 0;\r\n    var sumEnqueueDiffs = 0;\r\n    var startTimeMs = core_1.hrTimeToMilliseconds(span.startTime);\r\n    span.links.forEach(function (_a) {\r\n        var attributes = _a.attributes;\r\n        var enqueuedTime = attributes === null || attributes === void 0 ? void 0 : attributes[Constants_1.ENQUEUED_TIME];\r\n        if (enqueuedTime) {\r\n            countEnqueueDiffs += 1;\r\n            sumEnqueueDiffs += startTimeMs - (parseFloat(enqueuedTime.toString()) || 0);\r\n        }\r\n    });\r\n    return Math.max(sumEnqueueDiffs / (countEnqueueDiffs || 1), 0);\r\n};\r\n/**\r\n * Implementation of Mapping to Azure Monitor\r\n *\r\n * https://gist.github.com/lmolkova/e4215c0f44a49ef824983382762e6b92#file-z_azure_monitor_exporter_mapping-md\r\n */\r\nvar parseEventHubSpan = function (span, telemetry) {\r\n    var _a;\r\n    var namespace = span.attributes[Constants_1.AzNamespace];\r\n    var peerAddress = (span.attributes[semantic_conventions_1.SemanticAttributes.NET_PEER_NAME] ||\r\n        span.attributes[\"peer.address\"] ||\r\n        \"unknown\").replace(/\\/$/g, \"\"); // remove trailing \"/\"\r\n    var messageBusDestination = (span.attributes[Constants_1.MessageBusDestination] || \"unknown\");\r\n    switch (span.kind) {\r\n        case api_1.SpanKind.CLIENT:\r\n            telemetry.dependencyTypeName = namespace;\r\n            telemetry.target = peerAddress + \"/\" + messageBusDestination;\r\n            break;\r\n        case api_1.SpanKind.PRODUCER:\r\n            telemetry.dependencyTypeName = Constants_1.DependencyTypeName.QueueMessage + \" | \" + namespace;\r\n            telemetry.target = peerAddress + \"/\" + messageBusDestination;\r\n            break;\r\n        case api_1.SpanKind.CONSUMER:\r\n            telemetry.source = peerAddress + \"/\" + messageBusDestination;\r\n            telemetry.measurements = __assign(__assign({}, telemetry.measurements), (_a = {}, _a[Constants_1.TIME_SINCE_ENQUEUED] = getTimeSinceEnqueued(span), _a));\r\n            break;\r\n        default: // no op\r\n    }\r\n};\r\nexports.parseEventHubSpan = parseEventHubSpan;\r\n//# sourceMappingURL=EventHub.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.spanToTelemetryContract = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar url_1 = require(\"url\");\r\nvar api_1 = require(\"@opentelemetry/api\");\r\nvar semantic_conventions_1 = require(\"@opentelemetry/semantic-conventions\");\r\nvar Constants = __importStar(require(\"../../Declarations/Constants\"));\r\nvar EventHub_1 = require(\"./Azure/EventHub\");\r\nvar Util = require(\"../../Library/Util\");\r\nfunction createPropertiesFromSpan(span) {\r\n    var properties = {};\r\n    for (var _i = 0, _a = Object.keys(span.attributes); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        if (!(key.startsWith(\"http.\") ||\r\n            key.startsWith(\"rpc.\") ||\r\n            key.startsWith(\"db.\") ||\r\n            key.startsWith(\"peer.\") ||\r\n            key.startsWith(\"net.\"))) {\r\n            properties[key] = span.attributes[key];\r\n        }\r\n    }\r\n    var links = span.links.map(function (link) { return ({\r\n        operation_Id: link.context.traceId,\r\n        id: link.context.spanId\r\n    }); });\r\n    if (links.length > 0) {\r\n        properties[\"_MS.links\"] = Util.stringify(links);\r\n    }\r\n    return properties;\r\n}\r\nfunction isSqlDB(dbSystem) {\r\n    return (dbSystem === semantic_conventions_1.DbSystemValues.DB2 ||\r\n        dbSystem === semantic_conventions_1.DbSystemValues.DERBY ||\r\n        dbSystem === semantic_conventions_1.DbSystemValues.MARIADB ||\r\n        dbSystem === semantic_conventions_1.DbSystemValues.MSSQL ||\r\n        dbSystem === semantic_conventions_1.DbSystemValues.ORACLE ||\r\n        dbSystem === semantic_conventions_1.DbSystemValues.SQLITE ||\r\n        dbSystem === semantic_conventions_1.DbSystemValues.OTHER_SQL ||\r\n        dbSystem === semantic_conventions_1.DbSystemValues.HSQLDB ||\r\n        dbSystem === semantic_conventions_1.DbSystemValues.H2);\r\n}\r\nfunction getUrl(span) {\r\n    var httpMethod = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_METHOD];\r\n    if (httpMethod) {\r\n        var httpUrl = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_URL];\r\n        if (httpUrl) {\r\n            return String(httpUrl);\r\n        }\r\n        else {\r\n            var httpScheme = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_SCHEME];\r\n            var httpTarget = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_TARGET];\r\n            if (httpScheme && httpTarget) {\r\n                var httpHost = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_HOST];\r\n                if (httpHost) {\r\n                    return httpScheme + \"://\" + httpHost + httpTarget;\r\n                }\r\n                else {\r\n                    var netPeerPort = span.attributes[semantic_conventions_1.SemanticAttributes.NET_PEER_PORT];\r\n                    if (netPeerPort) {\r\n                        var netPeerName = span.attributes[semantic_conventions_1.SemanticAttributes.NET_PEER_NAME];\r\n                        if (netPeerName) {\r\n                            return httpScheme + \"://\" + netPeerName + \":\" + netPeerPort + httpTarget;\r\n                        }\r\n                        else {\r\n                            var netPeerIp = span.attributes[semantic_conventions_1.SemanticAttributes.NET_PEER_IP];\r\n                            if (netPeerIp) {\r\n                                return httpScheme + \"://\" + netPeerIp + \":\" + netPeerPort + httpTarget;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\nfunction getDependencyTarget(span) {\r\n    var peerService = span.attributes[semantic_conventions_1.SemanticAttributes.PEER_SERVICE];\r\n    var httpHost = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_HOST];\r\n    var httpUrl = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_URL];\r\n    var netPeerName = span.attributes[semantic_conventions_1.SemanticAttributes.NET_PEER_NAME];\r\n    var netPeerIp = span.attributes[semantic_conventions_1.SemanticAttributes.NET_PEER_IP];\r\n    if (peerService) {\r\n        return String(peerService);\r\n    }\r\n    else if (httpHost) {\r\n        return String(httpHost);\r\n    }\r\n    else if (httpUrl) {\r\n        return String(httpUrl);\r\n    }\r\n    else if (netPeerName) {\r\n        return String(netPeerName);\r\n    }\r\n    else if (netPeerIp) {\r\n        return String(netPeerIp);\r\n    }\r\n    return \"\";\r\n}\r\nfunction createDependencyData(span) {\r\n    var remoteDependency = {\r\n        name: span.name,\r\n        success: span.status.code != api_1.SpanStatusCode.ERROR,\r\n        resultCode: \"0\",\r\n        duration: 0,\r\n        data: \"\",\r\n        dependencyTypeName: \"\"\r\n    };\r\n    if (span.kind === api_1.SpanKind.PRODUCER) {\r\n        remoteDependency.dependencyTypeName = Constants.DependencyTypeName.QueueMessage;\r\n    }\r\n    if (span.kind === api_1.SpanKind.INTERNAL && span.parentSpanId) {\r\n        remoteDependency.dependencyTypeName = Constants.DependencyTypeName.InProc;\r\n    }\r\n    var httpMethod = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_METHOD];\r\n    var dbSystem = span.attributes[semantic_conventions_1.SemanticAttributes.DB_SYSTEM];\r\n    var rpcSystem = span.attributes[semantic_conventions_1.SemanticAttributes.RPC_SYSTEM];\r\n    // HTTP Dependency\r\n    if (httpMethod) {\r\n        remoteDependency.dependencyTypeName = Constants.DependencyTypeName.Http;\r\n        var httpUrl = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_URL];\r\n        if (httpUrl) {\r\n            var pathName = \"\";\r\n            try {\r\n                var dependencyUrl = new url_1.URL(String(httpUrl));\r\n                pathName = dependencyUrl.pathname;\r\n            }\r\n            catch (ex) {\r\n                // Ignore error\r\n            }\r\n            remoteDependency.name = httpMethod + \" \" + pathName;\r\n        }\r\n        remoteDependency.data = getUrl(span);\r\n        var httpStatusCode = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_STATUS_CODE];\r\n        if (httpStatusCode) {\r\n            remoteDependency.resultCode = String(httpStatusCode);\r\n        }\r\n        var target = getDependencyTarget(span);\r\n        if (target) {\r\n            try {\r\n                // Remove default port\r\n                var portRegex = new RegExp(/(https?)(:\\/\\/.*)(:\\d+)(\\S*)/);\r\n                var res = portRegex.exec(target);\r\n                if (res != null) {\r\n                    var protocol = res[1];\r\n                    var port = res[3];\r\n                    if ((protocol == \"https\" && port == \":443\") || (protocol == \"http\" && port == \":80\")) {\r\n                        // Drop port\r\n                        target = res[1] + res[2] + res[4];\r\n                    }\r\n                }\r\n            }\r\n            catch (error) {\r\n                // Ignore error\r\n            }\r\n            remoteDependency.target = \"\" + target;\r\n        }\r\n    }\r\n    // DB Dependency\r\n    else if (dbSystem) {\r\n        // TODO: Remove special logic when Azure UX supports OpenTelemetry dbSystem\r\n        if (String(dbSystem) === semantic_conventions_1.DbSystemValues.MYSQL) {\r\n            remoteDependency.dependencyTypeName = \"mysql\";\r\n        }\r\n        else if (String(dbSystem) === semantic_conventions_1.DbSystemValues.POSTGRESQL) {\r\n            remoteDependency.dependencyTypeName = \"postgresql\";\r\n        }\r\n        else if (String(dbSystem) === semantic_conventions_1.DbSystemValues.MONGODB) {\r\n            remoteDependency.dependencyTypeName = \"mongodb\";\r\n        }\r\n        else if (String(dbSystem) === semantic_conventions_1.DbSystemValues.REDIS) {\r\n            remoteDependency.dependencyTypeName = \"redis\";\r\n        }\r\n        else if (isSqlDB(String(dbSystem))) {\r\n            remoteDependency.dependencyTypeName = \"SQL\";\r\n        }\r\n        else {\r\n            remoteDependency.dependencyTypeName = String(dbSystem);\r\n        }\r\n        var dbStatement = span.attributes[semantic_conventions_1.SemanticAttributes.DB_STATEMENT];\r\n        var dbOperation = span.attributes[semantic_conventions_1.SemanticAttributes.DB_OPERATION];\r\n        if (dbStatement) {\r\n            remoteDependency.data = String(dbStatement);\r\n        }\r\n        else if (dbOperation) {\r\n            remoteDependency.data = String(dbOperation);\r\n        }\r\n        var target = getDependencyTarget(span);\r\n        var dbName = span.attributes[semantic_conventions_1.SemanticAttributes.DB_NAME];\r\n        if (target) {\r\n            remoteDependency.target = dbName ? target + \"|\" + dbName : \"\" + target;\r\n        }\r\n        else {\r\n            remoteDependency.target = dbName ? \"\" + dbName : \"\" + dbSystem;\r\n        }\r\n    }\r\n    // grpc Dependency\r\n    else if (rpcSystem) {\r\n        remoteDependency.dependencyTypeName = Constants.DependencyTypeName.Grpc;\r\n        var grpcStatusCode = span.attributes[semantic_conventions_1.SemanticAttributes.RPC_GRPC_STATUS_CODE];\r\n        if (grpcStatusCode) {\r\n            remoteDependency.resultCode = String(grpcStatusCode);\r\n        }\r\n        var target = getDependencyTarget(span);\r\n        if (target) {\r\n            remoteDependency.target = \"\" + target;\r\n        }\r\n        else if (rpcSystem) {\r\n            remoteDependency.target = String(rpcSystem);\r\n        }\r\n    }\r\n    return remoteDependency;\r\n}\r\nfunction createRequestData(span) {\r\n    var requestData = {\r\n        name: span.name,\r\n        success: span.status.code != api_1.SpanStatusCode.ERROR,\r\n        resultCode: \"0\",\r\n        duration: 0,\r\n        url: \"\",\r\n        source: undefined\r\n    };\r\n    var httpMethod = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_METHOD];\r\n    var grpcStatusCode = span.attributes[semantic_conventions_1.SemanticAttributes.RPC_GRPC_STATUS_CODE];\r\n    if (httpMethod) {\r\n        // Try to get request name for server spans\r\n        if (span.kind == api_1.SpanKind.SERVER) {\r\n            var httpRoute = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_ROUTE];\r\n            var httpUrl = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_URL];\r\n            if (httpRoute) {\r\n                requestData.name = httpMethod + \" \" + httpRoute;\r\n            }\r\n            else if (httpUrl) {\r\n                try {\r\n                    var url = new url_1.URL(String(httpUrl));\r\n                    requestData.name = httpMethod + \" \" + url.pathname;\r\n                }\r\n                catch (ex) {\r\n                    // Ignore error\r\n                }\r\n            }\r\n        }\r\n        requestData.url = getUrl(span);\r\n        var httpStatusCode = span.attributes[semantic_conventions_1.SemanticAttributes.HTTP_STATUS_CODE];\r\n        if (httpStatusCode) {\r\n            requestData.resultCode = String(httpStatusCode);\r\n        }\r\n    }\r\n    else if (grpcStatusCode) {\r\n        requestData.resultCode = String(grpcStatusCode);\r\n    }\r\n    return requestData;\r\n}\r\nfunction spanToTelemetryContract(span) {\r\n    var telemetry;\r\n    switch (span.kind) {\r\n        case api_1.SpanKind.CLIENT:\r\n        case api_1.SpanKind.PRODUCER:\r\n        case api_1.SpanKind.INTERNAL:\r\n            telemetry = createDependencyData(span);\r\n            break;\r\n        case api_1.SpanKind.SERVER:\r\n        case api_1.SpanKind.CONSUMER:\r\n            telemetry = createRequestData(span);\r\n            break;\r\n    }\r\n    var spanContext = span.spanContext ? span.spanContext() : span.context(); // context is available in OT API <v0.19.0\r\n    var id = \"\" + spanContext.spanId;\r\n    var duration = Math.round(span.duration[0] * 1e3 + span.duration[1] / 1e6);\r\n    telemetry.id = id;\r\n    telemetry.duration = duration;\r\n    telemetry.properties = createPropertiesFromSpan(span);\r\n    // Azure SDK\r\n    if (span.attributes[Constants.AzNamespace]) {\r\n        if (span.kind === api_1.SpanKind.INTERNAL) {\r\n            telemetry.dependencyTypeName = Constants.DependencyTypeName.InProc + \" | \" + span.attributes[Constants.AzNamespace];\r\n        }\r\n        if (span.attributes[Constants.AzNamespace] === Constants.MicrosoftEventHub) {\r\n            EventHub_1.parseEventHubSpan(span, telemetry);\r\n        }\r\n    }\r\n    return telemetry;\r\n}\r\nexports.spanToTelemetryContract = spanToTelemetryContract;\r\n//# sourceMappingURL=SpanParser.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.subscriber = void 0;\r\nvar api_1 = require(\"@opentelemetry/api\");\r\nvar Constants_1 = require(\"../../Declarations/Constants\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar SpanParser = __importStar(require(\"./SpanParser\"));\r\nvar AsyncHooksScopeManager_1 = require(\"../AsyncHooksScopeManager\");\r\nvar clients = [];\r\nvar subscriber = function (event) {\r\n    try {\r\n        var span_1 = event.data;\r\n        var telemetry_1 = SpanParser.spanToTelemetryContract(span_1);\r\n        AsyncHooksScopeManager_1.AsyncScopeManager.with(span_1, function () {\r\n            clients.forEach(function (client) {\r\n                if (span_1.kind === api_1.SpanKind.SERVER || span_1.kind === api_1.SpanKind.CONSUMER) {\r\n                    client.trackRequest(telemetry_1);\r\n                }\r\n                else if (span_1.kind === api_1.SpanKind.CLIENT || span_1.kind === api_1.SpanKind.INTERNAL || span_1.kind === api_1.SpanKind.PRODUCER) {\r\n                    client.trackDependency(telemetry_1);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    catch (err) {\r\n        { /** ignore errors */ }\r\n    }\r\n};\r\nexports.subscriber = subscriber;\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        var clientFound = clients.find(function (c) { return c == client; });\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"azure-coretracing\", exports.subscriber, diagnostic_channel_1.trueFilter, function (module, version) {\r\n                var statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(Constants_1.StatsbeatInstrumentation.AZURE_CORE_TRACING);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"azure-coretracing\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=azure-coretracing.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.dispose = exports.enable = void 0;\r\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\r\nvar Constants_1 = require(\"../../Declarations/Constants\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\n// Mapping from bunyan levels defined at https://github.com/trentm/node-bunyan/blob/master/lib/bunyan.js#L256\r\nvar bunyanToAILevelMap = {\r\n    10: Contracts_1.SeverityLevel.Verbose,\r\n    20: Contracts_1.SeverityLevel.Verbose,\r\n    30: Contracts_1.SeverityLevel.Information,\r\n    40: Contracts_1.SeverityLevel.Warning,\r\n    50: Contracts_1.SeverityLevel.Error,\r\n    60: Contracts_1.SeverityLevel.Critical\r\n};\r\nvar subscriber = function (event) {\r\n    var message = event.data.result;\r\n    var AIlevel = bunyanToAILevelMap[event.data.level];\r\n    clients.forEach(function (client) {\r\n        try {\r\n            // Try to parse message as Bunyan log is JSON\r\n            var log = JSON.parse(message);\r\n            if (log.err) {\r\n                var bunyanError = new Error(log.err.message);\r\n                bunyanError.name = log.err.name;\r\n                bunyanError.stack = log.err.stack;\r\n                if (client.config.enableLoggerErrorToTrace) {\r\n                    client.trackTrace({ message: message, severity: AIlevel });\r\n                    return;\r\n                }\r\n                client.trackException({ exception: bunyanError });\r\n                return;\r\n            }\r\n        }\r\n        catch (err) {\r\n            // Ignore error\r\n        }\r\n        client.trackTrace({ message: message, severity: AIlevel });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        var clientFound = clients.find(function (c) { return c == client; });\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"bunyan\", subscriber, diagnostic_channel_1.trueFilter, function (module, version) {\r\n                var statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(Constants_1.StatsbeatInstrumentation.BUNYAN);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\nfunction dispose() {\r\n    diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\r\n    clients = [];\r\n}\r\nexports.dispose = dispose;\r\n//# sourceMappingURL=bunyan.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.dispose = exports.enable = void 0;\r\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\r\nvar Constants_1 = require(\"../../Declarations/Constants\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar subscriber = function (event) {\r\n    var message = event.data.message;\r\n    clients.forEach(function (client) {\r\n        if (message instanceof Error && !client.config.enableLoggerErrorToTrace) {\r\n            client.trackException({ exception: message });\r\n        }\r\n        else if (message instanceof Error) {\r\n            // If logging errors as traces return the error as a string and mark severity as error\r\n            client.trackTrace({ message: message.toString(), severity: (event.data.stderr ? Contracts_1.SeverityLevel.Error : Contracts_1.SeverityLevel.Information) });\r\n        }\r\n        else {\r\n            // Message can have a trailing newline\r\n            if (message.lastIndexOf(\"\\n\") == message.length - 1) {\r\n                message = message.substring(0, message.length - 1);\r\n            }\r\n            client.trackTrace({ message: message, severity: (event.data.stderr ? Contracts_1.SeverityLevel.Warning : Contracts_1.SeverityLevel.Information) });\r\n        }\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        var clientFound = clients.find(function (c) { return c == client; });\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"console\", subscriber, diagnostic_channel_1.trueFilter, function (module, version) {\r\n                var statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(Constants_1.StatsbeatInstrumentation.CONSOLE);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\nfunction dispose() {\r\n    diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\r\n    clients = [];\r\n}\r\nexports.dispose = dispose;\r\n//# sourceMappingURL=console.sub.js.map","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.registerContextPreservation = exports.IsInitialized = void 0;\r\nvar Logging = require(\"../../Library/Logging\");\r\nvar JsonConfig_1 = require(\"../../Library/JsonConfig\");\r\nexports.IsInitialized = !JsonConfig_1.JsonConfig.getInstance().noDiagnosticChannel;\r\nvar TAG = \"DiagnosticChannel\";\r\nif (exports.IsInitialized) {\r\n    var publishers = require(\"diagnostic-channel-publishers\");\r\n    var individualOptOuts = JsonConfig_1.JsonConfig.getInstance().noPatchModules;\r\n    var unpatchedModules = individualOptOuts.split(\",\");\r\n    var modules = {\r\n        bunyan: publishers.bunyan,\r\n        console: publishers.console,\r\n        mongodb: publishers.mongodb,\r\n        mongodbCore: publishers.mongodbCore,\r\n        mysql: publishers.mysql,\r\n        redis: publishers.redis,\r\n        pg: publishers.pg,\r\n        pgPool: publishers.pgPool,\r\n        winston: publishers.winston,\r\n        azuresdk: publishers.azuresdk\r\n    };\r\n    for (var mod in modules) {\r\n        if (unpatchedModules.indexOf(mod) === -1) {\r\n            modules[mod].enable();\r\n            Logging.info(TAG, \"Subscribed to \" + mod + \" events\");\r\n        }\r\n    }\r\n    if (unpatchedModules.length > 0) {\r\n        Logging.info(TAG, \"Some modules will not be patched\", unpatchedModules);\r\n    }\r\n}\r\nelse {\r\n    Logging.info(TAG, \"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set\");\r\n}\r\nfunction registerContextPreservation(cb) {\r\n    if (!exports.IsInitialized) {\r\n        return;\r\n    }\r\n    var diagChannel = require(\"diagnostic-channel\");\r\n    diagChannel.channel.addContextPreservation(cb);\r\n}\r\nexports.registerContextPreservation = registerContextPreservation;\r\n//# sourceMappingURL=initialization.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.subscriber = void 0;\r\nvar Constants_1 = require(\"../../Declarations/Constants\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar subscriber = function (event) {\r\n    if (event.data.event.commandName === \"ismaster\") {\r\n        // suppress noisy ismaster commands\r\n        return;\r\n    }\r\n    clients.forEach(function (client) {\r\n        var dbName = (event.data.startedData && event.data.startedData.databaseName) || \"Unknown database\";\r\n        client.trackDependency({\r\n            target: dbName,\r\n            data: event.data.event.commandName,\r\n            name: event.data.event.commandName,\r\n            duration: event.data.event.duration,\r\n            success: event.data.succeeded,\r\n            /* TODO: transmit result code from mongo */\r\n            resultCode: event.data.succeeded ? \"0\" : \"1\",\r\n            time: event.data.startedData.time,\r\n            dependencyTypeName: \"mongodb\"\r\n        });\r\n    });\r\n};\r\nexports.subscriber = subscriber;\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        var clientFound = clients.find(function (c) { return c == client; });\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"mongodb\", exports.subscriber, diagnostic_channel_1.trueFilter, function (module, version) {\r\n                var statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(Constants_1.StatsbeatInstrumentation.MONGODB);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"mongodb\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mongodb.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.subscriber = void 0;\r\nvar Constants_1 = require(\"../../Declarations/Constants\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var queryObj = event.data.query || {};\r\n        var sqlString = queryObj.sql || \"Unknown query\";\r\n        var success = !event.data.err;\r\n        var connection = queryObj._connection || {};\r\n        var connectionConfig = connection.config || {};\r\n        var dbName = connectionConfig.socketPath ? connectionConfig.socketPath : (connectionConfig.host || \"localhost\") + \":\" + connectionConfig.port;\r\n        client.trackDependency({\r\n            target: dbName,\r\n            data: sqlString,\r\n            name: sqlString,\r\n            duration: event.data.duration,\r\n            success: success,\r\n            /* TODO: transmit result code from mysql */\r\n            resultCode: success ? \"0\" : \"1\",\r\n            time: event.data.time,\r\n            dependencyTypeName: \"mysql\"\r\n        });\r\n    });\r\n};\r\nexports.subscriber = subscriber;\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        var clientFound = clients.find(function (c) { return c == client; });\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"mysql\", exports.subscriber, diagnostic_channel_1.trueFilter, function (module, version) {\r\n                var statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(Constants_1.StatsbeatInstrumentation.MYSQL);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"mysql\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mysql.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.subscriber = void 0;\r\nvar Constants_1 = require(\"../../Declarations/Constants\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var q = event.data.query;\r\n        var sql = (q.preparable && q.preparable.text) || q.plan || q.text || \"unknown query\";\r\n        var success = !event.data.error;\r\n        var conn = event.data.database.host + \":\" + event.data.database.port;\r\n        client.trackDependency({\r\n            target: conn,\r\n            data: sql,\r\n            name: sql,\r\n            duration: event.data.duration,\r\n            success: success,\r\n            resultCode: success ? \"0\" : \"1\",\r\n            time: event.data.time,\r\n            dependencyTypeName: \"postgres\"\r\n        });\r\n    });\r\n};\r\nexports.subscriber = subscriber;\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        var clientFound = clients.find(function (c) { return c == client; });\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"postgres\", exports.subscriber, diagnostic_channel_1.trueFilter, function (module, version) {\r\n                var statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(Constants_1.StatsbeatInstrumentation.POSTGRES);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"postgres\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=postgres.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.subscriber = void 0;\r\nvar Constants_1 = require(\"../../Declarations/Constants\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        if (event.data.commandObj.command === \"info\") {\r\n            // We don't want to report 'info', it's irrelevant\r\n            return;\r\n        }\r\n        client.trackDependency({\r\n            target: event.data.address,\r\n            name: event.data.commandObj.command,\r\n            data: event.data.commandObj.command,\r\n            duration: event.data.duration,\r\n            success: !event.data.err,\r\n            /* TODO: transmit result code from redis */\r\n            resultCode: event.data.err ? \"1\" : \"0\",\r\n            time: event.data.time,\r\n            dependencyTypeName: \"redis\"\r\n        });\r\n    });\r\n};\r\nexports.subscriber = subscriber;\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        var clientFound = clients.find(function (c) { return c == client; });\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"redis\", exports.subscriber, diagnostic_channel_1.trueFilter, function (module, version) {\r\n                var statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(Constants_1.StatsbeatInstrumentation.REDIS);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"redis\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=redis.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.dispose = exports.enable = void 0;\r\nvar Constants_1 = require(\"../../Declarations/Constants\");\r\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar winstonToAILevelMap = {\r\n    syslog: function (og) {\r\n        var map = {\r\n            emerg: Contracts_1.SeverityLevel.Critical,\r\n            alert: Contracts_1.SeverityLevel.Critical,\r\n            crit: Contracts_1.SeverityLevel.Critical,\r\n            error: Contracts_1.SeverityLevel.Error,\r\n            warning: Contracts_1.SeverityLevel.Warning,\r\n            notice: Contracts_1.SeverityLevel.Information,\r\n            info: Contracts_1.SeverityLevel.Information,\r\n            debug: Contracts_1.SeverityLevel.Verbose\r\n        };\r\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\r\n    },\r\n    npm: function (og) {\r\n        var map = {\r\n            error: Contracts_1.SeverityLevel.Error,\r\n            warn: Contracts_1.SeverityLevel.Warning,\r\n            info: Contracts_1.SeverityLevel.Information,\r\n            verbose: Contracts_1.SeverityLevel.Verbose,\r\n            debug: Contracts_1.SeverityLevel.Verbose,\r\n            silly: Contracts_1.SeverityLevel.Verbose\r\n        };\r\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\r\n    },\r\n    unknown: function (og) {\r\n        return Contracts_1.SeverityLevel.Information;\r\n    }\r\n};\r\nvar subscriber = function (event) {\r\n    var message = event.data.message;\r\n    var AIlevel = winstonToAILevelMap[event.data.levelKind](event.data.level);\r\n    clients.forEach(function (client) {\r\n        if (message instanceof Error && !client.config.enableLoggerErrorToTrace) {\r\n            client.trackException({\r\n                exception: message,\r\n                properties: event.data.meta\r\n            });\r\n        }\r\n        else if (message instanceof Error) {\r\n            client.trackTrace({\r\n                message: message.toString(),\r\n                severity: AIlevel,\r\n                properties: event.data.meta\r\n            });\r\n        }\r\n        else {\r\n            client.trackTrace({\r\n                message: message,\r\n                severity: AIlevel,\r\n                properties: event.data.meta\r\n            });\r\n        }\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        var clientFound = clients.find(function (c) { return c == client; });\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"winston\", subscriber, diagnostic_channel_1.trueFilter, function (module, version) {\r\n                var statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(Constants_1.StatsbeatInstrumentation.WINSTON);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\nfunction dispose() {\r\n    diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\r\n    clients = [];\r\n}\r\nexports.dispose = dispose;\r\n//# sourceMappingURL=winston.sub.js.map","\"use strict\";\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WEB_INSTRUMENTATION_DEPRECATED_SOURCE = exports.WEB_INSTRUMENTATION_DEFAULT_SOURCE = exports.TIME_SINCE_ENQUEUED = exports.ENQUEUED_TIME = exports.MessageBusDestination = exports.MicrosoftEventHub = exports.AzNamespace = exports.AttachTypePrefix = exports.HttpRequestCookieNames = exports.StatsbeatNetworkCategory = exports.StatsbeatFeatureType = exports.StatsbeatInstrumentation = exports.StatsbeatFeature = exports.StatsbeatCounter = exports.StatsbeatAttach = exports.StatsbeatResourceProvider = exports.StatsbeatTelemetryName = exports.HeartBeatMetricName = exports.DependencyTypeName = exports.TelemetryTypeStringToQuickPulseDocumentType = exports.TelemetryTypeStringToQuickPulseType = exports.QuickPulseType = exports.QuickPulseDocumentType = exports.PerformanceToQuickPulseCounter = exports.MetricId = exports.PerformanceCounter = exports.QuickPulseCounter = exports.DEFAULT_LIVEMETRICS_HOST = exports.DEFAULT_LIVEMETRICS_ENDPOINT = exports.DEFAULT_BREEZE_ENDPOINT = exports.APPLICATION_INSIGHTS_SDK_VERSION = void 0;\r\nexports.APPLICATION_INSIGHTS_SDK_VERSION = \"2.9.4\";\r\nexports.DEFAULT_BREEZE_ENDPOINT = \"https://dc.services.visualstudio.com\";\r\nexports.DEFAULT_LIVEMETRICS_ENDPOINT = \"https://rt.services.visualstudio.com\";\r\nexports.DEFAULT_LIVEMETRICS_HOST = \"rt.services.visualstudio.com\";\r\nvar QuickPulseCounter;\r\n(function (QuickPulseCounter) {\r\n    // Memory\r\n    QuickPulseCounter[\"COMMITTED_BYTES\"] = \"\\\\Memory\\\\Committed Bytes\";\r\n    // CPU\r\n    QuickPulseCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\r\n    // Request\r\n    QuickPulseCounter[\"REQUEST_RATE\"] = \"\\\\ApplicationInsights\\\\Requests/Sec\";\r\n    QuickPulseCounter[\"REQUEST_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Requests Failed/Sec\";\r\n    QuickPulseCounter[\"REQUEST_DURATION\"] = \"\\\\ApplicationInsights\\\\Request Duration\";\r\n    // Dependency\r\n    QuickPulseCounter[\"DEPENDENCY_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls/Sec\";\r\n    QuickPulseCounter[\"DEPENDENCY_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls Failed/Sec\";\r\n    QuickPulseCounter[\"DEPENDENCY_DURATION\"] = \"\\\\ApplicationInsights\\\\Dependency Call Duration\";\r\n    // Exception\r\n    QuickPulseCounter[\"EXCEPTION_RATE\"] = \"\\\\ApplicationInsights\\\\Exceptions/Sec\";\r\n})(QuickPulseCounter = exports.QuickPulseCounter || (exports.QuickPulseCounter = {}));\r\nvar PerformanceCounter;\r\n(function (PerformanceCounter) {\r\n    // Memory\r\n    PerformanceCounter[\"PRIVATE_BYTES\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\Private Bytes\";\r\n    PerformanceCounter[\"AVAILABLE_BYTES\"] = \"\\\\Memory\\\\Available Bytes\";\r\n    // CPU\r\n    PerformanceCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\r\n    PerformanceCounter[\"PROCESS_TIME\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\% Processor Time\";\r\n    // Requests\r\n    PerformanceCounter[\"REQUEST_RATE\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Requests/Sec\";\r\n    PerformanceCounter[\"REQUEST_DURATION\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Request Execution Time\";\r\n})(PerformanceCounter = exports.PerformanceCounter || (exports.PerformanceCounter = {}));\r\nvar MetricId;\r\n(function (MetricId) {\r\n    MetricId[\"REQUESTS_DURATION\"] = \"requests/duration\";\r\n    MetricId[\"DEPENDENCIES_DURATION\"] = \"dependencies/duration\";\r\n    MetricId[\"EXCEPTIONS_COUNT\"] = \"exceptions/count\";\r\n    MetricId[\"TRACES_COUNT\"] = \"traces/count\";\r\n})(MetricId = exports.MetricId || (exports.MetricId = {}));\r\n/**\r\n * Map a PerformanceCounter/QuickPulseCounter to a QuickPulseCounter. If no mapping exists, mapping is *undefined*\r\n */\r\nexports.PerformanceToQuickPulseCounter = (_a = {},\r\n    _a[PerformanceCounter.PROCESSOR_TIME] = QuickPulseCounter.PROCESSOR_TIME,\r\n    _a[PerformanceCounter.REQUEST_RATE] = QuickPulseCounter.REQUEST_RATE,\r\n    _a[PerformanceCounter.REQUEST_DURATION] = QuickPulseCounter.REQUEST_DURATION,\r\n    // Remap quick pulse only counters\r\n    _a[QuickPulseCounter.COMMITTED_BYTES] = QuickPulseCounter.COMMITTED_BYTES,\r\n    _a[QuickPulseCounter.REQUEST_FAILURE_RATE] = QuickPulseCounter.REQUEST_FAILURE_RATE,\r\n    _a[QuickPulseCounter.DEPENDENCY_RATE] = QuickPulseCounter.DEPENDENCY_RATE,\r\n    _a[QuickPulseCounter.DEPENDENCY_FAILURE_RATE] = QuickPulseCounter.DEPENDENCY_FAILURE_RATE,\r\n    _a[QuickPulseCounter.DEPENDENCY_DURATION] = QuickPulseCounter.DEPENDENCY_DURATION,\r\n    _a[QuickPulseCounter.EXCEPTION_RATE] = QuickPulseCounter.EXCEPTION_RATE,\r\n    _a);\r\nexports.QuickPulseDocumentType = {\r\n    Event: \"Event\",\r\n    Exception: \"Exception\",\r\n    Trace: \"Trace\",\r\n    Metric: \"Metric\",\r\n    Request: \"Request\",\r\n    Dependency: \"RemoteDependency\",\r\n    Availability: \"Availability\",\r\n    PageView: \"PageView\"\r\n};\r\nexports.QuickPulseType = {\r\n    Event: \"EventTelemetryDocument\",\r\n    Exception: \"ExceptionTelemetryDocument\",\r\n    Trace: \"TraceTelemetryDocument\",\r\n    Metric: \"MetricTelemetryDocument\",\r\n    Request: \"RequestTelemetryDocument\",\r\n    Dependency: \"DependencyTelemetryDocument\",\r\n    Availability: \"AvailabilityTelemetryDocument\",\r\n    PageView: \"PageViewTelemetryDocument\"\r\n};\r\nexports.TelemetryTypeStringToQuickPulseType = {\r\n    EventData: exports.QuickPulseType.Event,\r\n    ExceptionData: exports.QuickPulseType.Exception,\r\n    MessageData: exports.QuickPulseType.Trace,\r\n    MetricData: exports.QuickPulseType.Metric,\r\n    RequestData: exports.QuickPulseType.Request,\r\n    RemoteDependencyData: exports.QuickPulseType.Dependency,\r\n    AvailabilityData: exports.QuickPulseType.Availability,\r\n    PageViewData: exports.QuickPulseType.PageView\r\n};\r\nexports.TelemetryTypeStringToQuickPulseDocumentType = {\r\n    EventData: exports.QuickPulseDocumentType.Event,\r\n    ExceptionData: exports.QuickPulseDocumentType.Exception,\r\n    MessageData: exports.QuickPulseDocumentType.Trace,\r\n    MetricData: exports.QuickPulseDocumentType.Metric,\r\n    RequestData: exports.QuickPulseDocumentType.Request,\r\n    RemoteDependencyData: exports.QuickPulseDocumentType.Dependency,\r\n    AvailabilityData: exports.QuickPulseDocumentType.Availability,\r\n    PageViewData: exports.QuickPulseDocumentType.PageView\r\n};\r\nexports.DependencyTypeName = {\r\n    Grpc: \"GRPC\",\r\n    Http: \"HTTP\",\r\n    InProc: \"InProc\",\r\n    Sql: \"SQL\",\r\n    QueueMessage: \"Queue Message\"\r\n};\r\nexports.HeartBeatMetricName = \"HeartbeatState\";\r\nexports.StatsbeatTelemetryName = \"Statsbeat\";\r\nexports.StatsbeatResourceProvider = {\r\n    appsvc: \"appsvc\",\r\n    aks: \"aks\",\r\n    functions: \"functions\",\r\n    vm: \"vm\",\r\n    unknown: \"unknown\"\r\n};\r\nexports.StatsbeatAttach = {\r\n    codeless: \"IntegratedAuto\",\r\n    sdk: \"Manual\"\r\n};\r\nexports.StatsbeatCounter = {\r\n    REQUEST_SUCCESS: \"Request_Success_Count\",\r\n    REQUEST_FAILURE: \"Request_Failure_Count\",\r\n    REQUEST_DURATION: \"Request_Duration\",\r\n    RETRY_COUNT: \"Retry_Count\",\r\n    THROTTLE_COUNT: \"Throttle_Count\",\r\n    EXCEPTION_COUNT: \"Exception_Count\",\r\n    ATTACH: \"Attach\",\r\n    FEATURE: \"Feature\"\r\n};\r\nvar StatsbeatFeature;\r\n(function (StatsbeatFeature) {\r\n    StatsbeatFeature[StatsbeatFeature[\"NONE\"] = 0] = \"NONE\";\r\n    StatsbeatFeature[StatsbeatFeature[\"DISK_RETRY\"] = 1] = \"DISK_RETRY\";\r\n    StatsbeatFeature[StatsbeatFeature[\"AAD_HANDLING\"] = 2] = \"AAD_HANDLING\";\r\n    StatsbeatFeature[StatsbeatFeature[\"BROWSER_SDK_LOADER\"] = 4] = \"BROWSER_SDK_LOADER\";\r\n    StatsbeatFeature[StatsbeatFeature[\"LIVE_METRICS\"] = 16] = \"LIVE_METRICS\";\r\n    StatsbeatFeature[StatsbeatFeature[\"NATIVE_METRICS\"] = 8192] = \"NATIVE_METRICS\";\r\n})(StatsbeatFeature = exports.StatsbeatFeature || (exports.StatsbeatFeature = {}));\r\nvar StatsbeatInstrumentation;\r\n(function (StatsbeatInstrumentation) {\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"NONE\"] = 0] = \"NONE\";\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"AZURE_CORE_TRACING\"] = 1] = \"AZURE_CORE_TRACING\";\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"MONGODB\"] = 2] = \"MONGODB\";\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"MYSQL\"] = 4] = \"MYSQL\";\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"REDIS\"] = 8] = \"REDIS\";\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"POSTGRES\"] = 16] = \"POSTGRES\";\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"BUNYAN\"] = 32] = \"BUNYAN\";\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"WINSTON\"] = 64] = \"WINSTON\";\r\n    StatsbeatInstrumentation[StatsbeatInstrumentation[\"CONSOLE\"] = 128] = \"CONSOLE\";\r\n})(StatsbeatInstrumentation = exports.StatsbeatInstrumentation || (exports.StatsbeatInstrumentation = {}));\r\nvar StatsbeatFeatureType;\r\n(function (StatsbeatFeatureType) {\r\n    StatsbeatFeatureType[StatsbeatFeatureType[\"Feature\"] = 0] = \"Feature\";\r\n    StatsbeatFeatureType[StatsbeatFeatureType[\"Instrumentation\"] = 1] = \"Instrumentation\";\r\n})(StatsbeatFeatureType = exports.StatsbeatFeatureType || (exports.StatsbeatFeatureType = {}));\r\nvar StatsbeatNetworkCategory;\r\n(function (StatsbeatNetworkCategory) {\r\n    StatsbeatNetworkCategory[StatsbeatNetworkCategory[\"Breeze\"] = 0] = \"Breeze\";\r\n    StatsbeatNetworkCategory[StatsbeatNetworkCategory[\"Quickpulse\"] = 1] = \"Quickpulse\";\r\n})(StatsbeatNetworkCategory = exports.StatsbeatNetworkCategory || (exports.StatsbeatNetworkCategory = {}));\r\nvar HttpRequestCookieNames;\r\n(function (HttpRequestCookieNames) {\r\n    HttpRequestCookieNames[\"SESSION\"] = \"ai_session\";\r\n    HttpRequestCookieNames[\"USER\"] = \"ai_user\";\r\n    HttpRequestCookieNames[\"AUTH_USER\"] = \"ai_authUser\";\r\n})(HttpRequestCookieNames = exports.HttpRequestCookieNames || (exports.HttpRequestCookieNames = {}));\r\nvar AttachTypePrefix;\r\n(function (AttachTypePrefix) {\r\n    AttachTypePrefix[\"INTEGRATED_AUTO\"] = \"i\";\r\n    AttachTypePrefix[\"MANUAL\"] = \"m\";\r\n})(AttachTypePrefix = exports.AttachTypePrefix || (exports.AttachTypePrefix = {}));\r\n//Azure SDK Span Attributes\r\nexports.AzNamespace = \"az.namespace\";\r\nexports.MicrosoftEventHub = \"Microsoft.EventHub\";\r\nexports.MessageBusDestination = \"message_bus.destination\";\r\n/**\r\n * AI enqueued time attribute.\r\n * @internal\r\n */\r\nexports.ENQUEUED_TIME = \"enqueuedTime\";\r\n/**\r\n * AI time since enqueued attribute.\r\n * @internal\r\n */\r\nexports.TIME_SINCE_ENQUEUED = \"timeSinceEnqueued\";\r\nexports.WEB_INSTRUMENTATION_DEFAULT_SOURCE = \"https://js.monitor.azure.com/scripts/b/ai\";\r\nexports.WEB_INSTRUMENTATION_DEPRECATED_SOURCE = \"https://az416426.vo.msecnd.net/scripts/b/ai\";\r\n//# sourceMappingURL=Constants.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.domainSupportsProperties = exports.RemoteDependencyDataConstants = void 0;\r\nvar Generated_1 = require(\"./Generated\");\r\nvar RemoteDependencyDataConstants = /** @class */ (function () {\r\n    function RemoteDependencyDataConstants() {\r\n    }\r\n    RemoteDependencyDataConstants.TYPE_HTTP = \"Http\";\r\n    RemoteDependencyDataConstants.TYPE_AI = \"Http (tracked component)\";\r\n    return RemoteDependencyDataConstants;\r\n}());\r\nexports.RemoteDependencyDataConstants = RemoteDependencyDataConstants;\r\nfunction domainSupportsProperties(domain) {\r\n    return \"properties\" in domain || // Do extra typechecks in case the type supports it but properties is null/undefined\r\n        domain instanceof Generated_1.EventData ||\r\n        domain instanceof Generated_1.ExceptionData ||\r\n        domain instanceof Generated_1.MessageData ||\r\n        domain instanceof Generated_1.MetricData ||\r\n        domain instanceof Generated_1.PageViewData ||\r\n        domain instanceof Generated_1.RemoteDependencyData ||\r\n        domain instanceof Generated_1.RequestData;\r\n}\r\nexports.domainSupportsProperties = domainSupportsProperties;\r\n//# sourceMappingURL=Constants.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * Instances of AvailabilityData represent the result of executing an availability test.\r\n */\r\nvar AvailabilityData = /** @class */ (function (_super) {\r\n    __extends(AvailabilityData, _super);\r\n    function AvailabilityData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return AvailabilityData;\r\n}(Domain));\r\nmodule.exports = AvailabilityData;\r\n//# sourceMappingURL=AvailabilityData.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Data struct to contain only C section with custom fields.\r\n */\r\nvar Base = /** @class */ (function () {\r\n    function Base() {\r\n    }\r\n    return Base;\r\n}());\r\nmodule.exports = Base;\r\n//# sourceMappingURL=Base.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\nvar ContextTagKeys = /** @class */ (function () {\r\n    function ContextTagKeys() {\r\n        this.applicationVersion = \"ai.application.ver\";\r\n        this.deviceId = \"ai.device.id\";\r\n        this.deviceLocale = \"ai.device.locale\";\r\n        this.deviceModel = \"ai.device.model\";\r\n        this.deviceOEMName = \"ai.device.oemName\";\r\n        this.deviceOSVersion = \"ai.device.osVersion\";\r\n        this.deviceType = \"ai.device.type\";\r\n        this.locationIp = \"ai.location.ip\";\r\n        this.operationId = \"ai.operation.id\";\r\n        this.operationName = \"ai.operation.name\";\r\n        this.operationParentId = \"ai.operation.parentId\";\r\n        this.operationSyntheticSource = \"ai.operation.syntheticSource\";\r\n        this.operationCorrelationVector = \"ai.operation.correlationVector\";\r\n        this.sessionId = \"ai.session.id\";\r\n        this.sessionIsFirst = \"ai.session.isFirst\";\r\n        this.userAccountId = \"ai.user.accountId\";\r\n        this.userId = \"ai.user.id\";\r\n        this.userAuthUserId = \"ai.user.authUserId\";\r\n        this.cloudRole = \"ai.cloud.role\";\r\n        this.cloudRoleInstance = \"ai.cloud.roleInstance\";\r\n        this.internalSdkVersion = \"ai.internal.sdkVersion\";\r\n        this.internalAgentVersion = \"ai.internal.agentVersion\";\r\n        this.internalNodeName = \"ai.internal.nodeName\";\r\n    }\r\n    return ContextTagKeys;\r\n}());\r\nmodule.exports = ContextTagKeys;\r\n//# sourceMappingURL=ContextTagKeys.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Base = require(\"./Base\");\r\n\"use strict\";\r\n/**\r\n * Data struct to contain both B and C sections.\r\n */\r\nvar Data = /** @class */ (function (_super) {\r\n    __extends(Data, _super);\r\n    function Data() {\r\n        return _super.call(this) || this;\r\n    }\r\n    return Data;\r\n}(Base));\r\nmodule.exports = Data;\r\n//# sourceMappingURL=Data.js.map","\"use strict\";\r\n// THIS FILE WAS AUTOGENERATED\r\nvar DataPointType = require(\"./DataPointType\");\r\n\"use strict\";\r\n/**\r\n * Metric data single measurement.\r\n */\r\nvar DataPoint = /** @class */ (function () {\r\n    function DataPoint() {\r\n        this.kind = DataPointType.Measurement;\r\n    }\r\n    return DataPoint;\r\n}());\r\nmodule.exports = DataPoint;\r\n//# sourceMappingURL=DataPoint.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Type of the metric data measurement.\r\n */\r\nvar DataPointType;\r\n(function (DataPointType) {\r\n    DataPointType[DataPointType[\"Measurement\"] = 0] = \"Measurement\";\r\n    DataPointType[DataPointType[\"Aggregation\"] = 1] = \"Aggregation\";\r\n})(DataPointType || (DataPointType = {}));\r\nmodule.exports = DataPointType;\r\n//# sourceMappingURL=DataPointType.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * The abstract common base of all domains.\r\n */\r\nvar Domain = /** @class */ (function () {\r\n    function Domain() {\r\n    }\r\n    return Domain;\r\n}());\r\nmodule.exports = Domain;\r\n//# sourceMappingURL=Domain.js.map","\"use strict\";\r\n/**\r\n * System variables for a telemetry item.\r\n */\r\nvar Envelope = /** @class */ (function () {\r\n    function Envelope() {\r\n        this.ver = 1;\r\n        this.sampleRate = 100.0;\r\n        this.tags = {};\r\n    }\r\n    return Envelope;\r\n}());\r\nmodule.exports = Envelope;\r\n//# sourceMappingURL=Envelope.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * Instances of Event represent structured event records that can be grouped and searched by their properties. Event data item also creates a metric of event count by name.\r\n */\r\nvar EventData = /** @class */ (function (_super) {\r\n    __extends(EventData, _super);\r\n    function EventData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return EventData;\r\n}(Domain));\r\nmodule.exports = EventData;\r\n//# sourceMappingURL=EventData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of Exception represents a handled or unhandled exception that occurred during execution of the monitored application.\r\n */\r\nvar ExceptionData = /** @class */ (function (_super) {\r\n    __extends(ExceptionData, _super);\r\n    function ExceptionData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.exceptions = [];\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return ExceptionData;\r\n}(Domain));\r\nmodule.exports = ExceptionData;\r\n//# sourceMappingURL=ExceptionData.js.map","\"use strict\";\r\n/**\r\n * Exception details of the exception in a chain.\r\n */\r\nvar ExceptionDetails = /** @class */ (function () {\r\n    function ExceptionDetails() {\r\n        this.hasFullStack = true;\r\n        this.parsedStack = [];\r\n    }\r\n    return ExceptionDetails;\r\n}());\r\nmodule.exports = ExceptionDetails;\r\n//# sourceMappingURL=ExceptionDetails.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * Instances of Message represent printf-like trace statements that are text-searched. Log4Net, NLog and other text-based log file entries are translated into intances of this type. The message does not have measurements.\r\n */\r\nvar MessageData = /** @class */ (function (_super) {\r\n    __extends(MessageData, _super);\r\n    function MessageData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        return _this;\r\n    }\r\n    return MessageData;\r\n}(Domain));\r\nmodule.exports = MessageData;\r\n//# sourceMappingURL=MessageData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of the Metric item is a list of measurements (single data points) and/or aggregations.\r\n */\r\nvar MetricData = /** @class */ (function (_super) {\r\n    __extends(MetricData, _super);\r\n    function MetricData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.metrics = [];\r\n        _this.properties = {};\r\n        return _this;\r\n    }\r\n    return MetricData;\r\n}(Domain));\r\nmodule.exports = MetricData;\r\n//# sourceMappingURL=MetricData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar EventData = require(\"./EventData\");\r\n\"use strict\";\r\n/**\r\n * An instance of PageView represents a generic action on a page like a button click. It is also the base type for PageView.\r\n */\r\nvar PageViewData = /** @class */ (function (_super) {\r\n    __extends(PageViewData, _super);\r\n    function PageViewData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return PageViewData;\r\n}(EventData));\r\nmodule.exports = PageViewData;\r\n//# sourceMappingURL=PageViewData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of Remote Dependency represents an interaction of the monitored component with a remote component/service like SQL or an HTTP endpoint.\r\n */\r\nvar RemoteDependencyData = /** @class */ (function (_super) {\r\n    __extends(RemoteDependencyData, _super);\r\n    function RemoteDependencyData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.success = true;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return RemoteDependencyData;\r\n}(Domain));\r\nmodule.exports = RemoteDependencyData;\r\n//# sourceMappingURL=RemoteDependencyData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of Request represents completion of an external request to the application to do work and contains a summary of that request execution and the results.\r\n */\r\nvar RequestData = /** @class */ (function (_super) {\r\n    __extends(RequestData, _super);\r\n    function RequestData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return RequestData;\r\n}(Domain));\r\nmodule.exports = RequestData;\r\n//# sourceMappingURL=RequestData.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Defines the level of severity for the event.\r\n */\r\nvar SeverityLevel;\r\n(function (SeverityLevel) {\r\n    SeverityLevel[SeverityLevel[\"Verbose\"] = 0] = \"Verbose\";\r\n    SeverityLevel[SeverityLevel[\"Information\"] = 1] = \"Information\";\r\n    SeverityLevel[SeverityLevel[\"Warning\"] = 2] = \"Warning\";\r\n    SeverityLevel[SeverityLevel[\"Error\"] = 3] = \"Error\";\r\n    SeverityLevel[SeverityLevel[\"Critical\"] = 4] = \"Critical\";\r\n})(SeverityLevel || (SeverityLevel = {}));\r\nmodule.exports = SeverityLevel;\r\n//# sourceMappingURL=SeverityLevel.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Stack frame information.\r\n */\r\nvar StackFrame = /** @class */ (function () {\r\n    function StackFrame() {\r\n    }\r\n    return StackFrame;\r\n}());\r\nmodule.exports = StackFrame;\r\n//# sourceMappingURL=StackFrame.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AvailabilityData = require(\"./AvailabilityData\");\r\nexports.Base = require(\"./Base\");\r\nexports.ContextTagKeys = require(\"./ContextTagKeys\");\r\nexports.Data = require(\"./Data\");\r\nexports.DataPoint = require(\"./DataPoint\");\r\nexports.DataPointType = require(\"./DataPointType\");\r\nexports.Domain = require(\"./Domain\");\r\nexports.Envelope = require(\"./Envelope\");\r\nexports.EventData = require(\"./EventData\");\r\nexports.ExceptionData = require(\"./ExceptionData\");\r\nexports.ExceptionDetails = require(\"./ExceptionDetails\");\r\nexports.MessageData = require(\"./MessageData\");\r\nexports.MetricData = require(\"./MetricData\");\r\nexports.PageViewData = require(\"./PageViewData\");\r\nexports.RemoteDependencyData = require(\"./RemoteDependencyData\");\r\nexports.RequestData = require(\"./RequestData\");\r\nexports.SeverityLevel = require(\"./SeverityLevel\");\r\nexports.StackFrame = require(\"./StackFrame\");\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=DependencyDocumentQuickPulse.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=DocumentQuickPulse.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=EnvelopeQuickPulse.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=EventDocumentQuickPulse.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=ExceptionDocumentQuickPulse.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=MessageDocumentQuickPulse.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=MetricQuickPulse.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=RequestDocumentQuickPulse.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./MetricQuickPulse\"), exports);\r\n__exportStar(require(\"./EnvelopeQuickPulse\"), exports);\r\n__exportStar(require(\"./DocumentQuickPulse\"), exports);\r\n__exportStar(require(\"./ExceptionDocumentQuickPulse\"), exports);\r\n__exportStar(require(\"./MessageDocumentQuickPulse\"), exports);\r\n__exportStar(require(\"./DependencyDocumentQuickPulse\"), exports);\r\n__exportStar(require(\"./RequestDocumentQuickPulse\"), exports);\r\n__exportStar(require(\"./EventDocumentQuickPulse\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=AvailabilityTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=DependencyTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=EnvelopeTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=EventTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=ExceptionTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=MetricTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=NodeHttpDependencyTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=NodeHttpRequestTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=PageViewTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=RequestTelemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=Telemetry.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TelemetryType = exports.TelemetryTypeString = exports.baseTypeToTelemetryType = exports.telemetryTypeToBaseType = void 0;\r\n/**\r\n * Converts the user-friendly enumeration TelemetryType to the underlying schema baseType value\r\n * @param type Type to convert to BaseData string\r\n */\r\nfunction telemetryTypeToBaseType(type) {\r\n    switch (type) {\r\n        case TelemetryType.Event:\r\n            return \"EventData\";\r\n        case TelemetryType.Exception:\r\n            return \"ExceptionData\";\r\n        case TelemetryType.Trace:\r\n            return \"MessageData\";\r\n        case TelemetryType.Metric:\r\n            return \"MetricData\";\r\n        case TelemetryType.Request:\r\n            return \"RequestData\";\r\n        case TelemetryType.Dependency:\r\n            return \"RemoteDependencyData\";\r\n        case TelemetryType.Availability:\r\n            return \"AvailabilityData\";\r\n        case TelemetryType.PageView:\r\n            return \"PageViewData\";\r\n    }\r\n    return undefined;\r\n}\r\nexports.telemetryTypeToBaseType = telemetryTypeToBaseType;\r\n/**\r\n * Converts the schema baseType value to the user-friendly enumeration TelemetryType\r\n * @param baseType BaseData string to convert to TelemetryType\r\n */\r\nfunction baseTypeToTelemetryType(baseType) {\r\n    switch (baseType) {\r\n        case \"EventData\":\r\n            return TelemetryType.Event;\r\n        case \"ExceptionData\":\r\n            return TelemetryType.Exception;\r\n        case \"MessageData\":\r\n            return TelemetryType.Trace;\r\n        case \"MetricData\":\r\n            return TelemetryType.Metric;\r\n        case \"RequestData\":\r\n            return TelemetryType.Request;\r\n        case \"RemoteDependencyData\":\r\n            return TelemetryType.Dependency;\r\n        case \"AvailabilityData\":\r\n            return TelemetryType.Availability;\r\n        case \"PageViewData\":\r\n            return TelemetryType.PageView;\r\n    }\r\n    return undefined;\r\n}\r\nexports.baseTypeToTelemetryType = baseTypeToTelemetryType;\r\nexports.TelemetryTypeString = {\r\n    Event: \"EventData\",\r\n    Exception: \"ExceptionData\",\r\n    Trace: \"MessageData\",\r\n    Metric: \"MetricData\",\r\n    Request: \"RequestData\",\r\n    Dependency: \"RemoteDependencyData\",\r\n    Availability: \"AvailabilityData\",\r\n    PageView: \"PageViewData\"\r\n};\r\n/**\r\n * Telemetry types supported by this SDK\r\n */\r\nvar TelemetryType;\r\n(function (TelemetryType) {\r\n    TelemetryType[TelemetryType[\"Event\"] = 0] = \"Event\";\r\n    TelemetryType[TelemetryType[\"Exception\"] = 1] = \"Exception\";\r\n    TelemetryType[TelemetryType[\"Trace\"] = 2] = \"Trace\";\r\n    TelemetryType[TelemetryType[\"Metric\"] = 3] = \"Metric\";\r\n    TelemetryType[TelemetryType[\"Request\"] = 4] = \"Request\";\r\n    TelemetryType[TelemetryType[\"Dependency\"] = 5] = \"Dependency\";\r\n    TelemetryType[TelemetryType[\"Availability\"] = 6] = \"Availability\";\r\n    TelemetryType[TelemetryType[\"PageView\"] = 7] = \"PageView\";\r\n})(TelemetryType = exports.TelemetryType || (exports.TelemetryType = {}));\r\n//# sourceMappingURL=TelemetryType.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=TraceTelemetry.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./DependencyTelemetry\"), exports);\r\n__exportStar(require(\"./EventTelemetry\"), exports);\r\n__exportStar(require(\"./ExceptionTelemetry\"), exports);\r\n__exportStar(require(\"./MetricTelemetry\"), exports);\r\n__exportStar(require(\"./RequestTelemetry\"), exports);\r\n__exportStar(require(\"./TraceTelemetry\"), exports);\r\n__exportStar(require(\"./Telemetry\"), exports);\r\n__exportStar(require(\"./NodeHttpDependencyTelemetry\"), exports);\r\n__exportStar(require(\"./NodeHttpRequestTelemetry\"), exports);\r\n__exportStar(require(\"./AvailabilityTelemetry\"), exports);\r\n__exportStar(require(\"./PageViewTelemetry\"), exports);\r\n__exportStar(require(\"./EnvelopeTelemetry\"), exports);\r\n__exportStar(require(\"./TelemetryType\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./Constants\"), exports);\r\n__exportStar(require(\"./Generated\"), exports);\r\n__exportStar(require(\"./TelemetryTypes\"), exports);\r\n__exportStar(require(\"./QuickPulseTypes\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AggregatedMetricCounter = void 0;\r\nvar AggregatedMetricCounter = /** @class */ (function () {\r\n    function AggregatedMetricCounter(dimensions) {\r\n        this.dimensions = dimensions;\r\n        this.totalCount = 0;\r\n        this.lastTotalCount = 0;\r\n        this.intervalExecutionTime = 0;\r\n        this.lastTime = +new Date;\r\n        this.lastIntervalExecutionTime = 0;\r\n    }\r\n    return AggregatedMetricCounter;\r\n}());\r\nexports.AggregatedMetricCounter = AggregatedMetricCounter;\r\n//# sourceMappingURL=AggregatedMetricCounters.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PreaggregatedMetricPropertyNames = void 0;\r\n// Names expected in Breeze side for dimensions\r\nexports.PreaggregatedMetricPropertyNames = {\r\n    cloudRoleInstance: \"cloud/roleInstance\",\r\n    cloudRoleName: \"cloud/roleName\",\r\n    operationSynthetic: \"operation/synthetic\",\r\n    requestSuccess: \"Request.Success\",\r\n    requestResultCode: \"request/resultCode\",\r\n    dependencyType: \"Dependency.Type\",\r\n    dependencyTarget: \"dependency/target\",\r\n    dependencySuccess: \"Dependency.Success\",\r\n    dependencyResultCode: \"dependency/resultCode\",\r\n    traceSeverityLevel: \"trace/severityLevel\"\r\n};\r\n//# sourceMappingURL=AggregatedMetricDimensions.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar azureCore = require(\"@azure/core-rest-pipeline\");\r\nvar applicationInsightsResource = \"https://monitor.azure.com//.default\";\r\nfunction emptySendRequest(_request) {\r\n    return null;\r\n}\r\nvar AuthorizationHandler = /** @class */ (function () {\r\n    function AuthorizationHandler(credential, aadAudience) {\r\n        var scopes = aadAudience ? [aadAudience] : [applicationInsightsResource];\r\n        this._azureTokenPolicy = azureCore.bearerTokenAuthenticationPolicy({ credential: credential, scopes: scopes });\r\n    }\r\n    /**\r\n    * Applies the Bearer token to the request through the Authorization header.\r\n    */\r\n    AuthorizationHandler.prototype.addAuthorizationHeader = function (requestOptions) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var authHeaderName, webResource;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        authHeaderName = \"authorization\";\r\n                        webResource = azureCore.createPipelineRequest({ url: \"https://\" });\r\n                        return [4 /*yield*/, this._azureTokenPolicy.sendRequest(webResource, emptySendRequest)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        requestOptions.headers[authHeaderName] = webResource.headers.get(authHeaderName);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return AuthorizationHandler;\r\n}());\r\nmodule.exports = AuthorizationHandler;\r\n//# sourceMappingURL=AuthorizationHandler.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AzureVirtualMachine = void 0;\r\nvar Logging = require(\"./Logging\");\r\nvar Util = require(\"./Util\");\r\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\r\nvar AIMS_URI = \"http://169.254.169.254/metadata/instance/compute\";\r\nvar AIMS_API_VERSION = \"api-version=2017-12-01\";\r\nvar AIMS_FORMAT = \"format=json\";\r\nvar ConnectionErrorMessage = \"UNREACH\"; // EHOSTUNREACH, ENETUNREACH\r\nvar AzureVirtualMachine = /** @class */ (function () {\r\n    function AzureVirtualMachine() {\r\n    }\r\n    AzureVirtualMachine.getAzureComputeMetadata = function (config, callback) {\r\n        var _a;\r\n        var _this = this;\r\n        var vmInfo = {};\r\n        var metadataRequestUrl = AIMS_URI + \"?\" + AIMS_API_VERSION + \"&\" + AIMS_FORMAT;\r\n        var requestOptions = (_a = {\r\n                method: \"GET\"\r\n            },\r\n            _a[AutoCollectHttpDependencies.disableCollectionRequestOption] = true,\r\n            _a.headers = {\r\n                \"Metadata\": \"True\"\r\n            },\r\n            _a);\r\n        var req = Util.makeRequest(config, metadataRequestUrl, requestOptions, function (res) {\r\n            if (res.statusCode === 200) {\r\n                // Success; VM\r\n                vmInfo.isVM = true;\r\n                var virtualMachineData_1 = \"\";\r\n                res.on(\"data\", function (data) {\r\n                    virtualMachineData_1 += data;\r\n                });\r\n                res.on(\"end\", function () {\r\n                    try {\r\n                        var data = JSON.parse(virtualMachineData_1);\r\n                        vmInfo.id = data[\"vmId\"] || \"\";\r\n                        vmInfo.subscriptionId = data[\"subscriptionId\"] || \"\";\r\n                        vmInfo.osType = data[\"osType\"] || \"\";\r\n                    }\r\n                    catch (error) {\r\n                        // Failed to parse JSON\r\n                        Logging.info(AzureVirtualMachine.TAG, error);\r\n                    }\r\n                    callback(vmInfo);\r\n                });\r\n            }\r\n            else {\r\n                callback(vmInfo);\r\n            }\r\n        }, false, false);\r\n        if (req) {\r\n            setTimeout(function () {\r\n                _this._requestTimedOut = true;\r\n                req.abort();\r\n            }, AzureVirtualMachine.HTTP_TIMEOUT);\r\n            req.on(\"error\", function (error) {\r\n                // Unable to contact endpoint.\r\n                // Do nothing for now.\r\n                if (_this._requestTimedOut) {\r\n                    if (error) {\r\n                        error.name = \"telemetry timeout\";\r\n                        error.message = \"telemetry request timed out\";\r\n                    }\r\n                }\r\n                if (error && error.message && error.message.indexOf(ConnectionErrorMessage) > -1) {\r\n                    vmInfo.isVM = false; // confirm it's not in VM\r\n                }\r\n                else {\r\n                    // Only log when is not determined if VM or not to avoid noise outside of Azure VMs\r\n                    Logging.info(AzureVirtualMachine.TAG, error);\r\n                }\r\n                callback(vmInfo);\r\n            });\r\n            req.end();\r\n        }\r\n    };\r\n    AzureVirtualMachine.HTTP_TIMEOUT = 2500; // 2.5 seconds\r\n    AzureVirtualMachine.TAG = \"AzureVirtualMachine\";\r\n    return AzureVirtualMachine;\r\n}());\r\nexports.AzureVirtualMachine = AzureVirtualMachine;\r\n//# sourceMappingURL=AzureVirtualMachine.js.map","\"use strict\";\r\nvar Logging = require(\"./Logging\");\r\nvar Util = require(\"./Util\");\r\nvar Channel = /** @class */ (function () {\r\n    function Channel(isDisabled, getBatchSize, getBatchIntervalMs, sender) {\r\n        this._buffer = [];\r\n        this._lastSend = 0;\r\n        this._isDisabled = isDisabled;\r\n        this._getBatchSize = getBatchSize;\r\n        this._getBatchIntervalMs = getBatchIntervalMs;\r\n        this._sender = sender;\r\n    }\r\n    /**\r\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\r\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\r\n     * @param value if true events that occurred while client is offline will be cached on disk\r\n     * @param resendInterval The wait interval for resending cached events.\r\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\r\n     * @returns {Configuration} this class\r\n     */\r\n    Channel.prototype.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\r\n        this._sender.setDiskRetryMode(value, resendInterval, maxBytesOnDisk);\r\n    };\r\n    /**\r\n     * Add a telemetry item to the send buffer\r\n     */\r\n    Channel.prototype.send = function (envelope) {\r\n        var _this = this;\r\n        // if master off switch is set, don't send any data\r\n        if (this._isDisabled()) {\r\n            // Do not send/save data\r\n            return;\r\n        }\r\n        // validate input\r\n        if (!envelope) {\r\n            Logging.warn(\"Cannot send null/undefined telemetry\");\r\n            return;\r\n        }\r\n        // enqueue the payload\r\n        this._buffer.push(envelope);\r\n        // flush if we would exceed the max-size limit by adding this item\r\n        if (this._buffer.length >= this._getBatchSize()) {\r\n            this.triggerSend(false);\r\n            return;\r\n        }\r\n        // ensure an invocation timeout is set if anything is in the buffer\r\n        if (!this._timeoutHandle && this._buffer.length > 0) {\r\n            this._timeoutHandle = setTimeout(function () {\r\n                _this._timeoutHandle = null;\r\n                _this.triggerSend(false);\r\n            }, this._getBatchIntervalMs());\r\n        }\r\n    };\r\n    /**\r\n     * Immediately send buffered data\r\n     */\r\n    Channel.prototype.triggerSend = function (isNodeCrashing, callback) {\r\n        var bufferIsEmpty = this._buffer.length < 1;\r\n        if (!bufferIsEmpty) {\r\n            // invoke send\r\n            if (isNodeCrashing || Util.isNodeExit) {\r\n                this._sender.saveOnCrash(this._buffer);\r\n                if (typeof callback === \"function\") {\r\n                    callback(\"data saved on crash\");\r\n                }\r\n            }\r\n            else {\r\n                this._sender.send(this._buffer, callback);\r\n            }\r\n        }\r\n        // update lastSend time to enable throttling\r\n        this._lastSend = +new Date;\r\n        // clear buffer\r\n        this._buffer = [];\r\n        clearTimeout(this._timeoutHandle);\r\n        this._timeoutHandle = null;\r\n        if (bufferIsEmpty && typeof callback === \"function\") {\r\n            callback(\"no data to send\");\r\n        }\r\n    };\r\n    return Channel;\r\n}());\r\nmodule.exports = Channel;\r\n//# sourceMappingURL=Channel.js.map","\"use strict\";\r\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\r\nvar ConnectionStringParser = require(\"./ConnectionStringParser\");\r\nvar Logging = require(\"./Logging\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar url = require(\"url\");\r\nvar JsonConfig_1 = require(\"./JsonConfig\");\r\nvar Config = /** @class */ (function () {\r\n    function Config(setupString) {\r\n        this._endpointBase = Constants.DEFAULT_BREEZE_ENDPOINT;\r\n        // Load config values from env variables and JSON if available\r\n        this._mergeConfig();\r\n        var connectionStringEnv = this._connectionString;\r\n        var csCode = ConnectionStringParser.parse(setupString);\r\n        var csEnv = ConnectionStringParser.parse(connectionStringEnv);\r\n        var iKeyCode = !csCode.instrumentationkey && Object.keys(csCode).length > 0\r\n            ? null // CS was valid but instrumentation key was not provided, null and grab from env var\r\n            : setupString; // CS was invalid, so it must be an ikey\r\n        var instrumentationKeyEnv = this._instrumentationKey;\r\n        this.instrumentationKey = csCode.instrumentationkey || iKeyCode /* === instrumentationKey */ || csEnv.instrumentationkey || instrumentationKeyEnv;\r\n        var endpoint = \"\" + (this.endpointUrl || csCode.ingestionendpoint || csEnv.ingestionendpoint || this._endpointBase);\r\n        if (endpoint.endsWith(\"/\")) {\r\n            // Remove extra '/' if present\r\n            endpoint = endpoint.slice(0, -1);\r\n        }\r\n        this.endpointUrl = endpoint + \"/v2.1/track\";\r\n        this.maxBatchSize = this.maxBatchSize || 250;\r\n        this.maxBatchIntervalMs = this.maxBatchIntervalMs || 15000;\r\n        this.disableAppInsights = this.disableAppInsights || false;\r\n        this.samplingPercentage = this.samplingPercentage || 100;\r\n        this.correlationIdRetryIntervalMs = this.correlationIdRetryIntervalMs || 30 * 1000;\r\n        this.enableWebInstrumentation = this.enableWebInstrumentation || this.enableAutoWebSnippetInjection || false;\r\n        this.webInstrumentationConfig = this.webInstrumentationConfig || null;\r\n        this.enableAutoWebSnippetInjection = this.enableWebInstrumentation;\r\n        this.correlationHeaderExcludedDomains =\r\n            this.correlationHeaderExcludedDomains ||\r\n                [\r\n                    \"*.core.windows.net\",\r\n                    \"*.core.chinacloudapi.cn\",\r\n                    \"*.core.cloudapi.de\",\r\n                    \"*.core.usgovcloudapi.net\",\r\n                    \"*.core.microsoft.scloud\",\r\n                    \"*.core.eaglex.ic.gov\"\r\n                ];\r\n        this.ignoreLegacyHeaders = this.ignoreLegacyHeaders || false;\r\n        this.profileQueryEndpoint = csCode.ingestionendpoint || csEnv.ingestionendpoint || process.env[Config.ENV_profileQueryEndpoint] || this._endpointBase;\r\n        this.quickPulseHost = this.quickPulseHost || csCode.liveendpoint || csEnv.liveendpoint || process.env[Config.ENV_quickPulseHost] || Constants.DEFAULT_LIVEMETRICS_HOST;\r\n        this.webInstrumentationConnectionString = this.webInstrumentationConnectionString || this._webInstrumentationConnectionString || \"\";\r\n        this.webSnippetConnectionString = this.webInstrumentationConnectionString;\r\n        // Parse quickPulseHost if it starts with http(s)://\r\n        if (this.quickPulseHost.match(/^https?:\\/\\//)) {\r\n            this.quickPulseHost = new url.URL(this.quickPulseHost).host;\r\n        }\r\n        this.aadAudience = csCode.aadaudience || csEnv.aadaudience;\r\n    }\r\n    Object.defineProperty(Config.prototype, \"profileQueryEndpoint\", {\r\n        get: function () {\r\n            return this._profileQueryEndpoint;\r\n        },\r\n        set: function (endpoint) {\r\n            this._profileQueryEndpoint = endpoint;\r\n            this.correlationId = CorrelationIdManager.correlationIdPrefix;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, \"instrumentationKey\", {\r\n        get: function () {\r\n            return this._instrumentationKey;\r\n        },\r\n        set: function (iKey) {\r\n            if (!Config._validateInstrumentationKey(iKey)) {\r\n                Logging.warn(\"An invalid instrumentation key was provided. There may be resulting telemetry loss\", this.instrumentationKey);\r\n            }\r\n            this._instrumentationKey = iKey;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, \"webSnippetConnectionString\", {\r\n        get: function () {\r\n            return this._webInstrumentationConnectionString;\r\n        },\r\n        set: function (connectionString) {\r\n            this._webInstrumentationConnectionString = connectionString;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, \"webInstrumentationConnectionString\", {\r\n        get: function () {\r\n            return this._webInstrumentationConnectionString;\r\n        },\r\n        set: function (connectionString) {\r\n            this._webInstrumentationConnectionString = connectionString;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Config.prototype._mergeConfig = function () {\r\n        var jsonConfig = JsonConfig_1.JsonConfig.getInstance();\r\n        this._connectionString = jsonConfig.connectionString;\r\n        this._instrumentationKey = jsonConfig.instrumentationKey;\r\n        this.correlationHeaderExcludedDomains = jsonConfig.correlationHeaderExcludedDomains;\r\n        this.correlationIdRetryIntervalMs = jsonConfig.correlationIdRetryIntervalMs;\r\n        this.disableAllExtendedMetrics = jsonConfig.disableAllExtendedMetrics;\r\n        this.disableAppInsights = jsonConfig.disableAppInsights;\r\n        this.disableStatsbeat = jsonConfig.disableStatsbeat;\r\n        this.distributedTracingMode = jsonConfig.distributedTracingMode;\r\n        this.enableAutoCollectConsole = jsonConfig.enableAutoCollectConsole;\r\n        this.enableLoggerErrorToTrace = jsonConfig.enableLoggerErrorToTrace;\r\n        this.enableAutoCollectDependencies = jsonConfig.enableAutoCollectDependencies;\r\n        this.enableAutoCollectIncomingRequestAzureFunctions = jsonConfig.enableAutoCollectIncomingRequestAzureFunctions;\r\n        this.enableAutoCollectExceptions = jsonConfig.enableAutoCollectExceptions;\r\n        this.enableAutoCollectExtendedMetrics = jsonConfig.enableAutoCollectExtendedMetrics;\r\n        this.enableAutoCollectExternalLoggers = jsonConfig.enableAutoCollectExternalLoggers;\r\n        this.enableAutoCollectHeartbeat = jsonConfig.enableAutoCollectHeartbeat;\r\n        this.enableAutoCollectPerformance = jsonConfig.enableAutoCollectPerformance;\r\n        this.enableAutoCollectPreAggregatedMetrics = jsonConfig.enableAutoCollectPreAggregatedMetrics;\r\n        this.enableAutoCollectRequests = jsonConfig.enableAutoCollectRequests;\r\n        this.enableAutoDependencyCorrelation = jsonConfig.enableAutoDependencyCorrelation;\r\n        this.enableInternalDebugLogging = jsonConfig.enableInternalDebugLogging;\r\n        this.enableInternalWarningLogging = jsonConfig.enableInternalWarningLogging;\r\n        this.enableResendInterval = jsonConfig.enableResendInterval;\r\n        this.enableMaxBytesOnDisk = jsonConfig.enableMaxBytesOnDisk;\r\n        this.enableSendLiveMetrics = jsonConfig.enableSendLiveMetrics;\r\n        this.enableUseAsyncHooks = jsonConfig.enableUseAsyncHooks;\r\n        this.enableUseDiskRetryCaching = jsonConfig.enableUseDiskRetryCaching;\r\n        this.endpointUrl = jsonConfig.endpointUrl;\r\n        this.extendedMetricDisablers = jsonConfig.extendedMetricDisablers;\r\n        this.ignoreLegacyHeaders = jsonConfig.ignoreLegacyHeaders;\r\n        this.maxBatchIntervalMs = jsonConfig.maxBatchIntervalMs;\r\n        this.maxBatchSize = jsonConfig.maxBatchSize;\r\n        this.proxyHttpUrl = jsonConfig.proxyHttpUrl;\r\n        this.proxyHttpsUrl = jsonConfig.proxyHttpsUrl;\r\n        this.quickPulseHost = jsonConfig.quickPulseHost;\r\n        this.samplingPercentage = jsonConfig.samplingPercentage;\r\n        this.enableWebInstrumentation = jsonConfig.enableWebInstrumentation;\r\n        this._webInstrumentationConnectionString = jsonConfig.webInstrumentationConnectionString;\r\n        this.webInstrumentationConfig = jsonConfig.webInstrumentationConfig;\r\n        this.webInstrumentationSrc = jsonConfig.webInstrumentationSrc;\r\n    };\r\n    /**\r\n    * Validate UUID Format\r\n    * Specs taken from breeze repo\r\n    * The definition of a VALID instrumentation key is as follows:\r\n    * Not none\r\n    * Not empty\r\n    * Every character is a hex character [0-9a-f]\r\n    * 32 characters are separated into 5 sections via 4 dashes\r\n    * First section has 8 characters\r\n    * Second section has 4 characters\r\n    * Third section has 4 characters\r\n    * Fourth section has 4 characters\r\n    * Fifth section has 12 characters\r\n    */\r\n    Config._validateInstrumentationKey = function (iKey) {\r\n        var UUID_Regex = \"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$\";\r\n        var regexp = new RegExp(UUID_Regex);\r\n        return regexp.test(iKey);\r\n    };\r\n    Config.ENV_azurePrefix = \"APPSETTING_\"; // Azure adds this prefix to all environment variables\r\n    Config.ENV_iKey = \"APPINSIGHTS_INSTRUMENTATIONKEY\"; // This key is provided in the readme\r\n    Config.legacy_ENV_iKey = \"APPINSIGHTS_INSTRUMENTATION_KEY\";\r\n    Config.ENV_profileQueryEndpoint = \"APPINSIGHTS_PROFILE_QUERY_ENDPOINT\";\r\n    Config.ENV_quickPulseHost = \"APPINSIGHTS_QUICKPULSE_HOST\";\r\n    return Config;\r\n}());\r\nmodule.exports = Config;\r\n//# sourceMappingURL=Config.js.map","\"use strict\";\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar ConnectionStringParser = /** @class */ (function () {\r\n    function ConnectionStringParser() {\r\n    }\r\n    ConnectionStringParser.parse = function (connectionString) {\r\n        if (!connectionString) {\r\n            return {};\r\n        }\r\n        var kvPairs = connectionString.split(ConnectionStringParser._FIELDS_SEPARATOR);\r\n        var result = kvPairs.reduce(function (fields, kv) {\r\n            var kvParts = kv.split(ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR);\r\n            if (kvParts.length === 2) { // only save fields with valid formats\r\n                var key = kvParts[0].toLowerCase();\r\n                var value = kvParts[1];\r\n                fields[key] = value;\r\n            }\r\n            return fields;\r\n        }, {});\r\n        if (Object.keys(result).length > 0) {\r\n            // this is a valid connection string, so parse the results\r\n            if (result.endpointsuffix) {\r\n                // use endpoint suffix where overrides are not provided\r\n                var locationPrefix = result.location ? result.location + \".\" : \"\";\r\n                result.ingestionendpoint = result.ingestionendpoint || (\"https://\" + locationPrefix + \"dc.\" + result.endpointsuffix);\r\n                result.liveendpoint = result.liveendpoint || (\"https://\" + locationPrefix + \"live.\" + result.endpointsuffix);\r\n            }\r\n            // apply the default endpoints\r\n            result.ingestionendpoint = result.ingestionendpoint || Constants.DEFAULT_BREEZE_ENDPOINT;\r\n            result.liveendpoint = result.liveendpoint || Constants.DEFAULT_LIVEMETRICS_ENDPOINT;\r\n        }\r\n        return result;\r\n    };\r\n    ConnectionStringParser.isIkeyValid = function (iKey) {\r\n        if (!iKey || iKey == \"\")\r\n            return false;\r\n        var UUID_Regex = \"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$\";\r\n        var regexp = new RegExp(UUID_Regex);\r\n        return regexp.test(iKey);\r\n    };\r\n    ConnectionStringParser._FIELDS_SEPARATOR = \";\";\r\n    ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR = \"=\";\r\n    return ConnectionStringParser;\r\n}());\r\nmodule.exports = ConnectionStringParser;\r\n//# sourceMappingURL=ConnectionStringParser.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar os = require(\"os\");\r\nvar fs = require(\"fs\");\r\nvar path = require(\"path\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Constants_1 = require(\"../Declarations/Constants\");\r\nvar Logging = require(\"./Logging\");\r\nvar PrefixHelpers = __importStar(require(\"./PrefixHelper\"));\r\nvar Constants = __importStar(require(\"../Declarations/Constants\"));\r\nvar Context = /** @class */ (function () {\r\n    function Context(packageJsonPath) {\r\n        this.keys = new Contracts.ContextTagKeys();\r\n        this.tags = {};\r\n        this._loadApplicationContext(packageJsonPath);\r\n        this._loadDeviceContext();\r\n        this._loadInternalContext();\r\n    }\r\n    Context.prototype._loadApplicationContext = function (packageJsonPath) {\r\n        try {\r\n            packageJsonPath = packageJsonPath || path.resolve(__dirname, \"../../../../package.json\");\r\n            if (!Context.appVersion[packageJsonPath]) {\r\n                Context.appVersion[packageJsonPath] = \"unknown\";\r\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\r\n                if (packageJson && typeof packageJson.version === \"string\") {\r\n                    Context.appVersion[packageJsonPath] = packageJson.version;\r\n                }\r\n            }\r\n            this.tags[this.keys.applicationVersion] = Context.appVersion[packageJsonPath];\r\n        }\r\n        catch (exception) {\r\n            Logging.info(\"Failed to read app version: \", exception);\r\n        }\r\n    };\r\n    Context.prototype._loadDeviceContext = function () {\r\n        var cloudRoleInstance = os && os.hostname();\r\n        var cloudRole = Context.DefaultRoleName;\r\n        // Try to get more accurate roleName and instance when running in Azure\r\n        if (process.env.WEBSITE_SITE_NAME) { // Azure Web apps and Functions\r\n            cloudRole = process.env.WEBSITE_SITE_NAME;\r\n        }\r\n        if (process.env.WEBSITE_INSTANCE_ID) {\r\n            cloudRoleInstance = process.env.WEBSITE_INSTANCE_ID;\r\n        }\r\n        this.tags[this.keys.deviceId] = \"\";\r\n        this.tags[this.keys.cloudRoleInstance] = cloudRoleInstance;\r\n        this.tags[this.keys.deviceOSVersion] = os && (os.type() + \" \" + os.release());\r\n        this.tags[this.keys.cloudRole] = cloudRole;\r\n        // not yet supported tags\r\n        this.tags[\"ai.device.osArchitecture\"] = os && os.arch();\r\n        this.tags[\"ai.device.osPlatform\"] = os && os.platform();\r\n    };\r\n    Context.prototype._loadInternalContext = function () {\r\n        Context.sdkVersion = Constants_1.APPLICATION_INSIGHTS_SDK_VERSION;\r\n        this.tags[this.keys.internalSdkVersion] = \"\" + PrefixHelpers.getResourceProvider() + PrefixHelpers.getOsPrefix() + Constants.AttachTypePrefix.MANUAL + \"_node:\" + Context.sdkVersion;\r\n    };\r\n    Context.DefaultRoleName = \"Web\";\r\n    Context.appVersion = {};\r\n    Context.sdkVersion = null;\r\n    return Context;\r\n}());\r\nmodule.exports = Context;\r\n//# sourceMappingURL=Context.js.map","\"use strict\";\r\nvar Util = require(\"./Util\");\r\nvar CorrelationIdManager = /** @class */ (function () {\r\n    function CorrelationIdManager() {\r\n    }\r\n    CorrelationIdManager.queryCorrelationId = function (config, callback) {\r\n        // No Op, App ID Exchange not required in SDK anymore\r\n    };\r\n    CorrelationIdManager.cancelCorrelationIdQuery = function (config, callback) {\r\n        // No Op, App ID Exchange not required in SDK anymore\r\n    };\r\n    /**\r\n     * Generate a request Id according to https://github.com/lmolkova/correlation/blob/master/hierarchical_request_id.md\r\n     * @param parentId\r\n     */\r\n    CorrelationIdManager.generateRequestId = function (parentId) {\r\n        if (parentId) {\r\n            parentId = parentId[0] == \"|\" ? parentId : \"|\" + parentId;\r\n            if (parentId[parentId.length - 1] !== \".\") {\r\n                parentId += \".\";\r\n            }\r\n            var suffix = (CorrelationIdManager.currentRootId++).toString(16);\r\n            return CorrelationIdManager.appendSuffix(parentId, suffix, \"_\");\r\n        }\r\n        else {\r\n            return CorrelationIdManager.generateRootId();\r\n        }\r\n    };\r\n    /**\r\n     * Given a hierarchical identifier of the form |X.*\r\n     * return the root identifier X\r\n     * @param id\r\n     */\r\n    CorrelationIdManager.getRootId = function (id) {\r\n        var endIndex = id.indexOf(\".\");\r\n        if (endIndex < 0) {\r\n            endIndex = id.length;\r\n        }\r\n        var startIndex = id[0] === \"|\" ? 1 : 0;\r\n        return id.substring(startIndex, endIndex);\r\n    };\r\n    CorrelationIdManager.generateRootId = function () {\r\n        return \"|\" + Util.w3cTraceId() + \".\";\r\n    };\r\n    CorrelationIdManager.appendSuffix = function (parentId, suffix, delimiter) {\r\n        if (parentId.length + suffix.length < CorrelationIdManager.requestIdMaxLength) {\r\n            return parentId + suffix + delimiter;\r\n        }\r\n        // Combined identifier would be too long, so we must truncate it.\r\n        // We need 9 characters of space: 8 for the overflow ID, 1 for the\r\n        // overflow delimiter '#'\r\n        var trimPosition = CorrelationIdManager.requestIdMaxLength - 9;\r\n        if (parentId.length > trimPosition) {\r\n            for (; trimPosition > 1; --trimPosition) {\r\n                var c = parentId[trimPosition - 1];\r\n                if (c === \".\" || c === \"_\") {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (trimPosition <= 1) {\r\n            // parentId is not a valid ID\r\n            return CorrelationIdManager.generateRootId();\r\n        }\r\n        suffix = Util.randomu32().toString(16);\r\n        while (suffix.length < 8) {\r\n            suffix = \"0\" + suffix;\r\n        }\r\n        return parentId.substring(0, trimPosition) + suffix + \"#\";\r\n    };\r\n    CorrelationIdManager.correlationIdPrefix = \"cid-v1:\";\r\n    CorrelationIdManager.w3cEnabled = true;\r\n    CorrelationIdManager.HTTP_TIMEOUT = 2500; // 2.5 seconds\r\n    CorrelationIdManager.requestIdMaxLength = 1024;\r\n    CorrelationIdManager.currentRootId = Util.randomu32();\r\n    return CorrelationIdManager;\r\n}());\r\nmodule.exports = CorrelationIdManager;\r\n//# sourceMappingURL=CorrelationIdManager.js.map","\"use strict\";\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Util = require(\"./Util\");\r\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\r\nvar Logging = require(\"./Logging\");\r\n/**\r\n * Manages the logic of creating envelopes from Telemetry objects\r\n */\r\nvar EnvelopeFactory = /** @class */ (function () {\r\n    function EnvelopeFactory() {\r\n    }\r\n    /**\r\n     * Creates envelope ready to be sent by Channel\r\n     * @param telemetry Telemetry data\r\n     * @param telemetryType Type of telemetry\r\n     * @param commonProperties Bag of custom common properties to be added to the envelope\r\n     * @param context Client context\r\n     * @param config Client configuration\r\n     */\r\n    EnvelopeFactory.createEnvelope = function (telemetry, telemetryType, commonProperties, context, config) {\r\n        var data = null;\r\n        switch (telemetryType) {\r\n            case Contracts.TelemetryType.Trace:\r\n                data = EnvelopeFactory.createTraceData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Dependency:\r\n                data = EnvelopeFactory.createDependencyData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Event:\r\n                data = EnvelopeFactory.createEventData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Exception:\r\n                data = EnvelopeFactory.createExceptionData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Request:\r\n                data = EnvelopeFactory.createRequestData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Metric:\r\n                data = EnvelopeFactory.createMetricData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Availability:\r\n                data = EnvelopeFactory.createAvailabilityData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.PageView:\r\n                data = EnvelopeFactory.createPageViewData(telemetry);\r\n                break;\r\n        }\r\n        if (data && data.baseData) {\r\n            if (Contracts.domainSupportsProperties(data.baseData)) { // Do instanceof check. TS will automatically cast and allow the properties property\r\n                if (commonProperties) {\r\n                    // if no properties are specified just add the common ones\r\n                    if (!data.baseData.properties) {\r\n                        data.baseData.properties = commonProperties;\r\n                    }\r\n                    else {\r\n                        // otherwise, check each of the common ones\r\n                        for (var name in commonProperties) {\r\n                            // only override if the property `name` has not been set on this item\r\n                            if (!data.baseData.properties[name]) {\r\n                                data.baseData.properties[name] = commonProperties[name];\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                EnvelopeFactory.addAzureFunctionsCorrelationProperties(data.baseData.properties);\r\n                if (data.baseData.properties) {\r\n                    // sanitize properties\r\n                    data.baseData.properties = Util.validateStringMap(data.baseData.properties);\r\n                }\r\n            }\r\n        }\r\n        var iKey = config ? config.instrumentationKey || \"\" : \"\";\r\n        var envelope = new Contracts.Envelope();\r\n        envelope.data = data;\r\n        envelope.iKey = iKey;\r\n        // this is kind of a hack, but the envelope name is always the same as the data name sans the chars \"data\"\r\n        envelope.name =\r\n            \"Microsoft.ApplicationInsights.\" +\r\n                iKey.replace(/-/g, \"\") +\r\n                \".\" +\r\n                data.baseType.substr(0, data.baseType.length - 4);\r\n        envelope.tags = this.getTags(context, telemetry.tagOverrides);\r\n        envelope.time = (new Date()).toISOString();\r\n        envelope.ver = 1;\r\n        envelope.sampleRate = config ? config.samplingPercentage : 100;\r\n        // Exclude metrics from sampling by default\r\n        if (telemetryType === Contracts.TelemetryType.Metric) {\r\n            envelope.sampleRate = 100;\r\n        }\r\n        return envelope;\r\n    };\r\n    EnvelopeFactory.addAzureFunctionsCorrelationProperties = function (properties) {\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        if (correlationContext && correlationContext.customProperties && correlationContext.customProperties[\"getProperty\"] instanceof Function) {\r\n            properties = properties || {}; // Initialize properties if not present\r\n            var property = correlationContext.customProperties.getProperty(\"InvocationId\");\r\n            if (property) {\r\n                properties[\"InvocationId\"] = property;\r\n            }\r\n            property = correlationContext.customProperties.getProperty(\"ProcessId\");\r\n            if (property) {\r\n                properties[\"ProcessId\"] = property;\r\n            }\r\n            property = correlationContext.customProperties.getProperty(\"LogLevel\");\r\n            if (property) {\r\n                properties[\"LogLevel\"] = property;\r\n            }\r\n            property = correlationContext.customProperties.getProperty(\"Category\");\r\n            if (property) {\r\n                properties[\"Category\"] = property;\r\n            }\r\n            property = correlationContext.customProperties.getProperty(\"HostInstanceId\");\r\n            if (property) {\r\n                properties[\"HostInstanceId\"] = property;\r\n            }\r\n            property = correlationContext.customProperties.getProperty(\"AzFuncLiveLogsSessionId\");\r\n            if (property) {\r\n                properties[\"AzFuncLiveLogsSessionId\"] = property;\r\n            }\r\n        }\r\n    };\r\n    EnvelopeFactory.truncateProperties = function (telemetry) {\r\n        if (telemetry.properties) {\r\n            try {\r\n                var properties = {};\r\n                var propertiesKeys = Object.keys(telemetry.properties);\r\n                var propertiesValues = Object.values(telemetry.properties);\r\n                for (var i = 0; i < propertiesKeys.length; i++) {\r\n                    if (propertiesKeys[i].length <= 150) {\r\n                        if (!Util.isDate(propertiesValues[i])) {\r\n                            if (propertiesValues[i] == null) {\r\n                                propertiesValues[i] = \"\";\r\n                            }\r\n                            if (typeof (propertiesValues[i]) === \"object\") {\r\n                                propertiesValues[i] = Util.stringify(propertiesValues[i]);\r\n                            }\r\n                            properties[propertiesKeys[i]] = String(propertiesValues[i]).substring(0, 8192);\r\n                        }\r\n                        properties[propertiesKeys[i]] = propertiesValues[i];\r\n                    }\r\n                }\r\n                return properties;\r\n            }\r\n            catch (error) {\r\n                Logging.warn(\"Failed to properly truncate telemetry properties: \", error);\r\n            }\r\n        }\r\n    };\r\n    EnvelopeFactory.createTraceData = function (telemetry) {\r\n        var _a;\r\n        var trace = new Contracts.MessageData();\r\n        trace.message = (_a = telemetry.message) === null || _a === void 0 ? void 0 : _a.substring(0, 32768);\r\n        trace.properties = this.truncateProperties(telemetry);\r\n        if (!isNaN(telemetry.severity)) {\r\n            trace.severityLevel = telemetry.severity;\r\n        }\r\n        else {\r\n            trace.severityLevel = Contracts.SeverityLevel.Information;\r\n        }\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Trace);\r\n        data.baseData = trace;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createDependencyData = function (telemetry) {\r\n        var _a, _b, _c;\r\n        var remoteDependency = new Contracts.RemoteDependencyData();\r\n        remoteDependency.name = (_a = telemetry.name) === null || _a === void 0 ? void 0 : _a.substring(0, 1024);\r\n        remoteDependency.data = (_b = telemetry.data) === null || _b === void 0 ? void 0 : _b.substring(0, 8192);\r\n        remoteDependency.target = (_c = telemetry.target) === null || _c === void 0 ? void 0 : _c.substring(0, 1024);\r\n        remoteDependency.duration = Util.msToTimeSpan(telemetry.duration);\r\n        remoteDependency.success = telemetry.success;\r\n        remoteDependency.type = telemetry.dependencyTypeName;\r\n        remoteDependency.properties = this.truncateProperties(telemetry);\r\n        remoteDependency.resultCode = (telemetry.resultCode ? telemetry.resultCode.toString() : \"0\");\r\n        if (telemetry.id) {\r\n            remoteDependency.id = telemetry.id;\r\n        }\r\n        else {\r\n            remoteDependency.id = Util.w3cTraceId();\r\n        }\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Dependency);\r\n        data.baseData = remoteDependency;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createEventData = function (telemetry) {\r\n        var _a;\r\n        var event = new Contracts.EventData();\r\n        event.name = (_a = telemetry.name) === null || _a === void 0 ? void 0 : _a.substring(0, 512);\r\n        event.properties = this.truncateProperties(telemetry);\r\n        event.measurements = telemetry.measurements;\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Event);\r\n        data.baseData = event;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createExceptionData = function (telemetry) {\r\n        var _a, _b;\r\n        var exception = new Contracts.ExceptionData();\r\n        exception.properties = this.truncateProperties(telemetry);\r\n        if (!isNaN(telemetry.severity)) {\r\n            exception.severityLevel = telemetry.severity;\r\n        }\r\n        else {\r\n            exception.severityLevel = Contracts.SeverityLevel.Error;\r\n        }\r\n        exception.measurements = telemetry.measurements;\r\n        exception.exceptions = [];\r\n        var stack = telemetry.exception[\"stack\"];\r\n        var exceptionDetails = new Contracts.ExceptionDetails();\r\n        exceptionDetails.message = (_a = telemetry.exception.message) === null || _a === void 0 ? void 0 : _a.substring(0, 32768);\r\n        exceptionDetails.typeName = (_b = telemetry.exception.name) === null || _b === void 0 ? void 0 : _b.substring(0, 1024);\r\n        exceptionDetails.parsedStack = this.parseStack(stack);\r\n        exceptionDetails.hasFullStack = Util.isArray(exceptionDetails.parsedStack) && exceptionDetails.parsedStack.length > 0;\r\n        exception.exceptions.push(exceptionDetails);\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Exception);\r\n        data.baseData = exception;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createRequestData = function (telemetry) {\r\n        var _a, _b, _c, _d;\r\n        var requestData = new Contracts.RequestData();\r\n        if (telemetry.id) {\r\n            requestData.id = telemetry.id;\r\n        }\r\n        else {\r\n            requestData.id = Util.w3cTraceId();\r\n        }\r\n        requestData.name = (_a = telemetry.name) === null || _a === void 0 ? void 0 : _a.substring(0, 1024);\r\n        requestData.url = (_b = telemetry.url) === null || _b === void 0 ? void 0 : _b.substring(0, 2048);\r\n        requestData.source = (_c = telemetry.source) === null || _c === void 0 ? void 0 : _c.substring(0, 1024);\r\n        requestData.duration = Util.msToTimeSpan(telemetry.duration);\r\n        requestData.responseCode = (_d = (telemetry.resultCode ? telemetry.resultCode.toString() : \"0\")) === null || _d === void 0 ? void 0 : _d.substring(0, 1024);\r\n        requestData.success = telemetry.success;\r\n        requestData.properties = this.truncateProperties(telemetry);\r\n        requestData.measurements = telemetry.measurements;\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Request);\r\n        data.baseData = requestData;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createMetricData = function (telemetry) {\r\n        var _a;\r\n        var metrics = new Contracts.MetricData(); // todo: enable client-batching of these\r\n        metrics.metrics = [];\r\n        var metric = new Contracts.DataPoint();\r\n        metric.count = !isNaN(telemetry.count) ? telemetry.count : 1;\r\n        metric.kind = Contracts.DataPointType.Aggregation;\r\n        metric.max = !isNaN(telemetry.max) ? telemetry.max : telemetry.value;\r\n        metric.min = !isNaN(telemetry.min) ? telemetry.min : telemetry.value;\r\n        metric.name = (_a = telemetry.name) === null || _a === void 0 ? void 0 : _a.substring(0, 1024);\r\n        metric.stdDev = !isNaN(telemetry.stdDev) ? telemetry.stdDev : 0;\r\n        metric.value = telemetry.value;\r\n        metric.ns = telemetry.namespace;\r\n        metrics.metrics.push(metric);\r\n        metrics.properties = this.truncateProperties(telemetry);\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Metric);\r\n        data.baseData = metrics;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createAvailabilityData = function (telemetry) {\r\n        var _a, _b;\r\n        var availabilityData = new Contracts.AvailabilityData();\r\n        if (telemetry.id) {\r\n            availabilityData.id = telemetry.id;\r\n        }\r\n        else {\r\n            availabilityData.id = Util.w3cTraceId();\r\n        }\r\n        availabilityData.name = (_a = telemetry.name) === null || _a === void 0 ? void 0 : _a.substring(0, 1024);\r\n        availabilityData.duration = Util.msToTimeSpan(telemetry.duration);\r\n        availabilityData.success = telemetry.success;\r\n        availabilityData.runLocation = telemetry.runLocation;\r\n        availabilityData.message = (_b = telemetry.message) === null || _b === void 0 ? void 0 : _b.substring(0, 8192);\r\n        availabilityData.measurements = telemetry.measurements;\r\n        availabilityData.properties = this.truncateProperties(telemetry);\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Availability);\r\n        data.baseData = availabilityData;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createPageViewData = function (telemetry) {\r\n        var _a, _b;\r\n        var pageViewData = new Contracts.PageViewData();\r\n        pageViewData.name = (_a = telemetry.name) === null || _a === void 0 ? void 0 : _a.substring(0, 1024);\r\n        pageViewData.duration = Util.msToTimeSpan(telemetry.duration);\r\n        pageViewData.url = (_b = telemetry.url) === null || _b === void 0 ? void 0 : _b.substring(0, 2048);\r\n        pageViewData.measurements = telemetry.measurements;\r\n        pageViewData.properties = this.truncateProperties(telemetry);\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.PageView);\r\n        data.baseData = pageViewData;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.getTags = function (context, tagOverrides) {\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        // Make a copy of context tags so we don't alter the actual object\r\n        // Also perform tag overriding\r\n        var newTags = {};\r\n        if (context && context.tags) {\r\n            for (var key in context.tags) {\r\n                newTags[key] = context.tags[key];\r\n            }\r\n        }\r\n        if (tagOverrides) {\r\n            for (var key in tagOverrides) {\r\n                newTags[key] = tagOverrides[key];\r\n            }\r\n        }\r\n        // Fill in internally-populated values if not already set\r\n        if (correlationContext) {\r\n            newTags[context.keys.operationId] = newTags[context.keys.operationId] || correlationContext.operation.id;\r\n            newTags[context.keys.operationName] = newTags[context.keys.operationName] || correlationContext.operation.name;\r\n            newTags[context.keys.operationParentId] = newTags[context.keys.operationParentId] || correlationContext.operation.parentId;\r\n        }\r\n        return newTags;\r\n    };\r\n    EnvelopeFactory.parseStack = function (stack) {\r\n        var parsedStack = undefined;\r\n        if (typeof stack === \"string\") {\r\n            var frames = stack.split(\"\\n\");\r\n            parsedStack = [];\r\n            var level = 0;\r\n            var totalSizeInBytes = 0;\r\n            for (var i = 0; i <= frames.length; i++) {\r\n                var frame = frames[i];\r\n                if (_StackFrame.regex.test(frame)) {\r\n                    var parsedFrame = new _StackFrame(frames[i], level++);\r\n                    totalSizeInBytes += parsedFrame.sizeInBytes;\r\n                    parsedStack.push(parsedFrame);\r\n                }\r\n            }\r\n            // DP Constraint - exception parsed stack must be < 32KB\r\n            // remove frames from the middle to meet the threshold\r\n            var exceptionParsedStackThreshold = 32 * 1024;\r\n            if (totalSizeInBytes > exceptionParsedStackThreshold) {\r\n                var left = 0;\r\n                var right = parsedStack.length - 1;\r\n                var size = 0;\r\n                var acceptedLeft = left;\r\n                var acceptedRight = right;\r\n                while (left < right) {\r\n                    // check size\r\n                    var lSize = parsedStack[left].sizeInBytes;\r\n                    var rSize = parsedStack[right].sizeInBytes;\r\n                    size += lSize + rSize;\r\n                    if (size > exceptionParsedStackThreshold) {\r\n                        // remove extra frames from the middle\r\n                        var howMany = acceptedRight - acceptedLeft + 1;\r\n                        parsedStack.splice(acceptedLeft, howMany);\r\n                        break;\r\n                    }\r\n                    // update pointers\r\n                    acceptedLeft = left;\r\n                    acceptedRight = right;\r\n                    left++;\r\n                    right--;\r\n                }\r\n            }\r\n        }\r\n        return parsedStack;\r\n    };\r\n    return EnvelopeFactory;\r\n}());\r\nvar _StackFrame = /** @class */ (function () {\r\n    function _StackFrame(frame, level) {\r\n        this.sizeInBytes = 0;\r\n        this.level = level;\r\n        this.method = \"<no_method>\";\r\n        this.assembly = Util.trim(frame);\r\n        var matches = frame.match(_StackFrame.regex);\r\n        if (matches && matches.length >= 5) {\r\n            this.method = Util.trim(matches[2]) || this.method;\r\n            this.fileName = Util.trim(matches[4]) || \"<no_filename>\";\r\n            this.line = parseInt(matches[5]) || 0;\r\n        }\r\n        this.sizeInBytes += this.method.length;\r\n        this.sizeInBytes += this.fileName.length;\r\n        this.sizeInBytes += this.assembly.length;\r\n        // todo: these might need to be removed depending on how the back-end settles on their size calculation\r\n        this.sizeInBytes += _StackFrame.baseSize;\r\n        this.sizeInBytes += this.level.toString().length;\r\n        this.sizeInBytes += this.line.toString().length;\r\n    }\r\n    // regex to match stack frames from ie/chrome/ff\r\n    // methodName=$2, fileName=$4, lineNo=$5, column=$6\r\n    _StackFrame.regex = /^(\\s+at)?(.*?)(\\@|\\s\\(|\\s)([^\\(\\n]+):(\\d+):(\\d+)(\\)?)$/;\r\n    _StackFrame.baseSize = 58; //'{\"method\":\"\",\"level\":,\"assembly\":\"\",\"fileName\":\"\",\"line\":}'.length\r\n    return _StackFrame;\r\n}());\r\nmodule.exports = EnvelopeFactory;\r\n//# sourceMappingURL=EnvelopeFactory.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.FileAccessControl = void 0;\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar child_process = require(\"child_process\");\r\nvar Logging = require(\"./Logging\");\r\nvar FileAccessControl = /** @class */ (function () {\r\n    function FileAccessControl() {\r\n    }\r\n    // Check if file access control could be enabled\r\n    FileAccessControl.checkFileProtection = function () {\r\n        if (!FileAccessControl.OS_PROVIDES_FILE_PROTECTION && !FileAccessControl.OS_FILE_PROTECTION_CHECKED) {\r\n            FileAccessControl.OS_FILE_PROTECTION_CHECKED = true;\r\n            // Node's chmod levels do not appropriately restrict file access on Windows\r\n            // Use the built-in command line tool ICACLS on Windows to properly restrict\r\n            // access to the temporary directory used for disk retry mode.\r\n            if (FileAccessControl.USE_ICACLS) {\r\n                // This should be async - but it's currently safer to have this synchronous\r\n                // This guarantees we can immediately fail setDiskRetryMode if we need to\r\n                try {\r\n                    FileAccessControl.OS_PROVIDES_FILE_PROTECTION = fs.existsSync(FileAccessControl.ICACLS_PATH);\r\n                }\r\n                catch (e) {\r\n                    // Ignore errors\r\n                }\r\n                if (!FileAccessControl.OS_PROVIDES_FILE_PROTECTION) {\r\n                    Logging.warn(FileAccessControl.TAG, \"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.\");\r\n                }\r\n            }\r\n            else {\r\n                // chmod works everywhere else\r\n                FileAccessControl.OS_PROVIDES_FILE_PROTECTION = true;\r\n            }\r\n        }\r\n    };\r\n    FileAccessControl.applyACLRules = function (directory) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var identity, ex_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!FileAccessControl.USE_ICACLS) return [3 /*break*/, 7];\r\n                        if (!(FileAccessControl.ACLED_DIRECTORIES[directory] === undefined)) return [3 /*break*/, 6];\r\n                        // Avoid multiple calls race condition by setting ACLED_DIRECTORIES to false for this directory immediately\r\n                        // If batches are being failed faster than the processes spawned below return, some data won't be stored to disk\r\n                        // This is better than the alternative of potentially infinitely spawned processes\r\n                        FileAccessControl.ACLED_DIRECTORIES[directory] = false;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 4, , 5]);\r\n                        return [4 /*yield*/, this._getACLIdentity()];\r\n                    case 2:\r\n                        identity = _a.sent();\r\n                        return [4 /*yield*/, this._runICACLS(this._getACLArguments(directory, identity))];\r\n                    case 3:\r\n                        _a.sent();\r\n                        FileAccessControl.ACLED_DIRECTORIES[directory] = true;\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        ex_1 = _a.sent();\r\n                        FileAccessControl.ACLED_DIRECTORIES[directory] = false; // false is used to cache failed (vs undefined which is \"not yet tried\")\r\n                        throw ex_1;\r\n                    case 5: return [3 /*break*/, 7];\r\n                    case 6:\r\n                        if (!FileAccessControl.ACLED_DIRECTORIES[directory]) {\r\n                            throw new Error(\"Setting ACL restrictions did not succeed (cached result)\");\r\n                        }\r\n                        _a.label = 7;\r\n                    case 7: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    FileAccessControl.applyACLRulesSync = function (directory) {\r\n        if (FileAccessControl.USE_ICACLS) {\r\n            // For performance, only run ACL rules if we haven't already during this session\r\n            if (FileAccessControl.ACLED_DIRECTORIES[directory] === undefined) {\r\n                this._runICACLSSync(this._getACLArguments(directory, this._getACLIdentitySync()));\r\n                FileAccessControl.ACLED_DIRECTORIES[directory] = true; // If we get here, it succeeded. _runIACLSSync will throw on failures\r\n                return;\r\n            }\r\n            else if (!FileAccessControl.ACLED_DIRECTORIES[directory]) { // falsy but not undefined\r\n                throw new Error(\"Setting ACL restrictions did not succeed (cached result)\");\r\n            }\r\n        }\r\n    };\r\n    FileAccessControl._runICACLS = function (args) {\r\n        return new Promise(function (resolve, reject) {\r\n            var aclProc = child_process.spawn(FileAccessControl.ICACLS_PATH, args, { windowsHide: true });\r\n            aclProc.on(\"error\", function (e) { return reject(e); });\r\n            aclProc.on(\"close\", function (code, signal) {\r\n                if (code === 0) {\r\n                    resolve();\r\n                }\r\n                else {\r\n                    reject(new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + code + \")\"));\r\n                }\r\n            });\r\n        });\r\n    };\r\n    FileAccessControl._runICACLSSync = function (args) {\r\n        // Some very old versions of Node (< 0.11) don't have this\r\n        if (child_process.spawnSync) {\r\n            var aclProc = child_process.spawnSync(FileAccessControl.ICACLS_PATH, args, { windowsHide: true });\r\n            if (aclProc.error) {\r\n                throw aclProc.error;\r\n            }\r\n            else if (aclProc.status !== 0) {\r\n                throw new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + aclProc.status + \")\");\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(\"Could not synchronously call ICACLS under current version of Node.js\");\r\n        }\r\n    };\r\n    FileAccessControl._getACLIdentity = function () {\r\n        return new Promise(function (resolve, reject) {\r\n            if (FileAccessControl.ACL_IDENTITY) {\r\n                resolve(FileAccessControl.ACL_IDENTITY);\r\n            }\r\n            var psProc = child_process.spawn(FileAccessControl.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\r\n                windowsHide: true,\r\n                stdio: [\"ignore\", \"pipe\", \"pipe\"] // Needed to prevent hanging on Win 7\r\n            });\r\n            var data = \"\";\r\n            psProc.stdout.on(\"data\", function (d) { return data += d; });\r\n            psProc.on(\"error\", function (e) { return reject(e); });\r\n            psProc.on(\"close\", function (code, signal) {\r\n                FileAccessControl.ACL_IDENTITY = data && data.trim();\r\n                if (code === 0) {\r\n                    resolve(FileAccessControl.ACL_IDENTITY);\r\n                }\r\n                else {\r\n                    reject(new Error(\"Getting ACL identity did not succeed (PS returned code \" + code + \")\"));\r\n                }\r\n            });\r\n        });\r\n    };\r\n    FileAccessControl._getACLIdentitySync = function () {\r\n        if (FileAccessControl.ACL_IDENTITY) {\r\n            return FileAccessControl.ACL_IDENTITY;\r\n        }\r\n        // Some very old versions of Node (< 0.11) don't have this\r\n        if (child_process.spawnSync) {\r\n            var psProc = child_process.spawnSync(FileAccessControl.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\r\n                windowsHide: true,\r\n                stdio: [\"ignore\", \"pipe\", \"pipe\"] // Needed to prevent hanging on Win 7\r\n            });\r\n            if (psProc.error) {\r\n                throw psProc.error;\r\n            }\r\n            else if (psProc.status !== 0) {\r\n                throw new Error(\"Getting ACL identity did not succeed (PS returned code \" + psProc.status + \")\");\r\n            }\r\n            FileAccessControl.ACL_IDENTITY = psProc.stdout && psProc.stdout.toString().trim();\r\n            return FileAccessControl.ACL_IDENTITY;\r\n        }\r\n        else {\r\n            throw new Error(\"Could not synchronously get ACL identity under current version of Node.js\");\r\n        }\r\n    };\r\n    FileAccessControl._getACLArguments = function (directory, identity) {\r\n        return [directory,\r\n            \"/grant\", \"*S-1-5-32-544:(OI)(CI)F\",\r\n            \"/grant\", identity + \":(OI)(CI)F\", // Full permission for current user\r\n            \"/inheritance:r\"]; // Remove all inherited permissions\r\n    };\r\n    FileAccessControl.TAG = \"FileAccessControl\";\r\n    FileAccessControl.ICACLS_PATH = process.env.systemdrive + \"/windows/system32/icacls.exe\";\r\n    FileAccessControl.POWERSHELL_PATH = process.env.systemdrive + \"/windows/system32/windowspowershell/v1.0/powershell.exe\";\r\n    FileAccessControl.ACLED_DIRECTORIES = {};\r\n    FileAccessControl.ACL_IDENTITY = null;\r\n    FileAccessControl.OS_FILE_PROTECTION_CHECKED = false;\r\n    FileAccessControl.OS_PROVIDES_FILE_PROTECTION = false;\r\n    FileAccessControl.USE_ICACLS = os.type() === \"Windows_NT\";\r\n    return FileAccessControl;\r\n}());\r\nexports.FileAccessControl = FileAccessControl;\r\n//# sourceMappingURL=FileAccessControl.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getShallowFileSize = exports.getShallowDirectorySizeSync = exports.getShallowDirectorySize = exports.confirmDirExists = exports.unlinkAsync = exports.readdirAsync = exports.readFileAsync = exports.writeFileAsync = exports.appendFileAsync = exports.accessAsync = exports.mkdirAsync = exports.lstatAsync = exports.statAsync = void 0;\r\nvar fs = __importStar(require(\"fs\"));\r\nvar path = require(\"path\");\r\nvar util_1 = require(\"util\");\r\nvar Logging = require(\"./Logging\");\r\nexports.statAsync = util_1.promisify(fs.stat);\r\nexports.lstatAsync = util_1.promisify(fs.lstat);\r\nexports.mkdirAsync = util_1.promisify(fs.mkdir);\r\nexports.accessAsync = util_1.promisify(fs.access);\r\nexports.appendFileAsync = util_1.promisify(fs.appendFile);\r\nexports.writeFileAsync = util_1.promisify(fs.writeFile);\r\nexports.readFileAsync = util_1.promisify(fs.readFile);\r\nexports.readdirAsync = util_1.promisify(fs.readdir);\r\nexports.unlinkAsync = util_1.promisify(fs.unlink);\r\n/**\r\n * Validate directory exists.\r\n */\r\nvar confirmDirExists = function (directory) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var stats, err_1, mkdirErr_1;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                _a.trys.push([0, 2, , 7]);\r\n                return [4 /*yield*/, exports.lstatAsync(directory)];\r\n            case 1:\r\n                stats = _a.sent();\r\n                if (!stats.isDirectory()) {\r\n                    throw new Error(\"Path existed but was not a directory\");\r\n                }\r\n                return [3 /*break*/, 7];\r\n            case 2:\r\n                err_1 = _a.sent();\r\n                if (!(err_1 && err_1.code === \"ENOENT\")) return [3 /*break*/, 6];\r\n                _a.label = 3;\r\n            case 3:\r\n                _a.trys.push([3, 5, , 6]);\r\n                return [4 /*yield*/, exports.mkdirAsync(directory)];\r\n            case 4:\r\n                _a.sent();\r\n                return [3 /*break*/, 6];\r\n            case 5:\r\n                mkdirErr_1 = _a.sent();\r\n                if (mkdirErr_1 && mkdirErr_1.code !== \"EEXIST\") {\r\n                    // Handle race condition by ignoring EEXIST\r\n                    throw mkdirErr_1;\r\n                }\r\n                return [3 /*break*/, 6];\r\n            case 6: return [3 /*break*/, 7];\r\n            case 7: return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nexports.confirmDirExists = confirmDirExists;\r\n/**\r\n * Computes the size (in bytes) of all files in a directory at the root level. Asynchronously.\r\n */\r\nvar getShallowDirectorySize = function (directory) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var totalSize, files, _i, files_1, file, fileStats, _a;\r\n    return __generator(this, function (_b) {\r\n        switch (_b.label) {\r\n            case 0:\r\n                totalSize = 0;\r\n                _b.label = 1;\r\n            case 1:\r\n                _b.trys.push([1, 7, , 8]);\r\n                return [4 /*yield*/, exports.readdirAsync(directory)];\r\n            case 2:\r\n                files = _b.sent();\r\n                _i = 0, files_1 = files;\r\n                _b.label = 3;\r\n            case 3:\r\n                if (!(_i < files_1.length)) return [3 /*break*/, 6];\r\n                file = files_1[_i];\r\n                return [4 /*yield*/, exports.statAsync(path.join(directory, file))];\r\n            case 4:\r\n                fileStats = _b.sent();\r\n                if (fileStats.isFile()) {\r\n                    totalSize += fileStats.size;\r\n                }\r\n                _b.label = 5;\r\n            case 5:\r\n                _i++;\r\n                return [3 /*break*/, 3];\r\n            case 6: return [3 /*break*/, 8];\r\n            case 7:\r\n                _a = _b.sent();\r\n                Logging.warn(\"Failed to get directory size for \" + directory);\r\n                return [3 /*break*/, 8];\r\n            case 8: return [2 /*return*/, totalSize];\r\n        }\r\n    });\r\n}); };\r\nexports.getShallowDirectorySize = getShallowDirectorySize;\r\n/**\r\n* Computes the size (in bytes) of all files in a directory at the root level. Synchronously.\r\n*/\r\nvar getShallowDirectorySizeSync = function (directory) {\r\n    var totalSize = 0;\r\n    try {\r\n        var files = fs.readdirSync(directory);\r\n        for (var i = 0; i < files.length; i++) {\r\n            totalSize += fs.statSync(path.join(directory, files[i])).size;\r\n        }\r\n    }\r\n    catch (_a) {\r\n        Logging.warn(\"Failed to get directory size synchronously for \" + directory);\r\n    }\r\n    return totalSize;\r\n};\r\nexports.getShallowDirectorySizeSync = getShallowDirectorySizeSync;\r\n/**\r\n* Computes the size (in bytes) of a file asynchronously. Returns -1 if the file does not exist.\r\n*/\r\nvar getShallowFileSize = function (filePath) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var fileStats, _a;\r\n    return __generator(this, function (_b) {\r\n        switch (_b.label) {\r\n            case 0:\r\n                _b.trys.push([0, 2, , 3]);\r\n                return [4 /*yield*/, exports.statAsync(filePath)];\r\n            case 1:\r\n                fileStats = _b.sent();\r\n                if (fileStats.isFile()) {\r\n                    return [2 /*return*/, fileStats.size];\r\n                }\r\n                return [3 /*break*/, 3];\r\n            case 2:\r\n                _a = _b.sent();\r\n                Logging.warn(\"Failed to get file size for \" + filePath);\r\n                return [2 /*return*/, -1];\r\n            case 3: return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nexports.getShallowFileSize = getShallowFileSize;\r\n//# sourceMappingURL=FileSystemHelper.js.map","\"use strict\";\r\n// NOTE: These types are the only parts of \"@azure/functions\" referenced/exported from the \"applicationinsights\" package\r\n// This is done so that the \"applicationinsights\" package does not need a direct dependency on \"@azure/functions\"\r\n// These types should be compatible with both functions model v3 and model v4\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=Functions.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar FileSystemHelper = require(\"./FileSystemHelper\");\r\nvar InternalAzureLogger = /** @class */ (function () {\r\n    function InternalAzureLogger() {\r\n        var _this = this;\r\n        this.TAG = \"Logger\";\r\n        this._cleanupTimeOut = 60 * 30 * 1000; // 30 minutes;\r\n        this._tempDir = \"\";\r\n        this._logFileName = \"\";\r\n        this._fileFullPath = \"\";\r\n        this._backUpNameFormat = \"\";\r\n        this._logToFile = false;\r\n        this._logToConsole = true;\r\n        var logDestination = process.env.APPLICATIONINSIGHTS_LOG_DESTINATION; // destination can be one of file, console or file+console\r\n        if (logDestination == \"file+console\") {\r\n            this._logToFile = true;\r\n        }\r\n        if (logDestination == \"file\") {\r\n            this._logToFile = true;\r\n            this._logToConsole = false;\r\n        }\r\n        this.maxSizeBytes = 50000;\r\n        this.maxHistory = 1;\r\n        this._logFileName = \"applicationinsights.log\";\r\n        // If custom path not provided use temp folder, /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\r\n        var logFilePath = process.env.APPLICATIONINSIGHTS_LOGDIR;\r\n        if (!logFilePath) {\r\n            this._tempDir = path.join(os.tmpdir(), \"appInsights-node\");\r\n        }\r\n        else {\r\n            if (path.isAbsolute(logFilePath)) {\r\n                this._tempDir = logFilePath;\r\n            }\r\n            else {\r\n                this._tempDir = path.join(process.cwd(), logFilePath);\r\n            }\r\n        }\r\n        this._fileFullPath = path.join(this._tempDir, this._logFileName);\r\n        this._backUpNameFormat = \".\" + this._logFileName; // {currentime}.applicationinsights.log\r\n        if (this._logToFile) {\r\n            if (!InternalAzureLogger._fileCleanupTimer) {\r\n                InternalAzureLogger._fileCleanupTimer = setInterval(function () { _this._fileCleanupTask(); }, this._cleanupTimeOut);\r\n                InternalAzureLogger._fileCleanupTimer.unref();\r\n            }\r\n        }\r\n    }\r\n    InternalAzureLogger.prototype.info = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        var args = message ? __spreadArrays([message], optionalParams) : optionalParams;\r\n        if (this._logToFile) {\r\n            this._storeToDisk(args);\r\n        }\r\n        if (this._logToConsole) {\r\n            console.info.apply(console, args);\r\n        }\r\n    };\r\n    InternalAzureLogger.prototype.warning = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        var args = message ? __spreadArrays([message], optionalParams) : optionalParams;\r\n        if (this._logToFile) {\r\n            this._storeToDisk(args);\r\n        }\r\n        if (this._logToConsole) {\r\n            console.warn.apply(console, args);\r\n        }\r\n    };\r\n    InternalAzureLogger.getInstance = function () {\r\n        if (!InternalAzureLogger._instance) {\r\n            InternalAzureLogger._instance = new InternalAzureLogger();\r\n        }\r\n        return InternalAzureLogger._instance;\r\n    };\r\n    InternalAzureLogger.prototype._storeToDisk = function (args) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data, err_1, appendError_1, err_2, size, err_3;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        data = args + \"\\r\\n\";\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, FileSystemHelper.confirmDirExists(this._tempDir)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        err_1 = _a.sent();\r\n                        console.log(this.TAG, \"Failed to create directory for log file: \" + (err_1 && err_1.message));\r\n                        return [2 /*return*/];\r\n                    case 4:\r\n                        _a.trys.push([4, 6, , 11]);\r\n                        return [4 /*yield*/, FileSystemHelper.accessAsync(this._fileFullPath, fs.constants.F_OK)];\r\n                    case 5:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 11];\r\n                    case 6:\r\n                        appendError_1 = _a.sent();\r\n                        _a.label = 7;\r\n                    case 7:\r\n                        _a.trys.push([7, 9, , 10]);\r\n                        return [4 /*yield*/, FileSystemHelper.appendFileAsync(this._fileFullPath, data)];\r\n                    case 8:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                    case 9:\r\n                        err_2 = _a.sent();\r\n                        console.log(this.TAG, \"Failed to put log into file: \" + (appendError_1 && appendError_1.message));\r\n                        return [2 /*return*/];\r\n                    case 10: return [3 /*break*/, 11];\r\n                    case 11:\r\n                        _a.trys.push([11, 17, , 18]);\r\n                        return [4 /*yield*/, FileSystemHelper.getShallowFileSize(this._fileFullPath)];\r\n                    case 12:\r\n                        size = _a.sent();\r\n                        if (!(size > this.maxSizeBytes)) return [3 /*break*/, 14];\r\n                        return [4 /*yield*/, this._createBackupFile(data)];\r\n                    case 13:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 16];\r\n                    case 14: return [4 /*yield*/, FileSystemHelper.appendFileAsync(this._fileFullPath, data)];\r\n                    case 15:\r\n                        _a.sent();\r\n                        _a.label = 16;\r\n                    case 16: return [3 /*break*/, 18];\r\n                    case 17:\r\n                        err_3 = _a.sent();\r\n                        console.log(this.TAG, \"Failed to create backup file: \" + (err_3 && err_3.message));\r\n                        return [3 /*break*/, 18];\r\n                    case 18: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    InternalAzureLogger.prototype._createBackupFile = function (data) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var buffer, backupPath, err_4;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 3, 4, 5]);\r\n                        return [4 /*yield*/, FileSystemHelper.readFileAsync(this._fileFullPath)];\r\n                    case 1:\r\n                        buffer = _a.sent();\r\n                        backupPath = path.join(this._tempDir, new Date().getTime() + \".\" + this._logFileName);\r\n                        return [4 /*yield*/, FileSystemHelper.writeFileAsync(backupPath, buffer)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 5];\r\n                    case 3:\r\n                        err_4 = _a.sent();\r\n                        console.log(\"Failed to generate backup log file\", err_4);\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        // Store logs\r\n                        FileSystemHelper.writeFileAsync(this._fileFullPath, data);\r\n                        return [7 /*endfinally*/];\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    InternalAzureLogger.prototype._fileCleanupTask = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var files, totalFiles, i, pathToDelete, err_5;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 6, , 7]);\r\n                        return [4 /*yield*/, FileSystemHelper.readdirAsync(this._tempDir)];\r\n                    case 1:\r\n                        files = _a.sent();\r\n                        // Filter only backup files\r\n                        files = files.filter(function (f) { return path.basename(f).indexOf(_this._backUpNameFormat) > -1; });\r\n                        // Sort by creation date\r\n                        files.sort(function (a, b) {\r\n                            // Check expiration\r\n                            var aCreationDate = new Date(parseInt(a.split(_this._backUpNameFormat)[0]));\r\n                            var bCreationDate = new Date(parseInt(b.split(_this._backUpNameFormat)[0]));\r\n                            if (aCreationDate < bCreationDate) {\r\n                                return -1;\r\n                            }\r\n                            if (aCreationDate >= bCreationDate) {\r\n                                return 1;\r\n                            }\r\n                        });\r\n                        totalFiles = files.length;\r\n                        i = 0;\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        if (!(i < totalFiles - this.maxHistory)) return [3 /*break*/, 5];\r\n                        pathToDelete = path.join(this._tempDir, files[i]);\r\n                        return [4 /*yield*/, FileSystemHelper.unlinkAsync(pathToDelete)];\r\n                    case 3:\r\n                        _a.sent();\r\n                        _a.label = 4;\r\n                    case 4:\r\n                        i++;\r\n                        return [3 /*break*/, 2];\r\n                    case 5: return [3 /*break*/, 7];\r\n                    case 6:\r\n                        err_5 = _a.sent();\r\n                        console.log(this.TAG, \"Failed to cleanup log files: \" + (err_5 && err_5.message));\r\n                        return [3 /*break*/, 7];\r\n                    case 7: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    InternalAzureLogger._fileCleanupTimer = null;\r\n    return InternalAzureLogger;\r\n}());\r\nmodule.exports = InternalAzureLogger;\r\n//# sourceMappingURL=InternalAzureLogger.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.JsonConfig = void 0;\r\nvar fs = require(\"fs\");\r\nvar path = require(\"path\");\r\nvar Logging = require(\"./Logging\");\r\nvar applicationinsights_json_1 = __importDefault(require(\"../applicationinsights.json\"));\r\nvar ENV_CONFIGURATION_FILE = \"APPLICATIONINSIGHTS_CONFIGURATION_FILE\";\r\n// Azure Connection String\r\nvar ENV_connectionString = \"APPLICATIONINSIGHTS_CONNECTION_STRING\";\r\n// Instrumentation Key\r\nvar ENV_azurePrefix = \"APPSETTING_\"; // Azure adds this prefix to all environment variables\r\nvar ENV_instrumentationKey = \"APPINSIGHTS_INSTRUMENTATIONKEY\";\r\nvar ENV_legacyInstrumentationKey = \"APPINSIGHTS_INSTRUMENTATION_KEY\";\r\n// Native Metrics Opt Outs\r\nvar ENV_nativeMetricsDisablers = \"APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC\";\r\nvar ENV_nativeMetricsDisableAll = \"APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS\";\r\nvar ENV_http_proxy = \"http_proxy\";\r\nvar ENV_https_proxy = \"https_proxy\";\r\nvar ENV_noDiagnosticChannel = \"APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL\";\r\nvar ENV_noStatsbeat = \"APPLICATION_INSIGHTS_NO_STATSBEAT\";\r\nvar ENV_noHttpAgentKeepAlive = \"APPLICATION_INSIGHTS_NO_HTTP_AGENT_KEEP_ALIVE\";\r\nvar ENV_noPatchModules = \"APPLICATION_INSIGHTS_NO_PATCH_MODULES\";\r\nvar ENV_webInstrumentationEnable = \"APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_ENABLED\";\r\nvar ENV_webInstrumentation_connectionString = \"APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_CONNECTION_STRING\";\r\nvar ENV_webInstrumentation_source = \"APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_SOURCE\";\r\n// Old web instrumentation env variables are to be deprecated\r\n// Those env variables will NOT be exposed in doc after version 2.3.5\r\nvar ENV_webSnippetEnable = \"APPLICATIONINSIGHTS_WEB_SNIPPET_ENABLED\";\r\nvar ENV_webSnippet_connectionString = \"APPLICATIONINSIGHTS_WEB_SNIPPET_CONNECTION_STRING\";\r\nvar JsonConfig = /** @class */ (function () {\r\n    function JsonConfig() {\r\n        // Load env variables first\r\n        this.connectionString = process.env[ENV_connectionString];\r\n        this.instrumentationKey = process.env[ENV_instrumentationKey]\r\n            || process.env[ENV_azurePrefix + ENV_instrumentationKey]\r\n            || process.env[ENV_legacyInstrumentationKey]\r\n            || process.env[ENV_azurePrefix + ENV_legacyInstrumentationKey];\r\n        if (!this.connectionString && this.instrumentationKey) {\r\n            Logging.warn(\"APPINSIGHTS_INSTRUMENTATIONKEY is in path of deprecation, please use APPLICATIONINSIGHTS_CONNECTION_STRING env variable to setup the SDK.\");\r\n        }\r\n        this.disableAllExtendedMetrics = !!process.env[ENV_nativeMetricsDisableAll];\r\n        this.extendedMetricDisablers = process.env[ENV_nativeMetricsDisablers];\r\n        this.proxyHttpUrl = process.env[ENV_http_proxy];\r\n        this.proxyHttpsUrl = process.env[ENV_https_proxy];\r\n        this.noDiagnosticChannel = !!process.env[ENV_noDiagnosticChannel];\r\n        this.disableStatsbeat = !!process.env[ENV_noStatsbeat];\r\n        this.noHttpAgentKeepAlive = !!process.env[ENV_noHttpAgentKeepAlive];\r\n        this.noPatchModules = process.env[ENV_noPatchModules] || \"\";\r\n        this.enableWebInstrumentation = !!process.env[ENV_webInstrumentationEnable] || !!process.env[ENV_webSnippetEnable];\r\n        this.webInstrumentationSrc = process.env[ENV_webInstrumentation_source] || \"\";\r\n        this.webInstrumentationConnectionString = process.env[ENV_webInstrumentation_connectionString] || process.env[ENV_webSnippet_connectionString] || \"\";\r\n        this.enableAutoWebSnippetInjection = this.enableWebInstrumentation;\r\n        this.webSnippetConnectionString = this.webInstrumentationConnectionString;\r\n        this._loadJsonFile();\r\n    }\r\n    JsonConfig.getInstance = function () {\r\n        if (!JsonConfig._instance) {\r\n            JsonConfig._instance = new JsonConfig();\r\n        }\r\n        return JsonConfig._instance;\r\n    };\r\n    JsonConfig.prototype._loadJsonFile = function () {\r\n        var jsonString = \"\";\r\n        var contentJsonConfig = process.env[\"APPLICATIONINSIGHTS_CONFIGURATION_CONTENT\"];\r\n        // JSON string added directly in env variable\r\n        if (contentJsonConfig) {\r\n            jsonString = contentJsonConfig;\r\n        }\r\n        // JSON file\r\n        else {\r\n            var configFileName = \"applicationinsights.json\";\r\n            var rootPath = path.join(__dirname, \"../../\"); // Root of applicationinsights folder (__dirname = ../out/Library)\r\n            this._tempDir = path.join(rootPath, configFileName); // default\r\n            var configFile = process.env[ENV_CONFIGURATION_FILE];\r\n            if (configFile) {\r\n                if (path.isAbsolute(configFile)) {\r\n                    this._tempDir = configFile;\r\n                }\r\n                else {\r\n                    this._tempDir = path.join(rootPath, configFile); // Relative path to applicationinsights folder\r\n                }\r\n                try {\r\n                    jsonString = fs.readFileSync(this._tempDir, \"utf8\");\r\n                }\r\n                catch (err) {\r\n                    Logging.warn(\"Failed to read JSON config file: \", err);\r\n                }\r\n            }\r\n            else {\r\n                jsonString = JSON.stringify(applicationinsights_json_1.default);\r\n            }\r\n        }\r\n        try {\r\n            var jsonConfig = JSON.parse(jsonString);\r\n            if (jsonConfig.disableStatsbeat != undefined) {\r\n                this.disableStatsbeat = jsonConfig.disableStatsbeat;\r\n            }\r\n            if (jsonConfig.disableAllExtendedMetrics != undefined) {\r\n                this.disableAllExtendedMetrics = jsonConfig.disableStatsbeat;\r\n            }\r\n            if (jsonConfig.noDiagnosticChannel != undefined) {\r\n                this.noDiagnosticChannel = jsonConfig.noDiagnosticChannel;\r\n            }\r\n            if (jsonConfig.noHttpAgentKeepAlive != undefined) {\r\n                this.noHttpAgentKeepAlive = jsonConfig.noHttpAgentKeepAlive;\r\n            }\r\n            if (jsonConfig.connectionString != undefined) {\r\n                this.connectionString = jsonConfig.connectionString;\r\n            }\r\n            if (jsonConfig.extendedMetricDisablers != undefined) {\r\n                this.extendedMetricDisablers = jsonConfig.extendedMetricDisablers;\r\n            }\r\n            if (jsonConfig.noDiagnosticChannel != undefined) {\r\n                this.noDiagnosticChannel = jsonConfig.noDiagnosticChannel;\r\n            }\r\n            if (jsonConfig.proxyHttpUrl != undefined) {\r\n                this.proxyHttpUrl = jsonConfig.proxyHttpUrl;\r\n            }\r\n            if (jsonConfig.proxyHttpsUrl != undefined) {\r\n                this.proxyHttpsUrl = jsonConfig.proxyHttpsUrl;\r\n            }\r\n            if (jsonConfig.proxyHttpsUrl != undefined) {\r\n                this.proxyHttpsUrl = jsonConfig.proxyHttpsUrl;\r\n            }\r\n            if (jsonConfig.noPatchModules != undefined) {\r\n                this.noPatchModules = jsonConfig.noPatchModules;\r\n            }\r\n            if (jsonConfig.enableAutoWebSnippetInjection != undefined) {\r\n                this.enableWebInstrumentation = jsonConfig.enableAutoWebSnippetInjection;\r\n                this.enableAutoWebSnippetInjection = this.enableWebInstrumentation;\r\n            }\r\n            if (jsonConfig.enableWebInstrumentation != undefined) {\r\n                this.enableWebInstrumentation = jsonConfig.enableWebInstrumentation;\r\n                this.enableAutoWebSnippetInjection = this.enableWebInstrumentation;\r\n            }\r\n            if (jsonConfig.webSnippetConnectionString != undefined) {\r\n                this.webInstrumentationConnectionString = jsonConfig.webSnippetConnectionString;\r\n                this.webSnippetConnectionString = this.webInstrumentationConnectionString;\r\n            }\r\n            if (jsonConfig.webInstrumentationConnectionString != undefined) {\r\n                this.webInstrumentationConnectionString = jsonConfig.webInstrumentationConnectionString;\r\n                this.webSnippetConnectionString = this.webInstrumentationConnectionString;\r\n            }\r\n            if (jsonConfig.webInstrumentationConfig != undefined) {\r\n                this.webInstrumentationConfig = jsonConfig.webInstrumentationConfig;\r\n            }\r\n            if (jsonConfig.webInstrumentationSrc != undefined) {\r\n                this.webInstrumentationSrc = jsonConfig.webInstrumentationSrc;\r\n            }\r\n            if (jsonConfig.enableLoggerErrorToTrace != undefined) {\r\n                this.enableLoggerErrorToTrace = jsonConfig.enableLoggerErrorToTrace;\r\n            }\r\n            this.endpointUrl = jsonConfig.endpointUrl;\r\n            this.maxBatchSize = jsonConfig.maxBatchSize;\r\n            this.maxBatchIntervalMs = jsonConfig.maxBatchIntervalMs;\r\n            this.disableAppInsights = jsonConfig.disableAppInsights;\r\n            this.samplingPercentage = jsonConfig.samplingPercentage;\r\n            this.correlationIdRetryIntervalMs = jsonConfig.correlationIdRetryIntervalMs;\r\n            this.correlationHeaderExcludedDomains = jsonConfig.correlationHeaderExcludedDomains;\r\n            this.ignoreLegacyHeaders = jsonConfig.ignoreLegacyHeaders;\r\n            this.distributedTracingMode = jsonConfig.distributedTracingMode;\r\n            this.enableAutoCollectExternalLoggers = jsonConfig.enableAutoCollectExternalLoggers;\r\n            this.enableAutoCollectConsole = jsonConfig.enableAutoCollectConsole;\r\n            this.enableLoggerErrorToTrace = jsonConfig.enableLoggerErrorToTrace;\r\n            this.enableAutoCollectExceptions = jsonConfig.enableAutoCollectExceptions;\r\n            this.enableAutoCollectPerformance = jsonConfig.enableAutoCollectPerformance;\r\n            this.enableAutoCollectExtendedMetrics = jsonConfig.enableAutoCollectExtendedMetrics;\r\n            this.enableAutoCollectPreAggregatedMetrics = jsonConfig.enableAutoCollectPreAggregatedMetrics;\r\n            this.enableAutoCollectHeartbeat = jsonConfig.enableAutoCollectHeartbeat;\r\n            this.enableAutoCollectRequests = jsonConfig.enableAutoCollectRequests;\r\n            this.enableAutoCollectDependencies = jsonConfig.enableAutoCollectDependencies;\r\n            this.enableAutoDependencyCorrelation = jsonConfig.enableAutoDependencyCorrelation;\r\n            this.enableAutoCollectIncomingRequestAzureFunctions = jsonConfig.enableAutoCollectIncomingRequestAzureFunctions;\r\n            this.enableUseAsyncHooks = jsonConfig.enableUseAsyncHooks;\r\n            this.enableUseDiskRetryCaching = jsonConfig.enableUseDiskRetryCaching;\r\n            this.enableResendInterval = jsonConfig.enableResendInterval;\r\n            this.enableMaxBytesOnDisk = jsonConfig.enableMaxBytesOnDisk;\r\n            this.enableInternalDebugLogging = jsonConfig.enableInternalDebugLogging;\r\n            this.enableInternalWarningLogging = jsonConfig.enableInternalWarningLogging;\r\n            this.enableSendLiveMetrics = jsonConfig.enableSendLiveMetrics;\r\n            this.quickPulseHost = jsonConfig.quickPulseHost;\r\n        }\r\n        catch (err) {\r\n            Logging.warn(\"Invalid JSON config file: \", err);\r\n        }\r\n    };\r\n    return JsonConfig;\r\n}());\r\nexports.JsonConfig = JsonConfig;\r\n//# sourceMappingURL=JsonConfig.js.map","\"use strict\";\r\nvar InternalAzureLogger = require(\"./InternalAzureLogger\");\r\nvar ENV_enableDebugLogging = \"APPLICATION_INSIGHTS_ENABLE_DEBUG_LOGS\";\r\nvar ENV_disableWarningLogging = \"APPLICATION_INSIGHTS_DISABLE_WARNING_LOGS\";\r\nvar Logging = /** @class */ (function () {\r\n    function Logging() {\r\n    }\r\n    Logging.info = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        if (this.enableDebug) {\r\n            InternalAzureLogger.getInstance().info(this.TAG + message, optionalParams);\r\n        }\r\n    };\r\n    Logging.warn = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        if (!this.disableWarnings) {\r\n            InternalAzureLogger.getInstance().warning(this.TAG + message, optionalParams);\r\n        }\r\n    };\r\n    Logging.enableDebug = (process.env[ENV_enableDebugLogging]) ? true : false;\r\n    Logging.disableWarnings = (process.env[ENV_disableWarningLogging]) ? true : false;\r\n    Logging.TAG = \"ApplicationInsights:\";\r\n    return Logging;\r\n}());\r\nmodule.exports = Logging;\r\n//# sourceMappingURL=Logging.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar TelemetryClient = require(\"./TelemetryClient\");\r\nvar ServerRequestTracking = require(\"../AutoCollection/HttpRequests\");\r\nvar ClientRequestTracking = require(\"../AutoCollection/HttpDependencies\");\r\nvar Logging = require(\"./Logging\");\r\n/**\r\n * Application Insights Telemetry Client for Node.JS. Provides the Application Insights TelemetryClient API\r\n * in addition to Node-specific helper functions.\r\n * Construct a new TelemetryClient to have an instance with a different configuration than the default client.\r\n * In most cases, `appInsights.defaultClient` should be used instead.\r\n */\r\nvar NodeClient = /** @class */ (function (_super) {\r\n    __extends(NodeClient, _super);\r\n    function NodeClient() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Log RequestTelemetry from HTTP request and response. This method will log immediately without waiting for request completion\r\n     * and it requires duration parameter to be specified on NodeHttpRequestTelemetry object.\r\n     * Use trackNodeHttpRequest function to log the telemetry after request completion\r\n     * @param telemetry Object encapsulating incoming request, response and duration information\r\n     */\r\n    NodeClient.prototype.trackNodeHttpRequestSync = function (telemetry) {\r\n        if (telemetry && telemetry.request && telemetry.response && telemetry.duration) {\r\n            ServerRequestTracking.trackRequestSync(this, telemetry);\r\n        }\r\n        else {\r\n            Logging.warn(\"trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.\");\r\n        }\r\n    };\r\n    /**\r\n     * Log RequestTelemetry from HTTP request and response. This method will `follow` the request to completion.\r\n     * Use trackNodeHttpRequestSync function to log telemetry immediately without waiting for request completion\r\n     * @param telemetry Object encapsulating incoming request and response information\r\n     */\r\n    NodeClient.prototype.trackNodeHttpRequest = function (telemetry) {\r\n        if (telemetry.duration || telemetry.error) {\r\n            Logging.warn(\"trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects.\");\r\n        }\r\n        if (telemetry && telemetry.request && telemetry.response) {\r\n            ServerRequestTracking.trackRequest(this, telemetry);\r\n        }\r\n        else {\r\n            Logging.warn(\"trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.\");\r\n        }\r\n    };\r\n    /**\r\n     * Log DependencyTelemetry from outgoing HTTP request. This method will instrument the outgoing request and append\r\n     * the specified headers and will log the telemetry when outgoing request is complete\r\n     * @param telemetry Object encapsulating outgoing request information\r\n     */\r\n    NodeClient.prototype.trackNodeHttpDependency = function (telemetry) {\r\n        if (telemetry && telemetry.request) {\r\n            ClientRequestTracking.trackRequest(this, telemetry);\r\n        }\r\n        else {\r\n            Logging.warn(\"trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.\");\r\n        }\r\n    };\r\n    return NodeClient;\r\n}(TelemetryClient));\r\nmodule.exports = NodeClient;\r\n//# sourceMappingURL=NodeClient.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getResourceProvider = exports.getOsPrefix = exports.isFunctionApp = exports.isWebApp = exports.isLinux = exports.isWindows = void 0;\r\nvar isWindows = function () {\r\n    return process.platform === \"win32\";\r\n};\r\nexports.isWindows = isWindows;\r\nvar isLinux = function () {\r\n    return process.platform === \"linux\";\r\n};\r\nexports.isLinux = isLinux;\r\nvar isWebApp = function () {\r\n    return (process.env.WEBSITE_SITE_NAME && !process.env.FUNCTIONS_WORKER_RUNTIME) ? true : false;\r\n};\r\nexports.isWebApp = isWebApp;\r\nvar isFunctionApp = function () {\r\n    return process.env.FUNCTIONS_WORKER_RUNTIME ? true : false;\r\n};\r\nexports.isFunctionApp = isFunctionApp;\r\n/**\r\n * Get prefix for OS\r\n * Windows system: \"w\"\r\n * Linux system: \"l\"\r\n * non-Windows and non-Linux system: \"u\" (unknown)\r\n */\r\nvar getOsPrefix = function () {\r\n    return exports.isWindows() ? \"w\" : exports.isLinux() ? \"l\" : \"u\";\r\n};\r\nexports.getOsPrefix = getOsPrefix;\r\n/**\r\n * TODO: add vm resource provider\r\n * Get prefix resource provider, vm will considered as \"unknown RP\"\r\n * Web App: \"a\"\r\n * Function App: \"f\"\r\n * non-Web and non-Function APP: \"u\" (unknown)\r\n */\r\nvar getResourceProvider = function () {\r\n    return exports.isWebApp() ? \"a\" : exports.isFunctionApp() ? \"f\" : \"u\";\r\n};\r\nexports.getResourceProvider = getResourceProvider;\r\n//# sourceMappingURL=PrefixHelper.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar os = require(\"os\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar Util = require(\"./Util\");\r\nvar Logging = require(\"./Logging\");\r\nvar StreamId = Util.w3cTraceId(); // Create a guid\r\nvar QuickPulseEnvelopeFactory = /** @class */ (function () {\r\n    function QuickPulseEnvelopeFactory() {\r\n    }\r\n    QuickPulseEnvelopeFactory.createQuickPulseEnvelope = function (metrics, documents, config, context) {\r\n        var machineName = (os && typeof os.hostname === \"function\"\r\n            && os.hostname()) || \"Unknown\"; // Note: os.hostname() was added in node v0.3.3\r\n        var instance = (context.tags\r\n            && context.keys\r\n            && context.keys.cloudRoleInstance\r\n            && context.tags[context.keys.cloudRoleInstance]) || machineName;\r\n        var roleName = (context.tags\r\n            && context.keys\r\n            && context.keys.cloudRole\r\n            && context.tags[context.keys.cloudRole]) || null;\r\n        var envelope = {\r\n            Documents: documents.length > 0 ? documents : null,\r\n            InstrumentationKey: config.instrumentationKey || \"\",\r\n            Metrics: metrics.length > 0 ? metrics : null,\r\n            InvariantVersion: 1,\r\n            Timestamp: \"/Date(\" + Date.now() + \")/\",\r\n            Version: context.tags[context.keys.internalSdkVersion],\r\n            StreamId: StreamId,\r\n            MachineName: machineName,\r\n            Instance: instance,\r\n            RoleName: roleName\r\n        };\r\n        return envelope;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseMetric = function (telemetry) {\r\n        var data;\r\n        data = {\r\n            Name: telemetry.name,\r\n            Value: telemetry.value,\r\n            Weight: telemetry.count || 1\r\n        };\r\n        return data;\r\n    };\r\n    QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument = function (envelope) {\r\n        switch (envelope.data.baseType) {\r\n            case Contracts.TelemetryTypeString.Event:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseEventDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Exception:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Trace:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseTraceDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Dependency:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Request:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseRequestDocument(envelope);\r\n        }\r\n        return null;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseEventDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var name = envelope.data.baseData.name;\r\n        var eventDocument = __assign(__assign({}, document), { Name: name });\r\n        return eventDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseTraceDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var severityLevel = envelope.data.baseData.severityLevel || 0;\r\n        var traceDocument = __assign(__assign({}, document), { Message: envelope.data.baseData.message, SeverityLevel: Contracts.SeverityLevel[severityLevel] });\r\n        return traceDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var exceptionDetails = envelope.data.baseData.exceptions;\r\n        var exception = \"\";\r\n        var exceptionMessage = \"\";\r\n        var exceptionType = \"\";\r\n        // Try to fill exception information from first error only\r\n        if (exceptionDetails && exceptionDetails.length > 0) {\r\n            // Try to grab the stack from parsedStack or stack\r\n            if (exceptionDetails[0].parsedStack && exceptionDetails[0].parsedStack.length > 0) {\r\n                exceptionDetails[0].parsedStack.forEach(function (err) {\r\n                    exception += err.assembly + \"\\n\";\r\n                });\r\n            }\r\n            else if (exceptionDetails[0].stack && exceptionDetails[0].stack.length > 0) {\r\n                exception = exceptionDetails[0].stack;\r\n            }\r\n            exceptionMessage = exceptionDetails[0].message;\r\n            exceptionType = exceptionDetails[0].typeName;\r\n        }\r\n        var exceptionDocument = __assign(__assign({}, document), { Exception: exception, ExceptionMessage: exceptionMessage, ExceptionType: exceptionType });\r\n        return exceptionDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseRequestDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var baseData = envelope.data.baseData;\r\n        var requestDocument = __assign(__assign({}, document), { Name: baseData.name, Success: baseData.success, Duration: baseData.duration, ResponseCode: baseData.responseCode, OperationName: baseData.name // TODO: is this correct?\r\n         });\r\n        return requestDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var baseData = envelope.data.baseData;\r\n        var dependencyDocument = __assign(__assign({}, document), { Name: baseData.name, Target: baseData.target, Success: baseData.success, Duration: baseData.duration, ResultCode: baseData.resultCode, CommandName: baseData.data, OperationName: document.OperationId, DependencyTypeName: baseData.type });\r\n        return dependencyDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseDocument = function (envelope) {\r\n        var documentType;\r\n        var __type;\r\n        var operationId, properties;\r\n        if (envelope.data.baseType) {\r\n            __type = Constants.TelemetryTypeStringToQuickPulseType[envelope.data.baseType];\r\n            documentType = Constants.TelemetryTypeStringToQuickPulseDocumentType[envelope.data.baseType];\r\n        }\r\n        else {\r\n            // Remark: This should never be hit because createQuickPulseDocument is only called within\r\n            // valid baseType values\r\n            Logging.warn(\"Document type invalid; not sending live metric document\", envelope.data.baseType);\r\n        }\r\n        operationId = envelope.tags[QuickPulseEnvelopeFactory.keys.operationId];\r\n        properties = QuickPulseEnvelopeFactory.aggregateProperties(envelope);\r\n        var document = {\r\n            DocumentType: documentType,\r\n            __type: __type,\r\n            OperationId: operationId,\r\n            Version: \"1.0\",\r\n            Properties: properties\r\n        };\r\n        return document;\r\n    };\r\n    QuickPulseEnvelopeFactory.aggregateProperties = function (envelope) {\r\n        var properties = [];\r\n        // Collect measurements\r\n        var meas = (envelope.data.baseData).measurements || {};\r\n        for (var key in meas) {\r\n            if (meas.hasOwnProperty(key)) {\r\n                var value = meas[key];\r\n                var property = { key: key, value: value };\r\n                properties.push(property);\r\n            }\r\n        }\r\n        // Collect properties\r\n        var props = (envelope.data.baseData).properties || {};\r\n        for (var key in props) {\r\n            if (props.hasOwnProperty(key)) {\r\n                var value = props[key];\r\n                var property = { key: key, value: value };\r\n                properties.push(property);\r\n            }\r\n        }\r\n        return properties;\r\n    };\r\n    QuickPulseEnvelopeFactory.keys = new Contracts.ContextTagKeys();\r\n    return QuickPulseEnvelopeFactory;\r\n}());\r\nmodule.exports = QuickPulseEnvelopeFactory;\r\n//# sourceMappingURL=QuickPulseEnvelopeFactory.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar https = require(\"https\");\r\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\r\nvar Logging = require(\"./Logging\");\r\nvar QuickPulseUtil = require(\"./QuickPulseUtil\");\r\nvar Util = require(\"./Util\");\r\nvar url = require(\"url\");\r\nvar QuickPulseConfig = {\r\n    method: \"POST\",\r\n    time: \"x-ms-qps-transmission-time\",\r\n    pollingIntervalHint: \"x-ms-qps-service-polling-interval-hint\",\r\n    endpointRedirect: \"x-ms-qps-service-endpoint-redirect-v2\",\r\n    instanceName: \"x-ms-qps-instance-name\",\r\n    streamId: \"x-ms-qps-stream-id\",\r\n    machineName: \"x-ms-qps-machine-name\",\r\n    roleName: \"x-ms-qps-role-name\",\r\n    streamid: \"x-ms-qps-stream-id\",\r\n    invariantVersion: \"x-ms-qps-invariant-version\",\r\n    subscribed: \"x-ms-qps-subscribed\"\r\n};\r\nvar QuickPulseSender = /** @class */ (function () {\r\n    function QuickPulseSender(config, getAuthorizationHandler) {\r\n        this._config = config;\r\n        this._consecutiveErrors = 0;\r\n        this._getAuthorizationHandler = getAuthorizationHandler;\r\n    }\r\n    QuickPulseSender.prototype.ping = function (envelope, redirectedHostEndpoint, done) {\r\n        var pingHeaders = [\r\n            { name: QuickPulseConfig.streamId, value: envelope.StreamId },\r\n            { name: QuickPulseConfig.machineName, value: envelope.MachineName },\r\n            { name: QuickPulseConfig.roleName, value: envelope.RoleName },\r\n            { name: QuickPulseConfig.instanceName, value: envelope.Instance },\r\n            { name: QuickPulseConfig.invariantVersion, value: envelope.InvariantVersion.toString() }\r\n        ];\r\n        this._submitData(envelope, redirectedHostEndpoint, done, \"ping\", pingHeaders);\r\n    };\r\n    QuickPulseSender.prototype.post = function (envelope, redirectedHostEndpoint, done) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: \r\n                    // Important: When POSTing data, envelope must be an array\r\n                    return [4 /*yield*/, this._submitData([envelope], redirectedHostEndpoint, done, \"post\")];\r\n                    case 1:\r\n                        // Important: When POSTing data, envelope must be an array\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    QuickPulseSender.prototype._submitData = function (envelope, redirectedHostEndpoint, done, postOrPing, additionalHeaders) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var payload, options, authHandler, authError_1, notice, req;\r\n            var _a, _b;\r\n            var _this = this;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        payload = Util.stringify(envelope);\r\n                        options = (_a = {},\r\n                            _a[AutoCollectHttpDependencies.disableCollectionRequestOption] = true,\r\n                            _a.host = (redirectedHostEndpoint && redirectedHostEndpoint.length > 0) ? redirectedHostEndpoint : this._config.quickPulseHost,\r\n                            _a.method = QuickPulseConfig.method,\r\n                            _a.path = \"/QuickPulseService.svc/\" + postOrPing + \"?ikey=\" + this._config.instrumentationKey,\r\n                            _a.headers = (_b = {\r\n                                    \"Expect\": \"100-continue\"\r\n                                },\r\n                                _b[QuickPulseConfig.time] = QuickPulseUtil.getTransmissionTime(),\r\n                                _b[\"Content-Type\"] = \"application\\/json\",\r\n                                _b[\"Content-Length\"] = Buffer.byteLength(payload),\r\n                                _b),\r\n                            _a);\r\n                        if (additionalHeaders && additionalHeaders.length > 0) {\r\n                            additionalHeaders.forEach(function (header) { return options.headers[header.name] = header.value; });\r\n                        }\r\n                        if (!(postOrPing === \"post\")) return [3 /*break*/, 4];\r\n                        authHandler = this._getAuthorizationHandler ? this._getAuthorizationHandler(this._config) : null;\r\n                        if (!authHandler) return [3 /*break*/, 4];\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        // Add bearer token\r\n                        return [4 /*yield*/, authHandler.addAuthorizationHeader(options)];\r\n                    case 2:\r\n                        // Add bearer token\r\n                        _c.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        authError_1 = _c.sent();\r\n                        notice = \"Failed to get AAD bearer token for the Application. Error:\";\r\n                        Logging.info(QuickPulseSender.TAG, notice, authError_1);\r\n                        // Do not send request to Quickpulse if auth fails, data will be dropped\r\n                        return [2 /*return*/];\r\n                    case 4:\r\n                        // HTTPS only\r\n                        if (this._config.httpsAgent) {\r\n                            options.agent = this._config.httpsAgent;\r\n                        }\r\n                        else {\r\n                            options.agent = Util.tlsRestrictedAgent;\r\n                        }\r\n                        req = https.request(options, function (res) {\r\n                            if (res.statusCode == 200) {\r\n                                var shouldPOSTData = res.headers[QuickPulseConfig.subscribed] === \"true\";\r\n                                var redirectHeader = null;\r\n                                try {\r\n                                    redirectHeader = res.headers[QuickPulseConfig.endpointRedirect] ? new url.URL(res.headers[QuickPulseConfig.endpointRedirect].toString()).host : null;\r\n                                }\r\n                                catch (error) {\r\n                                    _this._onError(\"Failed to parse redirect header from QuickPulse: \" + Util.dumpObj(error));\r\n                                }\r\n                                var pollingIntervalHint = res.headers[QuickPulseConfig.pollingIntervalHint] ? parseInt(res.headers[QuickPulseConfig.pollingIntervalHint].toString()) : null;\r\n                                _this._consecutiveErrors = 0;\r\n                                done(shouldPOSTData, res, redirectHeader, pollingIntervalHint);\r\n                            }\r\n                            else {\r\n                                _this._onError(\"StatusCode:\" + res.statusCode + \" StatusMessage:\" + res.statusMessage);\r\n                                done();\r\n                            }\r\n                        });\r\n                        req.on(\"error\", function (error) {\r\n                            _this._onError(error);\r\n                            done();\r\n                        });\r\n                        req.write(payload);\r\n                        req.end();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    QuickPulseSender.prototype._onError = function (error) {\r\n        // Unable to contact qps endpoint.\r\n        // Do nothing for now.\r\n        this._consecutiveErrors++;\r\n        // LOG every error, but WARN instead when X number of consecutive errors occur\r\n        var notice = \"Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:\";\r\n        if (this._consecutiveErrors % QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN === 0) {\r\n            notice = \"Live Metrics endpoint could not be reached \" + this._consecutiveErrors + \" consecutive times. Most recent error:\";\r\n            Logging.warn(QuickPulseSender.TAG, notice, error);\r\n        }\r\n        else {\r\n            // Potentially transient error, do not change the ping/post state yet.\r\n            Logging.info(QuickPulseSender.TAG, notice, error);\r\n        }\r\n    };\r\n    QuickPulseSender.TAG = \"QuickPulseSender\";\r\n    QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN = 25;\r\n    return QuickPulseSender;\r\n}());\r\nmodule.exports = QuickPulseSender;\r\n//# sourceMappingURL=QuickPulseSender.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar Logging = require(\"./Logging\");\r\nvar QuickPulseEnvelopeFactory = require(\"./QuickPulseEnvelopeFactory\");\r\nvar QuickPulseSender = require(\"./QuickPulseSender\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar Context = require(\"./Context\");\r\n/** State Container for sending to the QuickPulse Service */\r\nvar QuickPulseStateManager = /** @class */ (function () {\r\n    function QuickPulseStateManager(config, context, getAuthorizationHandler, client) {\r\n        this._isCollectingData = false;\r\n        this._lastSuccessTime = Date.now();\r\n        this._lastSendSucceeded = true;\r\n        this._metrics = {};\r\n        this._documents = [];\r\n        this._collectors = [];\r\n        this._redirectedHost = null;\r\n        this._pollingIntervalHint = -1;\r\n        this.config = config;\r\n        this.context = context || new Context();\r\n        this._sender = new QuickPulseSender(this.config, getAuthorizationHandler);\r\n        this._isEnabled = false;\r\n        this._statsbeat = client === null || client === void 0 ? void 0 : client.getStatsbeat();\r\n    }\r\n    /**\r\n     *\r\n     * @param collector\r\n     */\r\n    QuickPulseStateManager.prototype.addCollector = function (collector) {\r\n        this._collectors.push(collector);\r\n    };\r\n    /**\r\n     * Override of TelemetryClient.trackMetric\r\n     */\r\n    QuickPulseStateManager.prototype.trackMetric = function (telemetry) {\r\n        this._addMetric(telemetry);\r\n    };\r\n    /**\r\n     * Add a document to the current buffer\r\n     * @param envelope\r\n     */\r\n    QuickPulseStateManager.prototype.addDocument = function (envelope) {\r\n        // Only add documents in buffer when Live Metrics is collecting data\r\n        if (this._isCollectingData) {\r\n            var document_1 = QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument(envelope);\r\n            if (document_1) {\r\n                this._documents.push(document_1);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Enable or disable communication with QuickPulseService\r\n     * @param isEnabled\r\n     */\r\n    QuickPulseStateManager.prototype.enable = function (isEnabled) {\r\n        if (isEnabled && !this._isEnabled) {\r\n            this._isEnabled = true;\r\n            this._goQuickPulse();\r\n            if (this._statsbeat) {\r\n                this._statsbeat.addFeature(Constants.StatsbeatFeature.LIVE_METRICS);\r\n            }\r\n        }\r\n        else if (!isEnabled && this._isEnabled) {\r\n            this._isEnabled = false;\r\n            clearTimeout(this._handle);\r\n            this._handle = undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Enable or disable all collectors in this instance\r\n     * @param enable\r\n     */\r\n    QuickPulseStateManager.prototype.enableCollectors = function (enable) {\r\n        this._collectors.forEach(function (collector) {\r\n            collector.enable(enable);\r\n        });\r\n    };\r\n    /**\r\n     * Add the metric to this buffer. If same metric already exists in this buffer, add weight to it\r\n     * @param telemetry\r\n     */\r\n    QuickPulseStateManager.prototype._addMetric = function (telemetry) {\r\n        var value = telemetry.value;\r\n        var count = telemetry.count || 1;\r\n        var name = Constants.PerformanceToQuickPulseCounter[telemetry.name];\r\n        if (name) {\r\n            if (this._metrics[name]) {\r\n                this._metrics[name].Value = (this._metrics[name].Value * this._metrics[name].Weight + value * count) / (this._metrics[name].Weight + count);\r\n                this._metrics[name].Weight += count;\r\n            }\r\n            else {\r\n                this._metrics[name] = QuickPulseEnvelopeFactory.createQuickPulseMetric(telemetry);\r\n                this._metrics[name].Name = name;\r\n                this._metrics[name].Weight = 1;\r\n            }\r\n        }\r\n    };\r\n    QuickPulseStateManager.prototype._resetQuickPulseBuffer = function () {\r\n        delete this._metrics;\r\n        this._metrics = {};\r\n        this._documents.length = 0;\r\n    };\r\n    QuickPulseStateManager.prototype._goQuickPulse = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var metrics, envelope, pingInterval, currentTimeout;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        metrics = Object.keys(this._metrics).map(function (k) { return _this._metrics[k]; });\r\n                        envelope = QuickPulseEnvelopeFactory.createQuickPulseEnvelope(metrics, this._documents.slice(), this.config, this.context);\r\n                        // Clear this document, metric buffer\r\n                        this._resetQuickPulseBuffer();\r\n                        if (!this._isCollectingData) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this._post(envelope)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        this._ping(envelope);\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        pingInterval = this._pollingIntervalHint > 0 ? this._pollingIntervalHint : QuickPulseStateManager.PING_INTERVAL;\r\n                        currentTimeout = this._isCollectingData ? QuickPulseStateManager.POST_INTERVAL : pingInterval;\r\n                        if (this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_POST_WAIT_TIME && !this._lastSendSucceeded) {\r\n                            // Haven't posted successfully in 20 seconds, so wait 60 seconds and ping\r\n                            this._isCollectingData = false;\r\n                            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\r\n                        }\r\n                        else if (!this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_PING_WAIT_TIME && !this._lastSendSucceeded) {\r\n                            // Haven't pinged successfully in 60 seconds, so wait another 60 seconds\r\n                            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\r\n                        }\r\n                        this._lastSendSucceeded = null;\r\n                        this._handle = setTimeout(this._goQuickPulse.bind(this), currentTimeout);\r\n                        this._handle.unref(); // Don't block apps from terminating\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    QuickPulseStateManager.prototype._ping = function (envelope) {\r\n        this._sender.ping(envelope, this._redirectedHost, this._quickPulseDone.bind(this));\r\n    };\r\n    QuickPulseStateManager.prototype._post = function (envelope) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this._sender.post(envelope, this._redirectedHost, this._quickPulseDone.bind(this))];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Change the current QPS send state. (shouldPOST == undefined) --> error, but do not change the state yet.\r\n     */\r\n    QuickPulseStateManager.prototype._quickPulseDone = function (shouldPOST, res, redirectedHost, pollingIntervalHint) {\r\n        if (shouldPOST != undefined) {\r\n            if (this._isCollectingData !== shouldPOST) {\r\n                Logging.info(\"Live Metrics sending data\", shouldPOST);\r\n                this.enableCollectors(shouldPOST);\r\n            }\r\n            this._isCollectingData = shouldPOST;\r\n            if (redirectedHost && redirectedHost.length > 0) {\r\n                this._redirectedHost = redirectedHost;\r\n                Logging.info(\"Redirecting endpoint to: \", redirectedHost);\r\n            }\r\n            if (pollingIntervalHint && pollingIntervalHint > 0) {\r\n                this._pollingIntervalHint = pollingIntervalHint;\r\n            }\r\n            if (res && res.statusCode < 300 && res.statusCode >= 200) {\r\n                this._lastSuccessTime = Date.now();\r\n                this._lastSendSucceeded = true;\r\n            }\r\n            else {\r\n                this._lastSendSucceeded = false;\r\n            }\r\n        }\r\n        else {\r\n            // Received an error, keep the state as is\r\n            this._lastSendSucceeded = false;\r\n        }\r\n    };\r\n    QuickPulseStateManager.MAX_POST_WAIT_TIME = 20000;\r\n    QuickPulseStateManager.MAX_PING_WAIT_TIME = 60000;\r\n    QuickPulseStateManager.FALLBACK_INTERVAL = 60000;\r\n    QuickPulseStateManager.PING_INTERVAL = 5000;\r\n    QuickPulseStateManager.POST_INTERVAL = 1000;\r\n    return QuickPulseStateManager;\r\n}());\r\nmodule.exports = QuickPulseStateManager;\r\n//# sourceMappingURL=QuickPulseStateManager.js.map","\"use strict\";\r\n/**\r\n * @description UTC time the request was made. Expressed as the number of 100-nanosecond intervals that have elapsed since 12:00:00 midnight on January 1, 0001. This is used for clock skew calculations, so the value can never be stale (cached).\r\n *\r\n * @example\r\n * 8/5/2020 10:15:00 PM UTC => 637322625000000000\r\n * 8/5/2020 10:15:01 PM UTC => 637322625010000000\r\n *\r\n * @returns {number}\r\n */\r\nvar getTransmissionTime = function () {\r\n    return (Date.now() + 62135596800000) * 10000;\r\n};\r\nmodule.exports = { getTransmissionTime: getTransmissionTime };\r\n//# sourceMappingURL=QuickPulseUtil.js.map","\"use strict\";\r\nmodule.exports = {\r\n    /**\r\n     * Request-Context header\r\n     */\r\n    requestContextHeader: \"request-context\",\r\n    /**\r\n     * Source instrumentation header that is added by an application while making http\r\n     * requests and retrieved by the other application when processing incoming requests.\r\n     */\r\n    requestContextSourceKey: \"appId\",\r\n    /**\r\n     * Target instrumentation header that is added to the response and retrieved by the\r\n     * calling application when processing incoming responses.\r\n     */\r\n    requestContextTargetKey: \"appId\",\r\n    /**\r\n     * Request-Id header\r\n     */\r\n    requestIdHeader: \"request-id\",\r\n    /**\r\n     * Legacy Header containing the id of the immediate caller\r\n     */\r\n    parentIdHeader: \"x-ms-request-id\",\r\n    /**\r\n     * Legacy Header containing the correlation id that kept the same for every telemetry item\r\n     * across transactions\r\n     */\r\n    rootIdHeader: \"x-ms-request-root-id\",\r\n    /**\r\n     * Correlation-Context header\r\n     *\r\n     * Not currently actively used, but the contents should be passed from incoming to outgoing requests\r\n     */\r\n    correlationContextHeader: \"correlation-context\",\r\n    /**\r\n     * W3C distributed tracing protocol header\r\n     */\r\n    traceparentHeader: \"traceparent\",\r\n    /**\r\n     * W3C distributed tracing protocol state header\r\n     */\r\n    traceStateHeader: \"tracestate\"\r\n};\r\n//# sourceMappingURL=RequestResponseHeaders.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar zlib = require(\"zlib\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\r\nvar FileSystemHelper = require(\"./FileSystemHelper\");\r\nvar Util = require(\"./Util\");\r\nvar url_1 = require(\"url\");\r\nvar Logging = require(\"./Logging\");\r\nvar FileAccessControl_1 = require(\"./FileAccessControl\");\r\nvar legacyThrottleStatusCode = 439; //  - Too many requests and refresh cache\r\nvar throttleStatusCode = 402; // Monthly Quota Exceeded (new SDK)\r\nvar RESPONSE_CODES_INDICATING_REACHED_BREEZE = [200, 206, 402, 408, 429, 439, 500];\r\nvar INVALID_IKEY = \"Invalid instrumentation key\";\r\nvar Sender = /** @class */ (function () {\r\n    function Sender(config, getAuthorizationHandler, onSuccess, onError, statsbeat, isStatsbeatSender, shutdownStatsbeat) {\r\n        this._redirectedHost = null;\r\n        this._config = config;\r\n        this._onSuccess = onSuccess;\r\n        this._onError = onError;\r\n        this._statsbeat = statsbeat;\r\n        this._enableDiskRetryMode = false;\r\n        this._resendInterval = Sender.WAIT_BETWEEN_RESEND;\r\n        this._maxBytesOnDisk = Sender.MAX_BYTES_ON_DISK;\r\n        this._numConsecutiveFailures = 0;\r\n        this._numConsecutiveRedirects = 0;\r\n        this._resendTimer = null;\r\n        this._getAuthorizationHandler = getAuthorizationHandler;\r\n        this._fileCleanupTimer = null;\r\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\r\n        this._tempDir = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\r\n        this._isStatsbeatSender = isStatsbeatSender || false;\r\n        this._shutdownStatsbeat = shutdownStatsbeat;\r\n        this._failedToIngestCounter = 0;\r\n        this._statsbeatHasReachedIngestionAtLeastOnce = false;\r\n    }\r\n    /**\r\n    * Enable or disable offline mode\r\n    */\r\n    Sender.prototype.setDiskRetryMode = function (value, resendInterval, maxBytesOnDisk) {\r\n        var _this = this;\r\n        if (value) {\r\n            FileAccessControl_1.FileAccessControl.checkFileProtection(); // Only check file protection when disk retry is enabled\r\n        }\r\n        this._enableDiskRetryMode = FileAccessControl_1.FileAccessControl.OS_PROVIDES_FILE_PROTECTION && value;\r\n        if (typeof resendInterval === \"number\" && resendInterval >= 0) {\r\n            this._resendInterval = Math.floor(resendInterval);\r\n        }\r\n        if (typeof maxBytesOnDisk === \"number\" && maxBytesOnDisk >= 0) {\r\n            this._maxBytesOnDisk = Math.floor(maxBytesOnDisk);\r\n        }\r\n        if (value && !FileAccessControl_1.FileAccessControl.OS_PROVIDES_FILE_PROTECTION) {\r\n            this._enableDiskRetryMode = false;\r\n            this._logWarn(\"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.\");\r\n        }\r\n        if (this._enableDiskRetryMode) {\r\n            if (this._statsbeat) {\r\n                this._statsbeat.addFeature(Constants.StatsbeatFeature.DISK_RETRY);\r\n            }\r\n            // Starts file cleanup task\r\n            if (!this._fileCleanupTimer) {\r\n                this._fileCleanupTimer = setTimeout(function () { _this._fileCleanupTask(); }, Sender.CLEANUP_TIMEOUT);\r\n                this._fileCleanupTimer.unref();\r\n            }\r\n        }\r\n        else {\r\n            if (this._statsbeat) {\r\n                this._statsbeat.removeFeature(Constants.StatsbeatFeature.DISK_RETRY);\r\n            }\r\n            if (this._fileCleanupTimer) {\r\n                clearTimeout(this._fileCleanupTimer);\r\n            }\r\n        }\r\n    };\r\n    Sender.prototype.send = function (envelopes, callback) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var endpointUrl, endpointHost, options, authHandler, authError_1, errorMsg, batch_1, payload_1;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!envelopes) return [3 /*break*/, 5];\r\n                        endpointUrl = this._redirectedHost || this._config.endpointUrl;\r\n                        endpointHost = new url_1.URL(endpointUrl).hostname;\r\n                        options = {\r\n                            method: \"POST\",\r\n                            withCredentials: false,\r\n                            headers: {\r\n                                \"Content-Type\": \"application/x-json-stream\"\r\n                            }\r\n                        };\r\n                        authHandler = this._getAuthorizationHandler ? this._getAuthorizationHandler(this._config) : null;\r\n                        if (!authHandler) return [3 /*break*/, 4];\r\n                        if (this._statsbeat) {\r\n                            this._statsbeat.addFeature(Constants.StatsbeatFeature.AAD_HANDLING);\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        // Add bearer token\r\n                        return [4 /*yield*/, authHandler.addAuthorizationHeader(options)];\r\n                    case 2:\r\n                        // Add bearer token\r\n                        _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        authError_1 = _a.sent();\r\n                        errorMsg = \"Failed to get AAD bearer token for the Application.\";\r\n                        if (this._enableDiskRetryMode) {\r\n                            errorMsg += \"This batch of telemetry items will be retried. \";\r\n                            this._storeToDisk(envelopes);\r\n                        }\r\n                        errorMsg += \"Error:\" + authError_1.toString();\r\n                        this._logWarn(errorMsg);\r\n                        if (typeof callback === \"function\") {\r\n                            callback(errorMsg);\r\n                        }\r\n                        return [2 /*return*/]; // If AAD auth fails do not send to Breeze\r\n                    case 4:\r\n                        batch_1 = \"\";\r\n                        envelopes.forEach(function (envelope) {\r\n                            var payload = Util.stringify(envelope);\r\n                            if (typeof payload !== \"string\") {\r\n                                return;\r\n                            }\r\n                            batch_1 += payload + \"\\n\";\r\n                        });\r\n                        // Remove last \\n\r\n                        if (batch_1.length > 0) {\r\n                            batch_1 = batch_1.substring(0, batch_1.length - 1);\r\n                        }\r\n                        payload_1 = Buffer.from ? Buffer.from(batch_1) : new Buffer(batch_1);\r\n                        zlib.gzip(payload_1, function (err, buffer) {\r\n                            var dataToSend = buffer;\r\n                            if (err) {\r\n                                _this._logWarn(Util.dumpObj(err));\r\n                                dataToSend = payload_1; // something went wrong so send without gzip\r\n                                options.headers[\"Content-Length\"] = payload_1.length.toString();\r\n                            }\r\n                            else {\r\n                                options.headers[\"Content-Encoding\"] = \"gzip\";\r\n                                options.headers[\"Content-Length\"] = buffer.length.toString();\r\n                            }\r\n                            _this._logInfo(Util.dumpObj(options));\r\n                            // Ensure this request is not captured by auto-collection.\r\n                            options[AutoCollectHttpDependencies.disableCollectionRequestOption] = true;\r\n                            var startTime = +new Date();\r\n                            var requestCallback = function (res) {\r\n                                res.setEncoding(\"utf-8\");\r\n                                //returns empty if the data is accepted\r\n                                var responseString = \"\";\r\n                                res.on(\"data\", function (data) {\r\n                                    responseString += data;\r\n                                });\r\n                                res.on(\"end\", function () {\r\n                                    var _a;\r\n                                    var endTime = +new Date();\r\n                                    var duration = endTime - startTime;\r\n                                    _this._numConsecutiveFailures = 0;\r\n                                    if (responseString.includes(INVALID_IKEY) && res.statusCode === 400) {\r\n                                        Logging.warn(\"Instrumentation key was invalid, please check the iKey\");\r\n                                        (_a = _this._shutdownStatsbeat) === null || _a === void 0 ? void 0 : _a.call(_this);\r\n                                    }\r\n                                    // Handling of Statsbeat instance sending data, should turn it off if is not able to reach ingestion endpoint\r\n                                    if (_this._isStatsbeatSender && !_this._statsbeatHasReachedIngestionAtLeastOnce) {\r\n                                        if (RESPONSE_CODES_INDICATING_REACHED_BREEZE.includes(res.statusCode)) {\r\n                                            _this._statsbeatHasReachedIngestionAtLeastOnce = true;\r\n                                        }\r\n                                        else {\r\n                                            _this._statsbeatFailedToIngest();\r\n                                        }\r\n                                    }\r\n                                    if (_this._statsbeat) {\r\n                                        if (res.statusCode == throttleStatusCode || res.statusCode == legacyThrottleStatusCode) { // Throttle\r\n                                            _this._statsbeat.countThrottle(Constants.StatsbeatNetworkCategory.Breeze, endpointHost, res.statusCode);\r\n                                        }\r\n                                        else {\r\n                                            _this._statsbeat.countRequest(Constants.StatsbeatNetworkCategory.Breeze, endpointHost, duration, res.statusCode === 200, res.statusCode);\r\n                                        }\r\n                                    }\r\n                                    if (_this._enableDiskRetryMode) {\r\n                                        // try to send any cached events if the user is back online\r\n                                        if (res.statusCode === 200) {\r\n                                            if (!_this._resendTimer) {\r\n                                                _this._resendTimer = setTimeout(function () {\r\n                                                    _this._resendTimer = null;\r\n                                                    _this._sendFirstFileOnDisk();\r\n                                                }, _this._resendInterval);\r\n                                                _this._resendTimer.unref();\r\n                                            }\r\n                                        }\r\n                                        else if (_this._isRetriable(res.statusCode)) {\r\n                                            try {\r\n                                                if (_this._statsbeat) {\r\n                                                    _this._statsbeat.countRetry(Constants.StatsbeatNetworkCategory.Breeze, endpointHost, res.statusCode);\r\n                                                }\r\n                                                var breezeResponse = JSON.parse(responseString);\r\n                                                var filteredEnvelopes_1 = [];\r\n                                                if (breezeResponse.errors) {\r\n                                                    breezeResponse.errors.forEach(function (error) {\r\n                                                        // Only retry errors if 429, 500 or 503 response codes\r\n                                                        if (error.statusCode == 429 || error.statusCode == 500 || error.statusCode == 503) {\r\n                                                            filteredEnvelopes_1.push(envelopes[error.index]);\r\n                                                        }\r\n                                                    });\r\n                                                    if (filteredEnvelopes_1.length > 0) {\r\n                                                        _this._storeToDisk(filteredEnvelopes_1);\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                            catch (ex) {\r\n                                                _this._storeToDisk(envelopes); // Retriable status code with not valid Breeze response\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    // Redirect handling\r\n                                    if (res.statusCode === 307 || // Temporary Redirect\r\n                                        res.statusCode === 308) { // Permanent Redirect\r\n                                        _this._numConsecutiveRedirects++;\r\n                                        // To prevent circular redirects\r\n                                        if (_this._numConsecutiveRedirects < 10) {\r\n                                            // Try to get redirect header\r\n                                            var locationHeader = res.headers[\"location\"] ? res.headers[\"location\"].toString() : null;\r\n                                            if (locationHeader) {\r\n                                                _this._redirectedHost = locationHeader;\r\n                                                // Send to redirect endpoint as HTTPs library doesn't handle redirect automatically\r\n                                                _this.send(envelopes, callback);\r\n                                            }\r\n                                        }\r\n                                        else {\r\n                                            var circularRedirectError = { name: \"Circular Redirect\", message: \"Error sending telemetry because of circular redirects.\" };\r\n                                            if (_this._statsbeat) {\r\n                                                _this._statsbeat.countException(Constants.StatsbeatNetworkCategory.Breeze, endpointHost, circularRedirectError);\r\n                                            }\r\n                                            if (typeof callback === \"function\") {\r\n                                                callback(\"Error sending telemetry because of circular redirects.\");\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        _this._numConsecutiveRedirects = 0;\r\n                                        if (typeof callback === \"function\") {\r\n                                            callback(responseString);\r\n                                        }\r\n                                        _this._logInfo(responseString);\r\n                                        if (typeof _this._onSuccess === \"function\") {\r\n                                            _this._onSuccess(responseString);\r\n                                        }\r\n                                    }\r\n                                });\r\n                            };\r\n                            var req = Util.makeRequest(_this._config, endpointUrl, options, requestCallback);\r\n                            // Needed as of Node.js v13 default timeouts on HTTP requests are no longer default\r\n                            // Timeout should trigger the request on error function to run\r\n                            req.setTimeout(Sender.HTTP_TIMEOUT, function () {\r\n                                _this._requestTimedOut = true;\r\n                                req.abort();\r\n                            });\r\n                            req.on(\"error\", function (error) {\r\n                                if (_this._isStatsbeatSender && !_this._statsbeatHasReachedIngestionAtLeastOnce) {\r\n                                    _this._statsbeatFailedToIngest();\r\n                                }\r\n                                // todo: handle error codes better (group to recoverable/non-recoverable and persist)\r\n                                _this._numConsecutiveFailures++;\r\n                                if (_this._statsbeat) {\r\n                                    _this._statsbeat.countException(Constants.StatsbeatNetworkCategory.Breeze, endpointHost, error);\r\n                                }\r\n                                // Only use warn level if retries are disabled or we've had some number of consecutive failures sending data\r\n                                // This is because warn level is printed in the console by default, and we don't want to be noisy for transient and self-recovering errors\r\n                                // Continue informing on each failure if verbose logging is being used\r\n                                if (!_this._enableDiskRetryMode || _this._numConsecutiveFailures > 0 && _this._numConsecutiveFailures % Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN === 0) {\r\n                                    var notice = \"Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:\";\r\n                                    if (_this._enableDiskRetryMode) {\r\n                                        notice = \"Ingestion endpoint could not be reached \" + _this._numConsecutiveFailures + \" consecutive times. There may be resulting telemetry loss. Most recent error:\";\r\n                                    }\r\n                                    _this._logWarn(notice, Util.dumpObj(error));\r\n                                }\r\n                                else {\r\n                                    var notice = \"Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:\";\r\n                                    _this._logInfo(notice, Util.dumpObj(error));\r\n                                }\r\n                                _this._onErrorHelper(error);\r\n                                if (typeof callback === \"function\") {\r\n                                    if (error) {\r\n                                        // If the error type is a timeout we want to provide more meaningful output\r\n                                        if (_this._requestTimedOut) {\r\n                                            error.name = \"telemetry timeout\";\r\n                                            error.message = \"telemetry request timed out\";\r\n                                        }\r\n                                        callback(Util.dumpObj(error));\r\n                                    }\r\n                                    else {\r\n                                        callback(\"Error sending telemetry\");\r\n                                    }\r\n                                }\r\n                                if (_this._enableDiskRetryMode) {\r\n                                    _this._storeToDisk(envelopes);\r\n                                }\r\n                            });\r\n                            req.write(dataToSend);\r\n                            req.end();\r\n                        });\r\n                        _a.label = 5;\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Sender.prototype.saveOnCrash = function (envelopes) {\r\n        if (this._enableDiskRetryMode) {\r\n            this._storeToDiskSync(Util.stringify(envelopes));\r\n        }\r\n    };\r\n    Sender.prototype._isRetriable = function (statusCode) {\r\n        return (statusCode === 206 || // Partial Accept\r\n            statusCode === 401 || // Unauthorized\r\n            statusCode === 403 || // Forbidden\r\n            statusCode === 408 || // Timeout\r\n            statusCode === 429 || // Too many requests\r\n            statusCode === 500 || // Server Error\r\n            statusCode === 502 || // Bad Gateway\r\n            statusCode === 503 || // Server Unavailable\r\n            statusCode === 504 // Gateway Timeout\r\n        );\r\n    };\r\n    Sender.prototype._logInfo = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        if (!this._isStatsbeatSender) {\r\n            Logging.info(Sender.TAG, message, optionalParams);\r\n        }\r\n    };\r\n    Sender.prototype._logWarn = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        if (!this._isStatsbeatSender) {\r\n            Logging.warn(Sender.TAG, message, optionalParams);\r\n        }\r\n    };\r\n    Sender.prototype._statsbeatFailedToIngest = function () {\r\n        if (this._shutdownStatsbeat) { // Check if callback is available\r\n            this._failedToIngestCounter++;\r\n            if (this._failedToIngestCounter >= 3) {\r\n                this._shutdownStatsbeat();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Stores the payload as a json file on disk in the temp directory\r\n     */\r\n    Sender.prototype._storeToDisk = function (envelopes) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var ex_1, ex_2, size, ex_3, fileName, fileFullPath, ex_4;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        this._logInfo(\"Checking existence of data storage directory: \" + this._tempDir);\r\n                        return [4 /*yield*/, FileSystemHelper.confirmDirExists(this._tempDir)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        ex_1 = _a.sent();\r\n                        this._logWarn(\"Failed to create folder to put telemetry: \" + Util.dumpObj(ex_1));\r\n                        this._onErrorHelper(ex_1);\r\n                        return [2 /*return*/];\r\n                    case 3:\r\n                        _a.trys.push([3, 5, , 6]);\r\n                        return [4 /*yield*/, FileAccessControl_1.FileAccessControl.applyACLRules(this._tempDir)];\r\n                    case 4:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 6];\r\n                    case 5:\r\n                        ex_2 = _a.sent();\r\n                        this._logWarn(\"Failed to apply file access control to folder: \" + Util.dumpObj(ex_2));\r\n                        this._onErrorHelper(ex_2);\r\n                        return [2 /*return*/];\r\n                    case 6:\r\n                        _a.trys.push([6, 8, , 9]);\r\n                        return [4 /*yield*/, FileSystemHelper.getShallowDirectorySize(this._tempDir)];\r\n                    case 7:\r\n                        size = _a.sent();\r\n                        if (size > this._maxBytesOnDisk) {\r\n                            this._logWarn(\"Not saving data due to max size limit being met. Directory size in bytes is: \" + size);\r\n                            return [2 /*return*/];\r\n                        }\r\n                        return [3 /*break*/, 9];\r\n                    case 8:\r\n                        ex_3 = _a.sent();\r\n                        this._logWarn(\"Failed to read directory for retriable telemetry: \" + Util.dumpObj(ex_3));\r\n                        this._onErrorHelper(ex_3);\r\n                        return [2 /*return*/];\r\n                    case 9:\r\n                        _a.trys.push([9, 11, , 12]);\r\n                        fileName = new Date().getTime() + \".ai.json\";\r\n                        fileFullPath = path.join(this._tempDir, fileName);\r\n                        // Mode 600 is w/r for creator and no read access for others (only applies on *nix)\r\n                        // For Windows, ACL rules are applied to the entire directory (see logic in _confirmDirExists and _applyACLRules)\r\n                        this._logInfo(\"saving data to disk at: \" + fileFullPath);\r\n                        return [4 /*yield*/, FileSystemHelper.writeFileAsync(fileFullPath, Util.stringify(envelopes), { mode: 384 })];\r\n                    case 10:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 12];\r\n                    case 11:\r\n                        ex_4 = _a.sent();\r\n                        this._logWarn(\"Failed to persist telemetry to disk: \" + Util.dumpObj(ex_4));\r\n                        this._onErrorHelper(ex_4);\r\n                        return [2 /*return*/];\r\n                    case 12: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Stores the payload as a json file on disk using sync file operations\r\n     * this is used when storing data before crashes\r\n     */\r\n    Sender.prototype._storeToDiskSync = function (payload) {\r\n        try {\r\n            this._logInfo(\"Checking existence of data storage directory: \" + this._tempDir);\r\n            if (!fs.existsSync(this._tempDir)) {\r\n                fs.mkdirSync(this._tempDir);\r\n            }\r\n            // Make sure permissions are valid\r\n            FileAccessControl_1.FileAccessControl.applyACLRulesSync(this._tempDir);\r\n            var dirSize = FileSystemHelper.getShallowDirectorySizeSync(this._tempDir);\r\n            if (dirSize > this._maxBytesOnDisk) {\r\n                this._logInfo(\"Not saving data due to max size limit being met. Directory size in bytes is: \" + dirSize);\r\n                return;\r\n            }\r\n            //create file - file name for now is the timestamp, a better approach would be a UUID but that\r\n            //would require an external dependency\r\n            var fileName = new Date().getTime() + \".ai.json\";\r\n            var fileFullPath = path.join(this._tempDir, fileName);\r\n            // Mode 600 is w/r for creator and no access for anyone else (only applies on *nix)\r\n            this._logInfo(\"saving data before crash to disk at: \" + fileFullPath);\r\n            fs.writeFileSync(fileFullPath, payload, { mode: 384 });\r\n        }\r\n        catch (error) {\r\n            this._logWarn(\"Error while saving data to disk: \" + Util.dumpObj(error));\r\n            this._onErrorHelper(error);\r\n        }\r\n    };\r\n    /**\r\n     * Check for temp telemetry files\r\n     * reads the first file if exist, deletes it and tries to send its load\r\n     */\r\n    Sender.prototype._sendFirstFileOnDisk = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var files, firstFile, filePath, buffer, envelopes, err_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 6, , 7]);\r\n                        return [4 /*yield*/, FileSystemHelper.readdirAsync(this._tempDir)];\r\n                    case 1:\r\n                        files = _a.sent();\r\n                        files = files.filter(function (f) { return path.basename(f).indexOf(\".ai.json\") > -1; });\r\n                        if (!(files.length > 0)) return [3 /*break*/, 5];\r\n                        firstFile = files[0];\r\n                        filePath = path.join(this._tempDir, firstFile);\r\n                        return [4 /*yield*/, FileSystemHelper.readFileAsync(filePath)];\r\n                    case 2:\r\n                        buffer = _a.sent();\r\n                        // delete the file first to prevent double sending\r\n                        return [4 /*yield*/, FileSystemHelper.unlinkAsync(filePath)];\r\n                    case 3:\r\n                        // delete the file first to prevent double sending\r\n                        _a.sent();\r\n                        envelopes = JSON.parse(buffer.toString());\r\n                        return [4 /*yield*/, this.send(envelopes)];\r\n                    case 4:\r\n                        _a.sent();\r\n                        _a.label = 5;\r\n                    case 5: return [3 /*break*/, 7];\r\n                    case 6:\r\n                        err_1 = _a.sent();\r\n                        this._onErrorHelper(err_1);\r\n                        return [3 /*break*/, 7];\r\n                    case 7: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Sender.prototype._onErrorHelper = function (error) {\r\n        if (typeof this._onError === \"function\") {\r\n            this._onError(error);\r\n        }\r\n    };\r\n    Sender.prototype._fileCleanupTask = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var files, i, fileCreationDate, expired, filePath, err_2;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 6, , 7]);\r\n                        return [4 /*yield*/, FileSystemHelper.readdirAsync(this._tempDir)];\r\n                    case 1:\r\n                        files = _a.sent();\r\n                        files = files.filter(function (f) { return path.basename(f).indexOf(\".ai.json\") > -1; });\r\n                        if (!(files.length > 0)) return [3 /*break*/, 5];\r\n                        i = 0;\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        if (!(i < files.length)) return [3 /*break*/, 5];\r\n                        fileCreationDate = new Date(parseInt(files[i].split(\".ai.json\")[0]));\r\n                        expired = new Date(+(new Date()) - Sender.FILE_RETEMPTION_PERIOD) > fileCreationDate;\r\n                        if (!expired) return [3 /*break*/, 4];\r\n                        filePath = path.join(this._tempDir, files[i]);\r\n                        return [4 /*yield*/, FileSystemHelper.unlinkAsync(filePath).catch(function (err) {\r\n                                _this._onErrorHelper(err);\r\n                            })];\r\n                    case 3:\r\n                        _a.sent();\r\n                        _a.label = 4;\r\n                    case 4:\r\n                        i++;\r\n                        return [3 /*break*/, 2];\r\n                    case 5: return [3 /*break*/, 7];\r\n                    case 6:\r\n                        err_2 = _a.sent();\r\n                        if (err_2.code != \"ENOENT\") {\r\n                            this._onErrorHelper(err_2);\r\n                        }\r\n                        return [3 /*break*/, 7];\r\n                    case 7: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Sender.TAG = \"Sender\";\r\n    // the amount of time the SDK will wait between resending cached data, this buffer is to avoid any throttling from the service side\r\n    Sender.WAIT_BETWEEN_RESEND = 60 * 1000; // 1 minute\r\n    Sender.MAX_BYTES_ON_DISK = 50 * 1024 * 1024; // 50 mb\r\n    Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN = 5;\r\n    Sender.CLEANUP_TIMEOUT = 60 * 60 * 1000; // 1 hour\r\n    Sender.FILE_RETEMPTION_PERIOD = 7 * 24 * 60 * 60 * 1000; // 7 days\r\n    Sender.TEMPDIR_PREFIX = \"appInsights-node\";\r\n    Sender.HTTP_TIMEOUT = 20000; // 20 seconds\r\n    return Sender;\r\n}());\r\nmodule.exports = Sender;\r\n//# sourceMappingURL=Sender.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.isContentTypeHeaderHtml = exports.insertSnippetByIndex = exports.getContentEncodingFromHeaders = exports.isSupportedContentEncoding = exports.findBufferEncodingType = exports.isBufferType = exports.getBrotliDecompressSync = exports.getBrotliDecompressAsync = exports.getBrotliCompressSync = exports.getBrotliCompressAsync = exports.inflateAsync = exports.deflateAsync = exports.gunzipAsync = exports.gzipAsync = exports.isBrotliSupperted = exports.bufferEncodingTypes = exports.contentEncodingMethod = void 0;\r\nvar zlib = require(\"zlib\");\r\nvar util_1 = require(\"util\");\r\n// currently support the following encoding types\r\nvar contentEncodingMethod;\r\n(function (contentEncodingMethod) {\r\n    contentEncodingMethod[\"GZIP\"] = \"gzip\";\r\n    contentEncodingMethod[\"DEFLATE\"] = \"deflate\";\r\n    contentEncodingMethod[\"BR\"] = \"br\";\r\n})(contentEncodingMethod = exports.contentEncodingMethod || (exports.contentEncodingMethod = {}));\r\n//current supported encoding types\r\nexports.bufferEncodingTypes = [\"utf8\", \"utf16le\", \"latin1\", \"base64\", \"hex\", \"ascii\", \"binary\", \"ucs2\"];\r\n//for node version under 10, Brotli compression is not supported.\r\nvar isBrotliSupperted = function () {\r\n    var majVer = process.versions.node.split(\".\")[0];\r\n    return parseInt(majVer) >= 10;\r\n};\r\nexports.isBrotliSupperted = isBrotliSupperted;\r\nexports.gzipAsync = util_1.promisify(zlib.gzip);\r\nexports.gunzipAsync = util_1.promisify(zlib.gunzip);\r\nexports.deflateAsync = util_1.promisify(zlib.deflate);\r\nexports.inflateAsync = util_1.promisify(zlib.inflate);\r\nvar getBrotliCompressAsync = function (zlibObject) {\r\n    var isMajorVer = exports.isBrotliSupperted();\r\n    if (isMajorVer && typeof zlibObject.brotliCompress === \"function\") {\r\n        return util_1.promisify(zlibObject.brotliCompress);\r\n    }\r\n    return null;\r\n};\r\nexports.getBrotliCompressAsync = getBrotliCompressAsync;\r\nvar getBrotliCompressSync = function (zlibObject) {\r\n    var isMajorVer = exports.isBrotliSupperted();\r\n    if (isMajorVer && typeof zlibObject.brotliCompressSync === \"function\") {\r\n        return zlibObject.brotliCompressSync;\r\n    }\r\n    return null;\r\n};\r\nexports.getBrotliCompressSync = getBrotliCompressSync;\r\nvar getBrotliDecompressAsync = function (zlibObject) {\r\n    var isMajorVer = exports.isBrotliSupperted();\r\n    if (isMajorVer && typeof zlibObject.brotliDecompress === \"function\") {\r\n        return util_1.promisify(zlibObject.brotliDecompress);\r\n    }\r\n    return null;\r\n};\r\nexports.getBrotliDecompressAsync = getBrotliDecompressAsync;\r\nvar getBrotliDecompressSync = function (zlibObject) {\r\n    var isMajorVer = exports.isBrotliSupperted();\r\n    if (isMajorVer && typeof zlibObject.brotliDecompressSync === \"function\") {\r\n        return zlibObject.brotliDecompressSync;\r\n    }\r\n    return null;\r\n};\r\nexports.getBrotliDecompressSync = getBrotliDecompressSync;\r\nvar isBufferType = function (buffer, type) {\r\n    var encodingType = type ? type : \"utf8\";\r\n    var result = false;\r\n    if (Buffer.isEncoding(encodingType)) {\r\n        var newBuffer = Buffer.from(buffer.toString(encodingType), encodingType);\r\n        result = newBuffer.toJSON().data.toString() === buffer.toJSON().data.toString();\r\n    }\r\n    return result;\r\n};\r\nexports.isBufferType = isBufferType;\r\nvar findBufferEncodingType = function (buffer) {\r\n    var bufferType = null;\r\n    for (var key in exports.bufferEncodingTypes) {\r\n        var type = exports.bufferEncodingTypes[key];\r\n        if (Buffer.isEncoding(type) && exports.isBufferType(buffer, type)) {\r\n            bufferType = type;\r\n            break;\r\n        }\r\n    }\r\n    return bufferType;\r\n};\r\nexports.findBufferEncodingType = findBufferEncodingType;\r\nvar isSupportedContentEncoding = function (encodingMethod) {\r\n    var encodingType = null;\r\n    switch (encodingMethod) {\r\n        case \"gzip\":\r\n            encodingType = contentEncodingMethod.GZIP;\r\n            break;\r\n        case \"br\":\r\n            encodingType = contentEncodingMethod.BR;\r\n            break;\r\n        case \"deflate\":\r\n            encodingType = contentEncodingMethod.DEFLATE;\r\n            break;\r\n        default:\r\n    }\r\n    return encodingType;\r\n};\r\nexports.isSupportedContentEncoding = isSupportedContentEncoding;\r\n// mutiple content-encoding is not supported\r\n// for mutiple content-encoding, this method will return any empty array\r\nvar getContentEncodingFromHeaders = function (response) {\r\n    var headers = [];\r\n    var contentEncodingHeaders = response.getHeader(\"Content-Encoding\");\r\n    if (!contentEncodingHeaders)\r\n        return null;\r\n    if (typeof contentEncodingHeaders === \"string\") {\r\n        var supportedContentEncoding = exports.isSupportedContentEncoding(contentEncodingHeaders);\r\n        if (supportedContentEncoding) {\r\n            headers.push(supportedContentEncoding);\r\n        }\r\n    }\r\n    return headers;\r\n};\r\nexports.getContentEncodingFromHeaders = getContentEncodingFromHeaders;\r\nvar insertSnippetByIndex = function (index, html, snippet) {\r\n    if (index < 0)\r\n        return null;\r\n    var newHtml = null;\r\n    var subStart = html.substring(0, index);\r\n    var subEnd = html.substring(index);\r\n    newHtml = subStart + \"<script type=\\\"text/javascript\\\">\" + snippet + \"</script>\" + subEnd;\r\n    return newHtml;\r\n};\r\nexports.insertSnippetByIndex = insertSnippetByIndex;\r\nvar isContentTypeHeaderHtml = function (response) {\r\n    var isHtml = false;\r\n    var contentType = response.getHeader(\"Content-Type\");\r\n    if (contentType) {\r\n        if (typeof contentType === \"string\") {\r\n            isHtml = contentType.indexOf(\"html\") >= 0;\r\n        }\r\n        else {\r\n            isHtml = contentType.toString().indexOf(\"html\") >= 0;\r\n        }\r\n    }\r\n    return isHtml;\r\n};\r\nexports.isContentTypeHeaderHtml = isContentTypeHeaderHtml;\r\n//# sourceMappingURL=SnippetInjectionHelper.js.map","\"use strict\";\r\nvar url = require(\"url\");\r\nvar Config = require(\"./Config\");\r\nvar AuthorizationHandler = require(\"./AuthorizationHandler\");\r\nvar Context = require(\"./Context\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Channel = require(\"./Channel\");\r\nvar TelemetryProcessors = require(\"../TelemetryProcessors\");\r\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\r\nvar Statsbeat = require(\"../AutoCollection/Statsbeat\");\r\nvar Sender = require(\"./Sender\");\r\nvar Util = require(\"./Util\");\r\nvar Logging = require(\"./Logging\");\r\nvar EnvelopeFactory = require(\"./EnvelopeFactory\");\r\n/**\r\n * Application Insights telemetry client provides interface to track telemetry items, register telemetry initializers and\r\n * and manually trigger immediate sending (flushing)\r\n */\r\nvar TelemetryClient = /** @class */ (function () {\r\n    /**\r\n     * Constructs a new client of the client\r\n     * @param setupString the Connection String or Instrumentation Key to use (read from environment variable if not specified)\r\n     */\r\n    function TelemetryClient(setupString) {\r\n        this._telemetryProcessors = [];\r\n        var config = new Config(setupString);\r\n        this.config = config;\r\n        if (!this.config.instrumentationKey || this.config.instrumentationKey == \"\") {\r\n            throw new Error(\"Instrumentation key not found, please provide a connection string before starting Application Insights SDK.\");\r\n        }\r\n        this.context = new Context();\r\n        this.commonProperties = {};\r\n        this.authorizationHandler = null;\r\n        if (!this.config.disableStatsbeat) {\r\n            this._statsbeat = new Statsbeat(this.config, this.context);\r\n            this._statsbeat.enable(true);\r\n        }\r\n        var sender = new Sender(this.config, this.getAuthorizationHandler, null, null, this._statsbeat);\r\n        this.channel = new Channel(function () { return config.disableAppInsights; }, function () { return config.maxBatchSize; }, function () { return config.maxBatchIntervalMs; }, sender);\r\n    }\r\n    /**\r\n     * Log information about availability of an application\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackAvailability = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Availability);\r\n    };\r\n    /**\r\n     * Log a page view\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackPageView = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.PageView);\r\n    };\r\n    /**\r\n     * Log a trace message\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackTrace = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Trace);\r\n    };\r\n    /**\r\n     * Log a numeric value that is not associated with a specific event. Typically used to send regular reports of performance indicators.\r\n     * To send a single measurement, use just the first two parameters. If you take measurements very frequently, you can reduce the\r\n     * telemetry bandwidth by aggregating multiple measurements and sending the resulting average at intervals.\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackMetric = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Metric);\r\n    };\r\n    /**\r\n     * Log an exception\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackException = function (telemetry) {\r\n        if (telemetry && telemetry.exception && !Util.isError(telemetry.exception)) {\r\n            telemetry.exception = new Error(telemetry.exception.toString());\r\n        }\r\n        this.track(telemetry, Contracts.TelemetryType.Exception);\r\n    };\r\n    /**\r\n     * Log a user action or other occurrence.\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackEvent = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Event);\r\n    };\r\n    /**\r\n     * Log a request. Note that the default client will attempt to collect HTTP requests automatically so only use this for requests\r\n     * that aren't automatically captured or if you've disabled automatic request collection.\r\n     *\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackRequest = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Request);\r\n    };\r\n    /**\r\n     * Log a dependency. Note that the default client will attempt to collect dependencies automatically so only use this for dependencies\r\n     * that aren't automatically captured or if you've disabled automatic dependency collection.\r\n     *\r\n     * @param telemetry      Object encapsulating tracking option\r\n     * */\r\n    TelemetryClient.prototype.trackDependency = function (telemetry) {\r\n        if (telemetry && !telemetry.target && telemetry.data) {\r\n            // url.parse().host returns null for non-urls,\r\n            // making this essentially a no-op in those cases\r\n            // If this logic is moved, update jsdoc in DependencyTelemetry.target\r\n            // url.parse() is deprecated, update to use WHATWG URL API instead\r\n            try {\r\n                telemetry.target = new url.URL(telemetry.data).host;\r\n            }\r\n            catch (error) {\r\n                // set target as null to be compliant with previous behavior\r\n                telemetry.target = null;\r\n                Logging.warn(TelemetryClient.TAG, \"The URL object is failed to create.\", error);\r\n            }\r\n        }\r\n        this.track(telemetry, Contracts.TelemetryType.Dependency);\r\n    };\r\n    /**\r\n     * Immediately send all queued telemetry.\r\n     * @param options Flush options, including indicator whether app is crashing and callback\r\n     */\r\n    TelemetryClient.prototype.flush = function (options) {\r\n        this.channel.triggerSend(options ? !!options.isAppCrashing : false, options ? options.callback : undefined);\r\n    };\r\n    /**\r\n     * Generic track method for all telemetry types\r\n     * @param data the telemetry to send\r\n     * @param telemetryType specify the type of telemetry you are tracking from the list of Contracts.DataTypes\r\n     */\r\n    TelemetryClient.prototype.track = function (telemetry, telemetryType) {\r\n        if (telemetry && Contracts.telemetryTypeToBaseType(telemetryType)) {\r\n            var envelope = EnvelopeFactory.createEnvelope(telemetry, telemetryType, this.commonProperties, this.context, this.config);\r\n            // Set time on the envelope if it was set on the telemetry item\r\n            if (telemetry.time) {\r\n                envelope.time = telemetry.time.toISOString();\r\n            }\r\n            var accepted = this.runTelemetryProcessors(envelope, telemetry.contextObjects);\r\n            // Ideally we would have a central place for \"internal\" telemetry processors and users can configure which ones are in use.\r\n            // This will do for now. Otherwise clearTelemetryProcessors() would be problematic.\r\n            accepted = accepted && TelemetryProcessors.samplingTelemetryProcessor(envelope, { correlationContext: CorrelationContextManager_1.CorrelationContextManager.getCurrentContext() });\r\n            TelemetryProcessors.preAggregatedMetricsTelemetryProcessor(envelope, this.context);\r\n            if (accepted) {\r\n                TelemetryProcessors.performanceMetricsTelemetryProcessor(envelope, this.quickPulseClient);\r\n                this.channel.send(envelope);\r\n            }\r\n        }\r\n        else {\r\n            Logging.warn(TelemetryClient.TAG, \"track() requires telemetry object and telemetryType to be specified.\");\r\n        }\r\n    };\r\n    /**\r\n     *  @deprecated The method should not be called, Azure Properties will be added always when available\r\n     * Automatically populate telemetry properties like RoleName when running in Azure\r\n     *\r\n      * @param value if true properties will be populated\r\n     */\r\n    TelemetryClient.prototype.setAutoPopulateAzureProperties = function (value) {\r\n        // NO-OP\r\n    };\r\n    /**\r\n     * Get Authorization handler\r\n     */\r\n    TelemetryClient.prototype.getAuthorizationHandler = function (config) {\r\n        if (config && config.aadTokenCredential) {\r\n            if (!this.authorizationHandler) {\r\n                Logging.info(TelemetryClient.TAG, \"Adding authorization handler\");\r\n                this.authorizationHandler = new AuthorizationHandler(config.aadTokenCredential, config.aadAudience);\r\n            }\r\n            return this.authorizationHandler;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Adds telemetry processor to the collection. Telemetry processors will be called one by one\r\n     * before telemetry item is pushed for sending and in the order they were added.\r\n     *\r\n     * @param telemetryProcessor function, takes Envelope, and optional context object and returns boolean\r\n     */\r\n    TelemetryClient.prototype.addTelemetryProcessor = function (telemetryProcessor) {\r\n        this._telemetryProcessors.push(telemetryProcessor);\r\n    };\r\n    /*\r\n     * Removes all telemetry processors\r\n     */\r\n    TelemetryClient.prototype.clearTelemetryProcessors = function () {\r\n        this._telemetryProcessors = [];\r\n    };\r\n    TelemetryClient.prototype.runTelemetryProcessors = function (envelope, contextObjects) {\r\n        var accepted = true;\r\n        var telemetryProcessorsCount = this._telemetryProcessors.length;\r\n        if (telemetryProcessorsCount === 0) {\r\n            return accepted;\r\n        }\r\n        contextObjects = contextObjects || {};\r\n        contextObjects[\"correlationContext\"] = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        for (var i = 0; i < telemetryProcessorsCount; ++i) {\r\n            try {\r\n                var processor = this._telemetryProcessors[i];\r\n                if (processor) {\r\n                    if (processor.apply(null, [envelope, contextObjects]) === false) {\r\n                        accepted = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            catch (error) {\r\n                accepted = true;\r\n                Logging.warn(TelemetryClient.TAG, \"One of telemetry processors failed, telemetry item will be sent.\", error, envelope);\r\n            }\r\n        }\r\n        // Sanitize tags and properties after running telemetry processors\r\n        if (accepted) {\r\n            if (envelope && envelope.tags) {\r\n                envelope.tags = Util.validateStringMap(envelope.tags);\r\n            }\r\n            if (envelope && envelope.data && envelope.data.baseData && envelope.data.baseData.properties) {\r\n                envelope.data.baseData.properties = Util.validateStringMap(envelope.data.baseData.properties);\r\n            }\r\n        }\r\n        return accepted;\r\n    };\r\n    /*\r\n     * Get Statsbeat instance\r\n     */\r\n    TelemetryClient.prototype.getStatsbeat = function () {\r\n        return this._statsbeat;\r\n    };\r\n    TelemetryClient.TAG = \"TelemetryClient\";\r\n    return TelemetryClient;\r\n}());\r\nmodule.exports = TelemetryClient;\r\n//# sourceMappingURL=TelemetryClient.js.map","\"use strict\";\r\nvar Util = require(\"./Util\");\r\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\r\n/**\r\n * Helper class to manage parsing and validation of traceparent header. Also handles hierarchical\r\n * back-compatibility headers generated from traceparent. W3C traceparent spec is documented at\r\n * https://www.w3.org/TR/trace-context/#traceparent-field\r\n */\r\nvar Traceparent = /** @class */ (function () {\r\n    function Traceparent(traceparent, parentId) {\r\n        this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\r\n        this.version = Traceparent.DEFAULT_VERSION;\r\n        if (traceparent && typeof traceparent === \"string\") { // traceparent constructor\r\n            // If incoming request contains traceparent: parse it, set operation, parent and telemetry id accordingly. traceparent should be injected into outgoing requests. request-id should be injected in back-compat format |traceId.spanId. so that older SDKs could understand it.\r\n            if (traceparent.split(\",\").length > 1) { // If more than 1 traceparent is present, discard both\r\n                this.traceId = Util.w3cTraceId();\r\n                this.spanId = Util.w3cTraceId().substr(0, 16);\r\n            }\r\n            else {\r\n                var traceparentArr = traceparent.trim().split(\"-\");\r\n                var len = traceparentArr.length;\r\n                if (len >= 4) { // traceparent must contain at least 4 fields\r\n                    this.version = traceparentArr[0];\r\n                    this.traceId = traceparentArr[1];\r\n                    this.spanId = traceparentArr[2];\r\n                    this.traceFlag = traceparentArr[3];\r\n                }\r\n                else { // Discard traceparent if a field is missing\r\n                    this.traceId = Util.w3cTraceId();\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                }\r\n                // Version validation\r\n                if (!this.version.match(/^[0-9a-f]{2}$/g)) {\r\n                    this.version = Traceparent.DEFAULT_VERSION;\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                if (this.version === \"00\" && len !== 4) { // 0x00 (and perhaps future versions) require exactly 4 fields. This strict check will need to be updated on each spec release\r\n                    this.traceId = Util.w3cTraceId();\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                }\r\n                if (this.version === \"ff\") { // 0xff is forbidden, generate new traceparent\r\n                    this.version = Traceparent.DEFAULT_VERSION;\r\n                    this.traceId = Util.w3cTraceId();\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                }\r\n                if (!this.version.match(/^0[0-9a-f]$/g)) {\r\n                    this.version = Traceparent.DEFAULT_VERSION;\r\n                }\r\n                // TraceFlag validation\r\n                if (!this.traceFlag.match(/^[0-9a-f]{2}$/g)) {\r\n                    this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                // Validate TraceId, regenerate new traceid if invalid\r\n                if (!Traceparent.isValidTraceId(this.traceId)) {\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                // Validate Span Id, discard entire traceparent if invalid\r\n                if (!Traceparent.isValidSpanId(this.spanId)) {\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                // Save backCompat parentId\r\n                this.parentId = this.getBackCompatRequestId();\r\n            }\r\n        }\r\n        else if (parentId) { // backcompat constructor\r\n            // If incoming request contains only request-id, new traceid and spanid should be started, request-id value should be used as a parent. Root part of request-id should be stored in custom dimension on the request telemetry if root part is different from traceid. On the outgoing request side, request-id should be emitted in the |traceId.spanId. format.\r\n            this.parentId = parentId.slice(); // copy\r\n            var operationId = CorrelationIdManager.getRootId(parentId);\r\n            if (!Traceparent.isValidTraceId(operationId)) {\r\n                this.legacyRootId = operationId;\r\n                operationId = Util.w3cTraceId();\r\n            }\r\n            if (parentId.indexOf(\"|\") !== -1) {\r\n                parentId = parentId.substring(1 + parentId.substring(0, parentId.length - 1).lastIndexOf(\".\"), parentId.length - 1);\r\n            }\r\n            this.traceId = operationId;\r\n            this.spanId = parentId;\r\n        }\r\n        else {\r\n            // Fallback default constructor\r\n            // if request does not contain any correlation headers, see case p2\r\n            this.traceId = Util.w3cTraceId();\r\n            this.spanId = Util.w3cTraceId().substr(0, 16);\r\n        }\r\n    }\r\n    Traceparent.isValidTraceId = function (id) {\r\n        return id.match(/^[0-9a-f]{32}$/) && id !== \"00000000000000000000000000000000\";\r\n    };\r\n    Traceparent.isValidSpanId = function (id) {\r\n        return id.match(/^[0-9a-f]{16}$/) && id !== \"0000000000000000\";\r\n    };\r\n    Traceparent.formatOpenTelemetryTraceFlags = function (traceFlags) {\r\n        var formattedFlags = (\"0\" + traceFlags.toString(16));\r\n        return formattedFlags.substring(formattedFlags.length - 2);\r\n    };\r\n    Traceparent.prototype.getBackCompatRequestId = function () {\r\n        return \"|\" + this.traceId + \".\" + this.spanId + \".\";\r\n    };\r\n    Traceparent.prototype.toString = function () {\r\n        return this.version + \"-\" + this.traceId + \"-\" + this.spanId + \"-\" + this.traceFlag;\r\n    };\r\n    Traceparent.prototype.updateSpanId = function () {\r\n        this.spanId = Util.w3cTraceId().substr(0, 16);\r\n    };\r\n    Traceparent.DEFAULT_TRACE_FLAG = \"01\";\r\n    Traceparent.DEFAULT_VERSION = \"00\";\r\n    return Traceparent;\r\n}());\r\nmodule.exports = Traceparent;\r\n//# sourceMappingURL=Traceparent.js.map","\"use strict\";\r\n/**\r\n * Helper class to manage parsing and strict-validation of tracestate header. W3C tracestate spec\r\n * is documented at https://www.w3.org/TR/trace-context/#header-value\r\n * @class Tracestate\r\n */\r\nvar Tracestate = /** @class */ (function () {\r\n    // if true, performs strict tracestate header checking, else just passes it along\r\n    function Tracestate(id) {\r\n        this.fieldmap = [];\r\n        if (!id) {\r\n            return;\r\n        }\r\n        this.fieldmap = this.parseHeader(id);\r\n    }\r\n    Tracestate.prototype.toString = function () {\r\n        var fieldarr = this.fieldmap;\r\n        if (!fieldarr || fieldarr.length == 0) {\r\n            return null;\r\n        }\r\n        return fieldarr.join(\", \");\r\n    };\r\n    Tracestate.validateKeyChars = function (key) {\r\n        var keyParts = key.split(\"@\");\r\n        if (keyParts.length == 2) {\r\n            // Parse for tenant@vendor format\r\n            var tenant = keyParts[0].trim();\r\n            var vendor = keyParts[1].trim();\r\n            var tenantValid = Boolean(tenant.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,241}$/));\r\n            var vendorValid = Boolean(vendor.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,14}$/));\r\n            return tenantValid && vendorValid;\r\n        }\r\n        else if (keyParts.length == 1) {\r\n            // Parse for standard key format\r\n            return Boolean(key.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,256}$/));\r\n        }\r\n        return false;\r\n    };\r\n    Tracestate.prototype.parseHeader = function (id) {\r\n        var res = [];\r\n        var keydeduper = {};\r\n        var parts = id.split(\",\");\r\n        if (parts.length > 32)\r\n            return null;\r\n        for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\r\n            var rawPart = parts_1[_i];\r\n            var part = rawPart.trim(); // trim out whitespace\r\n            if (part.length === 0) {\r\n                continue; // Discard empty pairs, but keep the rest of this tracestate\r\n            }\r\n            var pair = part.split(\"=\");\r\n            // pair should contain exactly one \"=\"\r\n            if (pair.length !== 2) {\r\n                return null; // invalid pair: discard entire tracestate\r\n            }\r\n            // Validate length and charset of this key\r\n            if (!Tracestate.validateKeyChars(pair[0])) {\r\n                return null;\r\n            }\r\n            // Assert uniqueness of this key\r\n            if (keydeduper[pair[0]]) {\r\n                return null; // duplicate key: discard entire tracestate\r\n            }\r\n            else {\r\n                keydeduper[pair[0]] = true;\r\n            }\r\n            // All checks passed -- add this part\r\n            res.push(part);\r\n        }\r\n        return res;\r\n    };\r\n    Tracestate.strict = true;\r\n    return Tracestate;\r\n}());\r\nmodule.exports = Tracestate;\r\n//# sourceMappingURL=Tracestate.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar url = require(\"url\");\r\nvar constants = require(\"constants\");\r\nvar Logging = require(\"./Logging\");\r\nvar RequestResponseHeaders = require(\"./RequestResponseHeaders\");\r\nvar JsonConfig_1 = require(\"./JsonConfig\");\r\nvar Util = /** @class */ (function () {\r\n    function Util() {\r\n        Util._addCloseHandler();\r\n    }\r\n    /**\r\n     * helper method to access userId and sessionId cookie\r\n     */\r\n    Util.getCookie = function (name, cookie) {\r\n        var value = \"\";\r\n        if (name && name.length && typeof cookie === \"string\") {\r\n            var cookieName = name + \"=\";\r\n            var cookies = cookie.split(\";\");\r\n            for (var i = 0; i < cookies.length; i++) {\r\n                var cookie = cookies[i];\r\n                cookie = Util.trim(cookie);\r\n                if (cookie && cookie.indexOf(cookieName) === 0) {\r\n                    value = cookie.substring(cookieName.length, cookies[i].length);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * helper method to trim strings (IE8 does not implement String.prototype.trim)\r\n     */\r\n    Util.trim = function (str) {\r\n        if (typeof str === \"string\") {\r\n            return str.replace(/^\\s+|\\s+$/g, \"\");\r\n        }\r\n        else {\r\n            return \"\";\r\n        }\r\n    };\r\n    /**\r\n     * Convert an array of int32 to Base64 (no '==' at the end).\r\n     * MSB first.\r\n     */\r\n    Util.int32ArrayToBase64 = function (array) {\r\n        var toChar = function (v, i) {\r\n            return String.fromCharCode((v >> i) & 0xFF);\r\n        };\r\n        var int32AsString = function (v) {\r\n            return toChar(v, 24) + toChar(v, 16) + toChar(v, 8) + toChar(v, 0);\r\n        };\r\n        var x = array.map(int32AsString).join(\"\");\r\n        var b = Buffer.from ? Buffer.from(x, \"binary\") : new Buffer(x, \"binary\");\r\n        var s = b.toString(\"base64\");\r\n        return s.substr(0, s.indexOf(\"=\"));\r\n    };\r\n    /**\r\n     * generate a random 32bit number (-0x80000000..0x7FFFFFFF).\r\n     */\r\n    Util.random32 = function () {\r\n        return (0x100000000 * Math.random()) | 0;\r\n    };\r\n    /**\r\n     * generate a random 32bit number (0x00000000..0xFFFFFFFF).\r\n     */\r\n    Util.randomu32 = function () {\r\n        return Util.random32() + 0x80000000;\r\n    };\r\n    /**\r\n     * generate W3C-compatible trace id\r\n     * https://github.com/w3c/distributed-tracing/blob/master/trace_context/HTTP_HEADER_FORMAT.md#trace-id\r\n     */\r\n    Util.w3cTraceId = function () {\r\n        var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\r\n        // rfc4122 version 4 UUID without dashes and with lowercase letters\r\n        var oct = \"\", tmp;\r\n        for (var a = 0; a < 4; a++) {\r\n            tmp = Util.random32();\r\n            oct +=\r\n                hexValues[tmp & 0xF] +\r\n                    hexValues[tmp >> 4 & 0xF] +\r\n                    hexValues[tmp >> 8 & 0xF] +\r\n                    hexValues[tmp >> 12 & 0xF] +\r\n                    hexValues[tmp >> 16 & 0xF] +\r\n                    hexValues[tmp >> 20 & 0xF] +\r\n                    hexValues[tmp >> 24 & 0xF] +\r\n                    hexValues[tmp >> 28 & 0xF];\r\n        }\r\n        // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\r\n        var clockSequenceHi = hexValues[8 + (Math.random() * 4) | 0];\r\n        return oct.substr(0, 8) + oct.substr(9, 4) + \"4\" + oct.substr(13, 3) + clockSequenceHi + oct.substr(16, 3) + oct.substr(19, 12);\r\n    };\r\n    Util.w3cSpanId = function () {\r\n        return Util.w3cTraceId().substring(16);\r\n    };\r\n    Util.isValidW3CId = function (id) {\r\n        return id.length === 32 && id !== \"00000000000000000000000000000000\";\r\n    };\r\n    /**\r\n     * Check if an object is of type Array\r\n     */\r\n    Util.isArray = function (obj) {\r\n        return Object.prototype.toString.call(obj) === \"[object Array]\";\r\n    };\r\n    /**\r\n     * Check if an object is of type Error\r\n     */\r\n    Util.isError = function (obj) {\r\n        return Object.prototype.toString.call(obj) === \"[object Error]\";\r\n    };\r\n    Util.isPrimitive = function (input) {\r\n        var propType = typeof input;\r\n        return propType === \"string\" || propType === \"number\" || propType === \"boolean\";\r\n    };\r\n    /**\r\n     * Check if an object is of type Date\r\n     */\r\n    Util.isDate = function (obj) {\r\n        return Object.prototype.toString.call(obj) === \"[object Date]\";\r\n    };\r\n    /**\r\n     * Convert ms to c# time span format\r\n     */\r\n    Util.msToTimeSpan = function (totalms) {\r\n        if (isNaN(totalms) || totalms < 0) {\r\n            totalms = 0;\r\n        }\r\n        var sec = ((totalms / 1000) % 60).toFixed(7).replace(/0{0,4}$/, \"\");\r\n        var min = \"\" + Math.floor(totalms / (1000 * 60)) % 60;\r\n        var hour = \"\" + Math.floor(totalms / (1000 * 60 * 60)) % 24;\r\n        var days = Math.floor(totalms / (1000 * 60 * 60 * 24));\r\n        sec = sec.indexOf(\".\") < 2 ? \"0\" + sec : sec;\r\n        min = min.length < 2 ? \"0\" + min : min;\r\n        hour = hour.length < 2 ? \"0\" + hour : hour;\r\n        var daysText = days > 0 ? days + \".\" : \"\";\r\n        return daysText + hour + \":\" + min + \":\" + sec;\r\n    };\r\n    /**\r\n     * Using JSON.stringify, by default Errors do not serialize to something useful:\r\n     * Simplify a generic Node Error into a simpler map for customDimensions\r\n     * Custom errors can still implement toJSON to override this functionality\r\n     */\r\n    Util.extractError = function (err) {\r\n        // Error is often subclassed so may have code OR id properties:\r\n        // https://nodejs.org/api/errors.html#errors_error_code\r\n        var looseError = err;\r\n        return {\r\n            message: err.message,\r\n            code: looseError.code || looseError.id || \"\"\r\n        };\r\n    };\r\n    /**\r\n     * Manually call toJSON if available to pre-convert the value.\r\n     * If a primitive is returned, then the consumer of this function can skip JSON.stringify.\r\n     * This avoids double escaping of quotes for Date objects, for example.\r\n     */\r\n    Util.extractObject = function (origProperty) {\r\n        if (origProperty instanceof Error) {\r\n            return Util.extractError(origProperty);\r\n        }\r\n        if (typeof origProperty.toJSON === \"function\") {\r\n            return origProperty.toJSON();\r\n        }\r\n        return origProperty;\r\n    };\r\n    /**\r\n     * Validate that an object is of type { [key: string]: string }\r\n     */\r\n    Util.validateStringMap = function (obj) {\r\n        if (typeof obj !== \"object\") {\r\n            Logging.info(\"Invalid properties dropped from payload\");\r\n            return;\r\n        }\r\n        var map = {};\r\n        for (var field in obj) {\r\n            var property = \"\";\r\n            var origProperty = obj[field];\r\n            var propType = typeof origProperty;\r\n            if (Util.isPrimitive(origProperty)) {\r\n                property = origProperty.toString();\r\n            }\r\n            else if (origProperty === null || propType === \"undefined\") {\r\n                property = \"\";\r\n            }\r\n            else if (propType === \"function\") {\r\n                Logging.info(\"key: \" + field + \" was function; will not serialize\");\r\n                continue;\r\n            }\r\n            else {\r\n                var stringTarget = Util.isArray(origProperty) ? origProperty : Util.extractObject(origProperty);\r\n                try {\r\n                    if (Util.isPrimitive(stringTarget)) {\r\n                        property = stringTarget;\r\n                    }\r\n                    else {\r\n                        property = JSON.stringify(stringTarget);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    property = origProperty.constructor.name.toString() + \" (Error: \" + e.message + \")\";\r\n                    Logging.info(\"key: \" + field + \", could not be serialized\");\r\n                }\r\n            }\r\n            map[field] = property.substring(0, Util.MAX_PROPERTY_LENGTH);\r\n        }\r\n        return map;\r\n    };\r\n    /**\r\n     * Checks if a request url is not on a excluded domain list\r\n     * and if it is safe to add correlation headers\r\n     */\r\n    Util.canIncludeCorrelationHeader = function (client, requestUrl) {\r\n        var excludedDomains = client && client.config && client.config.correlationHeaderExcludedDomains;\r\n        if (!excludedDomains || excludedDomains.length == 0 || !requestUrl) {\r\n            return true;\r\n        }\r\n        for (var i = 0; i < excludedDomains.length; i++) {\r\n            var regex = new RegExp(excludedDomains[i].replace(/\\./g, \"\\.\").replace(/\\*/g, \".*\"));\r\n            try {\r\n                if (regex.test(new url.URL(requestUrl).hostname)) {\r\n                    return false;\r\n                }\r\n            }\r\n            catch (ex) {\r\n                // Ignore errors\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    Util.getCorrelationContextTarget = function (response, key) {\r\n        var contextHeaders = response.headers && response.headers[RequestResponseHeaders.requestContextHeader];\r\n        if (contextHeaders) {\r\n            var keyValues = contextHeaders.split(\",\");\r\n            for (var i = 0; i < keyValues.length; ++i) {\r\n                var keyValue = keyValues[i].split(\"=\");\r\n                if (keyValue.length == 2 && keyValue[0] == key) {\r\n                    return keyValue[1];\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Generate request\r\n     *\r\n     * Proxify the request creation to handle proxy http\r\n     *\r\n     * @param {string} requestUrl url endpoint\r\n     * @param {Object} requestOptions Request option\r\n     * @param {Function} requestCallback callback on request\r\n     * @param {boolean} useProxy Use proxy URL from config\r\n     * @param {boolean} useAgent Set Http Agent in request\r\n     * @returns {http.ClientRequest} request object\r\n     */\r\n    Util.makeRequest = function (config, requestUrl, requestOptions, requestCallback, useProxy, useAgent) {\r\n        if (useProxy === void 0) { useProxy = true; }\r\n        if (useAgent === void 0) { useAgent = true; }\r\n        if (requestUrl && requestUrl.indexOf(\"//\") === 0) {\r\n            requestUrl = \"https:\" + requestUrl;\r\n        }\r\n        var requestUrlParsed = new url.URL(requestUrl);\r\n        var options = __assign(__assign({}, requestOptions), { host: requestUrlParsed.hostname, port: requestUrlParsed.port, path: requestUrlParsed.pathname });\r\n        var proxyUrl = undefined;\r\n        if (useProxy) {\r\n            if (requestUrlParsed.protocol === \"https:\") {\r\n                proxyUrl = config.proxyHttpsUrl || undefined;\r\n            }\r\n            if (requestUrlParsed.protocol === \"http:\") {\r\n                proxyUrl = config.proxyHttpUrl || undefined;\r\n            }\r\n            if (proxyUrl) {\r\n                if (proxyUrl.indexOf(\"//\") === 0) {\r\n                    proxyUrl = \"http:\" + proxyUrl;\r\n                }\r\n                try {\r\n                    var proxyUrlParsed = new url.URL(proxyUrl);\r\n                    // https is not supported at the moment\r\n                    if (proxyUrlParsed.protocol === \"https:\") {\r\n                        Logging.info(\"Proxies that use HTTPS are not supported\");\r\n                        proxyUrl = undefined;\r\n                    }\r\n                    else {\r\n                        options = __assign(__assign({}, options), { host: proxyUrlParsed.hostname, port: proxyUrlParsed.port || \"80\", path: requestUrl, headers: __assign(__assign({}, options.headers), { Host: requestUrlParsed.hostname }) });\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    Logging.warn(\"Wrong proxy URL provided\");\r\n                }\r\n            }\r\n        }\r\n        var isHttps = requestUrlParsed.protocol === \"https:\" && !proxyUrl;\r\n        if (useAgent) {\r\n            if (isHttps && config.httpsAgent !== undefined) {\r\n                options.agent = config.httpsAgent;\r\n            }\r\n            else if (!isHttps && config.httpAgent !== undefined) {\r\n                options.agent = config.httpAgent;\r\n            }\r\n            else if (isHttps) {\r\n                // HTTPS without a passed in agent. Use one that enforces our TLS rules\r\n                options.agent = Util._useKeepAlive ? Util.keepAliveAgent : Util.tlsRestrictedAgent;\r\n            }\r\n        }\r\n        if (isHttps) {\r\n            return https.request(options, requestCallback);\r\n        }\r\n        else {\r\n            return http.request(options, requestCallback);\r\n        }\r\n    };\r\n    /**\r\n     * Parse standard <string | string[] | number> request-context header\r\n     */\r\n    Util.safeIncludeCorrelationHeader = function (client, request, correlationHeader) {\r\n        var header; // attempt to cast correlationHeader to string\r\n        if (typeof correlationHeader === \"string\") {\r\n            header = correlationHeader;\r\n        }\r\n        else if (correlationHeader instanceof Array) { // string[]\r\n            header = correlationHeader.join(\",\");\r\n        }\r\n        else if (correlationHeader && typeof correlationHeader.toString === \"function\") {\r\n            // best effort attempt: requires well-defined toString\r\n            try {\r\n                header = correlationHeader.toString();\r\n            }\r\n            catch (err) {\r\n                Logging.warn(\"Outgoing request-context header could not be read. Correlation of requests may be lost.\", err, correlationHeader);\r\n            }\r\n        }\r\n        if (header) {\r\n            Util.addCorrelationIdHeaderFromString(client, request, header);\r\n        }\r\n        else {\r\n            request.setHeader(RequestResponseHeaders.requestContextHeader, RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\r\n        }\r\n    };\r\n    /**\r\n     * Returns string representation of an object suitable for diagnostics logging.\r\n     */\r\n    Util.dumpObj = function (object) {\r\n        if (object) {\r\n            try {\r\n                var objectTypeDump = Object[\"prototype\"].toString.call(object);\r\n                var propertyValueDump = \"\";\r\n                if (objectTypeDump === \"[object Error]\") {\r\n                    propertyValueDump = \"{ stack: '\" + object.stack + \"', message: '\" + object.message + \"', name: '\" + object.name + \"'\";\r\n                }\r\n                else {\r\n                    propertyValueDump = this.stringify(object);\r\n                }\r\n                return objectTypeDump + propertyValueDump;\r\n            }\r\n            catch (ex) {\r\n                return object.toString();\r\n            }\r\n        }\r\n    };\r\n    Util.stringify = function (payload) {\r\n        try {\r\n            return JSON.stringify(payload);\r\n        }\r\n        catch (error) {\r\n            Logging.warn(\"Failed to serialize payload\", error, payload);\r\n        }\r\n    };\r\n    Util.addCorrelationIdHeaderFromString = function (client, response, correlationHeader) {\r\n        var components = correlationHeader.split(\",\");\r\n        var key = RequestResponseHeaders.requestContextSourceKey + \"=\";\r\n        var found = components.some(function (value) { return value.substring(0, key.length) === key; });\r\n        if (!found) {\r\n            response.setHeader(RequestResponseHeaders.requestContextHeader, correlationHeader + \",\" + RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\r\n        }\r\n    };\r\n    Util._addCloseHandler = function () {\r\n        if (!Util._listenerAttached) {\r\n            process.on(\"exit\", function () {\r\n                Util.isNodeExit = true;\r\n                Util._useKeepAlive = false;\r\n            });\r\n            Util._listenerAttached = true;\r\n        }\r\n    };\r\n    Util._useKeepAlive = !JsonConfig_1.JsonConfig.getInstance().noHttpAgentKeepAlive;\r\n    Util._listenerAttached = false;\r\n    Util.MAX_PROPERTY_LENGTH = 8192;\r\n    Util.keepAliveAgent = new https.Agent({\r\n        keepAlive: true,\r\n        maxSockets: 25,\r\n        secureOptions: constants.SSL_OP_NO_SSLv2 | constants.SSL_OP_NO_SSLv3 |\r\n            constants.SSL_OP_NO_TLSv1 | constants.SSL_OP_NO_TLSv1_1\r\n    });\r\n    Util.tlsRestrictedAgent = new https.Agent({\r\n        secureOptions: constants.SSL_OP_NO_SSLv2 | constants.SSL_OP_NO_SSLv3 |\r\n            constants.SSL_OP_NO_TLSv1 | constants.SSL_OP_NO_TLSv1_1\r\n    });\r\n    Util.isNodeExit = false;\r\n    return Util;\r\n}());\r\nmodule.exports = Util;\r\n//# sourceMappingURL=Util.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.azureRoleEnvironmentTelemetryProcessor = void 0;\r\n/**\r\n *  @deprecated The method should not be called, Azure Properties will be added always when available\r\n *  A telemetry processor that handles Azure specific variables.\r\n */\r\nfunction azureRoleEnvironmentTelemetryProcessor(envelope, context) {\r\n    // NO-OP\r\n}\r\nexports.azureRoleEnvironmentTelemetryProcessor = azureRoleEnvironmentTelemetryProcessor;\r\n//# sourceMappingURL=AzureRoleEnvironmentTelemetryInitializer.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.performanceMetricsTelemetryProcessor = void 0;\r\nvar AutoCollectPerformance = require(\"../AutoCollection/Performance\");\r\nvar TelemetryType = __importStar(require(\"../Declarations/Contracts\"));\r\nfunction performanceMetricsTelemetryProcessor(envelope, client) {\r\n    // If live metrics is enabled, forward all telemetry there\r\n    if (client) {\r\n        client.addDocument(envelope);\r\n    }\r\n    // Increment rate counters (for standard metrics and live metrics)\r\n    switch (envelope.data.baseType) {\r\n        case TelemetryType.TelemetryTypeString.Exception:\r\n            AutoCollectPerformance.countException();\r\n            break;\r\n        case TelemetryType.TelemetryTypeString.Request:\r\n            var requestData = envelope.data.baseData;\r\n            AutoCollectPerformance.countRequest(requestData.duration, requestData.success);\r\n            break;\r\n        case TelemetryType.TelemetryTypeString.Dependency:\r\n            var remoteDependencyData = envelope.data.baseData;\r\n            AutoCollectPerformance.countDependency(remoteDependencyData.duration, remoteDependencyData.success);\r\n            break;\r\n    }\r\n    return true;\r\n}\r\nexports.performanceMetricsTelemetryProcessor = performanceMetricsTelemetryProcessor;\r\n//# sourceMappingURL=PerformanceMetricsTelemetryProcessor.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.preAggregatedMetricsTelemetryProcessor = void 0;\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar AutoCollecPreAggregatedMetrics = require(\"../AutoCollection/PreAggregatedMetrics\");\r\nvar TelemetryType = __importStar(require(\"../Declarations/Contracts\"));\r\nfunction preAggregatedMetricsTelemetryProcessor(envelope, context) {\r\n    if (AutoCollecPreAggregatedMetrics.isEnabled()) {\r\n        // Increment rate counters\r\n        switch (envelope.data.baseType) {\r\n            case TelemetryType.TelemetryTypeString.Exception:\r\n                var exceptionData = envelope.data.baseData;\r\n                exceptionData.properties = __assign(__assign({}, exceptionData.properties), { \"_MS.ProcessedByMetricExtractors\": \"(Name:'Exceptions', Ver:'1.1')\" });\r\n                var exceptionDimensions = {\r\n                    cloudRoleInstance: envelope.tags[context.keys.cloudRoleInstance],\r\n                    cloudRoleName: envelope.tags[context.keys.cloudRole]\r\n                };\r\n                AutoCollecPreAggregatedMetrics.countException(exceptionDimensions);\r\n                break;\r\n            case TelemetryType.TelemetryTypeString.Trace:\r\n                var traceData = envelope.data.baseData;\r\n                traceData.properties = __assign(__assign({}, traceData.properties), { \"_MS.ProcessedByMetricExtractors\": \"(Name:'Traces', Ver:'1.1')\" });\r\n                var traceDimensions = {\r\n                    cloudRoleInstance: envelope.tags[context.keys.cloudRoleInstance],\r\n                    cloudRoleName: envelope.tags[context.keys.cloudRole],\r\n                    traceSeverityLevel: Contracts.SeverityLevel[traceData.severity]\r\n                };\r\n                AutoCollecPreAggregatedMetrics.countTrace(traceDimensions);\r\n                break;\r\n            case TelemetryType.TelemetryTypeString.Request:\r\n                var requestData = envelope.data.baseData;\r\n                requestData.properties = __assign(__assign({}, requestData.properties), { \"_MS.ProcessedByMetricExtractors\": \"(Name:'Requests', Ver:'1.1')\" });\r\n                var requestDimensions = {\r\n                    cloudRoleInstance: envelope.tags[context.keys.cloudRoleInstance],\r\n                    cloudRoleName: envelope.tags[context.keys.cloudRole],\r\n                    operationSynthetic: envelope.tags[context.keys.operationSyntheticSource],\r\n                    requestSuccess: requestData.success,\r\n                    requestResultCode: requestData.responseCode\r\n                };\r\n                AutoCollecPreAggregatedMetrics.countRequest(requestData.duration, requestDimensions);\r\n                break;\r\n            case TelemetryType.TelemetryTypeString.Dependency:\r\n                var remoteDependencyData = envelope.data.baseData;\r\n                remoteDependencyData.properties = __assign(__assign({}, remoteDependencyData.properties), { \"_MS.ProcessedByMetricExtractors\": \"(Name:'Dependencies', Ver:'1.1')\" });\r\n                var dependencyDimensions = {\r\n                    cloudRoleInstance: envelope.tags[context.keys.cloudRoleInstance],\r\n                    cloudRoleName: envelope.tags[context.keys.cloudRole],\r\n                    operationSynthetic: envelope.tags[context.keys.operationSyntheticSource],\r\n                    dependencySuccess: remoteDependencyData.success,\r\n                    dependencyType: remoteDependencyData.type,\r\n                    dependencyTarget: remoteDependencyData.target,\r\n                    dependencyResultCode: remoteDependencyData.resultCode\r\n                };\r\n                AutoCollecPreAggregatedMetrics.countDependency(remoteDependencyData.duration, dependencyDimensions);\r\n                break;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nexports.preAggregatedMetricsTelemetryProcessor = preAggregatedMetricsTelemetryProcessor;\r\n//# sourceMappingURL=PreAggregatedMetricsTelemetryProcessor.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getSamplingHashCode = exports.samplingTelemetryProcessor = void 0;\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\n/**\r\n *  A telemetry processor that handles sampling.\r\n */\r\nfunction samplingTelemetryProcessor(envelope, contextObjects) {\r\n    var samplingPercentage = envelope.sampleRate; // Set for us in Client.getEnvelope\r\n    var isSampledIn = false;\r\n    if (samplingPercentage === null || samplingPercentage === undefined || samplingPercentage >= 100) {\r\n        return true;\r\n    }\r\n    else if (envelope.data && Contracts.TelemetryType.Metric === Contracts.baseTypeToTelemetryType(envelope.data.baseType)) {\r\n        // Exclude MetricData telemetry from sampling\r\n        return true;\r\n    }\r\n    else if (contextObjects.correlationContext && contextObjects.correlationContext.operation) {\r\n        // If we're using dependency correlation, sampling should retain all telemetry from a given request\r\n        isSampledIn = getSamplingHashCode(contextObjects.correlationContext.operation.id) < samplingPercentage;\r\n    }\r\n    else {\r\n        // If we're not using dependency correlation, sampling should use a random distribution on each item\r\n        isSampledIn = (Math.random() * 100) < samplingPercentage;\r\n    }\r\n    return isSampledIn;\r\n}\r\nexports.samplingTelemetryProcessor = samplingTelemetryProcessor;\r\n/** Ported from AI .NET SDK */\r\nfunction getSamplingHashCode(input) {\r\n    var csharpMin = -2147483648;\r\n    var csharpMax = 2147483647;\r\n    var hash = 5381;\r\n    if (!input) {\r\n        return 0;\r\n    }\r\n    while (input.length < 8) {\r\n        input = input + input;\r\n    }\r\n    for (var i = 0; i < input.length; i++) {\r\n        // JS doesn't respond to integer overflow by wrapping around. Simulate it with bitwise operators ( | 0)\r\n        hash = ((((hash << 5) + hash) | 0) + input.charCodeAt(i) | 0);\r\n    }\r\n    hash = hash <= csharpMin ? csharpMax : Math.abs(hash);\r\n    return (hash / csharpMax) * 100;\r\n}\r\nexports.getSamplingHashCode = getSamplingHashCode;\r\n//# sourceMappingURL=SamplingTelemetryProcessor.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./AzureRoleEnvironmentTelemetryInitializer\"), exports);\r\n__exportStar(require(\"./SamplingTelemetryProcessor\"), exports);\r\n__exportStar(require(\"./PerformanceMetricsTelemetryProcessor\"), exports);\r\n__exportStar(require(\"./PreAggregatedMetricsTelemetryProcessor\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.dispose = exports.Configuration = exports.wrapWithCorrelationContext = exports.startOperation = exports.getCorrelationContext = exports.start = exports.setup = exports.liveMetricsClient = exports.defaultClient = exports.DistributedTracingModes = void 0;\r\nvar CorrelationContextManager = require(\"./AutoCollection/CorrelationContextManager\"); // Keep this first\r\nvar AutoCollectConsole = require(\"./AutoCollection/Console\");\r\nvar AutoCollectExceptions = require(\"./AutoCollection/Exceptions\");\r\nvar AutoCollectPerformance = require(\"./AutoCollection/Performance\");\r\nvar AutoCollecPreAggregatedMetrics = require(\"./AutoCollection/PreAggregatedMetrics\");\r\nvar HeartBeat = require(\"./AutoCollection/HeartBeat\");\r\nvar WebSnippet = require(\"./AutoCollection/WebSnippet\");\r\nvar AutoCollectHttpDependencies = require(\"./AutoCollection/HttpDependencies\");\r\nvar AutoCollectHttpRequests = require(\"./AutoCollection/HttpRequests\");\r\nvar CorrelationIdManager = require(\"./Library/CorrelationIdManager\");\r\nvar Logging = require(\"./Library/Logging\");\r\nvar QuickPulseClient = require(\"./Library/QuickPulseStateManager\");\r\nvar NativePerformance_1 = require(\"./AutoCollection/NativePerformance\");\r\nvar AzureFunctionsHook_1 = require(\"./AutoCollection/AzureFunctionsHook\");\r\n// We export these imports so that SDK users may use these classes directly.\r\n// They're exposed using \"export import\" so that types are passed along as expected\r\nexports.TelemetryClient = require(\"./Library/NodeClient\");\r\nexports.Contracts = require(\"./Declarations/Contracts\");\r\nexports.azureFunctionsTypes = require(\"./Library/Functions\");\r\nvar DistributedTracingModes;\r\n(function (DistributedTracingModes) {\r\n    /**\r\n     * Send Application Insights correlation headers\r\n     */\r\n    DistributedTracingModes[DistributedTracingModes[\"AI\"] = 0] = \"AI\";\r\n    /**\r\n     * (Default) Send both W3C Trace Context headers and back-compatibility Application Insights headers\r\n     */\r\n    DistributedTracingModes[DistributedTracingModes[\"AI_AND_W3C\"] = 1] = \"AI_AND_W3C\";\r\n})(DistributedTracingModes = exports.DistributedTracingModes || (exports.DistributedTracingModes = {}));\r\nvar _console;\r\nvar _exceptions;\r\nvar _performance;\r\nvar _preAggregatedMetrics;\r\nvar _heartbeat;\r\nvar _webSnippet;\r\nvar _nativePerformance;\r\nvar _serverRequests;\r\nvar _clientRequests;\r\nvar _azureFunctions;\r\nvar _isStarted = false;\r\nvar _performanceLiveMetrics;\r\n/**\r\n * Initializes the default client. Should be called after setting\r\n * configuration options.\r\n *\r\n * @param setupString the Connection String or Instrumentation Key to use. Optional, if\r\n * this is not specified, the value will be read from the environment\r\n * variable APPLICATIONINSIGHTS_CONNECTION_STRING.\r\n * @returns {Configuration} the configuration class to initialize\r\n * and start the SDK.\r\n */\r\nfunction setup(setupString) {\r\n    if (!exports.defaultClient) {\r\n        exports.defaultClient = new exports.TelemetryClient(setupString);\r\n        _console = new AutoCollectConsole(exports.defaultClient);\r\n        _exceptions = new AutoCollectExceptions(exports.defaultClient);\r\n        _performance = new AutoCollectPerformance(exports.defaultClient);\r\n        _preAggregatedMetrics = new AutoCollecPreAggregatedMetrics(exports.defaultClient);\r\n        _heartbeat = new HeartBeat(exports.defaultClient);\r\n        _webSnippet = new WebSnippet(exports.defaultClient);\r\n        _serverRequests = new AutoCollectHttpRequests(exports.defaultClient);\r\n        _clientRequests = new AutoCollectHttpDependencies(exports.defaultClient);\r\n        if (!_nativePerformance) {\r\n            _nativePerformance = new NativePerformance_1.AutoCollectNativePerformance(exports.defaultClient);\r\n        }\r\n        _azureFunctions = new AzureFunctionsHook_1.AzureFunctionsHook(exports.defaultClient);\r\n    }\r\n    else {\r\n        Logging.info(\"The default client is already setup\");\r\n    }\r\n    return Configuration;\r\n}\r\nexports.setup = setup;\r\nfunction _setDefaultConfig() {\r\n    if (exports.defaultClient) {\r\n        // Add default config values if no config values are not provided before start\r\n        if (exports.defaultClient.config.enableAutoCollectExternalLoggers == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectExternalLoggers = true;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectConsole == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectConsole = false;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectExceptions == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectExceptions = true;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectPerformance == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectPerformance = true;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectPreAggregatedMetrics == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectPreAggregatedMetrics = true;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectHeartbeat == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectHeartbeat = true;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectRequests == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectRequests = true;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectDependencies == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectDependencies = true;\r\n        }\r\n        if (exports.defaultClient.config.enableUseDiskRetryCaching == undefined) {\r\n            exports.defaultClient.config.enableUseDiskRetryCaching = true;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoDependencyCorrelation == undefined) {\r\n            exports.defaultClient.config.enableAutoDependencyCorrelation = true;\r\n        }\r\n        if (exports.defaultClient.config.enableSendLiveMetrics == undefined) {\r\n            exports.defaultClient.config.enableSendLiveMetrics = false;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectExtendedMetrics == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectExtendedMetrics = true;\r\n        }\r\n        if (exports.defaultClient.config.enableWebInstrumentation == undefined) {\r\n            exports.defaultClient.config.enableWebInstrumentation = false;\r\n        }\r\n        if (exports.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions == undefined) {\r\n            exports.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions = false;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Starts automatic collection of telemetry. Prior to calling start no\r\n * telemetry will be *automatically* collected, though manual collection\r\n * is enabled.\r\n * @returns {ApplicationInsights} this class\r\n */\r\nfunction start() {\r\n    if (!!exports.defaultClient) {\r\n        _isStarted = true;\r\n        _setDefaultConfig();\r\n        _console.enable(exports.defaultClient.config.enableAutoCollectExternalLoggers, exports.defaultClient.config.enableAutoCollectConsole);\r\n        _exceptions.enable(exports.defaultClient.config.enableAutoCollectExceptions);\r\n        _performance.enable(exports.defaultClient.config.enableAutoCollectPerformance);\r\n        _preAggregatedMetrics.enable(exports.defaultClient.config.enableAutoCollectPreAggregatedMetrics);\r\n        _heartbeat.enable(exports.defaultClient.config.enableAutoCollectHeartbeat);\r\n        _serverRequests.useAutoCorrelation(exports.defaultClient.config.enableAutoDependencyCorrelation, exports.defaultClient.config.enableUseAsyncHooks);\r\n        _serverRequests.enable(exports.defaultClient.config.enableAutoCollectRequests);\r\n        _clientRequests.enable(exports.defaultClient.config.enableAutoCollectDependencies);\r\n        _webSnippet.enable(exports.defaultClient.config.enableWebInstrumentation, exports.defaultClient.config.webInstrumentationConnectionString);\r\n        if (exports.defaultClient.config.enableSendLiveMetrics) {\r\n            // Initialize Live metrics in case config was provided in telemetryClient config, double initialization check is part of liveMetrics client\r\n            if (!exports.liveMetricsClient) {\r\n                // No qps client exists. Create one and prepare it to be enabled at .start()\r\n                exports.liveMetricsClient = new QuickPulseClient(exports.defaultClient.config, exports.defaultClient.context, exports.defaultClient.getAuthorizationHandler, exports.defaultClient);\r\n                _performanceLiveMetrics = new AutoCollectPerformance(exports.liveMetricsClient, 1000, true);\r\n                exports.liveMetricsClient.addCollector(_performanceLiveMetrics);\r\n                exports.defaultClient.quickPulseClient = exports.liveMetricsClient; // Need this so we can forward all manual tracks to live metrics via PerformanceMetricsTelemetryProcessor\r\n            }\r\n            exports.liveMetricsClient.enable(exports.defaultClient.config.enableSendLiveMetrics);\r\n        }\r\n        _azureFunctions.enable(exports.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions);\r\n        var extendedMetricsConfig = NativePerformance_1.AutoCollectNativePerformance.parseEnabled(exports.defaultClient.config.enableAutoCollectExtendedMetrics, exports.defaultClient.config);\r\n        _nativePerformance.enable(exports.defaultClient.config.enableAutoCollectExtendedMetrics, extendedMetricsConfig.disabledMetrics);\r\n        if (exports.defaultClient && exports.defaultClient.channel) {\r\n            exports.defaultClient.channel.setUseDiskRetryCaching(exports.defaultClient.config.enableUseDiskRetryCaching, exports.defaultClient.config.enableResendInterval, exports.defaultClient.config.enableMaxBytesOnDisk);\r\n        }\r\n    }\r\n    else {\r\n        Logging.warn(\"Start cannot be called before setup\");\r\n    }\r\n    return Configuration;\r\n}\r\nexports.start = start;\r\n/**\r\n * Returns an object that is shared across all code handling a given request.\r\n * This can be used similarly to thread-local storage in other languages.\r\n * Properties set on this object will be available to telemetry processors.\r\n *\r\n * Do not store sensitive information here.\r\n * Custom properties set on this object can be exposed in a future SDK\r\n * release via outgoing HTTP headers.\r\n * This is to allow for correlating data cross-component.\r\n *\r\n * This method will return null if automatic dependency correlation is disabled.\r\n * @returns A plain object for request storage or null if automatic dependency correlation is disabled.\r\n */\r\nfunction getCorrelationContext() {\r\n    return CorrelationContextManager.CorrelationContextManager.getCurrentContext();\r\n}\r\nexports.getCorrelationContext = getCorrelationContext;\r\nfunction startOperation(context, request) {\r\n    return CorrelationContextManager.CorrelationContextManager.startOperation(context, request);\r\n}\r\nexports.startOperation = startOperation;\r\n/**\r\n * Returns a function that will get the same correlation context within its\r\n * function body as the code executing this function.\r\n * Use this method if automatic dependency correlation is not propagating\r\n * correctly to an asynchronous callback.\r\n */\r\nfunction wrapWithCorrelationContext(fn, context) {\r\n    return CorrelationContextManager.CorrelationContextManager.wrapCallback(fn, context);\r\n}\r\nexports.wrapWithCorrelationContext = wrapWithCorrelationContext;\r\n/**\r\n * The active configuration for global SDK behaviors, such as autocollection.\r\n */\r\nvar Configuration = /** @class */ (function () {\r\n    function Configuration() {\r\n    }\r\n    /**\r\n     * Sets the distributed tracing modes. If W3C mode is enabled, W3C trace context\r\n     * headers (traceparent/tracestate) will be parsed in all incoming requests, and included in outgoing\r\n     * requests. In W3C mode, existing back-compatibility AI headers will also be parsed and included.\r\n     * Enabling W3C mode will not break existing correlation with other Application Insights instrumented\r\n     * services. Default=AI\r\n    */\r\n    Configuration.setDistributedTracingMode = function (value) {\r\n        CorrelationIdManager.w3cEnabled = value === DistributedTracingModes.AI_AND_W3C;\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of console and logger tracking (enabled by default for third-party loggers only)\r\n     * @param value if true logger activity will be sent to Application Insights\r\n     * @param collectConsoleLog if true, logger autocollection will include console.log calls (default false)\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectConsole = function (value, collectConsoleLog) {\r\n        if (collectConsoleLog === void 0) { collectConsoleLog = false; }\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoCollectExternalLoggers = value;\r\n            exports.defaultClient.config.enableAutoCollectConsole = collectConsoleLog;\r\n            if (_isStarted) {\r\n                _console.enable(value, collectConsoleLog);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of exception tracking (enabled by default)\r\n     * @param value if true uncaught exceptions will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectExceptions = function (value) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoCollectExceptions = value;\r\n            if (_isStarted) {\r\n                _exceptions.enable(value);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of performance tracking (enabled by default)\r\n     * @param value if true performance counters will be collected every second and sent to Application Insights\r\n     * @param collectExtendedMetrics if true, extended metrics counters will be collected every minute and sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectPerformance = function (value, collectExtendedMetrics) {\r\n        if (collectExtendedMetrics === void 0) { collectExtendedMetrics = true; }\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoCollectPerformance = value;\r\n            var extendedMetricsConfig = NativePerformance_1.AutoCollectNativePerformance.parseEnabled(collectExtendedMetrics, exports.defaultClient.config);\r\n            exports.defaultClient.config.enableAutoCollectExtendedMetrics = extendedMetricsConfig.isEnabled;\r\n            if (_isStarted) {\r\n                _performance.enable(value);\r\n                _nativePerformance.enable(exports.defaultClient.config.enableAutoCollectExtendedMetrics, extendedMetricsConfig.disabledMetrics);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of pre aggregated metrics tracking (enabled by default)\r\n     * @param value if true pre aggregated metrics will be collected every minute and sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectPreAggregatedMetrics = function (value) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoCollectPreAggregatedMetrics = value;\r\n            if (_isStarted) {\r\n                _preAggregatedMetrics.enable(value);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of request tracking (enabled by default)\r\n     * @param value if true HeartBeat metric data will be collected every 15 mintues and sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectHeartbeat = function (value) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoCollectHeartbeat = value;\r\n            if (_isStarted) {\r\n                _heartbeat.enable(value);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of Web snippet injection, this config is NOT exposed in documentation after version 2.3.5\r\n     * @deprecated, please use enableWebInstrumentation instead.\r\n     * @param value if true Web snippet will be tried to be injected in server response\r\n     * @param webSnippetConnectionString if provided, web snippet injection will use this ConnectionString. Default to use the connectionString in Node.js app initialization\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.enableAutoWebSnippetInjection = function (value, webSnippetConnectionString) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableWebInstrumentation = value;\r\n            exports.defaultClient.config.webInstrumentationConnectionString = webSnippetConnectionString;\r\n            if (_isStarted) {\r\n                _webSnippet.enable(exports.defaultClient.config.enableAutoWebSnippetInjection, exports.defaultClient.config.webSnippetConnectionString);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of Web snippet injection\r\n     * @param value if true Web snippet will be tried to be injected in server response\r\n     * @param webSnippetConnectionString if provided, web snippet injection will use this ConnectionString. Default to use the connectionString in Node.js app initialization\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.enableWebInstrumentation = function (value, webSnippetConnectionString) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableWebInstrumentation = value;\r\n            exports.defaultClient.config.webInstrumentationConnectionString = webSnippetConnectionString;\r\n            if (_isStarted) {\r\n                _webSnippet.enable(exports.defaultClient.config.enableWebInstrumentation, exports.defaultClient.config.webInstrumentationConnectionString);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of request tracking (enabled by default)\r\n     * @param value if true requests will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectRequests = function (value) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoCollectRequests = value;\r\n            if (_isStarted) {\r\n                _serverRequests.enable(value);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of dependency tracking (enabled by default)\r\n     * @param value if true dependencies will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectDependencies = function (value) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoCollectDependencies = value;\r\n            if (_isStarted) {\r\n                _clientRequests.enable(value);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of automatic dependency correlation (enabled by default)\r\n     * @param value if true dependencies will be correlated with requests\r\n     * @param useAsyncHooks if true, forces use of experimental async_hooks module to provide correlation. If false, instead uses only patching-based techniques. If left blank, the best option is chosen for you based on your version of Node.js.\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoDependencyCorrelation = function (value, useAsyncHooks) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoDependencyCorrelation = value;\r\n            exports.defaultClient.config.enableUseAsyncHooks = useAsyncHooks;\r\n            if (_isStarted) {\r\n                _serverRequests.useAutoCorrelation(value, useAsyncHooks);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\r\n     * Note that this method only applies to the default client. Disk-backed retry caching is disabled by default for additional clients.\r\n     * For enable for additional clients, use client.channel.setUseDiskRetryCaching(true).\r\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\r\n     * @param value if true events that occured while client is offline will be cached on disk\r\n     * @param resendInterval The wait interval for resending cached events.\r\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableUseDiskRetryCaching = value;\r\n            exports.defaultClient.config.enableResendInterval = resendInterval;\r\n            exports.defaultClient.config.enableMaxBytesOnDisk = maxBytesOnDisk;\r\n            if (exports.defaultClient.channel) {\r\n                exports.defaultClient.channel.setUseDiskRetryCaching(exports.defaultClient.config.enableUseDiskRetryCaching, exports.defaultClient.config.enableResendInterval, exports.defaultClient.config.enableMaxBytesOnDisk);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Enables debug and warning logging for AppInsights itself.\r\n     * @param enableDebugLogging if true, enables debug logging\r\n     * @param enableWarningLogging if true, enables warning logging\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setInternalLogging = function (enableDebugLogging, enableWarningLogging) {\r\n        if (enableDebugLogging === void 0) { enableDebugLogging = false; }\r\n        if (enableWarningLogging === void 0) { enableWarningLogging = true; }\r\n        Logging.enableDebug = enableDebugLogging;\r\n        Logging.disableWarnings = !enableWarningLogging;\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Enable automatic incoming request tracking when using Azure Functions\r\n     * @param value if true auto collection of incoming requests will be enabled\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectIncomingRequestAzureFunctions = function (value) {\r\n        if (exports.defaultClient) {\r\n            exports.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions = value;\r\n            if (_isStarted) {\r\n                _azureFunctions.enable(value);\r\n            }\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Enables communication with Application Insights Live Metrics.\r\n     * @param enable if true, enables communication with the live metrics service\r\n     */\r\n    Configuration.setSendLiveMetrics = function (enable) {\r\n        if (enable === void 0) { enable = false; }\r\n        if (!exports.defaultClient) {\r\n            // Need a defaultClient so that we can add the QPS telemetry processor to it\r\n            Logging.warn(\"Live metrics client cannot be setup without the default client\");\r\n            return Configuration;\r\n        }\r\n        if (!exports.liveMetricsClient && enable) {\r\n            // No qps client exists. Create one and prepare it to be enabled at .start()\r\n            exports.liveMetricsClient = new QuickPulseClient(exports.defaultClient.config, exports.defaultClient.context, exports.defaultClient.getAuthorizationHandler, exports.defaultClient);\r\n            _performanceLiveMetrics = new AutoCollectPerformance(exports.liveMetricsClient, 1000, true);\r\n            exports.liveMetricsClient.addCollector(_performanceLiveMetrics);\r\n            exports.defaultClient.quickPulseClient = exports.liveMetricsClient; // Need this so we can forward all manual tracks to live metrics via PerformanceMetricsTelemetryProcessor\r\n        }\r\n        else if (exports.liveMetricsClient) {\r\n            // qps client already exists; enable/disable it\r\n            exports.liveMetricsClient.enable(enable);\r\n        }\r\n        exports.defaultClient.config.enableSendLiveMetrics = enable;\r\n        return Configuration;\r\n    };\r\n    // Convenience shortcut to ApplicationInsights.start\r\n    Configuration.start = start;\r\n    return Configuration;\r\n}());\r\nexports.Configuration = Configuration;\r\n/**\r\n * Disposes the default client and all the auto collectors so they can be reinitialized with different configuration\r\n*/\r\nfunction dispose() {\r\n    CorrelationIdManager.w3cEnabled = true; // reset to default\r\n    exports.defaultClient = null;\r\n    _isStarted = false;\r\n    if (_console) {\r\n        _console.dispose();\r\n    }\r\n    if (_exceptions) {\r\n        _exceptions.dispose();\r\n    }\r\n    if (_performance) {\r\n        _performance.dispose();\r\n    }\r\n    if (_preAggregatedMetrics) {\r\n        _preAggregatedMetrics.dispose();\r\n    }\r\n    if (_heartbeat) {\r\n        _heartbeat.dispose();\r\n    }\r\n    if (_webSnippet) {\r\n        _webSnippet.dispose();\r\n    }\r\n    if (_nativePerformance) {\r\n        _nativePerformance.dispose();\r\n    }\r\n    if (_serverRequests) {\r\n        _serverRequests.dispose();\r\n    }\r\n    if (_clientRequests) {\r\n        _clientRequests.dispose();\r\n    }\r\n    if (exports.liveMetricsClient) {\r\n        exports.liveMetricsClient.enable(false);\r\n        exports.liveMetricsClient = undefined;\r\n    }\r\n    if (_azureFunctions) {\r\n        _azureFunctions.dispose();\r\n    }\r\n}\r\nexports.dispose = dispose;\r\n//# sourceMappingURL=applicationinsights.js.map","'use strict';\n\nconst asyncWrap = process.binding('async_wrap');\nconst TIMERWRAP = asyncWrap.Providers.TIMERWRAP;\n\nconst patchs = {\n  'nextTick': require('./patches/next-tick.js'),\n  'promise': require('./patches/promise.js'),\n  'timers': require('./patches/timers.js')\n};\n\nconst ignoreUIDs = new Set();\n\nfunction State() {\n  this.enabled = false;\n  this.counter = 0;\n}\n\nfunction Hooks() {\n  const initFns = this.initFns = [];\n  const preFns = this.preFns = [];\n  const postFns = this.postFns = [];\n  const destroyFns = this.destroyFns = [];\n\n  this.init = function (uid, provider, parentUid, parentHandle) {\n    // Ignore TIMERWRAP, since setTimeout etc. is monkey patched\n    if (provider === TIMERWRAP) {\n      ignoreUIDs.add(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of initFns) {\n      hook(uid, this, provider, parentUid, parentHandle);\n    }\n  };\n\n  this.pre = function (uid) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of preFns) {\n      hook(uid, this);\n    }\n  };\n\n  this.post = function (uid, didThrow) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of postFns) {\n      hook(uid, this, didThrow);\n    }\n  };\n\n  this.destroy = function (uid) {\n    // Cleanup the ignore list if this uid should be ignored\n    if (ignoreUIDs.has(uid)) {\n      ignoreUIDs.delete(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of destroyFns) {\n      hook(uid);\n    }\n  };\n}\n\nHooks.prototype.add = function (hooks) {\n  if (hooks.init) this.initFns.push(hooks.init);\n  if (hooks.pre) this.preFns.push(hooks.pre);\n  if (hooks.post) this.postFns.push(hooks.post);\n  if (hooks.destroy) this.destroyFns.push(hooks.destroy);\n};\n\nfunction removeElement(array, item) {\n  const index = array.indexOf(item);\n  if (index === -1) return;\n  array.splice(index, 1);\n}\n\nHooks.prototype.remove = function (hooks) {\n  if (hooks.init) removeElement(this.initFns, hooks.init);\n  if (hooks.pre) removeElement(this.preFns, hooks.pre);\n  if (hooks.post) removeElement(this.postFns, hooks.post);\n  if (hooks.destroy) removeElement(this.destroyFns, hooks.destroy);\n};\n\nfunction AsyncHook() {\n  this._state = new State();\n  this._hooks = new Hooks();\n\n  // expose version for conflict detection\n  this.version = require('./package.json').version;\n\n  // expose the Providers map\n  this.providers = asyncWrap.Providers;\n\n  // apply patches\n  for (const key of Object.keys(patchs)) {\n    patchs[key].call(this);\n  }\n\n  // setup async wrap\n  if (process.env.hasOwnProperty('NODE_ASYNC_HOOK_WARNING')) {\n    console.warn('warning: you are using async-hook-jl which is unstable.');\n  }\n  asyncWrap.setupHooks({\n    init: this._hooks.init,\n    pre: this._hooks.pre,\n    post: this._hooks.post,\n    destroy: this._hooks.destroy\n  });\n}\nmodule.exports = AsyncHook;\n\nAsyncHook.prototype.addHooks = function (hooks) {\n  this._hooks.add(hooks);\n};\n\nAsyncHook.prototype.removeHooks = function (hooks) {\n  this._hooks.remove(hooks);\n};\n\nAsyncHook.prototype.enable = function () {\n  this._state.enabled = true;\n  asyncWrap.enable();\n};\n\nAsyncHook.prototype.disable = function () {\n  this._state.enabled = false;\n  asyncWrap.disable();\n};","'use strict';\n\nconst AsyncHook = require('./async-hook.js');\n\n// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._asyncHook) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._asyncHook.version === require('./package.json').version) {\n    module.exports = global._asyncHook;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of async-hook-jl found');\n  }\n} else {\n  const stackChain = require('stack-chain');\n\n  // Remove callSites from this module. AsyncWrap doesn't have any callSites\n  // and the hooks are expected to be completely transparent.\n  stackChain.filter.attach(function (error, frames) {\n    return frames.filter(function (callSite) {\n      const filename = callSite.getFileName();\n      // filename is not always a string, for example in case of eval it is\n      // undefined. So check if the filename is defined.\n      return !(filename && filename.slice(0, __dirname.length) === __dirname);\n    });\n  });\n\n  module.exports = global._asyncHook = new AsyncHook();\n}","'use strict';\n\nfunction NextTickWrap() {}\n\nmodule.exports = function patch() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const oldNextTick = process.nextTick;\n  process.nextTick = function () {\n    if (!state.enabled) return oldNextTick.apply(process, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback is not a function');\n    }\n\n    const handle = new NextTickWrap();\n    const uid = --state.counter;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if(didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            hooks.post.call(handle, uid, true);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      hooks.destroy.call(null, uid);\n    };\n\n    return oldNextTick.apply(process, args);\n  };\n}\n","'use strict';\n\nfunction PromiseWrap() {}\n\nmodule.exports = function patchPromise() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const Promise = global.Promise;\n\n  /* As per ECMAScript 2015, .catch must be implemented by calling .then, as\n   * such we need needn't patch .catch as well. see:\n   * http://www.ecma-international.org/ecma-262/6.0/#sec-promise.prototype.catch\n   */\n  const oldThen = Promise.prototype.then;\n  Promise.prototype.then = wrappedThen;\n\n  function makeWrappedHandler(fn, handle, uid, isOnFulfilled) {\n    if ('function' !== typeof fn) {\n      return isOnFulfilled\n        ? makeUnhandledResolutionHandler(uid)\n        : makeUnhandledRejectionHandler(uid);\n    }\n\n    return function wrappedHandler() {\n      hooks.pre.call(handle, uid);\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        hooks.post.call(handle, uid, false);\n        hooks.destroy.call(null, uid);\n      }\n    };\n  }\n\n  function makeUnhandledResolutionHandler(uid) {\n    return function unhandledResolutionHandler(val) {\n      hooks.destroy.call(null, uid);\n      return val;\n    };\n  }\n\n  function makeUnhandledRejectionHandler(uid) {\n    return function unhandledRejectedHandler(val) {\n      hooks.destroy.call(null, uid);\n      throw val;\n    };\n  }\n\n  function wrappedThen(onFulfilled, onRejected) {\n    if (!state.enabled) return oldThen.call(this, onFulfilled, onRejected);\n\n    const handle = new PromiseWrap();\n    const uid = --state.counter;\n\n    hooks.init.call(handle, uid, 0, null, null);\n\n    return oldThen.call(\n      this,\n      makeWrappedHandler(onFulfilled, handle, uid, true),\n      makeWrappedHandler(onRejected, handle, uid, false)\n    );\n  }\n};\n","'use strict';\n\nconst timers = require('timers');\n\nfunction TimeoutWrap() {}\nfunction IntervalWrap() {}\nfunction ImmediateWrap() {}\n\nconst timeoutMap = new Map();\nconst intervalMap = new Map();\nconst ImmediateMap = new Map();\n\nlet activeCallback = null;\nlet clearedInCallback = false;\n\nmodule.exports = function patch() {\n  patchTimer(this._hooks, this._state, 'setTimeout', 'clearTimeout', TimeoutWrap, timeoutMap, true);\n  patchTimer(this._hooks, this._state, 'setInterval', 'clearInterval', IntervalWrap, intervalMap, false);\n  patchTimer(this._hooks, this._state, 'setImmediate', 'clearImmediate', ImmediateWrap, ImmediateMap, true);\n\n  global.setTimeout = timers.setTimeout;\n  global.setInterval = timers.setInterval;\n  global.setImmediate = timers.setImmediate;\n\n  global.clearTimeout = timers.clearTimeout;\n  global.clearInterval = timers.clearInterval;\n  global.clearImmediate = timers.clearImmediate;\n};\n\nfunction patchTimer(hooks, state, setFn, clearFn, Handle, timerMap, singleCall) {\n  const oldSetFn = timers[setFn];\n  const oldClearFn = timers[clearFn];\n\n  // overwrite set[Timeout]\n  timers[setFn] = function () {\n    if (!state.enabled) return oldSetFn.apply(timers, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('\"callback\" argument must be a function');\n    }\n\n    const handle = new Handle();\n    const uid = --state.counter;\n    let timerId = undefined;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      activeCallback = timerId;\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if (didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            // call the post hook\n            hooks.post.call(handle, uid, true);\n            // setInterval won't continue\n            timerMap.delete(timerId);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      activeCallback = null;\n\n      // call the destroy hook if the callback will only be called once\n      if (singleCall || clearedInCallback) {\n        clearedInCallback = false;\n        timerMap.delete(timerId);\n        hooks.destroy.call(null, uid);\n      }\n    };\n\n    timerId = oldSetFn.apply(timers, args);\n    // Bind the timerId and uid for later use, in case the clear* function is\n    // called.\n    timerMap.set(timerId, uid);\n\n    return timerId;\n  };\n\n  // overwrite clear[Timeout]\n  timers[clearFn] = function (timerId) {\n    // If clear* was called within the timer callback, then delay the destroy\n    // event to after the post event has been called.\n    if (activeCallback === timerId && timerId !== null) {\n      clearedInCallback = true;\n    }\n    // clear should call the destroy hook. Note if timerId doesn't exists\n    // it is because asyncWrap wasn't enabled at the time.\n    else if (timerMap.has(timerId)) {\n      const uid = timerMap.get(timerId);\n      timerMap.delete(timerId);\n      hooks.destroy.call(null, uid);\n    }\n\n    oldClearFn.apply(timers, arguments);\n  };\n}\n","'use strict';\n\nmodule.exports = (Promise, ensureAslWrapper) => {\n  // Updates to this class should also be applied to the the ES3 version\n  // in index.js.\n  return class WrappedPromise extends Promise {\n    constructor(executor) {\n      var context, args;\n      super(wrappedExecutor);\n      var promise = this;\n\n      try {\n        executor.apply(context, args);\n      } catch (err) {\n        args[1](err);\n      }\n\n      return promise;\n      function wrappedExecutor(resolve, reject) {\n        context = this;\n        args = [wrappedResolve, wrappedReject];\n\n        // These wrappers create a function that can be passed a function and an argument to\n        // call as a continuation from the resolve or reject.\n        function wrappedResolve(val) {\n          ensureAslWrapper(promise, false);\n          return resolve(val);\n        }\n\n        function wrappedReject(val) {\n          ensureAslWrapper(promise, false);\n          return reject(val);\n        }\n      }\n    }\n  }\n};\n","var wrap = require('shimmer').wrap;\n\n/*\n *\n * CONSTANTS\n *\n */\nvar HAS_CREATE_AL = 1 << 0;\nvar HAS_BEFORE_AL = 1 << 1;\nvar HAS_AFTER_AL = 1 << 2;\nvar HAS_ERROR_AL = 1 << 3;\n\n/**\n * There is one list of currently active listeners that is mutated in place by\n * addAsyncListener and removeAsyncListener. This complicates error-handling,\n * for reasons that are discussed below.\n */\nvar listeners = [];\n\n/**\n * There can be multiple listeners with the same properties, so disambiguate\n * them by assigning them an ID at creation time.\n */\nvar uid = 0;\n\n/**\n * Ensure that errors coming from within listeners are handed off to domains,\n * process._fatalException, or uncaughtException without being treated like\n * user errors.\n */\nvar inAsyncTick = false;\n\n/**\n * Because asynchronous contexts can be nested, and errors can come from anywhere\n * in the stack, a little extra work is required to keep track of where in the\n * nesting we are. Because JS arrays are frequently mutated in place\n */\nvar listenerStack = [];\n\n/**\n * The error handler on a listener can capture errors thrown during synchronous\n * execution immediately after the listener is added. To capture both\n * synchronous and asynchronous errors, the error handler just uses the\n * \"global\" list of active listeners, and the rest of the code ensures that the\n * listener list is correct by using a stack of listener lists during\n * asynchronous execution.\n */\nvar asyncCatcher;\n\n/**\n * The guts of the system -- called each time an asynchronous event happens\n * while one or more listeners are active.\n */\nvar asyncWrap;\n\n/**\n * Simple helper function that's probably faster than using Array\n * filter methods and can be inlined.\n */\nfunction union(dest, added) {\n  var destLength = dest.length;\n  var addedLength = added.length;\n  var returned = [];\n\n  if (destLength === 0 && addedLength === 0) return returned;\n\n  for (var j  = 0; j < destLength; j++) returned[j] = dest[j];\n\n  if (addedLength === 0) return returned;\n\n  for (var i = 0; i < addedLength; i++) {\n    var missing = true;\n    for (j = 0; j < destLength; j++) {\n      if (dest[j].uid === added[i].uid) {\n        missing = false;\n        break;\n      }\n    }\n    if (missing) returned.push(added[i]);\n  }\n\n  return returned;\n}\n\n/*\n * For performance, split error-handlers and asyncCatcher up into two separate\n * code paths.\n */\n\n// 0.9+\nif (process._fatalException) {\n  /**\n   * Error handlers on listeners can throw, the catcher needs to be able to\n   * discriminate between exceptions thrown by user code, and exceptions coming\n   * from within the catcher itself. Use a global to keep track of which state\n   * the catcher is currently in.\n   */\n  var inErrorTick = false;\n\n  /**\n   * Throwing always happens synchronously. If the current array of values for\n   * the current list of asyncListeners is put in a module-scoped variable right\n   * before a call that can throw, it will always be correct when the error\n   * handlers are run.\n   */\n  var errorValues;\n\n  asyncCatcher = function asyncCatcher(er) {\n    var length = listeners.length;\n    if (inErrorTick || length === 0) return false;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    inErrorTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n\n      var value = errorValues && errorValues[listener.uid];\n      handled = listener.error(value, er) || handled;\n    }\n    inErrorTick = false;\n\n    /* Test whether there are any listener arrays on the stack. In the case of\n     * synchronous throws when the listener is active, there may have been\n     * none pushed yet.\n     */\n    if (listenerStack.length > 0) listeners = listenerStack.pop();\n    errorValues = undefined;\n\n    return handled && !inAsyncTick;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      // put the current values where the catcher can see them\n      errorValues = values;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned = original.apply(this, arguments);\n\n      /*\n       * after handlers (not run if original throws)\n       */\n      inAsyncTick = true;\n      for (i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_AFTER_AL) > 0) {\n          list[i].after(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // back to the previous listener list on the stack\n      listeners = listenerStack.pop();\n      errorValues = undefined;\n\n      return returned;\n    };\n  };\n\n  wrap(process, '_fatalException', function (_fatalException) {\n    return function _asyncFatalException(er) {\n      return asyncCatcher(er) || _fatalException(er);\n    };\n  });\n}\n// 0.8 and below\nelse {\n  /**\n   * If an error handler in asyncWrap throws, the process must die. Under 0.8\n   * and earlier the only way to put a bullet through the head of the process\n   * is to rethrow from inside the exception handler, so rethrow and set\n   * errorThrew to tell the uncaughtHandler what to do.\n   */\n  var errorThrew = false;\n\n  /**\n   * Under Node 0.8, this handler *only* handles synchronously thrown errors.\n   * This simplifies it, which almost but not quite makes up for the hit taken\n   * by putting everything in a try-catch.\n   */\n  asyncCatcher = function uncaughtCatcher(er) {\n    // going down hard\n    if (errorThrew) throw er;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    var length = listeners.length;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n      handled = listener.error(null, er) || handled;\n    }\n\n    /* Rethrow if one of the before / after handlers fire, which will bring the\n     * process down immediately.\n     */\n    if (!handled && inAsyncTick) throw er;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      /*jshint maxdepth:4*/\n\n      // after() handlers don't run if threw\n      var threw = false;\n\n      // ...unless the error is handled\n      var handled = false;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned;\n      try {\n        returned = original.apply(this, arguments);\n      }\n      catch (er) {\n        threw = true;\n        for (var i = 0; i < length; ++i) {\n          if ((listeners[i].flags & HAS_ERROR_AL) == 0) continue;\n          try {\n            handled = listeners[i].error(values[list[i].uid], er) || handled;\n          }\n          catch (x) {\n            errorThrew = true;\n            throw x;\n          }\n        }\n\n        if (!handled) {\n          // having an uncaughtException handler here alters crash semantics\n          process.removeListener('uncaughtException', asyncCatcher);\n          process._originalNextTick(function () {\n            process.addListener('uncaughtException', asyncCatcher);\n          });\n\n          throw er;\n        }\n      }\n      finally {\n        /*\n         * after handlers (not run if original throws)\n         */\n        if (!threw || handled) {\n          inAsyncTick = true;\n          for (i = 0; i < length; ++i) {\n            if ((list[i].flags & HAS_AFTER_AL) > 0) {\n              list[i].after(this, values[list[i].uid]);\n            }\n          }\n          inAsyncTick = false;\n        }\n\n        // back to the previous listener list on the stack\n        listeners = listenerStack.pop();\n      }\n\n\n      return returned;\n    };\n  };\n\n  // will be the first to fire if async-listener is the first module loaded\n  process.addListener('uncaughtException', asyncCatcher);\n}\n\n// for performance in the case where there are no handlers, just the listener\nfunction simpleWrap(original, list, length) {\n  inAsyncTick = true;\n  for (var i = 0; i < length; ++i) {\n    var listener = list[i];\n    if (listener.create) listener.create(listener.data);\n  }\n  inAsyncTick = false;\n\n  // still need to make sure nested async calls are made in the context\n  // of the listeners active at their creation\n  return function () {\n    listenerStack.push(listeners);\n    listeners = union(list, listeners);\n\n    var returned = original.apply(this, arguments);\n\n    listeners = listenerStack.pop();\n\n    return returned;\n  };\n}\n\n/**\n * Called each time an asynchronous function that's been monkeypatched in\n * index.js is called. If there are no listeners, return the function\n * unwrapped.  If there are any asyncListeners and any of them have callbacks,\n * pass them off to asyncWrap for later use, otherwise just call the listener.\n */\nfunction wrapCallback(original) {\n  var length = listeners.length;\n\n  // no context to capture, so avoid closure creation\n  if (length === 0) return original;\n\n  // capture the active listeners as of when the wrapped function was called\n  var list = listeners.slice();\n\n  for (var i = 0; i < length; ++i) {\n    if (list[i].flags > 0) return asyncWrap(original, list, length);\n  }\n\n  return simpleWrap(original, list, length);\n}\n\nfunction AsyncListener(callbacks, data) {\n  if (typeof callbacks.create === 'function') {\n    this.create = callbacks.create;\n    this.flags |= HAS_CREATE_AL;\n  }\n\n  if (typeof callbacks.before === 'function') {\n    this.before = callbacks.before;\n    this.flags |= HAS_BEFORE_AL;\n  }\n\n  if (typeof callbacks.after === 'function') {\n    this.after = callbacks.after;\n    this.flags |= HAS_AFTER_AL;\n  }\n\n  if (typeof callbacks.error === 'function') {\n    this.error = callbacks.error;\n    this.flags |= HAS_ERROR_AL;\n  }\n\n  this.uid = ++uid;\n  this.data = data === undefined ? null : data;\n}\nAsyncListener.prototype.create = undefined;\nAsyncListener.prototype.before = undefined;\nAsyncListener.prototype.after  = undefined;\nAsyncListener.prototype.error  = undefined;\nAsyncListener.prototype.data   = undefined;\nAsyncListener.prototype.uid    = 0;\nAsyncListener.prototype.flags  = 0;\n\nfunction createAsyncListener(callbacks, data) {\n  if (typeof callbacks !== 'object' || !callbacks) {\n    throw new TypeError('callbacks argument must be an object');\n  }\n\n  if (callbacks instanceof AsyncListener) {\n    return callbacks;\n  }\n  else {\n    return new AsyncListener(callbacks, data);\n  }\n}\n\nfunction addAsyncListener(callbacks, data) {\n  var listener;\n  if (!(callbacks instanceof AsyncListener)) {\n    listener = createAsyncListener(callbacks, data);\n  }\n  else {\n    listener = callbacks;\n  }\n\n  // Make sure the listener isn't already in the list.\n  var registered = false;\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      registered = true;\n      break;\n    }\n  }\n\n  if (!registered) listeners.push(listener);\n\n  return listener;\n}\n\nfunction removeAsyncListener(listener) {\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      listeners.splice(i, 1);\n      break;\n    }\n  }\n}\n\nprocess.createAsyncListener = createAsyncListener;\nprocess.addAsyncListener    = addAsyncListener;\nprocess.removeAsyncListener = removeAsyncListener;\n\nmodule.exports = wrapCallback;\n","'use strict';\n\nif (process.addAsyncListener) throw new Error(\"Don't require polyfill unless needed\");\n\nvar shimmer      = require('shimmer')\n  , semver       = require('semver')\n  , wrap         = shimmer.wrap\n  , massWrap     = shimmer.massWrap\n  , wrapCallback = require('./glue.js')\n  , util         = require('util')\n  ;\n\nvar v6plus = semver.gte(process.version, '6.0.0');\nvar v7plus = semver.gte(process.version, '7.0.0');\nvar v8plus = semver.gte(process.version, '8.0.0');\nvar v11plus = semver.gte(process.version, '11.0.0');\n\nvar net = require('net');\n\n// From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\nif (v7plus && !net._normalizeArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2017/03/09\n  net._normalizeArgs = function (args) {\n    if (args.length === 0) {\n      return [{}, null];\n    }\n\n    var arg0 = args[0];\n    var options = {};\n    if (typeof arg0 === 'object' && arg0 !== null) {\n      // (options[...][, cb])\n      options = arg0;\n    } else if (isPipeName(arg0)) {\n      // (path[...][, cb])\n      options.path = arg0;\n    } else {\n      // ([port][, host][...][, cb])\n      options.port = arg0;\n      if (args.length > 1 && typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    if (typeof cb !== 'function')\n      return [options, null];\n    else\n      return [options, cb];\n  }\n} else if (!v7plus && !net._normalizeConnectArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2013/10/30\n  net._normalizeConnectArgs = function (args) {\n    var options = {};\n\n    function toNumber(x) { return (x = Number(x)) >= 0 ? x : false; }\n\n    if (typeof args[0] === 'object' && args[0] !== null) {\n      // connect(options, [cb])\n      options = args[0];\n    }\n    else if (typeof args[0] === 'string' && toNumber(args[0]) === false) {\n      // connect(path, [cb]);\n      options.path = args[0];\n    }\n    else {\n      // connect(port, [host], [cb])\n      options.port = args[0];\n      if (typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    return typeof cb === 'function' ? [options, cb] : [options];\n  };\n}\n\n// In https://github.com/nodejs/node/pull/11796 `_listen2` was renamed\n// `_setUpListenHandle`. It's still aliased as `_listen2`, and currently the\n// Node internals still call the alias - but who knows for how long. So better\n// make sure we use the new name instead if available.\nif ('_setUpListenHandle' in net.Server.prototype) {\n  wrap(net.Server.prototype, '_setUpListenHandle', wrapSetUpListenHandle);\n} else {\n  wrap(net.Server.prototype, '_listen2', wrapSetUpListenHandle);\n}\n\nfunction wrapSetUpListenHandle(original) {\n  return function () {\n    this.on('connection', function (socket) {\n      if (socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n      }\n    });\n\n    try {\n      return original.apply(this, arguments);\n    }\n    finally {\n      // the handle will only not be set in cases where there has been an error\n      if (this._handle && this._handle.onconnection) {\n        this._handle.onconnection = wrapCallback(this._handle.onconnection);\n      }\n    }\n  };\n}\n\nfunction patchOnRead(ctx) {\n  if (ctx && ctx._handle) {\n    var handle = ctx._handle;\n    if (!handle._originalOnread) {\n      handle._originalOnread = handle.onread;\n    }\n    handle.onread = wrapCallback(handle._originalOnread);\n  }\n}\n\nwrap(net.Socket.prototype, 'connect', function (original) {\n  return function () {\n    var args;\n    // Node core uses an internal Symbol here to guard against the edge-case\n    // where the user accidentally passes in an array. As we don't have access\n    // to this Symbol we resort to this hack where we just detect if there is a\n    // symbol or not. Checking for the number of Symbols is by no means a fool\n    // proof solution, but it catches the most basic cases.\n    if (v8plus &&\n        Array.isArray(arguments[0]) &&\n        Object.getOwnPropertySymbols(arguments[0]).length > 0) {\n      // already normalized\n      args = arguments[0];\n    } else {\n      // From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\n      args = v7plus\n        ? net._normalizeArgs(arguments)\n        : net._normalizeConnectArgs(arguments);\n    }\n    if (args[1]) args[1] = wrapCallback(args[1]);\n    var result = original.apply(this, args);\n    patchOnRead(this);\n    return result;\n  };\n});\n\nvar http = require('http');\n\n// NOTE: A rewrite occurred in 0.11 that changed the addRequest signature\n// from (req, host, port, localAddress) to (req, options)\n// Here, I use the longer signature to maintain 0.10 support, even though\n// the rest of the arguments aren't actually used\nwrap(http.Agent.prototype, 'addRequest', function (original) {\n  return function (req) {\n    var onSocket = req.onSocket;\n    req.onSocket = wrapCallback(function (socket) {\n      patchOnRead(socket);\n      return onSocket.apply(this, arguments);\n    });\n    return original.apply(this, arguments);\n  };\n});\n\nvar childProcess = require('child_process');\n\nfunction wrapChildProcess(child) {\n  if (Array.isArray(child.stdio)) {\n    child.stdio.forEach(function (socket) {\n      if (socket && socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n        wrap(socket._handle, 'close', activatorFirst);\n      }\n    });\n  }\n\n  if (child._handle) {\n    child._handle.onexit = wrapCallback(child._handle.onexit);\n  }\n}\n\n// iojs v2.0.0+\nif (childProcess.ChildProcess) {\n  wrap(childProcess.ChildProcess.prototype, 'spawn', function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(this);\n      return result;\n    };\n  });\n} else {\n  massWrap(childProcess, [\n    'execFile', // exec is implemented in terms of execFile\n    'fork',\n    'spawn'\n  ], function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(result);\n      return result;\n    };\n  });\n}\n\n// need unwrapped nextTick for use within < 0.9 async error handling\nif (!process._fatalException) {\n  process._originalNextTick = process.nextTick;\n}\n\nvar processors = [];\nif (process._nextDomainTick) processors.push('_nextDomainTick');\nif (process._tickDomainCallback) processors.push('_tickDomainCallback');\n\nmassWrap(\n  process,\n  processors,\n  activator\n);\nwrap(process, 'nextTick', activatorFirst);\n\nvar asynchronizers = [\n  'setTimeout',\n  'setInterval'\n];\nif (global.setImmediate) asynchronizers.push('setImmediate');\n\nvar timers = require('timers');\nvar patchGlobalTimers = global.setTimeout === timers.setTimeout;\n\nmassWrap(\n  timers,\n  asynchronizers,\n  activatorFirst\n);\n\nif (patchGlobalTimers) {\n  massWrap(\n    global,\n    asynchronizers,\n    activatorFirst\n  );\n}\n\nvar dns = require('dns');\nmassWrap(\n  dns,\n  [\n    'lookup',\n    'resolve',\n    'resolve4',\n    'resolve6',\n    'resolveCname',\n    'resolveMx',\n    'resolveNs',\n    'resolveTxt',\n    'resolveSrv',\n    'reverse'\n  ],\n  activator\n);\n\nif (dns.resolveNaptr) wrap(dns, 'resolveNaptr', activator);\n\nvar fs = require('fs');\nmassWrap(\n  fs,\n  [\n    'watch',\n    'rename',\n    'truncate',\n    'chown',\n    'fchown',\n    'chmod',\n    'fchmod',\n    'stat',\n    'lstat',\n    'fstat',\n    'link',\n    'symlink',\n    'readlink',\n    'realpath',\n    'unlink',\n    'rmdir',\n    'mkdir',\n    'readdir',\n    'close',\n    'open',\n    'utimes',\n    'futimes',\n    'fsync',\n    'write',\n    'read',\n    'readFile',\n    'writeFile',\n    'appendFile',\n    'watchFile',\n    'unwatchFile',\n    \"exists\",\n  ],\n  activator\n);\n\n// only wrap lchown and lchmod on systems that have them.\nif (fs.lchown) wrap(fs, 'lchown', activator);\nif (fs.lchmod) wrap(fs, 'lchmod', activator);\n\n// only wrap ftruncate in versions of node that have it\nif (fs.ftruncate) wrap(fs, 'ftruncate', activator);\n\n// Wrap zlib streams\nvar zlib;\ntry { zlib = require('zlib'); } catch (err) { }\nif (zlib && zlib.Deflate && zlib.Deflate.prototype) {\n  var proto = Object.getPrototypeOf(zlib.Deflate.prototype);\n  if (proto._transform) {\n    // streams2\n    wrap(proto, \"_transform\", activator);\n  }\n  else if (proto.write && proto.flush && proto.end) {\n    // plain ol' streams\n    massWrap(\n      proto,\n      [\n        'write',\n        'flush',\n        'end'\n      ],\n      activator\n    );\n  }\n}\n\n// Wrap Crypto\nvar crypto;\ntry { crypto = require('crypto'); } catch (err) { }\nif (crypto) {\n\n  var toWrap = [\n      'pbkdf2',\n      'randomBytes',\n  ];\n  if (!v11plus) {\n    toWrap.push('pseudoRandomBytes');\n  }\n\n  massWrap(crypto, toWrap, activator);\n}\n\n// It is unlikely that any userspace promise implementations have a native\n// implementation of both Promise and Promise.toString.\nvar instrumentPromise = !!global.Promise &&\n    Promise.toString() === 'function Promise() { [native code] }' &&\n    Promise.toString.toString() === 'function toString() { [native code] }';\n\n// Check that global Promise is native\nif (instrumentPromise) {\n  // shoult not use any methods that have already been wrapped\n  var promiseListener = process.addAsyncListener({\n    create: function create() {\n      instrumentPromise = false;\n    }\n  });\n\n  // should not resolve synchronously\n  global.Promise.resolve(true).then(function notSync() {\n    instrumentPromise = false;\n  });\n\n  process.removeAsyncListener(promiseListener);\n}\n\n/*\n * Native promises use the microtask queue to make all callbacks run\n * asynchronously to avoid Zalgo issues. Since the microtask queue is not\n * exposed externally, promises need to be modified in a fairly invasive and\n * complex way.\n *\n * The async boundary in promises that must be patched is between the\n * fulfillment of the promise and the execution of any callback that is waiting\n * for that fulfillment to happen. This means that we need to trigger a create\n * when resolve or reject is called and trigger before, after and error handlers\n * around the callback execution. There may be multiple callbacks for each\n * fulfilled promise, so handlers will behave similar to setInterval where\n * there may be multiple before after and error calls for each create call.\n *\n * async-listener monkeypatching has one basic entry point: `wrapCallback`.\n * `wrapCallback` should be called when create should be triggered and be\n * passed a function to wrap, which will execute the body of the async work.\n * The resolve and reject calls can be modified fairly easily to call\n * `wrapCallback`, but at the time of resolve and reject all the work to be done\n * on fulfillment may not be defined, since a call to then, chain or fetch can\n * be made even after the promise has been fulfilled. To get around this, we\n * create a placeholder function which will call a function passed into it,\n * since the call to the main work is being made from within the wrapped\n * function, async-listener will work correctly.\n *\n * There is another complication with monkeypatching Promises. Calls to then,\n * chain and catch each create new Promises that are fulfilled internally in\n * different ways depending on the return value of the callback. When the\n * callback return a Promise, the new Promise is resolved asynchronously after\n * the returned Promise has been also been resolved. When something other than\n * a promise is resolved the resolve call for the new Promise is put in the\n * microtask queue and asynchronously resolved.\n *\n * Then must be wrapped so that its returned promise has a wrapper that can be\n * used to invoke further continuations. This wrapper cannot be created until\n * after the callback has run, since the callback may return either a promise\n * or another value. Fortunately we already have a wrapper function around the\n * callback we can use (the wrapper created by resolve or reject).\n *\n * By adding an additional argument to this wrapper, we can pass in the\n * returned promise so it can have its own wrapper appended. the wrapper\n * function can the call the callback, and take action based on the return\n * value. If a promise is returned, the new Promise can proxy the returned\n * Promise's wrapper (this wrapper may not exist yet, but will by the time the\n * wrapper needs to be invoked). Otherwise, a new wrapper can be create the\n * same way as in resolve and reject. Since this wrapper is created\n * synchronously within another wrapper, it will properly appear as a\n * continuation from within the callback.\n */\n\nif (instrumentPromise) {\n  wrapPromise();\n}\n\nfunction wrapPromise() {\n  var Promise = global.Promise;\n\n  // Updates to this class should also be applied to the the ES6 version\n  // in es6-wrapped-promise.js.\n  function wrappedPromise(executor) {\n    if (!(this instanceof wrappedPromise)) {\n      return Promise(executor);\n    }\n\n    if (typeof executor !== 'function') {\n      return new Promise(executor);\n    }\n\n    var context, args;\n    var promise = new Promise(wrappedExecutor);\n    promise.__proto__ = wrappedPromise.prototype;\n\n    try {\n      executor.apply(context, args);\n    } catch (err) {\n      args[1](err);\n    }\n\n    return promise;\n\n    function wrappedExecutor(resolve, reject) {\n      context = this;\n      args = [wrappedResolve, wrappedReject];\n\n      // These wrappers create a function that can be passed a function and an argument to\n      // call as a continuation from the resolve or reject.\n      function wrappedResolve(val) {\n        ensureAslWrapper(promise, false);\n        return resolve(val);\n      }\n\n      function wrappedReject(val) {\n        ensureAslWrapper(promise, false);\n        return reject(val);\n      }\n    }\n  }\n\n  util.inherits(wrappedPromise, Promise);\n\n  wrap(Promise.prototype, 'then', wrapThen);\n  // Node.js <v7 only, alias for .then\n  if (Promise.prototype.chain) {\n    wrap(Promise.prototype, 'chain', wrapThen);\n  }\n\n  if (v6plus) {\n    global.Promise = require('./es6-wrapped-promise.js')(Promise, ensureAslWrapper);\n  } else {\n    var PromiseFunctions = [\n      'all',\n      'race',\n      'reject',\n      'resolve',\n      'accept',  // Node.js <v7 only\n      'defer'    // Node.js <v7 only\n    ];\n\n    PromiseFunctions.forEach(function(key) {\n      // don't break `in` by creating a key for undefined entries\n      if (typeof Promise[key] === 'function') {\n        wrappedPromise[key] = Promise[key];\n      }\n    });\n    global.Promise = wrappedPromise\n  }\n\n  function ensureAslWrapper(promise, overwrite) {\n    if (!promise.__asl_wrapper || overwrite) {\n      promise.__asl_wrapper = wrapCallback(propagateAslWrapper);\n    }\n  }\n\n  function propagateAslWrapper(ctx, fn, result, next) {\n    var nextResult;\n    try {\n      nextResult = fn.call(ctx, result);\n      return {returnVal: nextResult, error: false}\n    } catch (err) {\n      return {errorVal: err, error: true}\n    } finally {\n      // Wrap any resulting futures as continuations.\n      if (nextResult instanceof Promise) {\n        next.__asl_wrapper = function proxyWrapper() {\n          var aslWrapper = nextResult.__asl_wrapper || propagateAslWrapper;\n          return aslWrapper.apply(this, arguments);\n        }\n      } else {\n        ensureAslWrapper(next, true);\n      }\n    }\n  }\n\n  function wrapThen(original) {\n    return function wrappedThen() {\n      var promise = this;\n      var next = original.apply(promise, Array.prototype.map.call(arguments, bind));\n\n      next.__asl_wrapper = function proxyWrapper(ctx, fn, val, last) {\n        if (promise.__asl_wrapper) {\n          promise.__asl_wrapper(ctx, function () {}, null, next);\n          return next.__asl_wrapper(ctx, fn, val, last);\n        }\n        return propagateAslWrapper(ctx, fn, val, last);\n      }\n\n      return next;\n\n      // wrap callbacks (success, error) so that the callbacks will be called as a\n      // continuations of the resolve or reject call using the __asl_wrapper created above.\n      function bind(fn) {\n        if (typeof fn !== 'function') return fn;\n        return wrapCallback(function (val) {\n          var result = (promise.__asl_wrapper || propagateAslWrapper)(this, fn, val, next);\n          if (result.error) {\n            throw result.errorVal\n          } else {\n            return result.returnVal\n          }\n        });\n      }\n    }\n  }\n}\n\n// Shim activator for functions that have callback last\nfunction activator(fn) {\n  var fallback = function () {\n    var args;\n    var cbIdx = arguments.length - 1;\n    if (typeof arguments[cbIdx] === \"function\") {\n      args = Array(arguments.length)\n      for (var i = 0; i < arguments.length - 1; i++) {\n        args[i] = arguments[i];\n      }\n      args[cbIdx] = wrapCallback(arguments[cbIdx]);\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (a, cb) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, cb);\n      };\n    case 3:\n      return function (a, b, cb) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, cb);\n      };\n    case 4:\n      return function (a, b, c, cb) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, cb);\n      };\n    case 5:\n      return function (a, b, c, d, cb) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, cb);\n      };\n    case 6:\n      return function (a, b, c, d, e, cb) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, e, cb);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// Shim activator for functions that have callback first\nfunction activatorFirst(fn) {\n  var fallback = function () {\n    var args;\n    if (typeof arguments[0] === \"function\") {\n      args = Array(arguments.length)\n      args[0] = wrapCallback(arguments[0]);\n      for (var i = 1; i < arguments.length; i++) {\n        args[i] = arguments[i];\n      }\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (cb, a) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a);\n      };\n    case 3:\n      return function (cb, a, b) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b);\n      };\n    case 4:\n      return function (cb, a, b, c) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c);\n      };\n    case 5:\n      return function (cb, a, b, c, d) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d);\n      };\n    case 6:\n      return function (cb, a, b, c, d, e) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d, e);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// taken from node master on 2017/03/09\nfunction toNumber(x) {\n  return (x = Number(x)) >= 0 ? x : false;\n}\n\n// taken from node master on 2017/03/09\nfunction isPipeName(s) {\n  return typeof s === 'string' && toNumber(s) === false;\n}\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\nvar MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar safeRe = exports.safeRe = []\nvar src = exports.src = []\nvar R = 0\n\nvar LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nvar safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nfunction makeSafeRe (value) {\n  for (var i = 0; i < safeRegexReplacements.length; i++) {\n    var token = safeRegexReplacements[i][0]\n    var max = safeRegexReplacements[i][1]\n    value = value\n      .split(token + '*').join(token + '{0,' + max + '}')\n      .split(token + '+').join(token + '{1,' + max + '}')\n  }\n  return value\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '\\\\d+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-]' + LETTERDASHNUMBER + '*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = LETTERDASHNUMBER + '+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nsafeRe[TILDETRIM] = new RegExp(makeSafeRe(src[TILDETRIM]), 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nsafeRe[CARETTRIM] = new RegExp(makeSafeRe(src[CARETTRIM]), 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nsafeRe[COMPARATORTRIM] = new RegExp(makeSafeRe(src[COMPARATORTRIM]), 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n\n    // Replace all greedy whitespace to prevent regex dos issues. These regex are\n    // used internally via the safeRe object since all inputs in this library get\n    // normalized first to trim and collapse all extra whitespace. The original\n    // regexes are exported for userland consumption and lower level usage. A\n    // future breaking change could export the safer regex only with a note that\n    // all input should have extra whitespace removed.\n    safeRe[i] = new RegExp(makeSafeRe(src[i]))\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? safeRe[LOOSE] : safeRe[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? safeRe[LOOSE] : safeRe[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  comp = comp.trim().split(/\\s+/).join(' ')\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? safeRe[COMPARATORLOOSE] : safeRe[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First reduce all whitespace as much as possible so we do not have to rely\n  // on potentially slow regexes like \\s*. This is then stored and used for\n  // future error messages as well.\n  this.raw = range\n    .trim()\n    .split(/\\s+/)\n    .join(' ')\n\n  // First, split based on boolean or ||\n  this.set = this.raw.split('||').map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + this.raw)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? safeRe[HYPHENRANGELOOSE] : safeRe[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(safeRe[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, safeRe[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(safeRe[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(safeRe[CARETTRIM], caretTrimReplace)\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n  var compRe = loose ? safeRe[COMPARATORLOOSE] : safeRe[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? safeRe[TILDELOOSE] : safeRe[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? safeRe[CARETLOOSE] : safeRe[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? safeRe[XRANGELOOSE] : safeRe[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(safeRe[STAR], '')\n}\n\n// This function is passed to string.replace(safeRe[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(safeRe[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","module.exports =\n{\n  parallel      : require('./parallel.js'),\n  serial        : require('./serial.js'),\n  serialOrdered : require('./serialOrdered.js')\n};\n","// API\nmodule.exports = abort;\n\n/**\n * Aborts leftover active jobs\n *\n * @param {object} state - current state object\n */\nfunction abort(state)\n{\n  Object.keys(state.jobs).forEach(clean.bind(state));\n\n  // reset leftover jobs\n  state.jobs = {};\n}\n\n/**\n * Cleans up leftover job by invoking abort function for the provided job id\n *\n * @this  state\n * @param {string|number} key - job id to abort\n */\nfunction clean(key)\n{\n  if (typeof this.jobs[key] == 'function')\n  {\n    this.jobs[key]();\n  }\n}\n","var defer = require('./defer.js');\n\n// API\nmodule.exports = async;\n\n/**\n * Runs provided callback asynchronously\n * even if callback itself is not\n *\n * @param   {function} callback - callback to invoke\n * @returns {function} - augmented callback\n */\nfunction async(callback)\n{\n  var isAsync = false;\n\n  // check if async happened\n  defer(function() { isAsync = true; });\n\n  return function async_callback(err, result)\n  {\n    if (isAsync)\n    {\n      callback(err, result);\n    }\n    else\n    {\n      defer(function nextTick_callback()\n      {\n        callback(err, result);\n      });\n    }\n  };\n}\n","module.exports = defer;\n\n/**\n * Runs provided function on next iteration of the event loop\n *\n * @param {function} fn - function to run\n */\nfunction defer(fn)\n{\n  var nextTick = typeof setImmediate == 'function'\n    ? setImmediate\n    : (\n      typeof process == 'object' && typeof process.nextTick == 'function'\n      ? process.nextTick\n      : null\n    );\n\n  if (nextTick)\n  {\n    nextTick(fn);\n  }\n  else\n  {\n    setTimeout(fn, 0);\n  }\n}\n","var async = require('./async.js')\n  , abort = require('./abort.js')\n  ;\n\n// API\nmodule.exports = iterate;\n\n/**\n * Iterates over each job object\n *\n * @param {array|object} list - array or object (named list) to iterate over\n * @param {function} iterator - iterator to run\n * @param {object} state - current job status\n * @param {function} callback - invoked when all elements processed\n */\nfunction iterate(list, iterator, state, callback)\n{\n  // store current index\n  var key = state['keyedList'] ? state['keyedList'][state.index] : state.index;\n\n  state.jobs[key] = runJob(iterator, key, list[key], function(error, output)\n  {\n    // don't repeat yourself\n    // skip secondary callbacks\n    if (!(key in state.jobs))\n    {\n      return;\n    }\n\n    // clean up jobs\n    delete state.jobs[key];\n\n    if (error)\n    {\n      // don't process rest of the results\n      // stop still active jobs\n      // and reset the list\n      abort(state);\n    }\n    else\n    {\n      state.results[key] = output;\n    }\n\n    // return salvaged results\n    callback(error, state.results);\n  });\n}\n\n/**\n * Runs iterator over provided job element\n *\n * @param   {function} iterator - iterator to invoke\n * @param   {string|number} key - key/index of the element in the list of jobs\n * @param   {mixed} item - job description\n * @param   {function} callback - invoked after iterator is done with the job\n * @returns {function|mixed} - job abort function or something else\n */\nfunction runJob(iterator, key, item, callback)\n{\n  var aborter;\n\n  // allow shortcut if iterator expects only two arguments\n  if (iterator.length == 2)\n  {\n    aborter = iterator(item, async(callback));\n  }\n  // otherwise go with full three arguments\n  else\n  {\n    aborter = iterator(item, key, async(callback));\n  }\n\n  return aborter;\n}\n","// API\nmodule.exports = state;\n\n/**\n * Creates initial state object\n * for iteration over list\n *\n * @param   {array|object} list - list to iterate over\n * @param   {function|null} sortMethod - function to use for keys sort,\n *                                     or `null` to keep them as is\n * @returns {object} - initial state object\n */\nfunction state(list, sortMethod)\n{\n  var isNamedList = !Array.isArray(list)\n    , initState =\n    {\n      index    : 0,\n      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,\n      jobs     : {},\n      results  : isNamedList ? {} : [],\n      size     : isNamedList ? Object.keys(list).length : list.length\n    }\n    ;\n\n  if (sortMethod)\n  {\n    // sort array keys based on it's values\n    // sort object's keys just on own merit\n    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)\n    {\n      return sortMethod(list[a], list[b]);\n    });\n  }\n\n  return initState;\n}\n","var abort = require('./abort.js')\n  , async = require('./async.js')\n  ;\n\n// API\nmodule.exports = terminator;\n\n/**\n * Terminates jobs in the attached state context\n *\n * @this  AsyncKitState#\n * @param {function} callback - final callback to invoke after termination\n */\nfunction terminator(callback)\n{\n  if (!Object.keys(this.jobs).length)\n  {\n    return;\n  }\n\n  // fast forward iteration index\n  this.index = this.size;\n\n  // abort jobs\n  abort(this);\n\n  // send back results we have so far\n  async(callback)(null, this.results);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = parallel;\n\n/**\n * Runs iterator over provided array elements in parallel\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction parallel(list, iterator, callback)\n{\n  var state = initState(list);\n\n  while (state.index < (state['keyedList'] || list).length)\n  {\n    iterate(list, iterator, state, function(error, result)\n    {\n      if (error)\n      {\n        callback(error, result);\n        return;\n      }\n\n      // looks like it's the last one\n      if (Object.keys(state.jobs).length === 0)\n      {\n        callback(null, state.results);\n        return;\n      }\n    });\n\n    state.index++;\n  }\n\n  return terminator.bind(state, callback);\n}\n","var serialOrdered = require('./serialOrdered.js');\n\n// Public API\nmodule.exports = serial;\n\n/**\n * Runs iterator over provided array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serial(list, iterator, callback)\n{\n  return serialOrdered(list, iterator, null, callback);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = serialOrdered;\n// sorting helpers\nmodule.exports.ascending  = ascending;\nmodule.exports.descending = descending;\n\n/**\n * Runs iterator over provided sorted array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} sortMethod - custom sort function\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serialOrdered(list, iterator, sortMethod, callback)\n{\n  var state = initState(list, sortMethod);\n\n  iterate(list, iterator, state, function iteratorHandler(error, result)\n  {\n    if (error)\n    {\n      callback(error, result);\n      return;\n    }\n\n    state.index++;\n\n    // are we there yet?\n    if (state.index < (state['keyedList'] || list).length)\n    {\n      iterate(list, iterator, state, iteratorHandler);\n      return;\n    }\n\n    // done here\n    callback(null, state.results);\n  });\n\n  return terminator.bind(state, callback);\n}\n\n/*\n * -- Sort methods\n */\n\n/**\n * sort helper to sort array elements in ascending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction ascending(a, b)\n{\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n/**\n * sort helper to sort array elements in descending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction descending(a, b)\n{\n  return -1 * ascending(a, b);\n}\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    if(a===b) {\n      return [ai, bi];\n    }\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","var balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m) return [str];\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  if (/\\$$/.test(m.pre)) {    \n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre+ '{' + m.body + '}' + post[k];\n      expansions.push(expansion);\n    }\n  } else {\n    var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n    var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n    var isSequence = isNumericSequence || isAlphaSequence;\n    var isOptions = m.body.indexOf(',') >= 0;\n    if (!isSequence && !isOptions) {\n      // {a},b}\n      if (m.post.match(/,.*\\}/)) {\n        str = m.pre + '{' + m.body + escClose + m.post;\n        return expand(str);\n      }\n      return [str];\n    }\n\n    var n;\n    if (isSequence) {\n      n = m.body.split(/\\.\\./);\n    } else {\n      n = parseCommaParts(m.body);\n      if (n.length === 1) {\n        // x{{a,b}}y ==> x{a}y x{b}y\n        n = expand(n[0], false).map(embrace);\n        if (n.length === 1) {\n          return post.map(function(p) {\n            return m.pre + n[0] + p;\n          });\n        }\n      }\n    }\n\n    // at this point, n is the parts, and we know it's not a comma set\n    // with a single entry.\n    var N;\n\n    if (isSequence) {\n      var x = numeric(n[0]);\n      var y = numeric(n[1]);\n      var width = Math.max(n[0].length, n[1].length)\n      var incr = n.length == 3\n        ? Math.abs(numeric(n[2]))\n        : 1;\n      var test = lte;\n      var reverse = y < x;\n      if (reverse) {\n        incr *= -1;\n        test = gte;\n      }\n      var pad = n.some(isPadded);\n\n      N = [];\n\n      for (var i = x; test(i, y); i += incr) {\n        var c;\n        if (isAlphaSequence) {\n          c = String.fromCharCode(i);\n          if (c === '\\\\')\n            c = '';\n        } else {\n          c = String(i);\n          if (pad) {\n            var need = width - c.length;\n            if (need > 0) {\n              var z = new Array(need + 1).join('0');\n              if (i < 0)\n                c = '-' + z + c.slice(1);\n              else\n                c = z + c;\n            }\n          }\n        }\n        N.push(c);\n      }\n    } else {\n      N = [];\n\n      for (var j = 0; j < n.length; j++) {\n        N.push.apply(N, expand(n[j], false));\n      }\n    }\n\n    for (var j = 0; j < N.length; j++) {\n      for (var k = 0; k < post.length; k++) {\n        var expansion = pre + N[j] + post[k];\n        if (!isTop || isSequence || expansion)\n          expansions.push(expansion);\n      }\n    }\n  }\n\n  return expansions;\n}\n\n","'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst asyncHook = require('async-hook-jl');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\n//const trace = [];\n\nconst invertedProviders = [];\nfor (let key in asyncHook.providers) {\n  invertedProviders[asyncHook.providers[key]] = key;\n}\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  //trace: trace,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    SETTING KEY:' + key + '=' + value + ' in ns:' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('    GETTING KEY:' + key + '=undefined' + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n        util.inspect(this.active, true));\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    GETTING KEY:' + key + '=' + this.active[key] + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATING Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' active:' +\n      util.inspect(this.active, true, 2, true));\n  }\n\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATED Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' context:' +\n      util.inspect(context, true, 2, true));\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' BEFORE RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' AFTER RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(' BEFORE runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n      util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  ENTER ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  EXIT ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' +\n      util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CREATING NAMESPACE ' + name);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  asyncHook.addHooks({\n    init(uid, handle, provider, parentUid, parentHandle) {\n      //parentUid = parentUid || currentUid;  // Suggested usage but appears to work better for tracing modules.\n      currentUid = uid;\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      if (parentUid) {\n        namespace._contexts.set(uid, namespace._contexts.get(parentUid));\n        if (DEBUG_CLS_HOOKED) {\n          debug2('PARENTID: ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + provider);\n        }\n      } else {\n        namespace._contexts.set(currentUid, namespace.active);\n      }\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('INIT ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + invertedProviders[provider]\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n    },\n    pre(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.enter(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    post(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.exit(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    destroy(uid) {\n      currentUid = uid;\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('DESTROY ' + name + ' uid:' + uid + ' context:' + util.inspect(namespace._contexts.get(currentUid))\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n      namespace._contexts.delete(uid);\n    }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\nif (asyncHook._state && !asyncHook._state.enabled) {\n  asyncHook.enable();\n}\n\nfunction debug2(msg) {\n  if (process.env.DEBUG) {\n    process._rawDebug(msg);\n  }\n}\n\n\n/*function debug(from, ns) {\n process._rawDebug('DEBUG: ' + util.inspect({\n from: from,\n currentUid: currentUid,\n context: ns ? ns._contexts.get(currentUid) : 'no ns'\n }, true, 2, true));\n }*/\n\n\nfunction getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}\n\n\n// Add back to callstack\nif (DEBUG_CLS_HOOKED) {\n  var stackChain = require('stack-chain');\n  for (var modifier in stackChain.filter._modifiers) {\n    stackChain.filter.deattach(modifier);\n  }\n}\n","/* eslint-disable max-len */\n'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst async_hooks = require('async_hooks');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n  this._indent = 0;\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  this.active[key] = value;\n\n  if (DEBUG_CLS_HOOKED) {\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-SET KEY:' + key + '=' + value + ' in ns:' + this.name + ' currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n  }\n\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      const asyncHooksCurrentId = async_hooks.currentId();\n      const triggerId = async_hooks.triggerAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      //debug2(indentStr + 'CONTEXT-GETTING KEY NO ACTIVE NS:' + key + '=undefined' + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n      debug2(`${indentStr}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${key}=undefined currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length}`);\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-GETTING KEY:' + key + '=' + this.active[key] + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n    debug2(`${indentStr}CONTEXT-GETTING KEY: (${this.name}) ${key}=${this.active[key]} currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} active:${util.inspect(this.active)}`);\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  // Prototype inherit existing context if created a new child context within existing context.\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-CREATED Context: (${this.name}) currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} context:${util.inspect(context, {showHidden:true, depth:2, colors:true})}`);\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} context:${util.inspect(context)}`);\n    }\n    fn(context);\n    return context;\n  } catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  } finally {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN END: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  let value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CONTEXT-runPromise BEFORE: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER then: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER catch: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    } else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    } catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    } finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-ENTER: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-EXIT: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' + util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(`NS-CREATING NAMESPACE (${name})`);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  const hook = async_hooks.createHook({\n    init(asyncId, type, triggerId, resource) {\n      currentUid = async_hooks.executionAsyncId();\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      // let initContext = namespace.active;\n      // if(!initContext && triggerId) {\n      //   let parentContext = namespace._contexts.get(triggerId);\n      //   if (parentContext) {\n      //     namespace.active = parentContext;\n      //     namespace._contexts.set(currentUid, parentContext);\n      //     if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) WITH PARENT CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      //   } else if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) MISSING CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      // }else {\n      //   namespace._contexts.set(currentUid, namespace.active);\n      //   if (DEBUG_CLS_HOOKED) {\n      //     const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //     debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //   }\n      // }\n      if(namespace.active) {\n        namespace._contexts.set(asyncId, namespace.active);\n\n        if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n        }\n      }else if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        const triggerId = async_hooks.triggerAsyncId();\n        const triggerIdContext = namespace._contexts.get(triggerId);\n        if (triggerIdContext) {\n          namespace._contexts.set(asyncId, triggerIdContext);\n          if (DEBUG_CLS_HOOKED) {\n            const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n            debug2(`${indentStr}INIT USING CONTEXT FROM TRIGGERID [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n          }\n        } else if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT MISSING CONTEXT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n        }\n      }\n\n\n      if(DEBUG_CLS_HOOKED && type === 'PROMISE'){\n        debug2(util.inspect(resource, {showHidden: true}));\n        const parentId = resource.parentId;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}INIT RESOURCE-PROMISE [${type}] (${name}) parentId:${parentId} asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n      }\n\n    },\n    before(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context;\n\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}BEFORE (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n          namespace._indent += 2;\n        }\n\n        namespace.enter(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}BEFORE MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} namespace._contexts:${util.inspect(namespace._contexts, {showHidden:true, depth:2, colors:true})}`);\n        namespace._indent += 2;\n      }\n    },\n    after(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context; // = namespace._contexts.get(currentUid);\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          namespace._indent -= 2;\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}AFTER (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n        }\n\n        namespace.exit(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        namespace._indent -= 2;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}AFTER MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n      }\n    },\n    destroy(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}DESTROY (${name}) currentUid:${currentUid} asyncId:${asyncId} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(namespace._contexts.get(currentUid))}`);\n      }\n\n      namespace._contexts.delete(asyncId);\n    }\n  });\n\n  hook.enable();\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\n//const fs = require('fs');\nfunction debug2(...args) {\n  if (DEBUG_CLS_HOOKED) {\n    //fs.writeSync(1, `${util.format(...args)}\\n`);\n    process._rawDebug(`${util.format(...args)}`);\n  }\n}\n\n/*function getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}*/\n\n\n","'use strict';\n\nconst semver = require('semver');\n\n/**\n * In order to increase node version support, this loads the version of context\n * that is appropriate for the version of on nodejs that is running.\n * Node < v8 - uses AsyncWrap and async-hooks-jl\n * Node >= v8 - uses native async-hooks\n */\nif(process && semver.gte(process.versions.node, '8.0.0')){\n  module.exports = require('./context');\n}else{\n  module.exports = require('./context-legacy');\n}\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\nvar MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar safeRe = exports.safeRe = []\nvar src = exports.src = []\nvar R = 0\n\nvar LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nvar safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nfunction makeSafeRe (value) {\n  for (var i = 0; i < safeRegexReplacements.length; i++) {\n    var token = safeRegexReplacements[i][0]\n    var max = safeRegexReplacements[i][1]\n    value = value\n      .split(token + '*').join(token + '{0,' + max + '}')\n      .split(token + '+').join(token + '{1,' + max + '}')\n  }\n  return value\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '\\\\d+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-]' + LETTERDASHNUMBER + '*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = LETTERDASHNUMBER + '+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nsafeRe[TILDETRIM] = new RegExp(makeSafeRe(src[TILDETRIM]), 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nsafeRe[CARETTRIM] = new RegExp(makeSafeRe(src[CARETTRIM]), 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nsafeRe[COMPARATORTRIM] = new RegExp(makeSafeRe(src[COMPARATORTRIM]), 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n\n    // Replace all greedy whitespace to prevent regex dos issues. These regex are\n    // used internally via the safeRe object since all inputs in this library get\n    // normalized first to trim and collapse all extra whitespace. The original\n    // regexes are exported for userland consumption and lower level usage. A\n    // future breaking change could export the safer regex only with a note that\n    // all input should have extra whitespace removed.\n    safeRe[i] = new RegExp(makeSafeRe(src[i]))\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? safeRe[LOOSE] : safeRe[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? safeRe[LOOSE] : safeRe[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  comp = comp.trim().split(/\\s+/).join(' ')\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? safeRe[COMPARATORLOOSE] : safeRe[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First reduce all whitespace as much as possible so we do not have to rely\n  // on potentially slow regexes like \\s*. This is then stored and used for\n  // future error messages as well.\n  this.raw = range\n    .trim()\n    .split(/\\s+/)\n    .join(' ')\n\n  // First, split based on boolean or ||\n  this.set = this.raw.split('||').map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + this.raw)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? safeRe[HYPHENRANGELOOSE] : safeRe[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(safeRe[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, safeRe[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(safeRe[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(safeRe[CARETTRIM], caretTrimReplace)\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n  var compRe = loose ? safeRe[COMPARATORLOOSE] : safeRe[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? safeRe[TILDELOOSE] : safeRe[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? safeRe[CARETLOOSE] : safeRe[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? safeRe[XRANGELOOSE] : safeRe[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(safeRe[STAR], '')\n}\n\n// This function is passed to string.replace(safeRe[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(safeRe[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","var util = require('util');\nvar Stream = require('stream').Stream;\nvar DelayedStream = require('delayed-stream');\n\nmodule.exports = CombinedStream;\nfunction CombinedStream() {\n  this.writable = false;\n  this.readable = true;\n  this.dataSize = 0;\n  this.maxDataSize = 2 * 1024 * 1024;\n  this.pauseStreams = true;\n\n  this._released = false;\n  this._streams = [];\n  this._currentStream = null;\n  this._insideLoop = false;\n  this._pendingNext = false;\n}\nutil.inherits(CombinedStream, Stream);\n\nCombinedStream.create = function(options) {\n  var combinedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    combinedStream[option] = options[option];\n  }\n\n  return combinedStream;\n};\n\nCombinedStream.isStreamLike = function(stream) {\n  return (typeof stream !== 'function')\n    && (typeof stream !== 'string')\n    && (typeof stream !== 'boolean')\n    && (typeof stream !== 'number')\n    && (!Buffer.isBuffer(stream));\n};\n\nCombinedStream.prototype.append = function(stream) {\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n\n  if (isStreamLike) {\n    if (!(stream instanceof DelayedStream)) {\n      var newStream = DelayedStream.create(stream, {\n        maxDataSize: Infinity,\n        pauseStream: this.pauseStreams,\n      });\n      stream.on('data', this._checkDataSize.bind(this));\n      stream = newStream;\n    }\n\n    this._handleErrors(stream);\n\n    if (this.pauseStreams) {\n      stream.pause();\n    }\n  }\n\n  this._streams.push(stream);\n  return this;\n};\n\nCombinedStream.prototype.pipe = function(dest, options) {\n  Stream.prototype.pipe.call(this, dest, options);\n  this.resume();\n  return dest;\n};\n\nCombinedStream.prototype._getNext = function() {\n  this._currentStream = null;\n\n  if (this._insideLoop) {\n    this._pendingNext = true;\n    return; // defer call\n  }\n\n  this._insideLoop = true;\n  try {\n    do {\n      this._pendingNext = false;\n      this._realGetNext();\n    } while (this._pendingNext);\n  } finally {\n    this._insideLoop = false;\n  }\n};\n\nCombinedStream.prototype._realGetNext = function() {\n  var stream = this._streams.shift();\n\n\n  if (typeof stream == 'undefined') {\n    this.end();\n    return;\n  }\n\n  if (typeof stream !== 'function') {\n    this._pipeNext(stream);\n    return;\n  }\n\n  var getStream = stream;\n  getStream(function(stream) {\n    var isStreamLike = CombinedStream.isStreamLike(stream);\n    if (isStreamLike) {\n      stream.on('data', this._checkDataSize.bind(this));\n      this._handleErrors(stream);\n    }\n\n    this._pipeNext(stream);\n  }.bind(this));\n};\n\nCombinedStream.prototype._pipeNext = function(stream) {\n  this._currentStream = stream;\n\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n  if (isStreamLike) {\n    stream.on('end', this._getNext.bind(this));\n    stream.pipe(this, {end: false});\n    return;\n  }\n\n  var value = stream;\n  this.write(value);\n  this._getNext();\n};\n\nCombinedStream.prototype._handleErrors = function(stream) {\n  var self = this;\n  stream.on('error', function(err) {\n    self._emitError(err);\n  });\n};\n\nCombinedStream.prototype.write = function(data) {\n  this.emit('data', data);\n};\n\nCombinedStream.prototype.pause = function() {\n  if (!this.pauseStreams) {\n    return;\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.pause) == 'function') this._currentStream.pause();\n  this.emit('pause');\n};\n\nCombinedStream.prototype.resume = function() {\n  if (!this._released) {\n    this._released = true;\n    this.writable = true;\n    this._getNext();\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.resume) == 'function') this._currentStream.resume();\n  this.emit('resume');\n};\n\nCombinedStream.prototype.end = function() {\n  this._reset();\n  this.emit('end');\n};\n\nCombinedStream.prototype.destroy = function() {\n  this._reset();\n  this.emit('close');\n};\n\nCombinedStream.prototype._reset = function() {\n  this.writable = false;\n  this._streams = [];\n  this._currentStream = null;\n};\n\nCombinedStream.prototype._checkDataSize = function() {\n  this._updateDataSize();\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.';\n  this._emitError(new Error(message));\n};\n\nCombinedStream.prototype._updateDataSize = function() {\n  this.dataSize = 0;\n\n  var self = this;\n  this._streams.forEach(function(stream) {\n    if (!stream.dataSize) {\n      return;\n    }\n\n    self.dataSize += stream.dataSize;\n  });\n\n  if (this._currentStream && this._currentStream.dataSize) {\n    this.dataSize += this._currentStream.dataSize;\n  }\n};\n\nCombinedStream.prototype._emitError = function(err) {\n  this._reset();\n  this.emit('error', err);\n};\n","'use strict';\n\nvar assert      = require('assert');\nvar wrapEmitter = require('emitter-listener');\n\n/*\n *\n * CONSTANTS\n *\n */\nvar CONTEXTS_SYMBOL = 'cls@contexts';\nvar ERROR_SYMBOL = 'error@context';\n\n// load polyfill if native support is unavailable\nif (!process.addAsyncListener) require('async-listener');\n\nfunction Namespace(name) {\n  this.name   = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set   = [];\n  this.id     = null;\n}\n\nNamespace.prototype.set = function (key, value) {\n  if (!this.active) {\n    throw new Error(\"No context available. ns.run() or ns.bind() must be called first.\");\n  }\n\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function (key) {\n  if (!this.active) return undefined;\n\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function () {\n  return Object.create(this.active);\n};\n\nNamespace.prototype.run = function (fn) {\n  var context = this.createContext();\n  this.enter(context);\n  try {\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function (fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\nNamespace.prototype.bind = function (fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  var self = this;\n  return function () {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function (context) {\n  assert.ok(context, \"context must be provided for entering\");\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function (context) {\n  assert.ok(context, \"context must be provided for exiting\");\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, \"can't remove top context\");\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  var index = this._set.lastIndexOf(context);\n\n  assert.ok(index >= 0, \"context not currently entered; can't exit\");\n  assert.ok(index,      \"can't remove top context\");\n\n  this._set.splice(index, 1);\n};\n\nNamespace.prototype.bindEmitter = function (emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, \"can only bind real EEs\");\n\n  var namespace  = this;\n  var thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) return;\n    if (!listener[CONTEXTS_SYMBOL]) listener[CONTEXTS_SYMBOL] = Object.create(null);\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace : namespace,\n      context   : namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) return unwrapped;\n\n    var wrapped  = unwrapped;\n    var contexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(contexts).forEach(function (name) {\n      var thunk = contexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function (exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction get(name) {\n  return process.namespaces[name];\n}\n\nfunction create(name) {\n  assert.ok(name, \"namespace must be given a name!\");\n\n  var namespace = new Namespace(name);\n  namespace.id = process.addAsyncListener({\n    create : function () { return namespace.active; },\n    before : function (context, storage) { if (storage) namespace.enter(storage); },\n    after  : function (context, storage) { if (storage) namespace.exit(storage); },\n    error  : function (storage) { if (storage) namespace.exit(storage); }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroy(name) {\n  var namespace = get(name);\n\n  assert.ok(namespace,    \"can't delete nonexistent namespace!\");\n  assert.ok(namespace.id, \"don't assign to process.namespaces directly!\");\n\n  process.removeAsyncListener(namespace.id);\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroy(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\nif (!process.namespaces) reset(); // call immediately to set up\n\nmodule.exports = {\n  getNamespace     : get,\n  createNamespace  : create,\n  destroyNamespace : destroy,\n  reset            : reset\n};\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.formatWithOptions()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.formatWithOptions(exports.inspectOpts, ...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","var Stream = require('stream').Stream;\nvar util = require('util');\n\nmodule.exports = DelayedStream;\nfunction DelayedStream() {\n  this.source = null;\n  this.dataSize = 0;\n  this.maxDataSize = 1024 * 1024;\n  this.pauseStream = true;\n\n  this._maxDataSizeExceeded = false;\n  this._released = false;\n  this._bufferedEvents = [];\n}\nutil.inherits(DelayedStream, Stream);\n\nDelayedStream.create = function(source, options) {\n  var delayedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    delayedStream[option] = options[option];\n  }\n\n  delayedStream.source = source;\n\n  var realEmit = source.emit;\n  source.emit = function() {\n    delayedStream._handleEmit(arguments);\n    return realEmit.apply(source, arguments);\n  };\n\n  source.on('error', function() {});\n  if (delayedStream.pauseStream) {\n    source.pause();\n  }\n\n  return delayedStream;\n};\n\nObject.defineProperty(DelayedStream.prototype, 'readable', {\n  configurable: true,\n  enumerable: true,\n  get: function() {\n    return this.source.readable;\n  }\n});\n\nDelayedStream.prototype.setEncoding = function() {\n  return this.source.setEncoding.apply(this.source, arguments);\n};\n\nDelayedStream.prototype.resume = function() {\n  if (!this._released) {\n    this.release();\n  }\n\n  this.source.resume();\n};\n\nDelayedStream.prototype.pause = function() {\n  this.source.pause();\n};\n\nDelayedStream.prototype.release = function() {\n  this._released = true;\n\n  this._bufferedEvents.forEach(function(args) {\n    this.emit.apply(this, args);\n  }.bind(this));\n  this._bufferedEvents = [];\n};\n\nDelayedStream.prototype.pipe = function() {\n  var r = Stream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return r;\n};\n\nDelayedStream.prototype._handleEmit = function(args) {\n  if (this._released) {\n    this.emit.apply(this, args);\n    return;\n  }\n\n  if (args[0] === 'data') {\n    this.dataSize += args[1].length;\n    this._checkIfMaxDataSizeExceeded();\n  }\n\n  this._bufferedEvents.push(args);\n};\n\nDelayedStream.prototype._checkIfMaxDataSizeExceeded = function() {\n  if (this._maxDataSizeExceeded) {\n    return;\n  }\n\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  this._maxDataSizeExceeded = true;\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.'\n  this.emit('error', new Error(message));\n};\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.azureCoreTracing = exports.AzureMonitorSymbol = void 0;\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nexports.AzureMonitorSymbol = \"Azure_Monitor_Tracer\";\r\nvar publisherName = \"azure-coretracing\";\r\nvar isPatched = false;\r\n/**\r\n * By default, @azure/core-tracing default tracer is a NoopTracer.\r\n * This patching changes the default tracer to a patched BasicTracer\r\n * which emits ended spans as diag-channel events.\r\n *\r\n * The @opentelemetry/tracing package must be installed to use these patches\r\n * https://www.npmjs.com/package/@opentelemetry/tracing\r\n * @param coreTracing\r\n */\r\nvar azureCoreTracingPatchFunction = function (coreTracing) {\r\n    if (isPatched) {\r\n        // tracer is already cached -- noop\r\n        return coreTracing;\r\n    }\r\n    try {\r\n        var tracing = require(\"@opentelemetry/sdk-trace-base\");\r\n        var api = require(\"@opentelemetry/api\");\r\n        var defaultProvider = new tracing.BasicTracerProvider();\r\n        var defaultTracer = defaultProvider.getTracer(\"applicationinsights tracer\");\r\n        // Patch Azure SDK setTracer, @azure/core-tracing <= 1.0.0-preview.12\r\n        if (coreTracing.setTracer) {\r\n            var setTracerOriginal_1 = coreTracing.setTracer;\r\n            coreTracing.setTracer = function (tracer) {\r\n                // Patch startSpan instead of using spanProcessor.onStart because parentSpan must be\r\n                // set while the span is constructed\r\n                var startSpanOriginal = tracer.startSpan;\r\n                tracer.startSpan = function (name, options, context) {\r\n                    var span = startSpanOriginal.call(this, name, options, context);\r\n                    var originalEnd = span.end;\r\n                    span.end = function () {\r\n                        var result = originalEnd.apply(this, arguments);\r\n                        diagnostic_channel_1.channel.publish(publisherName, span);\r\n                        return result;\r\n                    };\r\n                    return span;\r\n                };\r\n                tracer[exports.AzureMonitorSymbol] = true;\r\n                setTracerOriginal_1.call(this, tracer);\r\n            };\r\n            api.trace.getSpan(api.context.active()); // seed OpenTelemetryScopeManagerWrapper with \"active\" symbol\r\n            coreTracing.setTracer(defaultTracer);\r\n        }\r\n        else { // Patch OpenTelemetry setGlobalTracerProvider  @azure/core-tracing > 1.0.0-preview.13\r\n            var setGlobalTracerProviderOriginal_1 = api.trace.setGlobalTracerProvider;\r\n            api.trace.setGlobalTracerProvider = function (tracerProvider) {\r\n                var getTracerOriginal = tracerProvider.getTracer;\r\n                tracerProvider.getTracer = function (tracerName, version) {\r\n                    var tracer = getTracerOriginal.call(this, tracerName, version);\r\n                    if (!tracer[exports.AzureMonitorSymbol]) { // Avoid patching multiple times\r\n                        var startSpanOriginal_1 = tracer.startSpan;\r\n                        tracer.startSpan = function (spanName, options, context) {\r\n                            var span = startSpanOriginal_1.call(this, spanName, options, context);\r\n                            var originalEnd = span.end;\r\n                            span.end = function () {\r\n                                var result = originalEnd.apply(this, arguments);\r\n                                diagnostic_channel_1.channel.publish(publisherName, span);\r\n                                return result;\r\n                            };\r\n                            return span;\r\n                        };\r\n                        tracer[exports.AzureMonitorSymbol] = true;\r\n                    }\r\n                    return tracer;\r\n                };\r\n                return setGlobalTracerProviderOriginal_1.call(this, tracerProvider);\r\n            };\r\n            defaultProvider.register();\r\n            api.trace.getSpan(api.context.active()); // seed OpenTelemetryScopeManagerWrapper with \"active\" symbol\r\n            // Register Azure SDK instrumentation\r\n            var openTelemetryInstr = require(\"@opentelemetry/instrumentation\");\r\n            var azureSdkInstr = require(\"@azure/opentelemetry-instrumentation-azure-sdk\");\r\n            openTelemetryInstr.registerInstrumentations({\r\n                instrumentations: [\r\n                    azureSdkInstr.createAzureSdkInstrumentation()\r\n                ]\r\n            });\r\n        }\r\n        isPatched = true;\r\n    }\r\n    catch (e) { /* squash errors */ }\r\n    return coreTracing;\r\n};\r\nexports.azureCoreTracing = {\r\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\r\n    patch: azureCoreTracingPatchFunction,\r\n    publisherName: publisherName\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"@azure/core-tracing\", exports.azureCoreTracing);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=azure-coretracing.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.bunyan = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar bunyanPatchFunction = function (originalBunyan) {\r\n    var originalEmit = originalBunyan.prototype._emit;\r\n    originalBunyan.prototype._emit = function (rec, noemit) {\r\n        var ret = originalEmit.apply(this, arguments);\r\n        if (!noemit) {\r\n            var str = ret;\r\n            if (!str) {\r\n                str = originalEmit.call(this, rec, true);\r\n            }\r\n            diagnostic_channel_1.channel.publish(\"bunyan\", { level: rec.level, result: str });\r\n        }\r\n        return ret;\r\n    };\r\n    return originalBunyan;\r\n};\r\nexports.bunyan = {\r\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\r\n    patch: bunyanPatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"bunyan\", exports.bunyan);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=bunyan.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.console = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar stream_1 = require(\"stream\");\r\nvar consolePatchFunction = function (originalConsole) {\r\n    var aiLoggingOutStream = new stream_1.Writable();\r\n    var aiLoggingErrStream = new stream_1.Writable();\r\n    // Default console is roughly equivalent to `new Console(process.stdout, process.stderr)`\r\n    // We create a version which publishes to the channel and also to stdout/stderr\r\n    aiLoggingOutStream.write = function (chunk) {\r\n        if (!chunk) {\r\n            return true;\r\n        }\r\n        var message = chunk.toString();\r\n        diagnostic_channel_1.channel.publish(\"console\", { message: message });\r\n        return true;\r\n    };\r\n    aiLoggingErrStream.write = function (chunk) {\r\n        if (!chunk) {\r\n            return true;\r\n        }\r\n        var message = chunk.toString();\r\n        diagnostic_channel_1.channel.publish(\"console\", { message: message, stderr: true });\r\n        return true;\r\n    };\r\n    var aiLoggingConsole = new originalConsole.Console(aiLoggingOutStream, aiLoggingErrStream);\r\n    var consoleMethods = [\"log\", \"info\", \"warn\", \"error\", \"dir\", \"time\", \"timeEnd\", \"trace\", \"assert\"];\r\n    var _loop_1 = function (method) {\r\n        var originalMethod = originalConsole[method];\r\n        if (originalMethod) {\r\n            originalConsole[method] = function () {\r\n                if (aiLoggingConsole[method]) {\r\n                    try {\r\n                        aiLoggingConsole[method].apply(aiLoggingConsole, arguments);\r\n                    }\r\n                    catch (e) {\r\n                        // Ignore errors; allow the original method to throw if necessary\r\n                    }\r\n                }\r\n                return originalMethod.apply(originalConsole, arguments);\r\n            };\r\n        }\r\n    };\r\n    for (var _i = 0, consoleMethods_1 = consoleMethods; _i < consoleMethods_1.length; _i++) {\r\n        var method = consoleMethods_1[_i];\r\n        _loop_1(method);\r\n    }\r\n    return originalConsole;\r\n};\r\nexports.console = {\r\n    versionSpecifier: \">= 4.0.0\",\r\n    patch: consolePatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"console\", exports.console);\r\n    // Force patching of console\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    require(\"console\");\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=console.pub.js.map","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.tedious = exports.pgPool = exports.pg = exports.winston = exports.redis = exports.mysql = exports.mongodb = exports.mongodbCore = exports.console = exports.bunyan = exports.azuresdk = void 0;\r\nvar azuresdk = require(\"./azure-coretracing.pub\");\r\nexports.azuresdk = azuresdk;\r\nvar bunyan = require(\"./bunyan.pub\");\r\nexports.bunyan = bunyan;\r\nvar consolePub = require(\"./console.pub\");\r\nexports.console = consolePub;\r\nvar mongodbCore = require(\"./mongodb-core.pub\");\r\nexports.mongodbCore = mongodbCore;\r\nvar mongodb = require(\"./mongodb.pub\");\r\nexports.mongodb = mongodb;\r\nvar mysql = require(\"./mysql.pub\");\r\nexports.mysql = mysql;\r\nvar pgPool = require(\"./pg-pool.pub\");\r\nexports.pgPool = pgPool;\r\nvar pg = require(\"./pg.pub\");\r\nexports.pg = pg;\r\nvar redis = require(\"./redis.pub\");\r\nexports.redis = redis;\r\nvar tedious = require(\"./tedious.pub\");\r\nexports.tedious = tedious;\r\nvar winston = require(\"./winston.pub\");\r\nexports.winston = winston;\r\nfunction enable() {\r\n    bunyan.enable();\r\n    consolePub.enable();\r\n    mongodbCore.enable();\r\n    mongodb.enable();\r\n    mysql.enable();\r\n    pg.enable();\r\n    pgPool.enable();\r\n    redis.enable();\r\n    winston.enable();\r\n    azuresdk.enable();\r\n    tedious.enable();\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.mongoCore = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar mongodbcorePatchFunction = function (originalMongoCore) {\r\n    var originalConnect = originalMongoCore.Server.prototype.connect;\r\n    originalMongoCore.Server.prototype.connect = function contextPreservingConnect() {\r\n        var ret = originalConnect.apply(this, arguments);\r\n        // Messages sent to mongo progress through a pool\r\n        // This can result in context getting mixed between different responses\r\n        // so we wrap the callbacks to restore appropriate state\r\n        var originalWrite = this.s.pool.write;\r\n        this.s.pool.write = function contextPreservingWrite() {\r\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\r\n            if (typeof arguments[cbidx] === \"function\") {\r\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\r\n            }\r\n            return originalWrite.apply(this, arguments);\r\n        };\r\n        // Logout is a special case, it doesn't call the write function but instead\r\n        // directly calls into connection.write\r\n        var originalLogout = this.s.pool.logout;\r\n        this.s.pool.logout = function contextPreservingLogout() {\r\n            if (typeof arguments[1] === \"function\") {\r\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\r\n            }\r\n            return originalLogout.apply(this, arguments);\r\n        };\r\n        return ret;\r\n    };\r\n    return originalMongoCore;\r\n};\r\nexports.mongoCore = {\r\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\r\n    patch: mongodbcorePatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb-core\", exports.mongoCore);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mongodb-core.pub.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.mongo330 = exports.mongo3 = exports.mongo2 = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar mongodbPatchFunction = function (originalMongo) {\r\n    var listener = originalMongo.instrument({\r\n        operationIdGenerator: {\r\n            next: function () {\r\n                return diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\r\n            }\r\n        }\r\n    });\r\n    var eventMap = {};\r\n    listener.on(\"started\", function (event) {\r\n        if (eventMap[event.requestId]) {\r\n            // Note: Mongo can generate 2 completely separate requests\r\n            // which share the same requestId, if a certain race condition is triggered.\r\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\r\n            return;\r\n        }\r\n        eventMap[event.requestId] = __assign(__assign({}, event), { time: new Date() });\r\n    });\r\n    listener.on(\"succeeded\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event.operationId === \"function\") {\r\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\r\n        }\r\n        else {\r\n            // fallback -- correlation will not work here\r\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true });\r\n        }\r\n    });\r\n    listener.on(\"failed\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event.operationId === \"function\") {\r\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\r\n        }\r\n        else {\r\n            // fallback -- correlation will not work here\r\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false });\r\n        }\r\n    });\r\n    return originalMongo;\r\n};\r\nvar mongodb3PatchFunction = function (originalMongo) {\r\n    var listener = originalMongo.instrument();\r\n    var eventMap = {};\r\n    var contextMap = {};\r\n    listener.on(\"started\", function (event) {\r\n        if (eventMap[event.requestId]) {\r\n            // Note: Mongo can generate 2 completely separate requests\r\n            // which share the same requestId, if a certain race condition is triggered.\r\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\r\n            return;\r\n        }\r\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\r\n        eventMap[event.requestId] = __assign(__assign({}, event), { time: new Date() });\r\n    });\r\n    listener.on(\"succeeded\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\r\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\r\n            delete contextMap[event.requestId];\r\n        }\r\n    });\r\n    listener.on(\"failed\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\r\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\r\n            delete contextMap[event.requestId];\r\n        }\r\n    });\r\n    return originalMongo;\r\n};\r\n// In mongodb 3.3.0, mongodb-core was merged into mongodb, so the same patching\r\n// can be used here. this.s.pool was changed to this.s.coreTopology.s.pool\r\nvar mongodbcorePatchFunction = function (originalMongo) {\r\n    var originalConnect = originalMongo.Server.prototype.connect;\r\n    originalMongo.Server.prototype.connect = function contextPreservingConnect() {\r\n        var ret = originalConnect.apply(this, arguments);\r\n        // Messages sent to mongo progress through a pool\r\n        // This can result in context getting mixed between different responses\r\n        // so we wrap the callbacks to restore appropriate state\r\n        var originalWrite = this.s.coreTopology.s.pool.write;\r\n        this.s.coreTopology.s.pool.write = function contextPreservingWrite() {\r\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\r\n            if (typeof arguments[cbidx] === \"function\") {\r\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\r\n            }\r\n            return originalWrite.apply(this, arguments);\r\n        };\r\n        // Logout is a special case, it doesn't call the write function but instead\r\n        // directly calls into connection.write\r\n        var originalLogout = this.s.coreTopology.s.pool.logout;\r\n        this.s.coreTopology.s.pool.logout = function contextPreservingLogout() {\r\n            if (typeof arguments[1] === \"function\") {\r\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\r\n            }\r\n            return originalLogout.apply(this, arguments);\r\n        };\r\n        return ret;\r\n    };\r\n    return originalMongo;\r\n};\r\nvar mongodb330PatchFunction = function (originalMongo) {\r\n    mongodbcorePatchFunction(originalMongo); // apply mongodb-core patches\r\n    var listener = originalMongo.instrument();\r\n    var eventMap = {};\r\n    var contextMap = {};\r\n    listener.on(\"started\", function (event) {\r\n        if (eventMap[event.requestId]) {\r\n            // Note: Mongo can generate 2 completely separate requests\r\n            // which share the same requestId, if a certain race condition is triggered.\r\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\r\n            return;\r\n        }\r\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\r\n        eventMap[event.requestId] = event;\r\n    });\r\n    listener.on(\"succeeded\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\r\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\r\n            delete contextMap[event.requestId];\r\n        }\r\n    });\r\n    listener.on(\"failed\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\r\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\r\n            delete contextMap[event.requestId];\r\n        }\r\n    });\r\n    return originalMongo;\r\n};\r\nexports.mongo2 = {\r\n    versionSpecifier: \">= 2.0.0 <= 3.0.5\",\r\n    patch: mongodbPatchFunction\r\n};\r\nexports.mongo3 = {\r\n    versionSpecifier: \"> 3.0.5 < 3.3.0\",\r\n    patch: mongodb3PatchFunction\r\n};\r\nexports.mongo330 = {\r\n    versionSpecifier: \">= 3.3.0 < 4.0.0\",\r\n    patch: mongodb330PatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo2);\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo3);\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo330);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mongodb.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.mysql = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar path = require(\"path\");\r\nvar mysqlPatchFunction = function (originalMysql, originalMysqlPath) {\r\n    // The `name` passed in here is for debugging purposes,\r\n    // to help distinguish which object is being patched.\r\n    var patchObjectFunction = function (obj, name) {\r\n        return function (func, cbWrapper) {\r\n            var originalFunc = obj[func];\r\n            if (originalFunc) {\r\n                obj[func] = function mysqlContextPreserver() {\r\n                    // Find the callback, if there is one\r\n                    var cbidx = arguments.length - 1;\r\n                    for (var i = arguments.length - 1; i >= 0; --i) {\r\n                        if (typeof arguments[i] === \"function\") {\r\n                            cbidx = i;\r\n                            break;\r\n                        }\r\n                        else if (typeof arguments[i] !== \"undefined\") {\r\n                            break;\r\n                        }\r\n                    }\r\n                    var cb = arguments[cbidx];\r\n                    var resultContainer = { result: null, startTime: null, startDate: null };\r\n                    if (typeof cb === \"function\") {\r\n                        // Preserve context on the callback.\r\n                        // If this is one of the functions that we want to track,\r\n                        // then wrap the callback with the tracking wrapper\r\n                        if (cbWrapper) {\r\n                            resultContainer.startTime = process.hrtime();\r\n                            resultContainer.startDate = new Date();\r\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cbWrapper(resultContainer, cb));\r\n                        }\r\n                        else {\r\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cb);\r\n                        }\r\n                    }\r\n                    var result = originalFunc.apply(this, arguments);\r\n                    resultContainer.result = result;\r\n                    return result;\r\n                };\r\n            }\r\n        };\r\n    };\r\n    var patchClassMemberFunction = function (classObject, name) {\r\n        return patchObjectFunction(classObject.prototype, name + \".prototype\");\r\n    };\r\n    var connectionCallbackFunctions = [\r\n        \"connect\", \"changeUser\",\r\n        \"ping\", \"statistics\", \"end\"\r\n    ];\r\n    var connectionClass = require(path.dirname(originalMysqlPath) + \"/lib/Connection\");\r\n    connectionCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(connectionClass, \"Connection\")(value); });\r\n    // Connection.createQuery is a static method\r\n    patchObjectFunction(connectionClass, \"Connection\")(\"createQuery\", function (resultContainer, cb) {\r\n        return function (err) {\r\n            var hrDuration = process.hrtime(resultContainer.startTime);\r\n            /* tslint:disable-next-line:no-bitwise */\r\n            var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\r\n            diagnostic_channel_1.channel.publish(\"mysql\", { query: resultContainer.result, callbackArgs: arguments, err: err, duration: duration, time: resultContainer.startDate });\r\n            cb.apply(this, arguments);\r\n        };\r\n    });\r\n    var poolCallbackFunctions = [\r\n        \"_enqueueCallback\"\r\n    ];\r\n    var poolClass = require(path.dirname(originalMysqlPath) + \"/lib/Pool\");\r\n    poolCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(poolClass, \"Pool\")(value); });\r\n    return originalMysql;\r\n};\r\nexports.mysql = {\r\n    versionSpecifier: \">= 2.0.0 < 3.0.0\",\r\n    patch: mysqlPatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mysql\", exports.mysql);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mysql.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.postgresPool1 = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nfunction postgresPool1PatchFunction(originalPgPool) {\r\n    var originalConnect = originalPgPool.prototype.connect;\r\n    originalPgPool.prototype.connect = function connect(callback) {\r\n        if (callback) {\r\n            arguments[0] = diagnostic_channel_1.channel.bindToContext(callback);\r\n        }\r\n        return originalConnect.apply(this, arguments);\r\n    };\r\n    return originalPgPool;\r\n}\r\nexports.postgresPool1 = {\r\n    versionSpecifier: \">= 1.0.0 < 3.0.0\",\r\n    patch: postgresPool1PatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg-pool\", exports.postgresPool1);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=pg-pool.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.postgres = exports.postgres6 = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar events_1 = require(\"events\");\r\nvar publisherName = \"postgres\";\r\nfunction postgres6PatchFunction(originalPg, originalPgPath) {\r\n    var originalClientQuery = originalPg.Client.prototype.query;\r\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\r\n    // wherever the callback is passed, find it, save it, and remove it from the call\r\n    // to the the original .query() function\r\n    originalPg.Client.prototype.query = function query(config, values, callback) {\r\n        var data = {\r\n            query: {},\r\n            database: {\r\n                host: this.connectionParameters.host,\r\n                port: this.connectionParameters.port\r\n            },\r\n            result: null,\r\n            error: null,\r\n            duration: 0,\r\n            time: new Date()\r\n        };\r\n        var start = process.hrtime();\r\n        var queryResult;\r\n        function patchCallback(cb) {\r\n            if (cb && cb[diagnosticOriginalFunc]) {\r\n                cb = cb[diagnosticOriginalFunc];\r\n            }\r\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\r\n                var end = process.hrtime(start);\r\n                data.result = res && { rowCount: res.rowCount, command: res.command };\r\n                data.error = err;\r\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\r\n                diagnostic_channel_1.channel.publish(publisherName, data);\r\n                // emulate weird internal behavior in pg@6\r\n                // on success, the callback is called *before* query events are emitted\r\n                // on failure, the callback is called *instead of* the query emitting events\r\n                // with no events, that means no promises (since the promise is resolved/rejected in an event handler)\r\n                // since we are always inserting ourselves as a callback, we have to restore the original\r\n                // behavior if the user didn't provide one themselves\r\n                if (err) {\r\n                    if (cb) {\r\n                        return cb.apply(this, arguments);\r\n                    }\r\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\r\n                        queryResult.emit(\"error\", err);\r\n                    }\r\n                }\r\n                else if (cb) {\r\n                    cb.apply(this, arguments);\r\n                }\r\n            });\r\n            try {\r\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\r\n                return trackingCallback;\r\n            }\r\n            catch (e) {\r\n                // this should never happen, but bailout in case it does\r\n                return cb;\r\n            }\r\n        }\r\n        // this function takes too many variations of arguments.\r\n        // this patches any provided callback or creates a new callback if one wasn't provided.\r\n        // since the callback is always called (if provided) in addition to always having a Promisified\r\n        // EventEmitter returned (well, sometimes -- see above), its safe to insert a callback if none was given\r\n        try {\r\n            if (typeof config === \"string\") {\r\n                if (values instanceof Array) {\r\n                    data.query.preparable = {\r\n                        text: config,\r\n                        args: values\r\n                    };\r\n                    callback = patchCallback(callback);\r\n                }\r\n                else {\r\n                    data.query.text = config;\r\n                    // pg v6 will, for some reason, accept both\r\n                    // client.query(\"...\", undefined, () => {...})\r\n                    // **and**\r\n                    // client.query(\"...\", () => {...});\r\n                    // Internally, precedence is given to the callback argument\r\n                    if (callback) {\r\n                        callback = patchCallback(callback);\r\n                    }\r\n                    else {\r\n                        values = patchCallback(values);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (typeof config.name === \"string\") {\r\n                    data.query.plan = config.name;\r\n                }\r\n                else if (config.values instanceof Array) {\r\n                    data.query.preparable = {\r\n                        text: config.text,\r\n                        args: config.values\r\n                    };\r\n                }\r\n                else {\r\n                    data.query.text = config.text;\r\n                }\r\n                if (callback) {\r\n                    callback = patchCallback(callback);\r\n                }\r\n                else if (values) {\r\n                    values = patchCallback(values);\r\n                }\r\n                else {\r\n                    config.callback = patchCallback(config.callback);\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // if our logic here throws, bail out and just let pg do its thing\r\n            return originalClientQuery.apply(this, arguments);\r\n        }\r\n        arguments[0] = config;\r\n        arguments[1] = values;\r\n        arguments[2] = callback;\r\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\r\n        queryResult = originalClientQuery.apply(this, arguments);\r\n        return queryResult;\r\n    };\r\n    return originalPg;\r\n}\r\nfunction postgresLatestPatchFunction(originalPg, originalPgPath) {\r\n    var originalClientQuery = originalPg.Client.prototype.query;\r\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\r\n    // wherever the callback is passed, find it, save it, and remove it from the call\r\n    // to the the original .query() function\r\n    originalPg.Client.prototype.query = function query(config, values, callback) {\r\n        var _this = this;\r\n        var _a, _b;\r\n        var callbackProvided = !!callback; // Starting in pg@7.x+, Promise is returned only if !callbackProvided\r\n        var data = {\r\n            query: {},\r\n            database: {\r\n                host: this.connectionParameters.host,\r\n                port: this.connectionParameters.port\r\n            },\r\n            result: null,\r\n            error: null,\r\n            duration: 0,\r\n            time: new Date()\r\n        };\r\n        var queryResult;\r\n        var start = process.hrtime();\r\n        function patchCallback(cb) {\r\n            if (cb && cb[diagnosticOriginalFunc]) {\r\n                cb = cb[diagnosticOriginalFunc];\r\n            }\r\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\r\n                var end = process.hrtime(start);\r\n                data.result = res && { rowCount: res.rowCount, command: res.command };\r\n                data.error = err;\r\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\r\n                diagnostic_channel_1.channel.publish(publisherName, data);\r\n                if (err) {\r\n                    if (cb) {\r\n                        return cb.apply(this, arguments);\r\n                    }\r\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\r\n                        queryResult.emit(\"error\", err);\r\n                    }\r\n                }\r\n                else if (cb) {\r\n                    cb.apply(this, arguments);\r\n                }\r\n            });\r\n            try {\r\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\r\n                return trackingCallback;\r\n            }\r\n            catch (e) {\r\n                // this should never happen, but bailout in case it does\r\n                return cb;\r\n            }\r\n        }\r\n        // Only try to wrap the callback if it is a function. We want to keep the same\r\n        // behavior of returning a promise only if no callback is provided. Wrapping\r\n        // a nonfunction makes it a function and pg will interpret it as a callback\r\n        try {\r\n            if (typeof config === \"string\") {\r\n                if (values instanceof Array) {\r\n                    data.query.preparable = {\r\n                        text: config,\r\n                        args: values\r\n                    };\r\n                    callbackProvided = typeof callback === \"function\";\r\n                    callback = callbackProvided ? patchCallback(callback) : callback;\r\n                }\r\n                else {\r\n                    data.query.text = config;\r\n                    if (callback) {\r\n                        callbackProvided = typeof callback === \"function\";\r\n                        callback = callbackProvided ? patchCallback(callback) : callback;\r\n                    }\r\n                    else {\r\n                        callbackProvided = typeof values === \"function\";\r\n                        values = callbackProvided ? patchCallback(values) : values;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (typeof config.name === \"string\") {\r\n                    data.query.plan = config.name;\r\n                }\r\n                else if (config.values instanceof Array) {\r\n                    data.query.preparable = {\r\n                        text: config.text,\r\n                        args: config.values\r\n                    };\r\n                }\r\n                else if (config.cursor) {\r\n                    data.query.text = (_a = config.cursor) === null || _a === void 0 ? void 0 : _a.text;\r\n                }\r\n                else {\r\n                    data.query.text = config.text;\r\n                }\r\n                if (callback) {\r\n                    callbackProvided = typeof callback === \"function\";\r\n                    callback = patchCallback(callback);\r\n                }\r\n                else if (values) {\r\n                    callbackProvided = typeof values === \"function\";\r\n                    values = callbackProvided ? patchCallback(values) : values;\r\n                }\r\n                else {\r\n                    callbackProvided = typeof config.callback === \"function\";\r\n                    config.callback = callbackProvided ? patchCallback(config.callback) : config.callback;\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // if our logic here throws, bail out and just let pg do its thing\r\n            return originalClientQuery.apply(this, arguments);\r\n        }\r\n        arguments[0] = config;\r\n        arguments[1] = values;\r\n        arguments[2] = callback;\r\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\r\n        try {\r\n            queryResult = originalClientQuery.apply(this, arguments);\r\n        }\r\n        catch (err) {\r\n            patchCallback()(err, undefined);\r\n            throw err;\r\n        }\r\n        if (!callbackProvided) {\r\n            if ((queryResult instanceof Promise)) {\r\n                return queryResult\r\n                    // pass resolved promise after publishing the event\r\n                    .then(function (result) {\r\n                    patchCallback()(undefined, result);\r\n                    return new _this._Promise(function (resolve, reject) {\r\n                        resolve(result);\r\n                    });\r\n                })\r\n                    // pass along rejected promise after publishing the error\r\n                    .catch(function (error) {\r\n                    patchCallback()(error, undefined);\r\n                    return new _this._Promise(function (resolve, reject) {\r\n                        reject(error);\r\n                    });\r\n                });\r\n            }\r\n            // Result could be a Cursor, QueryStream or Readable Stream\r\n            else {\r\n                var command = queryResult.text ? queryResult.text : \"\";\r\n                if (queryResult.cursor) {\r\n                    command = (_b = queryResult.cursor) === null || _b === void 0 ? void 0 : _b.text;\r\n                }\r\n                if (command) {\r\n                    var res = {\r\n                        command: command,\r\n                        rowCount: 0,\r\n                    };\r\n                    patchCallback()(undefined, res);\r\n                }\r\n            }\r\n        }\r\n        return queryResult;\r\n    };\r\n    return originalPg;\r\n}\r\nexports.postgres6 = {\r\n    versionSpecifier: \"6.*\",\r\n    patch: postgres6PatchFunction\r\n};\r\nexports.postgres = {\r\n    versionSpecifier: \">=7.* <=8.*\",\r\n    patch: postgresLatestPatchFunction,\r\n    publisherName: publisherName\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres6);\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=pg.pub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.redis = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar redisPatchFunction = function (originalRedis) {\r\n    var originalSend = originalRedis.RedisClient.prototype.internal_send_command;\r\n    // Note: This is mixing together both context tracking and dependency tracking\r\n    originalRedis.RedisClient.prototype.internal_send_command = function (commandObj) {\r\n        if (commandObj) {\r\n            var cb_1 = commandObj.callback;\r\n            if (!cb_1 || !cb_1.pubsubBound) {\r\n                var address_1 = this.address;\r\n                var startTime_1 = process.hrtime();\r\n                var startDate_1 = new Date();\r\n                // Note: augmenting the callback on internal_send_command is correct for context\r\n                // tracking, but may be too low-level for dependency tracking. There are some 'errors'\r\n                // which higher levels expect in some cases\r\n                // However, the only other option is to intercept every individual command.\r\n                commandObj.callback = diagnostic_channel_1.channel.bindToContext(function (err, result) {\r\n                    var hrDuration = process.hrtime(startTime_1);\r\n                    /* tslint:disable-next-line:no-bitwise */\r\n                    var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\r\n                    diagnostic_channel_1.channel.publish(\"redis\", { duration: duration, address: address_1, commandObj: commandObj, err: err, result: result, time: startDate_1 });\r\n                    if (typeof cb_1 === \"function\") {\r\n                        cb_1.apply(this, arguments);\r\n                    }\r\n                });\r\n                commandObj.callback.pubsubBound = true;\r\n            }\r\n        }\r\n        return originalSend.call(this, commandObj);\r\n    };\r\n    return originalRedis;\r\n};\r\nexports.redis = {\r\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\r\n    patch: redisPatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"redis\", exports.redis);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=redis.pub.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.tedious = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar tediousPatchFunction = function (originalTedious) {\r\n    var originalMakeRequest = originalTedious.Connection.prototype.makeRequest;\r\n    originalTedious.Connection.prototype.makeRequest = function makeRequest() {\r\n        function getPatchedCallback(origCallback) {\r\n            var start = process.hrtime();\r\n            var data = {\r\n                query: {},\r\n                database: {\r\n                    host: null,\r\n                    port: null\r\n                },\r\n                result: null,\r\n                error: null,\r\n                duration: 0\r\n            };\r\n            return diagnostic_channel_1.channel.bindToContext(function (err, rowCount, rows) {\r\n                var end = process.hrtime(start);\r\n                data = __assign(__assign({}, data), { database: {\r\n                        host: this.connection.config.server,\r\n                        port: this.connection.config.options.port\r\n                    }, result: !err && { rowCount: rowCount, rows: rows }, query: {\r\n                        text: this.parametersByName.statement.value\r\n                    }, error: err, duration: Math.ceil((end[0] * 1e3) + (end[1] / 1e6)) });\r\n                diagnostic_channel_1.channel.publish(\"tedious\", data);\r\n                origCallback.call(this, err, rowCount, rows);\r\n            });\r\n        }\r\n        var request = arguments[0];\r\n        arguments[0].callback = getPatchedCallback(request.callback);\r\n        originalMakeRequest.apply(this, arguments);\r\n    };\r\n    return originalTedious;\r\n};\r\nexports.tedious = {\r\n    versionSpecifier: \">= 6.0.0 < 9.0.0\",\r\n    patch: tediousPatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"tedious\", exports.tedious);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=tedious.pub.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.winston2 = exports.winston3 = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\n// register a \"filter\" with each logger that publishes the data about to be logged\r\nvar winston2PatchFunction = function (originalWinston) {\r\n    var originalLog = originalWinston.Logger.prototype.log;\r\n    var curLevels;\r\n    var loggingFilter = function (level, message, meta) {\r\n        var levelKind;\r\n        if (curLevels === originalWinston.config.npm.levels) {\r\n            levelKind = \"npm\";\r\n        }\r\n        else if (curLevels === originalWinston.config.syslog.levels) {\r\n            levelKind = \"syslog\";\r\n        }\r\n        else {\r\n            levelKind = \"unknown\";\r\n        }\r\n        diagnostic_channel_1.channel.publish(\"winston\", { level: level, message: message, meta: meta, levelKind: levelKind });\r\n        return message;\r\n    };\r\n    // whenever someone logs, ensure our filter comes last\r\n    originalWinston.Logger.prototype.log = function log() {\r\n        curLevels = this.levels;\r\n        if (!this.filters || this.filters.length === 0) {\r\n            this.filters = [loggingFilter];\r\n        }\r\n        else if (this.filters[this.filters.length - 1] !== loggingFilter) {\r\n            this.filters = this.filters.filter(function (f) { return f !== loggingFilter; });\r\n            this.filters.push(loggingFilter);\r\n        }\r\n        return originalLog.apply(this, arguments);\r\n    };\r\n    return originalWinston;\r\n};\r\nvar winston3PatchFunction = function (originalWinston) {\r\n    var mapLevelToKind = function (winston, level) {\r\n        var levelKind;\r\n        if (winston.config.npm.levels[level] != null) {\r\n            levelKind = \"npm\";\r\n        }\r\n        else if (winston.config.syslog.levels[level] != null) {\r\n            levelKind = \"syslog\";\r\n        }\r\n        else {\r\n            levelKind = \"unknown\";\r\n        }\r\n        return levelKind;\r\n    };\r\n    var AppInsightsTransport = /** @class */ (function (_super) {\r\n        __extends(AppInsightsTransport, _super);\r\n        function AppInsightsTransport(winston, opts) {\r\n            var _this = _super.call(this, opts) || this;\r\n            _this.winston = winston;\r\n            return _this;\r\n        }\r\n        AppInsightsTransport.prototype.log = function (info, callback) {\r\n            // tslint:disable-next-line:prefer-const - try to obtain level from Symbol(level) afterwards\r\n            var message = info.message, level = info.level, meta = info.meta, splat = __rest(info, [\"message\", \"level\", \"meta\"]);\r\n            level = typeof Symbol[\"for\"] === \"function\" ? info[Symbol[\"for\"](\"level\")] : level; // Symbol(level) is uncolorized, so prefer getting it from here\r\n            message = info instanceof Error ? info : message; // Winston places Errors at info, strings at info.message\r\n            var levelKind = mapLevelToKind(this.winston, level);\r\n            meta = meta || {}; // Winston _somtimes_ puts metadata inside meta, so start from here\r\n            for (var key in splat) {\r\n                if (splat.hasOwnProperty(key)) {\r\n                    meta[key] = splat[key];\r\n                }\r\n            }\r\n            diagnostic_channel_1.channel.publish(\"winston\", { message: message, level: level, levelKind: levelKind, meta: meta });\r\n            callback();\r\n        };\r\n        return AppInsightsTransport;\r\n    }(originalWinston.Transport));\r\n    // Helper function which returns either set level or highest level\r\n    function getLogLevel(opts) {\r\n        var _a;\r\n        // Check whether a level has been provided\r\n        if (opts === null || opts === void 0 ? void 0 : opts.level) {\r\n            return opts.level;\r\n        }\r\n        // Grab highest sev logging level in case of custom logging levels\r\n        var levels = (_a = opts === null || opts === void 0 ? void 0 : opts.levels) !== null && _a !== void 0 ? _a : originalWinston.config.npm.levels;\r\n        var lastLevel;\r\n        for (var level in levels) {\r\n            if (levels.hasOwnProperty(level)) {\r\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\r\n            }\r\n        }\r\n        return lastLevel;\r\n    }\r\n    // Patch this function\r\n    function patchedConfigure(opts) {\r\n        this.add(new AppInsightsTransport(originalWinston, { level: getLogLevel(opts) }));\r\n    }\r\n    var origCreate = originalWinston.createLogger;\r\n    originalWinston.createLogger = function patchedCreate(opts) {\r\n        // Add custom app insights transport to the end\r\n        // Remark: Configure is not available until after createLogger()\r\n        // and the Logger prototype is not exported in winston 3.x, so\r\n        // patch both createLogger and configure. Could also call configure\r\n        // again after createLogger, but that would cause configure to be called\r\n        // twice per create.\r\n        var result = origCreate.call(this, opts);\r\n        result.add(new AppInsightsTransport(originalWinston, { level: getLogLevel(opts) }));\r\n        var origConfigure = result.configure;\r\n        result.configure = function () {\r\n            origConfigure.apply(this, arguments);\r\n            patchedConfigure.apply(this, arguments);\r\n        };\r\n        return result;\r\n    };\r\n    var origRootConfigure = originalWinston.configure;\r\n    originalWinston.configure = function () {\r\n        origRootConfigure.apply(this, arguments);\r\n        patchedConfigure.apply(this, arguments);\r\n    };\r\n    originalWinston.add(new AppInsightsTransport(originalWinston));\r\n    return originalWinston;\r\n};\r\nexports.winston3 = {\r\n    versionSpecifier: \"3.x\",\r\n    patch: winston3PatchFunction\r\n};\r\nexports.winston2 = {\r\n    versionSpecifier: \"2.x\",\r\n    patch: winston2PatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston2);\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston3);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=winston.pub.js.map","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 3758;\nmodule.exports = webpackEmptyContext;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 9572;\nmodule.exports = webpackEmptyContext;","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.channel = exports.ContextPreservingEventEmitter = exports.trueFilter = exports.makePatchingRequire = void 0;\r\nvar patchRequire_1 = require(\"./patchRequire\");\r\nvar patchRequire_2 = require(\"./patchRequire\");\r\nObject.defineProperty(exports, \"makePatchingRequire\", { enumerable: true, get: function () { return patchRequire_2.makePatchingRequire; } });\r\nvar trueFilter = function (publishing) { return true; };\r\nexports.trueFilter = trueFilter;\r\nvar ContextPreservingEventEmitter = /** @class */ (function () {\r\n    function ContextPreservingEventEmitter() {\r\n        this.version = require(\"./../../package.json\").version; // Allow for future versions to replace things?\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        this.knownPatches = {};\r\n        this.modulesPatched = [];\r\n        this.currentlyPublishing = false;\r\n    }\r\n    ContextPreservingEventEmitter.prototype.shouldPublish = function (name) {\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            return listeners.some(function (_a) {\r\n                var filter = _a.filter;\r\n                return !filter || filter(false);\r\n            });\r\n        }\r\n        return false;\r\n    };\r\n    ContextPreservingEventEmitter.prototype.publish = function (name, event) {\r\n        if (this.currentlyPublishing) {\r\n            return; // Avoid reentrancy\r\n        }\r\n        var listeners = this.subscribers[name];\r\n        // Note: Listeners called synchronously to preserve context\r\n        if (listeners) {\r\n            var standardEvent_1 = {\r\n                timestamp: Date.now(),\r\n                data: event\r\n            };\r\n            this.currentlyPublishing = true;\r\n            listeners.forEach(function (_a) {\r\n                var listener = _a.listener, filter = _a.filter;\r\n                try {\r\n                    if (filter && filter(true)) {\r\n                        listener(standardEvent_1);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // Subscriber threw an error\r\n                }\r\n            });\r\n            this.currentlyPublishing = false;\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.subscribe = function (name, listener, filter, patchCallback) {\r\n        if (filter === void 0) { filter = exports.trueFilter; }\r\n        if (!this.subscribers[name]) {\r\n            this.subscribers[name] = [];\r\n        }\r\n        this.subscribers[name].push({ listener: listener, filter: filter, patchCallback: patchCallback });\r\n        var patched = this.checkIfModuleIsAlreadyPatched(name);\r\n        if (patched && patchCallback) {\r\n            patchCallback(patched.name, patched.version);\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.unsubscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = exports.trueFilter; }\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            for (var index = 0; index < listeners.length; ++index) {\r\n                if (listeners[index].listener === listener && listeners[index].filter === filter) {\r\n                    listeners.splice(index, 1);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    // Used for tests\r\n    ContextPreservingEventEmitter.prototype.reset = function () {\r\n        var _this = this;\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        // Modify the knownPatches object rather than replace, since a reference will be used in the require patcher\r\n        Object.getOwnPropertyNames(this.knownPatches).forEach(function (prop) { return delete _this.knownPatches[prop]; });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.bindToContext = function (cb) {\r\n        return this.contextPreservationFunction(cb);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.addContextPreservation = function (preserver) {\r\n        var previousPreservationStack = this.contextPreservationFunction;\r\n        this.contextPreservationFunction = (function (cb) { return preserver(previousPreservationStack(cb)); });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.registerMonkeyPatch = function (packageName, patcher) {\r\n        if (!this.knownPatches[packageName]) {\r\n            this.knownPatches[packageName] = [];\r\n        }\r\n        this.knownPatches[packageName].push(patcher);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.getPatchesObject = function () {\r\n        return this.knownPatches;\r\n    };\r\n    ContextPreservingEventEmitter.prototype.addPatchedModule = function (name, version) {\r\n        for (var _i = 0, _a = this.modulesPatched; _i < _a.length; _i++) {\r\n            var module_1 = _a[_i];\r\n            if (module_1.name === name) {\r\n                return;\r\n            }\r\n        }\r\n        // If new patch notify listeners\r\n        this.modulesPatched.push({ name: name, version: version });\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            listeners.forEach(function (listener) {\r\n                if (listener.patchCallback) {\r\n                    listener.patchCallback(name, version);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.checkIfModuleIsAlreadyPatched = function (name) {\r\n        for (var _i = 0, _a = this.modulesPatched; _i < _a.length; _i++) {\r\n            var module_2 = _a[_i];\r\n            if (module_2.name === name) {\r\n                return module_2;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return ContextPreservingEventEmitter;\r\n}());\r\nexports.ContextPreservingEventEmitter = ContextPreservingEventEmitter;\r\nif (!global.diagnosticsSource) {\r\n    global.diagnosticsSource = new ContextPreservingEventEmitter();\r\n    // TODO: should this only patch require after at least one monkey patch is registered?\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    var moduleModule = require(\"module\");\r\n    // Note: We pass in the object now before any patches are registered, but the object is passed by reference\r\n    // so any updates made to the object will be visible in the patcher.\r\n    moduleModule.prototype.require = patchRequire_1.makePatchingRequire(global.diagnosticsSource.getPatchesObject());\r\n}\r\nexports.channel = global.diagnosticsSource;\r\n//# sourceMappingURL=channel.js.map","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.makePatchingRequire = void 0;\r\nvar path = require(\"path\");\r\nvar semver = require(\"semver\");\r\nvar channel_1 = require(\"./channel\");\r\n/* tslint:disable-next-line:no-var-requires */\r\nvar moduleModule = require(\"module\");\r\nvar nativeModules = Object.keys(process.binding(\"natives\"));\r\nvar originalRequire = moduleModule.prototype.require;\r\nfunction makePatchingRequire(knownPatches) {\r\n    var patchedModules = {};\r\n    return function patchedRequire(moduleId) {\r\n        var originalModule = originalRequire.apply(this, arguments);\r\n        if (knownPatches[moduleId]) {\r\n            // Fetch the specific path of the module\r\n            var modulePath = moduleModule._resolveFilename(moduleId, this);\r\n            if (patchedModules.hasOwnProperty(modulePath)) {\r\n                // This module has already been patched, no need to reapply\r\n                return patchedModules[modulePath];\r\n            }\r\n            var moduleVersion = void 0;\r\n            if (nativeModules.indexOf(moduleId) < 0) {\r\n                try {\r\n                    moduleVersion = originalRequire.call(this, path.join(moduleId, \"package.json\")).version;\r\n                }\r\n                catch (e) {\r\n                    // This should only happen if moduleId is actually a path rather than a module\r\n                    // This is not a supported scenario\r\n                    return originalModule;\r\n                }\r\n            }\r\n            else {\r\n                // This module is implemented natively so we cannot find a package.json\r\n                // Instead, take the version of node itself\r\n                moduleVersion = process.version.substring(1);\r\n            }\r\n            var prereleaseTagIndex = moduleVersion.indexOf(\"-\");\r\n            if (prereleaseTagIndex >= 0) {\r\n                // We ignore prerelease tags to avoid impossible to fix gaps in support\r\n                // e.g. supporting console in >= 4.0.0 would otherwise not include\r\n                // 8.0.0-pre\r\n                moduleVersion = moduleVersion.substring(0, prereleaseTagIndex);\r\n            }\r\n            var modifiedModule = originalModule;\r\n            for (var _i = 0, _a = knownPatches[moduleId]; _i < _a.length; _i++) {\r\n                var modulePatcher = _a[_i];\r\n                if (semver.satisfies(moduleVersion, modulePatcher.versionSpecifier)) {\r\n                    modifiedModule = modulePatcher.patch(modifiedModule, modulePath);\r\n                    if (channel_1.channel) {\r\n                        var name_1 = modulePatcher.publisherName || moduleId;\r\n                        channel_1.channel.addPatchedModule(name_1, moduleVersion);\r\n                    }\r\n                }\r\n            }\r\n            return patchedModules[modulePath] = modifiedModule;\r\n        }\r\n        return originalModule;\r\n    };\r\n}\r\nexports.makePatchingRequire = makePatchingRequire;\r\n//# sourceMappingURL=patchRequire.js.map","'use strict';\n\nvar shimmer = require('shimmer');\nvar wrap    = shimmer.wrap;\nvar unwrap  = shimmer.unwrap;\n\n// Default to complaining loudly when things don't go according to plan.\n// dunderscores are boring\nvar SYMBOL = 'wrap@before';\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty(obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name);\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  });\n}\n\nfunction _process(self, listeners) {\n  var l = listeners.length;\n  for (var p = 0; p < l; p++) {\n    var listener = listeners[p];\n    // set up the listener so that onEmit can do whatever it needs\n    var before = self[SYMBOL];\n    if (typeof before === 'function') {\n      before(listener);\n    }\n    else if (Array.isArray(before)) {\n      var length = before.length;\n      for (var i = 0; i < length; i++) before[i](listener);\n    }\n  }\n}\n\nfunction _listeners(self, event) {\n  var listeners;\n  listeners = self._events && self._events[event];\n  if (!Array.isArray(listeners)) {\n    if (listeners) {\n      listeners = [listeners];\n    }\n    else {\n      listeners = [];\n    }\n  }\n\n  return listeners;\n}\n\nfunction _findAndProcess(self, event, before) {\n  var after = _listeners(self, event);\n  var unprocessed = after.filter(function(fn) { return before.indexOf(fn) === -1; });\n  if (unprocessed.length > 0) _process(self, unprocessed);\n}\n\nfunction _wrap(unwrapped, visit) {\n  if (!unwrapped) return;\n\n  var wrapped = unwrapped;\n  if (typeof unwrapped === 'function') {\n    wrapped = visit(unwrapped);\n  }\n  else if (Array.isArray(unwrapped)) {\n    wrapped = [];\n    for (var i = 0; i < unwrapped.length; i++) {\n      wrapped[i] = visit(unwrapped[i]);\n    }\n  }\n  return wrapped;\n}\n\nmodule.exports = function wrapEmitter(emitter, onAddListener, onEmit) {\n  if (!emitter || !emitter.on || !emitter.addListener ||\n      !emitter.removeListener || !emitter.emit) {\n    throw new Error(\"can only wrap real EEs\");\n  }\n\n  if (!onAddListener) throw new Error(\"must have function to run on listener addition\");\n  if (!onEmit) throw new Error(\"must have function to wrap listeners when emitting\");\n\n  /* Attach a context to a listener, and make sure that this hook stays\n   * attached to the emitter forevermore.\n   */\n  function adding(on) {\n    return function added(event, listener) {\n      var existing = _listeners(this, event).slice();\n\n      try {\n        var returned = on.call(this, event, listener);\n        _findAndProcess(this, event, existing);\n        return returned;\n      }\n      finally {\n        // old-style streaming overwrites .on and .addListener, so rewrap\n        if (!this.on.__wrapped) wrap(this, 'on', adding);\n        if (!this.addListener.__wrapped) wrap(this, 'addListener', adding);\n      }\n    };\n  }\n\n  function emitting(emit) {\n    return function emitted(event) {\n      if (!this._events || !this._events[event]) return emit.apply(this, arguments);\n\n      var unwrapped = this._events[event];\n\n      /* Ensure that if removeListener gets called, it's working with the\n       * unwrapped listeners.\n       */\n      function remover(removeListener) {\n        return function removed() {\n          this._events[event] = unwrapped;\n          try {\n            return removeListener.apply(this, arguments);\n          }\n          finally {\n            unwrapped = this._events[event];\n            this._events[event] = _wrap(unwrapped, onEmit);\n          }\n        };\n      }\n      wrap(this, 'removeListener', remover);\n\n      try {\n        /* At emit time, ensure that whatever else is going on, removeListener will\n         * still work while at the same time running whatever hooks are necessary to\n         * make sure the listener is run in the correct context.\n         */\n        this._events[event] = _wrap(unwrapped, onEmit);\n        return emit.apply(this, arguments);\n      }\n      finally {\n        /* Ensure that regardless of what happens when preparing and running the\n         * listeners, the status quo ante is restored before continuing.\n         */\n        unwrap(this, 'removeListener');\n        this._events[event] = unwrapped;\n      }\n    };\n  }\n\n  // support multiple onAddListeners\n  if (!emitter[SYMBOL]) {\n    defineProperty(emitter, SYMBOL, onAddListener);\n  }\n  else if (typeof emitter[SYMBOL] === 'function') {\n    defineProperty(emitter, SYMBOL, [emitter[SYMBOL], onAddListener]);\n  }\n  else if (Array.isArray(emitter[SYMBOL])) {\n    emitter[SYMBOL].push(onAddListener);\n  }\n\n  // only wrap the core functions once\n  if (!emitter.__wrapped) {\n    wrap(emitter, 'addListener', adding);\n    wrap(emitter, 'on',          adding);\n    wrap(emitter, 'emit',        emitting);\n\n    defineProperty(emitter, '__unwrap', function () {\n      unwrap(emitter, 'addListener');\n      unwrap(emitter, 'on');\n      unwrap(emitter, 'emit');\n      delete emitter[SYMBOL];\n      delete emitter.__wrapped;\n    });\n    defineProperty(emitter, '__wrapped', true);\n  }\n};\n","var CombinedStream = require('combined-stream');\nvar util = require('util');\nvar path = require('path');\nvar http = require('http');\nvar https = require('https');\nvar parseUrl = require('url').parse;\nvar fs = require('fs');\nvar Stream = require('stream').Stream;\nvar mime = require('mime-types');\nvar asynckit = require('asynckit');\nvar populate = require('./populate.js');\n\n// Public API\nmodule.exports = FormData;\n\n// make it a Stream\nutil.inherits(FormData, CombinedStream);\n\n/**\n * Create readable \"multipart/form-data\" streams.\n * Can be used to submit forms\n * and file uploads to other web applications.\n *\n * @constructor\n * @param {Object} options - Properties to be added/overriden for FormData and CombinedStream\n */\nfunction FormData(options) {\n  if (!(this instanceof FormData)) {\n    return new FormData(options);\n  }\n\n  this._overheadLength = 0;\n  this._valueLength = 0;\n  this._valuesToMeasure = [];\n\n  CombinedStream.call(this);\n\n  options = options || {};\n  for (var option in options) {\n    this[option] = options[option];\n  }\n}\n\nFormData.LINE_BREAK = '\\r\\n';\nFormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\nFormData.prototype.append = function(field, value, options) {\n\n  options = options || {};\n\n  // allow filename as single option\n  if (typeof options == 'string') {\n    options = {filename: options};\n  }\n\n  var append = CombinedStream.prototype.append.bind(this);\n\n  // all that streamy business can't handle numbers\n  if (typeof value == 'number') {\n    value = '' + value;\n  }\n\n  // https://github.com/felixge/node-form-data/issues/38\n  if (util.isArray(value)) {\n    // Please convert your array into string\n    // the way web server expects it\n    this._error(new Error('Arrays are not supported.'));\n    return;\n  }\n\n  var header = this._multiPartHeader(field, value, options);\n  var footer = this._multiPartFooter();\n\n  append(header);\n  append(value);\n  append(footer);\n\n  // pass along options.knownLength\n  this._trackLength(header, value, options);\n};\n\nFormData.prototype._trackLength = function(header, value, options) {\n  var valueLength = 0;\n\n  // used w/ getLengthSync(), when length is known.\n  // e.g. for streaming directly from a remote server,\n  // w/ a known file a size, and not wanting to wait for\n  // incoming file to finish to get its size.\n  if (options.knownLength != null) {\n    valueLength += +options.knownLength;\n  } else if (Buffer.isBuffer(value)) {\n    valueLength = value.length;\n  } else if (typeof value === 'string') {\n    valueLength = Buffer.byteLength(value);\n  }\n\n  this._valueLength += valueLength;\n\n  // @check why add CRLF? does this account for custom/multiple CRLFs?\n  this._overheadLength +=\n    Buffer.byteLength(header) +\n    FormData.LINE_BREAK.length;\n\n  // empty or either doesn't have path or not an http response or not a stream\n  if (!value || ( !value.path && !(value.readable && value.hasOwnProperty('httpVersion')) && !(value instanceof Stream))) {\n    return;\n  }\n\n  // no need to bother with the length\n  if (!options.knownLength) {\n    this._valuesToMeasure.push(value);\n  }\n};\n\nFormData.prototype._lengthRetriever = function(value, callback) {\n\n  if (value.hasOwnProperty('fd')) {\n\n    // take read range into a account\n    // `end` = Infinity –> read file till the end\n    //\n    // TODO: Looks like there is bug in Node fs.createReadStream\n    // it doesn't respect `end` options without `start` options\n    // Fix it when node fixes it.\n    // https://github.com/joyent/node/issues/7819\n    if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n\n      // when end specified\n      // no need to calculate range\n      // inclusive, starts with 0\n      callback(null, value.end + 1 - (value.start ? value.start : 0));\n\n    // not that fast snoopy\n    } else {\n      // still need to fetch file size from fs\n      fs.stat(value.path, function(err, stat) {\n\n        var fileSize;\n\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        // update final size based on the range options\n        fileSize = stat.size - (value.start ? value.start : 0);\n        callback(null, fileSize);\n      });\n    }\n\n  // or http response\n  } else if (value.hasOwnProperty('httpVersion')) {\n    callback(null, +value.headers['content-length']);\n\n  // or request stream http://github.com/mikeal/request\n  } else if (value.hasOwnProperty('httpModule')) {\n    // wait till response come back\n    value.on('response', function(response) {\n      value.pause();\n      callback(null, +response.headers['content-length']);\n    });\n    value.resume();\n\n  // something else\n  } else {\n    callback('Unknown stream');\n  }\n};\n\nFormData.prototype._multiPartHeader = function(field, value, options) {\n  // custom header specified (as string)?\n  // it becomes responsible for boundary\n  // (e.g. to handle extra CRLFs on .NET servers)\n  if (typeof options.header == 'string') {\n    return options.header;\n  }\n\n  var contentDisposition = this._getContentDisposition(value, options);\n  var contentType = this._getContentType(value, options);\n\n  var contents = '';\n  var headers  = {\n    // add custom disposition as third element or keep it two elements if not\n    'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n    // if no content type. allow it to be empty array\n    'Content-Type': [].concat(contentType || [])\n  };\n\n  // allow custom headers.\n  if (typeof options.header == 'object') {\n    populate(headers, options.header);\n  }\n\n  var header;\n  for (var prop in headers) {\n    if (!headers.hasOwnProperty(prop)) continue;\n    header = headers[prop];\n\n    // skip nullish headers.\n    if (header == null) {\n      continue;\n    }\n\n    // convert all headers to arrays.\n    if (!Array.isArray(header)) {\n      header = [header];\n    }\n\n    // add non-empty headers.\n    if (header.length) {\n      contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n    }\n  }\n\n  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n};\n\nFormData.prototype._getContentDisposition = function(value, options) {\n\n  var filename\n    , contentDisposition\n    ;\n\n  if (typeof options.filepath === 'string') {\n    // custom filepath for relative paths\n    filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n  } else if (options.filename || value.name || value.path) {\n    // custom filename take precedence\n    // formidable and the browser add a name property\n    // fs- and request- streams have path property\n    filename = path.basename(options.filename || value.name || value.path);\n  } else if (value.readable && value.hasOwnProperty('httpVersion')) {\n    // or try http response\n    filename = path.basename(value.client._httpMessage.path || '');\n  }\n\n  if (filename) {\n    contentDisposition = 'filename=\"' + filename + '\"';\n  }\n\n  return contentDisposition;\n};\n\nFormData.prototype._getContentType = function(value, options) {\n\n  // use custom content-type above all\n  var contentType = options.contentType;\n\n  // or try `name` from formidable, browser\n  if (!contentType && value.name) {\n    contentType = mime.lookup(value.name);\n  }\n\n  // or try `path` from fs-, request- streams\n  if (!contentType && value.path) {\n    contentType = mime.lookup(value.path);\n  }\n\n  // or if it's http-reponse\n  if (!contentType && value.readable && value.hasOwnProperty('httpVersion')) {\n    contentType = value.headers['content-type'];\n  }\n\n  // or guess it from the filepath or filename\n  if (!contentType && (options.filepath || options.filename)) {\n    contentType = mime.lookup(options.filepath || options.filename);\n  }\n\n  // fallback to the default content type if `value` is not simple value\n  if (!contentType && typeof value == 'object') {\n    contentType = FormData.DEFAULT_CONTENT_TYPE;\n  }\n\n  return contentType;\n};\n\nFormData.prototype._multiPartFooter = function() {\n  return function(next) {\n    var footer = FormData.LINE_BREAK;\n\n    var lastPart = (this._streams.length === 0);\n    if (lastPart) {\n      footer += this._lastBoundary();\n    }\n\n    next(footer);\n  }.bind(this);\n};\n\nFormData.prototype._lastBoundary = function() {\n  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n};\n\nFormData.prototype.getHeaders = function(userHeaders) {\n  var header;\n  var formHeaders = {\n    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n  };\n\n  for (header in userHeaders) {\n    if (userHeaders.hasOwnProperty(header)) {\n      formHeaders[header.toLowerCase()] = userHeaders[header];\n    }\n  }\n\n  return formHeaders;\n};\n\nFormData.prototype.setBoundary = function(boundary) {\n  this._boundary = boundary;\n};\n\nFormData.prototype.getBoundary = function() {\n  if (!this._boundary) {\n    this._generateBoundary();\n  }\n\n  return this._boundary;\n};\n\nFormData.prototype.getBuffer = function() {\n  var dataBuffer = new Buffer.alloc( 0 );\n  var boundary = this.getBoundary();\n\n  // Create the form content. Add Line breaks to the end of data.\n  for (var i = 0, len = this._streams.length; i < len; i++) {\n    if (typeof this._streams[i] !== 'function') {\n\n      // Add content to the buffer.\n      if(Buffer.isBuffer(this._streams[i])) {\n        dataBuffer = Buffer.concat( [dataBuffer, this._streams[i]]);\n      }else {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(this._streams[i])]);\n      }\n\n      // Add break after content.\n      if (typeof this._streams[i] !== 'string' || this._streams[i].substring( 2, boundary.length + 2 ) !== boundary) {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(FormData.LINE_BREAK)] );\n      }\n    }\n  }\n\n  // Add the footer and return the Buffer object.\n  return Buffer.concat( [dataBuffer, Buffer.from(this._lastBoundary())] );\n};\n\nFormData.prototype._generateBoundary = function() {\n  // This generates a 50 character boundary similar to those used by Firefox.\n  // They are optimized for boyer-moore parsing.\n  var boundary = '--------------------------';\n  for (var i = 0; i < 24; i++) {\n    boundary += Math.floor(Math.random() * 10).toString(16);\n  }\n\n  this._boundary = boundary;\n};\n\n// Note: getLengthSync DOESN'T calculate streams length\n// As workaround one can calculate file size manually\n// and add it as knownLength option\nFormData.prototype.getLengthSync = function() {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  // Don't get confused, there are 3 \"internal\" streams for each keyval pair\n  // so it basically checks if there is any value added to the form\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  // https://github.com/form-data/form-data/issues/40\n  if (!this.hasKnownLength()) {\n    // Some async length retrievers are present\n    // therefore synchronous length calculation is false.\n    // Please use getLength(callback) to get proper length\n    this._error(new Error('Cannot calculate proper length in synchronous way.'));\n  }\n\n  return knownLength;\n};\n\n// Public API to check if length of added values is known\n// https://github.com/form-data/form-data/issues/196\n// https://github.com/form-data/form-data/issues/262\nFormData.prototype.hasKnownLength = function() {\n  var hasKnownLength = true;\n\n  if (this._valuesToMeasure.length) {\n    hasKnownLength = false;\n  }\n\n  return hasKnownLength;\n};\n\nFormData.prototype.getLength = function(cb) {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  if (!this._valuesToMeasure.length) {\n    process.nextTick(cb.bind(this, null, knownLength));\n    return;\n  }\n\n  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function(err, values) {\n    if (err) {\n      cb(err);\n      return;\n    }\n\n    values.forEach(function(length) {\n      knownLength += length;\n    });\n\n    cb(null, knownLength);\n  });\n};\n\nFormData.prototype.submit = function(params, cb) {\n  var request\n    , options\n    , defaults = {method: 'post'}\n    ;\n\n  // parse provided url if it's string\n  // or treat it as options object\n  if (typeof params == 'string') {\n\n    params = parseUrl(params);\n    options = populate({\n      port: params.port,\n      path: params.pathname,\n      host: params.hostname,\n      protocol: params.protocol\n    }, defaults);\n\n  // use custom params\n  } else {\n\n    options = populate(params, defaults);\n    // if no port provided use default one\n    if (!options.port) {\n      options.port = options.protocol == 'https:' ? 443 : 80;\n    }\n  }\n\n  // put that good code in getHeaders to some use\n  options.headers = this.getHeaders(params.headers);\n\n  // https if specified, fallback to http in any other case\n  if (options.protocol == 'https:') {\n    request = https.request(options);\n  } else {\n    request = http.request(options);\n  }\n\n  // get content length and fire away\n  this.getLength(function(err, length) {\n    if (err && err !== 'Unknown stream') {\n      this._error(err);\n      return;\n    }\n\n    // add content length\n    if (length) {\n      request.setHeader('Content-Length', length);\n    }\n\n    this.pipe(request);\n    if (cb) {\n      var onResponse;\n\n      var callback = function (error, responce) {\n        request.removeListener('error', callback);\n        request.removeListener('response', onResponse);\n\n        return cb.call(this, error, responce);\n      };\n\n      onResponse = callback.bind(this, null);\n\n      request.on('error', callback);\n      request.on('response', onResponse);\n    }\n  }.bind(this));\n\n  return request;\n};\n\nFormData.prototype._error = function(err) {\n  if (!this.error) {\n    this.error = err;\n    this.pause();\n    this.emit('error', err);\n  }\n};\n\nFormData.prototype.toString = function () {\n  return '[object FormData]';\n};\n","// populates missing values\nmodule.exports = function(dst, src) {\n\n  Object.keys(src).forEach(function(prop)\n  {\n    dst[prop] = dst[prop] || src[prop];\n  });\n\n  return dst;\n};\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst net_1 = __importDefault(require(\"net\"));\nconst tls_1 = __importDefault(require(\"tls\"));\nconst url_1 = __importDefault(require(\"url\"));\nconst assert_1 = __importDefault(require(\"assert\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst agent_base_1 = require(\"agent-base\");\nconst parse_proxy_response_1 = __importDefault(require(\"./parse-proxy-response\"));\nconst debug = debug_1.default('https-proxy-agent:agent');\n/**\n * The `HttpsProxyAgent` implements an HTTP Agent subclass that connects to\n * the specified \"HTTP(s) proxy server\" in order to proxy HTTPS requests.\n *\n * Outgoing HTTP requests are first tunneled through the proxy server using the\n * `CONNECT` HTTP request method to establish a connection to the proxy server,\n * and then the proxy server connects to the destination target and issues the\n * HTTP request from the proxy server.\n *\n * `https:` requests have their socket connection upgraded to TLS once\n * the connection to the proxy server has been established.\n *\n * @api public\n */\nclass HttpsProxyAgent extends agent_base_1.Agent {\n    constructor(_opts) {\n        let opts;\n        if (typeof _opts === 'string') {\n            opts = url_1.default.parse(_opts);\n        }\n        else {\n            opts = _opts;\n        }\n        if (!opts) {\n            throw new Error('an HTTP(S) proxy server `host` and `port` must be specified!');\n        }\n        debug('creating new HttpsProxyAgent instance: %o', opts);\n        super(opts);\n        const proxy = Object.assign({}, opts);\n        // If `true`, then connect to the proxy server over TLS.\n        // Defaults to `false`.\n        this.secureProxy = opts.secureProxy || isHTTPS(proxy.protocol);\n        // Prefer `hostname` over `host`, and set the `port` if needed.\n        proxy.host = proxy.hostname || proxy.host;\n        if (typeof proxy.port === 'string') {\n            proxy.port = parseInt(proxy.port, 10);\n        }\n        if (!proxy.port && proxy.host) {\n            proxy.port = this.secureProxy ? 443 : 80;\n        }\n        // ALPN is supported by Node.js >= v5.\n        // attempt to negotiate http/1.1 for proxy servers that support http/2\n        if (this.secureProxy && !('ALPNProtocols' in proxy)) {\n            proxy.ALPNProtocols = ['http 1.1'];\n        }\n        if (proxy.host && proxy.path) {\n            // If both a `host` and `path` are specified then it's most likely\n            // the result of a `url.parse()` call... we need to remove the\n            // `path` portion so that `net.connect()` doesn't attempt to open\n            // that as a Unix socket file.\n            delete proxy.path;\n            delete proxy.pathname;\n        }\n        this.proxy = proxy;\n    }\n    /**\n     * Called when the node-core HTTP client library is creating a\n     * new HTTP request.\n     *\n     * @api protected\n     */\n    callback(req, opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { proxy, secureProxy } = this;\n            // Create a socket connection to the proxy server.\n            let socket;\n            if (secureProxy) {\n                debug('Creating `tls.Socket`: %o', proxy);\n                socket = tls_1.default.connect(proxy);\n            }\n            else {\n                debug('Creating `net.Socket`: %o', proxy);\n                socket = net_1.default.connect(proxy);\n            }\n            const headers = Object.assign({}, proxy.headers);\n            const hostname = `${opts.host}:${opts.port}`;\n            let payload = `CONNECT ${hostname} HTTP/1.1\\r\\n`;\n            // Inject the `Proxy-Authorization` header if necessary.\n            if (proxy.auth) {\n                headers['Proxy-Authorization'] = `Basic ${Buffer.from(proxy.auth).toString('base64')}`;\n            }\n            // The `Host` header should only include the port\n            // number when it is not the default port.\n            let { host, port, secureEndpoint } = opts;\n            if (!isDefaultPort(port, secureEndpoint)) {\n                host += `:${port}`;\n            }\n            headers.Host = host;\n            headers.Connection = 'close';\n            for (const name of Object.keys(headers)) {\n                payload += `${name}: ${headers[name]}\\r\\n`;\n            }\n            const proxyResponsePromise = parse_proxy_response_1.default(socket);\n            socket.write(`${payload}\\r\\n`);\n            const { statusCode, buffered } = yield proxyResponsePromise;\n            if (statusCode === 200) {\n                req.once('socket', resume);\n                if (opts.secureEndpoint) {\n                    // The proxy is connecting to a TLS server, so upgrade\n                    // this socket connection to a TLS connection.\n                    debug('Upgrading socket connection to TLS');\n                    const servername = opts.servername || opts.host;\n                    return tls_1.default.connect(Object.assign(Object.assign({}, omit(opts, 'host', 'hostname', 'path', 'port')), { socket,\n                        servername }));\n                }\n                return socket;\n            }\n            // Some other status code that's not 200... need to re-play the HTTP\n            // header \"data\" events onto the socket once the HTTP machinery is\n            // attached so that the node core `http` can parse and handle the\n            // error status code.\n            // Close the original socket, and a new \"fake\" socket is returned\n            // instead, so that the proxy doesn't get the HTTP request\n            // written to it (which may contain `Authorization` headers or other\n            // sensitive data).\n            //\n            // See: https://hackerone.com/reports/541502\n            socket.destroy();\n            const fakeSocket = new net_1.default.Socket({ writable: false });\n            fakeSocket.readable = true;\n            // Need to wait for the \"socket\" event to re-play the \"data\" events.\n            req.once('socket', (s) => {\n                debug('replaying proxy buffer for failed request');\n                assert_1.default(s.listenerCount('data') > 0);\n                // Replay the \"buffered\" Buffer onto the fake `socket`, since at\n                // this point the HTTP module machinery has been hooked up for\n                // the user.\n                s.push(buffered);\n                s.push(null);\n            });\n            return fakeSocket;\n        });\n    }\n}\nexports.default = HttpsProxyAgent;\nfunction resume(socket) {\n    socket.resume();\n}\nfunction isDefaultPort(port, secure) {\n    return Boolean((!secure && port === 80) || (secure && port === 443));\n}\nfunction isHTTPS(protocol) {\n    return typeof protocol === 'string' ? /^https:?$/i.test(protocol) : false;\n}\nfunction omit(obj, ...keys) {\n    const ret = {};\n    let key;\n    for (key in obj) {\n        if (!keys.includes(key)) {\n            ret[key] = obj[key];\n        }\n    }\n    return ret;\n}\n//# sourceMappingURL=agent.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst agent_1 = __importDefault(require(\"./agent\"));\nfunction createHttpsProxyAgent(opts) {\n    return new agent_1.default(opts);\n}\n(function (createHttpsProxyAgent) {\n    createHttpsProxyAgent.HttpsProxyAgent = agent_1.default;\n    createHttpsProxyAgent.prototype = agent_1.default.prototype;\n})(createHttpsProxyAgent || (createHttpsProxyAgent = {}));\nmodule.exports = createHttpsProxyAgent;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst debug_1 = __importDefault(require(\"debug\"));\nconst debug = debug_1.default('https-proxy-agent:parse-proxy-response');\nfunction parseProxyResponse(socket) {\n    return new Promise((resolve, reject) => {\n        // we need to buffer any HTTP traffic that happens with the proxy before we get\n        // the CONNECT response, so that if the response is anything other than an \"200\"\n        // response code, then we can re-play the \"data\" events on the socket once the\n        // HTTP parser is hooked up...\n        let buffersLength = 0;\n        const buffers = [];\n        function read() {\n            const b = socket.read();\n            if (b)\n                ondata(b);\n            else\n                socket.once('readable', read);\n        }\n        function cleanup() {\n            socket.removeListener('end', onend);\n            socket.removeListener('error', onerror);\n            socket.removeListener('close', onclose);\n            socket.removeListener('readable', read);\n        }\n        function onclose(err) {\n            debug('onclose had error %o', err);\n        }\n        function onend() {\n            debug('onend');\n        }\n        function onerror(err) {\n            cleanup();\n            debug('onerror %o', err);\n            reject(err);\n        }\n        function ondata(b) {\n            buffers.push(b);\n            buffersLength += b.length;\n            const buffered = Buffer.concat(buffers, buffersLength);\n            const endOfHeaders = buffered.indexOf('\\r\\n\\r\\n');\n            if (endOfHeaders === -1) {\n                // keep buffering\n                debug('have not received end of HTTP headers yet...');\n                read();\n                return;\n            }\n            const firstLine = buffered.toString('ascii', 0, buffered.indexOf('\\r\\n'));\n            const statusCode = +firstLine.split(' ')[1];\n            debug('got proxy server response: %o', firstLine);\n            resolve({\n                statusCode,\n                buffered\n            });\n        }\n        socket.on('error', onerror);\n        socket.on('close', onclose);\n        socket.on('end', onend);\n        read();\n    });\n}\nexports.default = parseProxyResponse;\n//# sourceMappingURL=parse-proxy-response.js.map","// Unless explicitly stated otherwise all files in this repository are licensed under the Apache 2.0 License.\n//\n// This product includes software developed at Datadog (https://www.datadoghq.com/). Copyright 2021 Datadog, Inc.\n\nconst path = require('path')\nconst parse = require('module-details-from-path')\nconst { fileURLToPath } = require('url')\n\nconst {\n  importHooks,\n  specifiers,\n  toHook\n} = require('./lib/register')\n\nfunction addHook(hook) {\n  importHooks.push(hook)\n  toHook.forEach(([name, namespace]) => hook(name, namespace))\n}\n\nfunction removeHook(hook) {\n  const index = importHooks.indexOf(hook)\n  if (index > -1) {\n    importHooks.splice(index, 1)\n  }\n}\n\nfunction callHookFn(hookFn, namespace, name, baseDir) {\n  const newDefault = hookFn(namespace, name, baseDir)\n  if (newDefault && newDefault !== namespace) {\n    namespace.default = newDefault\n  }\n}\n\nfunction Hook(modules, options, hookFn) {\n  if ((this instanceof Hook) === false) return new Hook(modules, options, hookFn)\n  if (typeof modules === 'function') {\n    hookFn = modules\n    modules = null\n    options = null\n  } else if (typeof options === 'function') {\n    hookFn = options\n    options = null\n  }\n  const internals = options ? options.internals === true : false\n\n  this._iitmHook = (name, namespace) => {\n    const filename = name\n    const isBuiltin = name.startsWith('node:')\n    let baseDir\n\n    if (isBuiltin) {\n      name = name.replace(/^node:/, '')\n    } else {\n      if (name.startsWith('file://')) {\n        try {\n          name = fileURLToPath(name)\n        } catch (e) {}\n      }\n      const details = parse(name)\n      if (details) {\n        name = details.name\n        baseDir = details.basedir\n      }\n    }\n\n    if (modules) {\n      for (const moduleName of modules) {\n        if (moduleName === name) {\n          if (baseDir) {\n            if (internals) {\n              name = name + path.sep + path.relative(baseDir, fileURLToPath(filename))\n            } else {\n              if (!baseDir.endsWith(specifiers.get(filename))) continue\n            }\n          }\n          callHookFn(hookFn, namespace, name, baseDir)\n        }\n      }\n    } else {\n      callHookFn(hookFn, namespace, name, baseDir)\n    }\n  }\n\n  addHook(this._iitmHook)\n}\n\nHook.prototype.unhook = function () {\n  removeHook(this._iitmHook)\n}\n\nmodule.exports = Hook\nmodule.exports.addHook = addHook\nmodule.exports.removeHook = removeHook\n","// Unless explicitly stated otherwise all files in this repository are licensed under the Apache 2.0 License.\n//\n// This product includes software developed at Datadog (https://www.datadoghq.com/). Copyright 2021 Datadog, Inc.\n\n\nconst importHooks = [] // TODO should this be a Set?\nconst setters = new WeakMap()\nconst specifiers = new Map()\nconst toHook = []\n\nconst proxyHandler = {\n  set(target, name, value) {\n    return setters.get(target)[name](value)\n  },\n\n  defineProperty(target, property, descriptor) {\n    if ((!('value' in descriptor))) {\n      throw new Error('Getters/setters are not supported for exports property descriptors.')\n    }\n\n    return setters.get(target)[property](descriptor.value)\n  }\n}\n\nfunction register(name, namespace, set, specifier) {\n  specifiers.set(name, specifier)\n  setters.set(namespace, set)\n  const proxy = new Proxy(namespace, proxyHandler)\n  importHooks.forEach(hook => hook(name, proxy))\n  toHook.push([name, proxy])\n}\n\nexports.register = register\nexports.importHooks = importHooks\nexports.specifiers = specifiers\nexports.toHook = toHook\n","'use strict';\n\nvar hasOwn = require('hasown');\n\nfunction specifierIncluded(current, specifier) {\n\tvar nodeParts = current.split('.');\n\tvar parts = specifier.split(' ');\n\tvar op = parts.length > 1 ? parts[0] : '=';\n\tvar versionParts = (parts.length > 1 ? parts[1] : parts[0]).split('.');\n\n\tfor (var i = 0; i < 3; ++i) {\n\t\tvar cur = parseInt(nodeParts[i] || 0, 10);\n\t\tvar ver = parseInt(versionParts[i] || 0, 10);\n\t\tif (cur === ver) {\n\t\t\tcontinue; // eslint-disable-line no-restricted-syntax, no-continue\n\t\t}\n\t\tif (op === '<') {\n\t\t\treturn cur < ver;\n\t\t}\n\t\tif (op === '>=') {\n\t\t\treturn cur >= ver;\n\t\t}\n\t\treturn false;\n\t}\n\treturn op === '>=';\n}\n\nfunction matchesRange(current, range) {\n\tvar specifiers = range.split(/ ?&& ?/);\n\tif (specifiers.length === 0) {\n\t\treturn false;\n\t}\n\tfor (var i = 0; i < specifiers.length; ++i) {\n\t\tif (!specifierIncluded(current, specifiers[i])) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\nfunction versionIncluded(nodeVersion, specifierValue) {\n\tif (typeof specifierValue === 'boolean') {\n\t\treturn specifierValue;\n\t}\n\n\tvar current = typeof nodeVersion === 'undefined'\n\t\t? process.versions && process.versions.node\n\t\t: nodeVersion;\n\n\tif (typeof current !== 'string') {\n\t\tthrow new TypeError(typeof nodeVersion === 'undefined' ? 'Unable to determine current node version' : 'If provided, a valid node version is required');\n\t}\n\n\tif (specifierValue && typeof specifierValue === 'object') {\n\t\tfor (var i = 0; i < specifierValue.length; ++i) {\n\t\t\tif (matchesRange(current, specifierValue[i])) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\treturn matchesRange(current, specifierValue);\n}\n\nvar data = require('./core.json');\n\nmodule.exports = function isCore(x, nodeVersion) {\n\treturn hasOwn(data, x) && versionIncluded(nodeVersion, data[x]);\n};\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","const isWindows = typeof process === 'object' &&\n  process &&\n  process.platform === 'win32'\nmodule.exports = isWindows ? { sep: '\\\\' } : { sep: '/' }\n","const minimatch = module.exports = (p, pattern, options = {}) => {\n  assertValidPattern(pattern)\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nmodule.exports = minimatch\n\nconst path = require('./lib/path.js')\nminimatch.sep = path.sep\n\nconst GLOBSTAR = Symbol('globstar **')\nminimatch.GLOBSTAR = GLOBSTAR\nconst expand = require('brace-expansion')\n\nconst plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nconst qmark = '[^/]'\n\n// * => any number of characters\nconst star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nconst twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nconst twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// \"abc\" -> { a:true, b:true, c:true }\nconst charSet = s => s.split('').reduce((set, c) => {\n  set[c] = true\n  return set\n}, {})\n\n// characters that need to be escaped in RegExp.\nconst reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// characters that indicate we have to add the pattern start\nconst addPatternStartSet = charSet('[.(')\n\n// normalizes slashes.\nconst slashSplit = /\\/+/\n\nminimatch.filter = (pattern, options = {}) =>\n  (p, i, list) => minimatch(p, pattern, options)\n\nconst ext = (a, b = {}) => {\n  const t = {}\n  Object.keys(a).forEach(k => t[k] = a[k])\n  Object.keys(b).forEach(k => t[k] = b[k])\n  return t\n}\n\nminimatch.defaults = def => {\n  if (!def || typeof def !== 'object' || !Object.keys(def).length) {\n    return minimatch\n  }\n\n  const orig = minimatch\n\n  const m = (p, pattern, options) => orig(p, pattern, ext(def, options))\n  m.Minimatch = class Minimatch extends orig.Minimatch {\n    constructor (pattern, options) {\n      super(pattern, ext(def, options))\n    }\n  }\n  m.Minimatch.defaults = options => orig.defaults(ext(def, options)).Minimatch\n  m.filter = (pattern, options) => orig.filter(pattern, ext(def, options))\n  m.defaults = options => orig.defaults(ext(def, options))\n  m.makeRe = (pattern, options) => orig.makeRe(pattern, ext(def, options))\n  m.braceExpand = (pattern, options) => orig.braceExpand(pattern, ext(def, options))\n  m.match = (list, pattern, options) => orig.match(list, pattern, ext(def, options))\n\n  return m\n}\n\n\n\n\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = (pattern, options) => braceExpand(pattern, options)\n\nconst braceExpand = (pattern, options = {}) => {\n  assertValidPattern(pattern)\n\n  // Thanks to Yeting Li <https://github.com/yetingli> for\n  // improving this regexp to avoid a ReDOS vulnerability.\n  if (options.nobrace || !/\\{(?:(?!\\{).)*\\}/.test(pattern)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\nconst MAX_PATTERN_LENGTH = 1024 * 64\nconst assertValidPattern = pattern => {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('invalid pattern')\n  }\n\n  if (pattern.length > MAX_PATTERN_LENGTH) {\n    throw new TypeError('pattern is too long')\n  }\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nconst SUBPARSE = Symbol('subparse')\n\nminimatch.makeRe = (pattern, options) =>\n  new Minimatch(pattern, options || {}).makeRe()\n\nminimatch.match = (list, pattern, options = {}) => {\n  const mm = new Minimatch(pattern, options)\n  list = list.filter(f => mm.match(f))\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\n// replace stuff like \\* with *\nconst globUnescape = s => s.replace(/\\\\(.)/g, '$1')\nconst charUnescape = s => s.replace(/\\\\([^-\\]])/g, '$1')\nconst regExpEscape = s => s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\nconst braExpEscape = s => s.replace(/[[\\]\\\\]/g, '\\\\$&')\n\nclass Minimatch {\n  constructor (pattern, options) {\n    assertValidPattern(pattern)\n\n    if (!options) options = {}\n\n    this.options = options\n    this.set = []\n    this.pattern = pattern\n    this.windowsPathsNoEscape = !!options.windowsPathsNoEscape ||\n      options.allowWindowsEscape === false\n    if (this.windowsPathsNoEscape) {\n      this.pattern = this.pattern.replace(/\\\\/g, '/')\n    }\n    this.regexp = null\n    this.negate = false\n    this.comment = false\n    this.empty = false\n    this.partial = !!options.partial\n\n    // make the set of regexps etc.\n    this.make()\n  }\n\n  debug () {}\n\n  make () {\n    const pattern = this.pattern\n    const options = this.options\n\n    // empty patterns and comments match nothing.\n    if (!options.nocomment && pattern.charAt(0) === '#') {\n      this.comment = true\n      return\n    }\n    if (!pattern) {\n      this.empty = true\n      return\n    }\n\n    // step 1: figure out negation, etc.\n    this.parseNegate()\n\n    // step 2: expand braces\n    let set = this.globSet = this.braceExpand()\n\n    if (options.debug) this.debug = (...args) => console.error(...args)\n\n    this.debug(this.pattern, set)\n\n    // step 3: now we have a set, so turn each one into a series of path-portion\n    // matching patterns.\n    // These will be regexps, except in the case of \"**\", which is\n    // set to the GLOBSTAR object for globstar behavior,\n    // and will not contain any / characters\n    set = this.globParts = set.map(s => s.split(slashSplit))\n\n    this.debug(this.pattern, set)\n\n    // glob --> regexps\n    set = set.map((s, si, set) => s.map(this.parse, this))\n\n    this.debug(this.pattern, set)\n\n    // filter out everything that didn't compile properly.\n    set = set.filter(s => s.indexOf(false) === -1)\n\n    this.debug(this.pattern, set)\n\n    this.set = set\n  }\n\n  parseNegate () {\n    if (this.options.nonegate) return\n\n    const pattern = this.pattern\n    let negate = false\n    let negateOffset = 0\n\n    for (let i = 0; i < pattern.length && pattern.charAt(i) === '!'; i++) {\n      negate = !negate\n      negateOffset++\n    }\n\n    if (negateOffset) this.pattern = pattern.slice(negateOffset)\n    this.negate = negate\n  }\n\n  // set partial to true to test if, for example,\n  // \"/a/b\" matches the start of \"/*/b/*/d\"\n  // Partial means, if you run out of file before you run\n  // out of pattern, then that's fine, as long as all\n  // the parts match.\n  matchOne (file, pattern, partial) {\n    var options = this.options\n\n    this.debug('matchOne',\n      { 'this': this, file: file, pattern: pattern })\n\n    this.debug('matchOne', file.length, pattern.length)\n\n    for (var fi = 0,\n        pi = 0,\n        fl = file.length,\n        pl = pattern.length\n        ; (fi < fl) && (pi < pl)\n        ; fi++, pi++) {\n      this.debug('matchOne loop')\n      var p = pattern[pi]\n      var f = file[fi]\n\n      this.debug(pattern, p, f)\n\n      // should be impossible.\n      // some invalid regexp stuff in the set.\n      /* istanbul ignore if */\n      if (p === false) return false\n\n      if (p === GLOBSTAR) {\n        this.debug('GLOBSTAR', [pattern, p, f])\n\n        // \"**\"\n        // a/**/b/**/c would match the following:\n        // a/b/x/y/z/c\n        // a/x/y/z/b/c\n        // a/b/x/b/x/c\n        // a/b/c\n        // To do this, take the rest of the pattern after\n        // the **, and see if it would match the file remainder.\n        // If so, return success.\n        // If not, the ** \"swallows\" a segment, and try again.\n        // This is recursively awful.\n        //\n        // a/**/b/**/c matching a/b/x/y/z/c\n        // - a matches a\n        // - doublestar\n        //   - matchOne(b/x/y/z/c, b/**/c)\n        //     - b matches b\n        //     - doublestar\n        //       - matchOne(x/y/z/c, c) -> no\n        //       - matchOne(y/z/c, c) -> no\n        //       - matchOne(z/c, c) -> no\n        //       - matchOne(c, c) yes, hit\n        var fr = fi\n        var pr = pi + 1\n        if (pr === pl) {\n          this.debug('** at the end')\n          // a ** at the end will just swallow the rest.\n          // We have found a match.\n          // however, it will not swallow /.x, unless\n          // options.dot is set.\n          // . and .. are *never* matched by **, for explosively\n          // exponential reasons.\n          for (; fi < fl; fi++) {\n            if (file[fi] === '.' || file[fi] === '..' ||\n              (!options.dot && file[fi].charAt(0) === '.')) return false\n          }\n          return true\n        }\n\n        // ok, let's see if we can swallow whatever we can.\n        while (fr < fl) {\n          var swallowee = file[fr]\n\n          this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n          // XXX remove this slice.  Just pass the start index.\n          if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n            this.debug('globstar found match!', fr, fl, swallowee)\n            // found a match.\n            return true\n          } else {\n            // can't swallow \".\" or \"..\" ever.\n            // can only swallow \".foo\" when explicitly asked.\n            if (swallowee === '.' || swallowee === '..' ||\n              (!options.dot && swallowee.charAt(0) === '.')) {\n              this.debug('dot detected!', file, fr, pattern, pr)\n              break\n            }\n\n            // ** swallows a segment, and continue.\n            this.debug('globstar swallow a segment, and continue')\n            fr++\n          }\n        }\n\n        // no match was found.\n        // However, in partial mode, we can't say this is necessarily over.\n        // If there's more *pattern* left, then\n        /* istanbul ignore if */\n        if (partial) {\n          // ran out of file\n          this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n          if (fr === fl) return true\n        }\n        return false\n      }\n\n      // something other than **\n      // non-magic patterns just have to match exactly\n      // patterns with magic have been turned into regexps.\n      var hit\n      if (typeof p === 'string') {\n        hit = f === p\n        this.debug('string match', p, f, hit)\n      } else {\n        hit = f.match(p)\n        this.debug('pattern match', p, f, hit)\n      }\n\n      if (!hit) return false\n    }\n\n    // Note: ending in / means that we'll get a final \"\"\n    // at the end of the pattern.  This can only match a\n    // corresponding \"\" at the end of the file.\n    // If the file ends in /, then it can only match a\n    // a pattern that ends in /, unless the pattern just\n    // doesn't have any more for it. But, a/b/ should *not*\n    // match \"a/b/*\", even though \"\" matches against the\n    // [^/]*? pattern, except in partial mode, where it might\n    // simply not be reached yet.\n    // However, a/b/ should still satisfy a/*\n\n    // now either we fell off the end of the pattern, or we're done.\n    if (fi === fl && pi === pl) {\n      // ran out of pattern and filename at the same time.\n      // an exact hit!\n      return true\n    } else if (fi === fl) {\n      // ran out of file, but still had pattern left.\n      // this is ok if we're doing the match as part of\n      // a glob fs traversal.\n      return partial\n    } else /* istanbul ignore else */ if (pi === pl) {\n      // ran out of pattern, still have file left.\n      // this is only acceptable if we're on the very last\n      // empty segment of a file with a trailing slash.\n      // a/* should match a/b/\n      return (fi === fl - 1) && (file[fi] === '')\n    }\n\n    // should be unreachable.\n    /* istanbul ignore next */\n    throw new Error('wtf?')\n  }\n\n  braceExpand () {\n    return braceExpand(this.pattern, this.options)\n  }\n\n  parse (pattern, isSub) {\n    assertValidPattern(pattern)\n\n    const options = this.options\n\n    // shortcuts\n    if (pattern === '**') {\n      if (!options.noglobstar)\n        return GLOBSTAR\n      else\n        pattern = '*'\n    }\n    if (pattern === '') return ''\n\n    let re = ''\n    let hasMagic = false\n    let escaping = false\n    // ? => one single character\n    const patternListStack = []\n    const negativeLists = []\n    let stateChar\n    let inClass = false\n    let reClassStart = -1\n    let classStart = -1\n    let cs\n    let pl\n    let sp\n    // . and .. never match anything that doesn't start with .,\n    // even when options.dot is set.  However, if the pattern\n    // starts with ., then traversal patterns can match.\n    let dotTravAllowed = pattern.charAt(0) === '.'\n    let dotFileAllowed = options.dot || dotTravAllowed\n    const patternStart = () =>\n      dotTravAllowed\n        ? ''\n        : dotFileAllowed\n        ? '(?!(?:^|\\\\/)\\\\.{1,2}(?:$|\\\\/))'\n        : '(?!\\\\.)'\n    const subPatternStart = (p) =>\n      p.charAt(0) === '.'\n        ? ''\n        : options.dot\n        ? '(?!(?:^|\\\\/)\\\\.{1,2}(?:$|\\\\/))'\n        : '(?!\\\\.)'\n\n\n    const clearStateChar = () => {\n      if (stateChar) {\n        // we had some state-tracking character\n        // that wasn't consumed by this pass.\n        switch (stateChar) {\n          case '*':\n            re += star\n            hasMagic = true\n          break\n          case '?':\n            re += qmark\n            hasMagic = true\n          break\n          default:\n            re += '\\\\' + stateChar\n          break\n        }\n        this.debug('clearStateChar %j %j', stateChar, re)\n        stateChar = false\n      }\n    }\n\n    for (let i = 0, c; (i < pattern.length) && (c = pattern.charAt(i)); i++) {\n      this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n      // skip over any that are escaped.\n      if (escaping) {\n        /* istanbul ignore next - completely not allowed, even escaped. */\n        if (c === '/') {\n          return false\n        }\n\n        if (reSpecials[c]) {\n          re += '\\\\'\n        }\n        re += c\n        escaping = false\n        continue\n      }\n\n      switch (c) {\n        /* istanbul ignore next */\n        case '/': {\n          // Should already be path-split by now.\n          return false\n        }\n\n        case '\\\\':\n          if (inClass && pattern.charAt(i + 1) === '-') {\n            re += c\n            continue\n          }\n\n          clearStateChar()\n          escaping = true\n        continue\n\n        // the various stateChar values\n        // for the \"extglob\" stuff.\n        case '?':\n        case '*':\n        case '+':\n        case '@':\n        case '!':\n          this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n          // all of those are literals inside a class, except that\n          // the glob [!a] means [^a] in regexp\n          if (inClass) {\n            this.debug('  in class')\n            if (c === '!' && i === classStart + 1) c = '^'\n            re += c\n            continue\n          }\n\n          // if we already have a stateChar, then it means\n          // that there was something like ** or +? in there.\n          // Handle the stateChar, then proceed with this one.\n          this.debug('call clearStateChar %j', stateChar)\n          clearStateChar()\n          stateChar = c\n          // if extglob is disabled, then +(asdf|foo) isn't a thing.\n          // just clear the statechar *now*, rather than even diving into\n          // the patternList stuff.\n          if (options.noext) clearStateChar()\n        continue\n\n        case '(': {\n          if (inClass) {\n            re += '('\n            continue\n          }\n\n          if (!stateChar) {\n            re += '\\\\('\n            continue\n          }\n\n          const plEntry = {\n            type: stateChar,\n            start: i - 1,\n            reStart: re.length,\n            open: plTypes[stateChar].open,\n            close: plTypes[stateChar].close,\n          }\n          this.debug(this.pattern, '\\t', plEntry)\n          patternListStack.push(plEntry)\n          // negation is (?:(?!(?:js)(?:<rest>))[^/]*)\n          re += plEntry.open\n          // next entry starts with a dot maybe?\n          if (plEntry.start === 0 && plEntry.type !== '!') {\n            dotTravAllowed = true\n            re += subPatternStart(pattern.slice(i + 1))\n          }\n          this.debug('plType %j %j', stateChar, re)\n          stateChar = false\n          continue\n        }\n\n        case ')': {\n          const plEntry = patternListStack[patternListStack.length - 1]\n          if (inClass || !plEntry) {\n            re += '\\\\)'\n            continue\n          }\n          patternListStack.pop()\n\n          // closing an extglob\n          clearStateChar()\n          hasMagic = true\n          pl = plEntry\n          // negation is (?:(?!js)[^/]*)\n          // The others are (?:<pattern>)<type>\n          re += pl.close\n          if (pl.type === '!') {\n            negativeLists.push(Object.assign(pl, { reEnd: re.length }))\n          }\n          continue\n        }\n\n        case '|': {\n          const plEntry = patternListStack[patternListStack.length - 1]\n          if (inClass || !plEntry) {\n            re += '\\\\|'\n            continue\n          }\n\n          clearStateChar()\n          re += '|'\n          // next subpattern can start with a dot?\n          if (plEntry.start === 0 && plEntry.type !== '!') {\n            dotTravAllowed = true\n            re += subPatternStart(pattern.slice(i + 1))\n          }\n          continue\n        }\n\n        // these are mostly the same in regexp and glob\n        case '[':\n          // swallow any state-tracking char before the [\n          clearStateChar()\n\n          if (inClass) {\n            re += '\\\\' + c\n            continue\n          }\n\n          inClass = true\n          classStart = i\n          reClassStart = re.length\n          re += c\n        continue\n\n        case ']':\n          //  a right bracket shall lose its special\n          //  meaning and represent itself in\n          //  a bracket expression if it occurs\n          //  first in the list.  -- POSIX.2 2.8.3.2\n          if (i === classStart + 1 || !inClass) {\n            re += '\\\\' + c\n            continue\n          }\n\n          // split where the last [ was, make sure we don't have\n          // an invalid re. if so, re-walk the contents of the\n          // would-be class to re-translate any characters that\n          // were passed through as-is\n          // TODO: It would probably be faster to determine this\n          // without a try/catch and a new RegExp, but it's tricky\n          // to do safely.  For now, this is safe and works.\n          cs = pattern.substring(classStart + 1, i)\n          try {\n            RegExp('[' + braExpEscape(charUnescape(cs)) + ']')\n            // looks good, finish up the class.\n            re += c\n          } catch (er) {\n            // out of order ranges in JS are errors, but in glob syntax,\n            // they're just a range that matches nothing.\n            re = re.substring(0, reClassStart) + '(?:$.)' // match nothing ever\n          }\n          hasMagic = true\n          inClass = false\n        continue\n\n        default:\n          // swallow any state char that wasn't consumed\n          clearStateChar()\n\n          if (reSpecials[c] && !(c === '^' && inClass)) {\n            re += '\\\\'\n          }\n\n          re += c\n          break\n\n      } // switch\n    } // for\n\n    // handle the case where we left a class open.\n    // \"[abc\" is valid, equivalent to \"\\[abc\"\n    if (inClass) {\n      // split where the last [ was, and escape it\n      // this is a huge pita.  We now have to re-walk\n      // the contents of the would-be class to re-translate\n      // any characters that were passed through as-is\n      cs = pattern.slice(classStart + 1)\n      sp = this.parse(cs, SUBPARSE)\n      re = re.substring(0, reClassStart) + '\\\\[' + sp[0]\n      hasMagic = hasMagic || sp[1]\n    }\n\n    // handle the case where we had a +( thing at the *end*\n    // of the pattern.\n    // each pattern list stack adds 3 chars, and we need to go through\n    // and escape any | chars that were passed through as-is for the regexp.\n    // Go through and escape them, taking care not to double-escape any\n    // | chars that were already escaped.\n    for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n      let tail\n      tail = re.slice(pl.reStart + pl.open.length)\n      this.debug('setting tail', re, pl)\n      // maybe some even number of \\, then maybe 1 \\, followed by a |\n      tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, (_, $1, $2) => {\n        /* istanbul ignore else - should already be done */\n        if (!$2) {\n          // the | isn't already escaped, so escape it.\n          $2 = '\\\\'\n        }\n\n        // need to escape all those slashes *again*, without escaping the\n        // one that we need for escaping the | character.  As it works out,\n        // escaping an even number of slashes can be done by simply repeating\n        // it exactly after itself.  That's why this trick works.\n        //\n        // I am sorry that you have to see this.\n        return $1 + $1 + $2 + '|'\n      })\n\n      this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n      const t = pl.type === '*' ? star\n        : pl.type === '?' ? qmark\n        : '\\\\' + pl.type\n\n      hasMagic = true\n      re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n    }\n\n    // handle trailing things that only matter at the very end.\n    clearStateChar()\n    if (escaping) {\n      // trailing \\\\\n      re += '\\\\\\\\'\n    }\n\n    // only need to apply the nodot start if the re starts with\n    // something that could conceivably capture a dot\n    const addPatternStart = addPatternStartSet[re.charAt(0)]\n\n    // Hack to work around lack of negative lookbehind in JS\n    // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n    // like 'a.xyz.yz' doesn't match.  So, the first negative\n    // lookahead, has to look ALL the way ahead, to the end of\n    // the pattern.\n    for (let n = negativeLists.length - 1; n > -1; n--) {\n      const nl = negativeLists[n]\n\n      const nlBefore = re.slice(0, nl.reStart)\n      const nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n      let nlAfter = re.slice(nl.reEnd)\n      const nlLast = re.slice(nl.reEnd - 8, nl.reEnd) + nlAfter\n\n      // Handle nested stuff like *(*.js|!(*.json)), where open parens\n      // mean that we should *not* include the ) in the bit that is considered\n      // \"after\" the negated section.\n      const closeParensBefore = nlBefore.split(')').length\n      const openParensBefore = nlBefore.split('(').length - closeParensBefore\n      let cleanAfter = nlAfter\n      for (let i = 0; i < openParensBefore; i++) {\n        cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n      }\n      nlAfter = cleanAfter\n\n      const dollar = nlAfter === '' && isSub !== SUBPARSE ? '(?:$|\\\\/)' : ''\n\n      re = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    }\n\n    // if the re is not \"\" at this point, then we need to make sure\n    // it doesn't match against an empty path part.\n    // Otherwise a/* will match a/, which it should not.\n    if (re !== '' && hasMagic) {\n      re = '(?=.)' + re\n    }\n\n    if (addPatternStart) {\n      re = patternStart() + re\n    }\n\n    // parsing just a piece of a larger pattern.\n    if (isSub === SUBPARSE) {\n      return [re, hasMagic]\n    }\n\n    // if it's nocase, and the lcase/uppercase don't match, it's magic\n    if (options.nocase && !hasMagic) {\n      hasMagic = pattern.toUpperCase() !== pattern.toLowerCase()\n    }\n\n    // skip the regexp for non-magical patterns\n    // unescape anything in it, though, so that it'll be\n    // an exact match against a file etc.\n    if (!hasMagic) {\n      return globUnescape(pattern)\n    }\n\n    const flags = options.nocase ? 'i' : ''\n    try {\n      return Object.assign(new RegExp('^' + re + '$', flags), {\n        _glob: pattern,\n        _src: re,\n      })\n    } catch (er) /* istanbul ignore next - should be impossible */ {\n      // If it was an invalid regular expression, then it can't match\n      // anything.  This trick looks for a character after the end of\n      // the string, which is of course impossible, except in multi-line\n      // mode, but it's not a /m regex.\n      return new RegExp('$.')\n    }\n  }\n\n  makeRe () {\n    if (this.regexp || this.regexp === false) return this.regexp\n\n    // at this point, this.set is a 2d array of partial\n    // pattern strings, or \"**\".\n    //\n    // It's better to use .match().  This function shouldn't\n    // be used, really, but it's pretty convenient sometimes,\n    // when you just want to work with a regex.\n    const set = this.set\n\n    if (!set.length) {\n      this.regexp = false\n      return this.regexp\n    }\n    const options = this.options\n\n    const twoStar = options.noglobstar ? star\n      : options.dot ? twoStarDot\n      : twoStarNoDot\n    const flags = options.nocase ? 'i' : ''\n\n    // coalesce globstars and regexpify non-globstar patterns\n    // if it's the only item, then we just do one twoStar\n    // if it's the first, and there are more, prepend (\\/|twoStar\\/)? to next\n    // if it's the last, append (\\/twoStar|) to previous\n    // if it's in the middle, append (\\/|\\/twoStar\\/) to previous\n    // then filter out GLOBSTAR symbols\n    let re = set.map(pattern => {\n      pattern = pattern.map(p =>\n        typeof p === 'string' ? regExpEscape(p)\n        : p === GLOBSTAR ? GLOBSTAR\n        : p._src\n      ).reduce((set, p) => {\n        if (!(set[set.length - 1] === GLOBSTAR && p === GLOBSTAR)) {\n          set.push(p)\n        }\n        return set\n      }, [])\n      pattern.forEach((p, i) => {\n        if (p !== GLOBSTAR || pattern[i-1] === GLOBSTAR) {\n          return\n        }\n        if (i === 0) {\n          if (pattern.length > 1) {\n            pattern[i+1] = '(?:\\\\\\/|' + twoStar + '\\\\\\/)?' + pattern[i+1]\n          } else {\n            pattern[i] = twoStar\n          }\n        } else if (i === pattern.length - 1) {\n          pattern[i-1] += '(?:\\\\\\/|' + twoStar + ')?'\n        } else {\n          pattern[i-1] += '(?:\\\\\\/|\\\\\\/' + twoStar + '\\\\\\/)' + pattern[i+1]\n          pattern[i+1] = GLOBSTAR\n        }\n      })\n      return pattern.filter(p => p !== GLOBSTAR).join('/')\n    }).join('|')\n\n    // must match entire pattern\n    // ending in a * or ** will make it less strict.\n    re = '^(?:' + re + ')$'\n\n    // can match anything, as long as it's not this.\n    if (this.negate) re = '^(?!' + re + ').*$'\n\n    try {\n      this.regexp = new RegExp(re, flags)\n    } catch (ex) /* istanbul ignore next - should be impossible */ {\n      this.regexp = false\n    }\n    return this.regexp\n  }\n\n  match (f, partial = this.partial) {\n    this.debug('match', f, this.pattern)\n    // short-circuit in the case of busted things.\n    // comments, etc.\n    if (this.comment) return false\n    if (this.empty) return f === ''\n\n    if (f === '/' && partial) return true\n\n    const options = this.options\n\n    // windows: need to use /, not \\\n    if (path.sep !== '/') {\n      f = f.split(path.sep).join('/')\n    }\n\n    // treat the test path as a set of pathparts.\n    f = f.split(slashSplit)\n    this.debug(this.pattern, 'split', f)\n\n    // just ONE of the pattern sets in this.set needs to match\n    // in order for it to be valid.  If negating, then just one\n    // match means that we have failed.\n    // Either way, return on the first hit.\n\n    const set = this.set\n    this.debug(this.pattern, 'set', set)\n\n    // Find the basename of the path by looking for the last non-empty segment\n    let filename\n    for (let i = f.length - 1; i >= 0; i--) {\n      filename = f[i]\n      if (filename) break\n    }\n\n    for (let i = 0; i < set.length; i++) {\n      const pattern = set[i]\n      let file = f\n      if (options.matchBase && pattern.length === 1) {\n        file = [filename]\n      }\n      const hit = this.matchOne(file, pattern, partial)\n      if (hit) {\n        if (options.flipNegate) return true\n        return !this.negate\n      }\n    }\n\n    // didn't get any hits.  this is success if it's a negative\n    // pattern, failure otherwise.\n    if (options.flipNegate) return false\n    return this.negate\n  }\n\n  static defaults (def) {\n    return minimatch.defaults(def).Minimatch\n  }\n}\n\nminimatch.Minimatch = Minimatch\n","'use strict'\n\nvar path = require('path')\n\nmodule.exports = function (file) {\n  var segments = file.split(path.sep)\n  var index = segments.lastIndexOf('node_modules')\n  if (index === -1) return\n  if (!segments[index + 1]) return\n  var scoped = segments[index + 1][0] === '@'\n  var name = scoped ? segments[index + 1] + '/' + segments[index + 2] : segments[index + 1]\n  var offset = scoped ? 3 : 2\n  return {\n    name: name,\n    basedir: segments.slice(0, index + offset).join(path.sep),\n    path: segments.slice(index + offset).join(path.sep)\n  }\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","'use strict';\n\nvar isWindows = process.platform === 'win32';\n\n// Regex to split a windows path into into [dir, root, basename, name, ext]\nvar splitWindowsRe =\n    /^(((?:[a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?[\\\\\\/]?)(?:[^\\\\\\/]*[\\\\\\/])*)((\\.{1,2}|[^\\\\\\/]+?|)(\\.[^.\\/\\\\]*|))[\\\\\\/]*$/;\n\nvar win32 = {};\n\nfunction win32SplitPath(filename) {\n  return splitWindowsRe.exec(filename).slice(1);\n}\n\nwin32.parse = function(pathString) {\n  if (typeof pathString !== 'string') {\n    throw new TypeError(\n        \"Parameter 'pathString' must be a string, not \" + typeof pathString\n    );\n  }\n  var allParts = win32SplitPath(pathString);\n  if (!allParts || allParts.length !== 5) {\n    throw new TypeError(\"Invalid path '\" + pathString + \"'\");\n  }\n  return {\n    root: allParts[1],\n    dir: allParts[0] === allParts[1] ? allParts[0] : allParts[0].slice(0, -1),\n    base: allParts[2],\n    ext: allParts[4],\n    name: allParts[3]\n  };\n};\n\n\n\n// Split a filename into [dir, root, basename, name, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^((\\/?)(?:[^\\/]*\\/)*)((\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))[\\/]*$/;\nvar posix = {};\n\n\nfunction posixSplitPath(filename) {\n  return splitPathRe.exec(filename).slice(1);\n}\n\n\nposix.parse = function(pathString) {\n  if (typeof pathString !== 'string') {\n    throw new TypeError(\n        \"Parameter 'pathString' must be a string, not \" + typeof pathString\n    );\n  }\n  var allParts = posixSplitPath(pathString);\n  if (!allParts || allParts.length !== 5) {\n    throw new TypeError(\"Invalid path '\" + pathString + \"'\");\n  }\n  \n  return {\n    root: allParts[1],\n    dir: allParts[0].slice(0, -1),\n    base: allParts[2],\n    ext: allParts[4],\n    name: allParts[3],\n  };\n};\n\n\nif (isWindows)\n  module.exports = win32.parse;\nelse /* posix */\n  module.exports = posix.parse;\n\nmodule.exports.posix = posix.parse;\nmodule.exports.win32 = win32.parse;\n","'use strict'\n\nconst path = require('path')\nconst Module = require('module')\nconst resolve = require('resolve')\nconst debug = require('debug')('require-in-the-middle')\nconst moduleDetailsFromPath = require('module-details-from-path')\n\n// Using the default export is discouraged, but kept for backward compatibility.\n// Use this instead:\n//    const { Hook } = require('require-in-the-middle')\nmodule.exports = Hook\nmodule.exports.Hook = Hook\n\n/**\n * Is the given module a \"core\" module?\n * https://nodejs.org/api/modules.html#core-modules\n *\n * @type {(moduleName: string) => boolean}\n */\nlet isCore\nif (Module.isBuiltin) { // Added in node v18.6.0, v16.17.0\n  isCore = Module.isBuiltin\n} else {\n  const [major, minor] = process.versions.node.split('.').map(Number)\n  if (major === 8 && minor < 8) {\n    // For node versions `[8.0, 8.8)` the \"http2\" module was built-in but\n    // behind the `--expose-http2` flag. `resolve` only considers unflagged\n    // modules to be core: https://github.com/browserify/resolve/issues/139\n    // However, for `ExportsCache` to work for \"http2\" we need it to be\n    // considered core.\n    isCore = moduleName => {\n      if (moduleName === 'http2') {\n        return true\n      }\n      // Prefer `resolve.core` lookup to `resolve.isCore(moduleName)` because\n      // the latter is doing version range matches for every call.\n      return !!resolve.core[moduleName]\n    }\n  } else {\n    isCore = moduleName => {\n      // Prefer `resolve.core` lookup to `resolve.isCore(moduleName)` because\n      // the latter is doing version range matches for every call.\n      return !!resolve.core[moduleName]\n    }\n  }\n}\n\n// 'foo/bar.js' or 'foo/bar/index.js' => 'foo/bar'\nconst normalize = /([/\\\\]index)?(\\.js)?$/\n\n// Cache `onrequire`-patched exports for modules.\n//\n// Exports for built-in (a.k.a. \"core\") modules are stored in an internal Map.\n//\n// Exports for non-core modules are stored on a private field on the `Module`\n// object in `require.cache`. This allows users to delete from `require.cache`\n// to trigger a re-load (and re-run of the hook's `onrequire`) of a module the\n// next time it is required.\n// https://nodejs.org/docs/latest/api/all.html#all_modules_requirecache\n//\n// In some special cases -- e.g. some other `require()` hook swapping out\n// `Module._cache` like `@babel/register` -- a non-core module won't be in\n// `require.cache`. In that case this falls back to caching on the internal Map.\nclass ExportsCache {\n  constructor () {\n    this._localCache = new Map() // <module filename or id> -> <exports>\n    this._kRitmExports = Symbol('RitmExports')\n  }\n\n  has (filename, isBuiltin) {\n    if (this._localCache.has(filename)) {\n      return true\n    } else if (!isBuiltin) {\n      const mod = require.cache[filename]\n      return !!(mod && this._kRitmExports in mod)\n    } else {\n      return false\n    }\n  }\n\n  get (filename, isBuiltin) {\n    const cachedExports = this._localCache.get(filename)\n    if (cachedExports !== undefined) {\n      return cachedExports\n    } else if (!isBuiltin) {\n      const mod = require.cache[filename]\n      return (mod && mod[this._kRitmExports])\n    }\n  }\n\n  set (filename, exports, isBuiltin) {\n    if (isBuiltin) {\n      this._localCache.set(filename, exports)\n    } else if (filename in require.cache) {\n      require.cache[filename][this._kRitmExports] = exports\n    } else {\n      debug('non-core module is unexpectedly not in require.cache: \"%s\"', filename)\n      this._localCache.set(filename, exports)\n    }\n  }\n}\n\nfunction Hook (modules, options, onrequire) {\n  if ((this instanceof Hook) === false) return new Hook(modules, options, onrequire)\n  if (typeof modules === 'function') {\n    onrequire = modules\n    modules = null\n    options = null\n  } else if (typeof options === 'function') {\n    onrequire = options\n    options = null\n  }\n\n  if (typeof Module._resolveFilename !== 'function') {\n    console.error('Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!', typeof Module._resolveFilename)\n    console.error('Please report this error as an issue related to Node.js %s at %s', process.version, require('./package.json').bugs.url)\n    return\n  }\n\n  this._cache = new ExportsCache()\n\n  this._unhooked = false\n  this._origRequire = Module.prototype.require\n\n  const self = this\n  const patching = new Set()\n  const internals = options ? options.internals === true : false\n  const hasWhitelist = Array.isArray(modules)\n\n  debug('registering require hook')\n\n  this._require = Module.prototype.require = function (id) {\n    if (self._unhooked === true) {\n      // if the patched require function could not be removed because\n      // someone else patched it after it was patched here, we just\n      // abort and pass the request onwards to the original require\n      debug('ignoring require call - module is soft-unhooked')\n      return self._origRequire.apply(this, arguments)\n    }\n\n    const core = isCore(id)\n    let filename // the string used for caching\n    if (core) {\n      filename = id\n      // If this is a builtin module that can be identified both as 'foo' and\n      // 'node:foo', then prefer 'foo' as the caching key.\n      if (id.startsWith('node:')) {\n        const idWithoutPrefix = id.slice(5)\n        if (isCore(idWithoutPrefix)) {\n          filename = idWithoutPrefix\n        }\n      }\n    } else {\n      try {\n        filename = Module._resolveFilename(id, this)\n      } catch (resolveErr) {\n        // If someone *else* monkey-patches before this monkey-patch, then that\n        // code might expect `require(someId)` to get through so it can be\n        // handled, even if `someId` cannot be resolved to a filename. In this\n        // case, instead of throwing we defer to the underlying `require`.\n        //\n        // For example the Azure Functions Node.js worker module does this,\n        // where `@azure/functions-core` resolves to an internal object.\n        // https://github.com/Azure/azure-functions-nodejs-worker/blob/v3.5.2/src/setupCoreModule.ts#L46-L54\n        debug('Module._resolveFilename(\"%s\") threw %j, calling original Module.require', id, resolveErr.message)\n        return self._origRequire.apply(this, arguments)\n      }\n    }\n\n    let moduleName, basedir\n\n    debug('processing %s module require(\\'%s\\'): %s', core === true ? 'core' : 'non-core', id, filename)\n\n    // return known patched modules immediately\n    if (self._cache.has(filename, core) === true) {\n      debug('returning already patched cached module: %s', filename)\n      return self._cache.get(filename, core)\n    }\n\n    // Check if this module has a patcher in-progress already.\n    // Otherwise, mark this module as patching in-progress.\n    const isPatching = patching.has(filename)\n    if (isPatching === false) {\n      patching.add(filename)\n    }\n\n    const exports = self._origRequire.apply(this, arguments)\n\n    // If it's already patched, just return it as-is.\n    if (isPatching === true) {\n      debug('module is in the process of being patched already - ignoring: %s', filename)\n      return exports\n    }\n\n    // The module has already been loaded,\n    // so the patching mark can be cleaned up.\n    patching.delete(filename)\n\n    if (core === true) {\n      if (hasWhitelist === true && modules.includes(filename) === false) {\n        debug('ignoring core module not on whitelist: %s', filename)\n        return exports // abort if module name isn't on whitelist\n      }\n      moduleName = filename\n    } else if (hasWhitelist === true && modules.includes(filename)) {\n      // whitelist includes the absolute path to the file including extension\n      const parsedPath = path.parse(filename)\n      moduleName = parsedPath.name\n      basedir = parsedPath.dir\n    } else {\n      const stat = moduleDetailsFromPath(filename)\n      if (stat === undefined) {\n        debug('could not parse filename: %s', filename)\n        return exports // abort if filename could not be parsed\n      }\n      moduleName = stat.name\n      basedir = stat.basedir\n\n      // Ex: require('foo/lib/../bar.js')\n      // moduleName = 'foo'\n      // fullModuleName = 'foo/bar'\n      const fullModuleName = resolveModuleName(stat)\n\n      debug('resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)', moduleName, id, fullModuleName, basedir)\n\n      let matchFound = false\n      if (hasWhitelist) {\n        if (!id.startsWith('.') && modules.includes(id)) {\n          // Not starting with '.' means `id` is identifying a module path,\n          // as opposed to a local file path. (Note: I'm not sure about\n          // absolute paths, but those are handled above.)\n          // If this `id` is in `modules`, then this could be a match to an\n          // package \"exports\" entry point that wouldn't otherwise match below.\n          moduleName = id\n          matchFound = true\n        }\n\n        // abort if module name isn't on whitelist\n        if (!modules.includes(moduleName) && !modules.includes(fullModuleName)) {\n          return exports\n        }\n\n        if (modules.includes(fullModuleName) && fullModuleName !== moduleName) {\n          // if we get to this point, it means that we're requiring a whitelisted sub-module\n          moduleName = fullModuleName\n          matchFound = true\n        }\n      }\n\n      if (!matchFound) {\n        // figure out if this is the main module file, or a file inside the module\n        let res\n        try {\n          res = resolve.sync(moduleName, { basedir })\n        } catch (e) {\n          debug('could not resolve module: %s', moduleName)\n          self._cache.set(filename, exports, core)\n          return exports // abort if module could not be resolved (e.g. no main in package.json and no index.js file)\n        }\n\n        if (res !== filename) {\n          // this is a module-internal file\n          if (internals === true) {\n            // use the module-relative path to the file, prefixed by original module name\n            moduleName = moduleName + path.sep + path.relative(basedir, filename)\n            debug('preparing to process require of internal file: %s', moduleName)\n          } else {\n            debug('ignoring require of non-main module file: %s', res)\n            self._cache.set(filename, exports, core)\n            return exports // abort if not main module file\n          }\n        }\n      }\n    }\n\n    // ensure that the cache entry is assigned a value before calling\n    // onrequire, in case calling onrequire requires the same module.\n    self._cache.set(filename, exports, core)\n    debug('calling require hook: %s', moduleName)\n    const patchedExports = onrequire(exports, moduleName, basedir)\n    self._cache.set(filename, patchedExports, core)\n\n    debug('returning module: %s', moduleName)\n    return patchedExports\n  }\n}\n\nHook.prototype.unhook = function () {\n  this._unhooked = true\n  if (this._require === Module.prototype.require) {\n    Module.prototype.require = this._origRequire\n    debug('unhook successful')\n  } else {\n    debug('unhook unsuccessful')\n  }\n}\n\nfunction resolveModuleName (stat) {\n  const normalizedPath = path.sep !== '/' ? stat.path.split(path.sep).join('/') : stat.path\n  return path.posix.join(stat.name, normalizedPath).replace(normalize, '')\n}\n","var async = require('./lib/async');\nasync.core = require('./lib/core');\nasync.isCore = require('./lib/is-core');\nasync.sync = require('./lib/sync');\n\nmodule.exports = async;\n","var fs = require('fs');\nvar getHomedir = require('./homedir');\nvar path = require('path');\nvar caller = require('./caller');\nvar nodeModulesPaths = require('./node-modules-paths');\nvar normalizeOptions = require('./normalize-options');\nvar isCore = require('is-core-module');\n\nvar realpathFS = process.platform !== 'win32' && fs.realpath && typeof fs.realpath.native === 'function' ? fs.realpath.native : fs.realpath;\n\nvar homedir = getHomedir();\nvar defaultPaths = function () {\n    return [\n        path.join(homedir, '.node_modules'),\n        path.join(homedir, '.node_libraries')\n    ];\n};\n\nvar defaultIsFile = function isFile(file, cb) {\n    fs.stat(file, function (err, stat) {\n        if (!err) {\n            return cb(null, stat.isFile() || stat.isFIFO());\n        }\n        if (err.code === 'ENOENT' || err.code === 'ENOTDIR') return cb(null, false);\n        return cb(err);\n    });\n};\n\nvar defaultIsDir = function isDirectory(dir, cb) {\n    fs.stat(dir, function (err, stat) {\n        if (!err) {\n            return cb(null, stat.isDirectory());\n        }\n        if (err.code === 'ENOENT' || err.code === 'ENOTDIR') return cb(null, false);\n        return cb(err);\n    });\n};\n\nvar defaultRealpath = function realpath(x, cb) {\n    realpathFS(x, function (realpathErr, realPath) {\n        if (realpathErr && realpathErr.code !== 'ENOENT') cb(realpathErr);\n        else cb(null, realpathErr ? x : realPath);\n    });\n};\n\nvar maybeRealpath = function maybeRealpath(realpath, x, opts, cb) {\n    if (opts && opts.preserveSymlinks === false) {\n        realpath(x, cb);\n    } else {\n        cb(null, x);\n    }\n};\n\nvar defaultReadPackage = function defaultReadPackage(readFile, pkgfile, cb) {\n    readFile(pkgfile, function (readFileErr, body) {\n        if (readFileErr) cb(readFileErr);\n        else {\n            try {\n                var pkg = JSON.parse(body);\n                cb(null, pkg);\n            } catch (jsonErr) {\n                cb(null);\n            }\n        }\n    });\n};\n\nvar getPackageCandidates = function getPackageCandidates(x, start, opts) {\n    var dirs = nodeModulesPaths(start, opts, x);\n    for (var i = 0; i < dirs.length; i++) {\n        dirs[i] = path.join(dirs[i], x);\n    }\n    return dirs;\n};\n\nmodule.exports = function resolve(x, options, callback) {\n    var cb = callback;\n    var opts = options;\n    if (typeof options === 'function') {\n        cb = opts;\n        opts = {};\n    }\n    if (typeof x !== 'string') {\n        var err = new TypeError('Path must be a string.');\n        return process.nextTick(function () {\n            cb(err);\n        });\n    }\n\n    opts = normalizeOptions(x, opts);\n\n    var isFile = opts.isFile || defaultIsFile;\n    var isDirectory = opts.isDirectory || defaultIsDir;\n    var readFile = opts.readFile || fs.readFile;\n    var realpath = opts.realpath || defaultRealpath;\n    var readPackage = opts.readPackage || defaultReadPackage;\n    if (opts.readFile && opts.readPackage) {\n        var conflictErr = new TypeError('`readFile` and `readPackage` are mutually exclusive.');\n        return process.nextTick(function () {\n            cb(conflictErr);\n        });\n    }\n    var packageIterator = opts.packageIterator;\n\n    var extensions = opts.extensions || ['.js'];\n    var includeCoreModules = opts.includeCoreModules !== false;\n    var basedir = opts.basedir || path.dirname(caller());\n    var parent = opts.filename || basedir;\n\n    opts.paths = opts.paths || defaultPaths();\n\n    // ensure that `basedir` is an absolute path at this point, resolving against the process' current working directory\n    var absoluteStart = path.resolve(basedir);\n\n    maybeRealpath(\n        realpath,\n        absoluteStart,\n        opts,\n        function (err, realStart) {\n            if (err) cb(err);\n            else init(realStart);\n        }\n    );\n\n    var res;\n    function init(basedir) {\n        if ((/^(?:\\.\\.?(?:\\/|$)|\\/|([A-Za-z]:)?[/\\\\])/).test(x)) {\n            res = path.resolve(basedir, x);\n            if (x === '.' || x === '..' || x.slice(-1) === '/') res += '/';\n            if ((/\\/$/).test(x) && res === basedir) {\n                loadAsDirectory(res, opts.package, onfile);\n            } else loadAsFile(res, opts.package, onfile);\n        } else if (includeCoreModules && isCore(x)) {\n            return cb(null, x);\n        } else loadNodeModules(x, basedir, function (err, n, pkg) {\n            if (err) cb(err);\n            else if (n) {\n                return maybeRealpath(realpath, n, opts, function (err, realN) {\n                    if (err) {\n                        cb(err);\n                    } else {\n                        cb(null, realN, pkg);\n                    }\n                });\n            } else {\n                var moduleError = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n                moduleError.code = 'MODULE_NOT_FOUND';\n                cb(moduleError);\n            }\n        });\n    }\n\n    function onfile(err, m, pkg) {\n        if (err) cb(err);\n        else if (m) cb(null, m, pkg);\n        else loadAsDirectory(res, function (err, d, pkg) {\n            if (err) cb(err);\n            else if (d) {\n                maybeRealpath(realpath, d, opts, function (err, realD) {\n                    if (err) {\n                        cb(err);\n                    } else {\n                        cb(null, realD, pkg);\n                    }\n                });\n            } else {\n                var moduleError = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n                moduleError.code = 'MODULE_NOT_FOUND';\n                cb(moduleError);\n            }\n        });\n    }\n\n    function loadAsFile(x, thePackage, callback) {\n        var loadAsFilePackage = thePackage;\n        var cb = callback;\n        if (typeof loadAsFilePackage === 'function') {\n            cb = loadAsFilePackage;\n            loadAsFilePackage = undefined;\n        }\n\n        var exts = [''].concat(extensions);\n        load(exts, x, loadAsFilePackage);\n\n        function load(exts, x, loadPackage) {\n            if (exts.length === 0) return cb(null, undefined, loadPackage);\n            var file = x + exts[0];\n\n            var pkg = loadPackage;\n            if (pkg) onpkg(null, pkg);\n            else loadpkg(path.dirname(file), onpkg);\n\n            function onpkg(err, pkg_, dir) {\n                pkg = pkg_;\n                if (err) return cb(err);\n                if (dir && pkg && opts.pathFilter) {\n                    var rfile = path.relative(dir, file);\n                    var rel = rfile.slice(0, rfile.length - exts[0].length);\n                    var r = opts.pathFilter(pkg, x, rel);\n                    if (r) return load(\n                        [''].concat(extensions.slice()),\n                        path.resolve(dir, r),\n                        pkg\n                    );\n                }\n                isFile(file, onex);\n            }\n            function onex(err, ex) {\n                if (err) return cb(err);\n                if (ex) return cb(null, file, pkg);\n                load(exts.slice(1), x, pkg);\n            }\n        }\n    }\n\n    function loadpkg(dir, cb) {\n        if (dir === '' || dir === '/') return cb(null);\n        if (process.platform === 'win32' && (/^\\w:[/\\\\]*$/).test(dir)) {\n            return cb(null);\n        }\n        if ((/[/\\\\]node_modules[/\\\\]*$/).test(dir)) return cb(null);\n\n        maybeRealpath(realpath, dir, opts, function (unwrapErr, pkgdir) {\n            if (unwrapErr) return loadpkg(path.dirname(dir), cb);\n            var pkgfile = path.join(pkgdir, 'package.json');\n            isFile(pkgfile, function (err, ex) {\n                // on err, ex is false\n                if (!ex) return loadpkg(path.dirname(dir), cb);\n\n                readPackage(readFile, pkgfile, function (err, pkgParam) {\n                    if (err) cb(err);\n\n                    var pkg = pkgParam;\n\n                    if (pkg && opts.packageFilter) {\n                        pkg = opts.packageFilter(pkg, pkgfile);\n                    }\n                    cb(null, pkg, dir);\n                });\n            });\n        });\n    }\n\n    function loadAsDirectory(x, loadAsDirectoryPackage, callback) {\n        var cb = callback;\n        var fpkg = loadAsDirectoryPackage;\n        if (typeof fpkg === 'function') {\n            cb = fpkg;\n            fpkg = opts.package;\n        }\n\n        maybeRealpath(realpath, x, opts, function (unwrapErr, pkgdir) {\n            if (unwrapErr) return cb(unwrapErr);\n            var pkgfile = path.join(pkgdir, 'package.json');\n            isFile(pkgfile, function (err, ex) {\n                if (err) return cb(err);\n                if (!ex) return loadAsFile(path.join(x, 'index'), fpkg, cb);\n\n                readPackage(readFile, pkgfile, function (err, pkgParam) {\n                    if (err) return cb(err);\n\n                    var pkg = pkgParam;\n\n                    if (pkg && opts.packageFilter) {\n                        pkg = opts.packageFilter(pkg, pkgfile);\n                    }\n\n                    if (pkg && pkg.main) {\n                        if (typeof pkg.main !== 'string') {\n                            var mainError = new TypeError('package “' + pkg.name + '” `main` must be a string');\n                            mainError.code = 'INVALID_PACKAGE_MAIN';\n                            return cb(mainError);\n                        }\n                        if (pkg.main === '.' || pkg.main === './') {\n                            pkg.main = 'index';\n                        }\n                        loadAsFile(path.resolve(x, pkg.main), pkg, function (err, m, pkg) {\n                            if (err) return cb(err);\n                            if (m) return cb(null, m, pkg);\n                            if (!pkg) return loadAsFile(path.join(x, 'index'), pkg, cb);\n\n                            var dir = path.resolve(x, pkg.main);\n                            loadAsDirectory(dir, pkg, function (err, n, pkg) {\n                                if (err) return cb(err);\n                                if (n) return cb(null, n, pkg);\n                                loadAsFile(path.join(x, 'index'), pkg, cb);\n                            });\n                        });\n                        return;\n                    }\n\n                    loadAsFile(path.join(x, '/index'), pkg, cb);\n                });\n            });\n        });\n    }\n\n    function processDirs(cb, dirs) {\n        if (dirs.length === 0) return cb(null, undefined);\n        var dir = dirs[0];\n\n        isDirectory(path.dirname(dir), isdir);\n\n        function isdir(err, isdir) {\n            if (err) return cb(err);\n            if (!isdir) return processDirs(cb, dirs.slice(1));\n            loadAsFile(dir, opts.package, onfile);\n        }\n\n        function onfile(err, m, pkg) {\n            if (err) return cb(err);\n            if (m) return cb(null, m, pkg);\n            loadAsDirectory(dir, opts.package, ondir);\n        }\n\n        function ondir(err, n, pkg) {\n            if (err) return cb(err);\n            if (n) return cb(null, n, pkg);\n            processDirs(cb, dirs.slice(1));\n        }\n    }\n    function loadNodeModules(x, start, cb) {\n        var thunk = function () { return getPackageCandidates(x, start, opts); };\n        processDirs(\n            cb,\n            packageIterator ? packageIterator(x, start, thunk, opts) : thunk()\n        );\n    }\n};\n","module.exports = function () {\n    // see https://code.google.com/p/v8/wiki/JavaScriptStackTraceApi\n    var origPrepareStackTrace = Error.prepareStackTrace;\n    Error.prepareStackTrace = function (_, stack) { return stack; };\n    var stack = (new Error()).stack;\n    Error.prepareStackTrace = origPrepareStackTrace;\n    return stack[2].getFileName();\n};\n","'use strict';\n\nvar isCoreModule = require('is-core-module');\nvar data = require('./core.json');\n\nvar core = {};\nfor (var mod in data) { // eslint-disable-line no-restricted-syntax\n    if (Object.prototype.hasOwnProperty.call(data, mod)) {\n        core[mod] = isCoreModule(mod);\n    }\n}\nmodule.exports = core;\n","'use strict';\n\nvar os = require('os');\n\n// adapted from https://github.com/sindresorhus/os-homedir/blob/11e089f4754db38bb535e5a8416320c4446e8cfd/index.js\n\nmodule.exports = os.homedir || function homedir() {\n    var home = process.env.HOME;\n    var user = process.env.LOGNAME || process.env.USER || process.env.LNAME || process.env.USERNAME;\n\n    if (process.platform === 'win32') {\n        return process.env.USERPROFILE || process.env.HOMEDRIVE + process.env.HOMEPATH || home || null;\n    }\n\n    if (process.platform === 'darwin') {\n        return home || (user ? '/Users/' + user : null);\n    }\n\n    if (process.platform === 'linux') {\n        return home || (process.getuid() === 0 ? '/root' : (user ? '/home/' + user : null)); // eslint-disable-line no-extra-parens\n    }\n\n    return home || null;\n};\n","var isCoreModule = require('is-core-module');\n\nmodule.exports = function isCore(x) {\n    return isCoreModule(x);\n};\n","var path = require('path');\nvar parse = path.parse || require('path-parse'); // eslint-disable-line global-require\n\nvar getNodeModulesDirs = function getNodeModulesDirs(absoluteStart, modules) {\n    var prefix = '/';\n    if ((/^([A-Za-z]:)/).test(absoluteStart)) {\n        prefix = '';\n    } else if ((/^\\\\\\\\/).test(absoluteStart)) {\n        prefix = '\\\\\\\\';\n    }\n\n    var paths = [absoluteStart];\n    var parsed = parse(absoluteStart);\n    while (parsed.dir !== paths[paths.length - 1]) {\n        paths.push(parsed.dir);\n        parsed = parse(parsed.dir);\n    }\n\n    return paths.reduce(function (dirs, aPath) {\n        return dirs.concat(modules.map(function (moduleDir) {\n            return path.resolve(prefix, aPath, moduleDir);\n        }));\n    }, []);\n};\n\nmodule.exports = function nodeModulesPaths(start, opts, request) {\n    var modules = opts && opts.moduleDirectory\n        ? [].concat(opts.moduleDirectory)\n        : ['node_modules'];\n\n    if (opts && typeof opts.paths === 'function') {\n        return opts.paths(\n            request,\n            start,\n            function () { return getNodeModulesDirs(start, modules); },\n            opts\n        );\n    }\n\n    var dirs = getNodeModulesDirs(start, modules);\n    return opts && opts.paths ? dirs.concat(opts.paths) : dirs;\n};\n","module.exports = function (x, opts) {\n    /**\n     * This file is purposefully a passthrough. It's expected that third-party\n     * environments will override it at runtime in order to inject special logic\n     * into `resolve` (by manipulating the options). One such example is the PnP\n     * code path in Yarn.\n     */\n\n    return opts || {};\n};\n","var isCore = require('is-core-module');\nvar fs = require('fs');\nvar path = require('path');\nvar getHomedir = require('./homedir');\nvar caller = require('./caller');\nvar nodeModulesPaths = require('./node-modules-paths');\nvar normalizeOptions = require('./normalize-options');\n\nvar realpathFS = process.platform !== 'win32' && fs.realpathSync && typeof fs.realpathSync.native === 'function' ? fs.realpathSync.native : fs.realpathSync;\n\nvar homedir = getHomedir();\nvar defaultPaths = function () {\n    return [\n        path.join(homedir, '.node_modules'),\n        path.join(homedir, '.node_libraries')\n    ];\n};\n\nvar defaultIsFile = function isFile(file) {\n    try {\n        var stat = fs.statSync(file, { throwIfNoEntry: false });\n    } catch (e) {\n        if (e && (e.code === 'ENOENT' || e.code === 'ENOTDIR')) return false;\n        throw e;\n    }\n    return !!stat && (stat.isFile() || stat.isFIFO());\n};\n\nvar defaultIsDir = function isDirectory(dir) {\n    try {\n        var stat = fs.statSync(dir, { throwIfNoEntry: false });\n    } catch (e) {\n        if (e && (e.code === 'ENOENT' || e.code === 'ENOTDIR')) return false;\n        throw e;\n    }\n    return !!stat && stat.isDirectory();\n};\n\nvar defaultRealpathSync = function realpathSync(x) {\n    try {\n        return realpathFS(x);\n    } catch (realpathErr) {\n        if (realpathErr.code !== 'ENOENT') {\n            throw realpathErr;\n        }\n    }\n    return x;\n};\n\nvar maybeRealpathSync = function maybeRealpathSync(realpathSync, x, opts) {\n    if (opts && opts.preserveSymlinks === false) {\n        return realpathSync(x);\n    }\n    return x;\n};\n\nvar defaultReadPackageSync = function defaultReadPackageSync(readFileSync, pkgfile) {\n    var body = readFileSync(pkgfile);\n    try {\n        var pkg = JSON.parse(body);\n        return pkg;\n    } catch (jsonErr) {}\n};\n\nvar getPackageCandidates = function getPackageCandidates(x, start, opts) {\n    var dirs = nodeModulesPaths(start, opts, x);\n    for (var i = 0; i < dirs.length; i++) {\n        dirs[i] = path.join(dirs[i], x);\n    }\n    return dirs;\n};\n\nmodule.exports = function resolveSync(x, options) {\n    if (typeof x !== 'string') {\n        throw new TypeError('Path must be a string.');\n    }\n    var opts = normalizeOptions(x, options);\n\n    var isFile = opts.isFile || defaultIsFile;\n    var readFileSync = opts.readFileSync || fs.readFileSync;\n    var isDirectory = opts.isDirectory || defaultIsDir;\n    var realpathSync = opts.realpathSync || defaultRealpathSync;\n    var readPackageSync = opts.readPackageSync || defaultReadPackageSync;\n    if (opts.readFileSync && opts.readPackageSync) {\n        throw new TypeError('`readFileSync` and `readPackageSync` are mutually exclusive.');\n    }\n    var packageIterator = opts.packageIterator;\n\n    var extensions = opts.extensions || ['.js'];\n    var includeCoreModules = opts.includeCoreModules !== false;\n    var basedir = opts.basedir || path.dirname(caller());\n    var parent = opts.filename || basedir;\n\n    opts.paths = opts.paths || defaultPaths();\n\n    // ensure that `basedir` is an absolute path at this point, resolving against the process' current working directory\n    var absoluteStart = maybeRealpathSync(realpathSync, path.resolve(basedir), opts);\n\n    if ((/^(?:\\.\\.?(?:\\/|$)|\\/|([A-Za-z]:)?[/\\\\])/).test(x)) {\n        var res = path.resolve(absoluteStart, x);\n        if (x === '.' || x === '..' || x.slice(-1) === '/') res += '/';\n        var m = loadAsFileSync(res) || loadAsDirectorySync(res);\n        if (m) return maybeRealpathSync(realpathSync, m, opts);\n    } else if (includeCoreModules && isCore(x)) {\n        return x;\n    } else {\n        var n = loadNodeModulesSync(x, absoluteStart);\n        if (n) return maybeRealpathSync(realpathSync, n, opts);\n    }\n\n    var err = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n\n    function loadAsFileSync(x) {\n        var pkg = loadpkg(path.dirname(x));\n\n        if (pkg && pkg.dir && pkg.pkg && opts.pathFilter) {\n            var rfile = path.relative(pkg.dir, x);\n            var r = opts.pathFilter(pkg.pkg, x, rfile);\n            if (r) {\n                x = path.resolve(pkg.dir, r); // eslint-disable-line no-param-reassign\n            }\n        }\n\n        if (isFile(x)) {\n            return x;\n        }\n\n        for (var i = 0; i < extensions.length; i++) {\n            var file = x + extensions[i];\n            if (isFile(file)) {\n                return file;\n            }\n        }\n    }\n\n    function loadpkg(dir) {\n        if (dir === '' || dir === '/') return;\n        if (process.platform === 'win32' && (/^\\w:[/\\\\]*$/).test(dir)) {\n            return;\n        }\n        if ((/[/\\\\]node_modules[/\\\\]*$/).test(dir)) return;\n\n        var pkgfile = path.join(maybeRealpathSync(realpathSync, dir, opts), 'package.json');\n\n        if (!isFile(pkgfile)) {\n            return loadpkg(path.dirname(dir));\n        }\n\n        var pkg = readPackageSync(readFileSync, pkgfile);\n\n        if (pkg && opts.packageFilter) {\n            // v2 will pass pkgfile\n            pkg = opts.packageFilter(pkg, /*pkgfile,*/ dir); // eslint-disable-line spaced-comment\n        }\n\n        return { pkg: pkg, dir: dir };\n    }\n\n    function loadAsDirectorySync(x) {\n        var pkgfile = path.join(maybeRealpathSync(realpathSync, x, opts), '/package.json');\n        if (isFile(pkgfile)) {\n            try {\n                var pkg = readPackageSync(readFileSync, pkgfile);\n            } catch (e) {}\n\n            if (pkg && opts.packageFilter) {\n                // v2 will pass pkgfile\n                pkg = opts.packageFilter(pkg, /*pkgfile,*/ x); // eslint-disable-line spaced-comment\n            }\n\n            if (pkg && pkg.main) {\n                if (typeof pkg.main !== 'string') {\n                    var mainError = new TypeError('package “' + pkg.name + '” `main` must be a string');\n                    mainError.code = 'INVALID_PACKAGE_MAIN';\n                    throw mainError;\n                }\n                if (pkg.main === '.' || pkg.main === './') {\n                    pkg.main = 'index';\n                }\n                try {\n                    var m = loadAsFileSync(path.resolve(x, pkg.main));\n                    if (m) return m;\n                    var n = loadAsDirectorySync(path.resolve(x, pkg.main));\n                    if (n) return n;\n                } catch (e) {}\n            }\n        }\n\n        return loadAsFileSync(path.join(x, '/index'));\n    }\n\n    function loadNodeModulesSync(x, start) {\n        var thunk = function () { return getPackageCandidates(x, start, opts); };\n        var dirs = packageIterator ? packageIterator(x, start, thunk, opts) : thunk();\n\n        for (var i = 0; i < dirs.length; i++) {\n            var dir = dirs[i];\n            if (isDirectory(path.dirname(dir))) {\n                var m = loadAsFileSync(dir);\n                if (m) return m;\n                var n = loadAsDirectorySync(dir);\n                if (n) return n;\n            }\n        }\n    }\n};\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range\n      .trim()\n      .split(/\\s+/)\n      .join(' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => comps.join(' ').trim())\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('../internal/lrucache')\nconst cache = new LRU()\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\n// TODO build?\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (!identifier && identifierBase === false) {\n          throw new Error('invalid increment argument: identifier is empty')\n        }\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(options.includePrerelease ? re[t.COERCEFULL] : re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    // With includePrerelease option set, '1.2.3.4-rc' wants to coerce '2.3.4-rc', not '2.3.4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    const coerceRtlRegex = options.includePrerelease ? re[t.COERCERTLFULL] : re[t.COERCERTL]\n    let next\n    while ((next = coerceRtlRegex.exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      coerceRtlRegex.lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    coerceRtlRegex.lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  const major = match[2]\n  const minor = match[3] || '0'\n  const patch = match[4] || '0'\n  const prerelease = options.includePrerelease && match[5] ? `-${match[5]}` : ''\n  const build = options.includePrerelease && match[6] ? `+${match[6]}` : ''\n\n  return parse(`${major}.${minor}.${patch}${prerelease}${build}`, options)\n}\nmodule.exports = coerce\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // Otherwise it can be determined by checking the high version\n\n    if (highVersion.patch) {\n      // anything higher than a patch bump would result in the wrong version\n      return 'patch'\n    }\n\n    if (highVersion.minor) {\n      // anything higher than a minor bump would result in the wrong version\n      return 'minor'\n    }\n\n    // bumping major/minor/patch all have same result\n    return 'major'\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","class LRUCache {\n  constructor () {\n    this.max = 1000\n    this.map = new Map()\n  }\n\n  get (key) {\n    const value = this.map.get(key)\n    if (value === undefined) {\n      return undefined\n    } else {\n      // Remove the key from the map and add it to the end\n      this.map.delete(key)\n      this.map.set(key, value)\n      return value\n    }\n  }\n\n  delete (key) {\n    return this.map.delete(key)\n  }\n\n  set (key, value) {\n    const deleted = this.delete(key)\n\n    if (!deleted && value !== undefined) {\n      // If cache is full, delete the least recently used item\n      if (this.map.size >= this.max) {\n        const firstKey = this.map.keys().next().value\n        this.delete(firstKey)\n      }\n\n      this.map.set(key, value)\n    }\n\n    return this\n  }\n}\n\nmodule.exports = LRUCache\n","// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","const {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","'use strict'\n\nfunction isFunction (funktion) {\n  return typeof funktion === 'function'\n}\n\n// Default to complaining loudly when things don't go according to plan.\nvar logger = console.error.bind(console)\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty (obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name)\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  })\n}\n\n// Keep initialization idempotent.\nfunction shimmer (options) {\n  if (options && options.logger) {\n    if (!isFunction(options.logger)) logger(\"new logger isn't a function, not replacing\")\n    else logger = options.logger\n  }\n}\n\nfunction wrap (nodule, name, wrapper) {\n  if (!nodule || !nodule[name]) {\n    logger('no original function ' + name + ' to wrap')\n    return\n  }\n\n  if (!wrapper) {\n    logger('no wrapper function')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!isFunction(nodule[name]) || !isFunction(wrapper)) {\n    logger('original object and wrapper must be functions')\n    return\n  }\n\n  var original = nodule[name]\n  var wrapped = wrapper(original, name)\n\n  defineProperty(wrapped, '__original', original)\n  defineProperty(wrapped, '__unwrap', function () {\n    if (nodule[name] === wrapped) defineProperty(nodule, name, original)\n  })\n  defineProperty(wrapped, '__wrapped', true)\n\n  defineProperty(nodule, name, wrapped)\n  return wrapped\n}\n\nfunction massWrap (nodules, names, wrapper) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to wrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      wrap(nodule, name, wrapper)\n    })\n  })\n}\n\nfunction unwrap (nodule, name) {\n  if (!nodule || !nodule[name]) {\n    logger('no function to unwrap.')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!nodule[name].__unwrap) {\n    logger('no original to unwrap to -- has ' + name + ' already been unwrapped?')\n  } else {\n    return nodule[name].__unwrap()\n  }\n}\n\nfunction massUnwrap (nodules, names) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to unwrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      unwrap(nodule, name)\n    })\n  })\n}\n\nshimmer.wrap = wrap\nshimmer.massWrap = massWrap\nshimmer.unwrap = unwrap\nshimmer.massUnwrap = massUnwrap\n\nmodule.exports = shimmer\n","// Copyright 2012 the V8 project authors. All rights reserved.\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n//       copyright notice, this list of conditions and the following\n//       disclaimer in the documentation and/or other materials provided\n//       with the distribution.\n//     * Neither the name of Google Inc. nor the names of its\n//       contributors may be used to endorse or promote products derived\n//       from this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nfunction FormatErrorString(error) {\n  try {\n    return Error.prototype.toString.call(error);\n  } catch (e) {\n    try {\n      return \"<error: \" + e + \">\";\n    } catch (ee) {\n      return \"<error>\";\n    }\n  }\n}\n\nmodule.exports = function FormatStackTrace(error, frames) {\n  var lines = [];\n  lines.push(FormatErrorString(error));\n  for (var i = 0; i < frames.length; i++) {\n    var frame = frames[i];\n    var line;\n    try {\n      line = frame.toString();\n    } catch (e) {\n      try {\n        line = \"<error: \" + e + \">\";\n      } catch (ee) {\n        // Any code that reaches this point is seriously nasty!\n        line = \"<error>\";\n      }\n    }\n    lines.push(\"    at \" + line);\n  }\n  return lines.join(\"\\n\");\n};\n","// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._stackChain) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._stackChain.version === require('./package.json').version) {\n    module.exports = global._stackChain;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of stack-chain found');\n  }\n}\n// Yay, no other stack-chain copy exists, yet :/\nelse {\n  module.exports = global._stackChain = require('./stack-chain');\n}\n","\n// use a already existing formater or fallback to the default v8 formater\nvar defaultFormater = require('./format.js');\n\n// public define API\nfunction stackChain() {\n  this.extend = new TraceModifier();\n  this.filter = new TraceModifier();\n  this.format = new StackFormater();\n  this.version = require('./package.json').version;\n}\n\n\nvar SHORTCIRCUIT_CALLSITE = false;\nstackChain.prototype.callSite = function collectCallSites(options) {\n  if (!options) options = {};\n\n  // Get CallSites\n  SHORTCIRCUIT_CALLSITE = true;\n  var obj = {};\n  Error.captureStackTrace(obj, collectCallSites);\n  var callSites = obj.stack;\n  SHORTCIRCUIT_CALLSITE = false;\n\n  // Slice\n  callSites = callSites.slice(options.slice || 0);\n\n  // Modify CallSites\n  if (options.extend) callSites = this.extend._modify(obj, callSites);\n  if (options.filter) callSites = this.filter._modify(obj, callSites);\n\n  // Done\n  return callSites;\n};\n\nvar chain = new stackChain();\n\nfunction TraceModifier() {\n  this._modifiers = [];\n}\n\nTraceModifier.prototype._modify = function (error, frames) {\n  for (var i = 0, l = this._modifiers.length; i < l; i++) {\n    frames = this._modifiers[i](error, frames);\n  }\n\n  return frames;\n};\n\nTraceModifier.prototype.attach = function (modifier) {\n  this._modifiers.push(modifier);\n};\n\nTraceModifier.prototype.deattach = function (modifier) {\n  var index = this._modifiers.indexOf(modifier);\n\n  if (index === -1) return false;\n\n  this._modifiers.splice(index, 1);\n  return true;\n};\n\nfunction StackFormater() {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n}\n\nStackFormater.prototype.replace = function (formater) {\n  if (formater) {\n    this._formater = formater;\n  } else {\n    this.restore();\n  }\n};\n\nStackFormater.prototype.restore  = function () {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n};\n\nStackFormater.prototype._backup = function () {\n  this._previous = this._formater;\n};\n\nStackFormater.prototype._roolback = function () {\n  if (this._previous === defaultFormater) {\n    this.replace(undefined);\n  } else {\n    this.replace(this._previous);\n  }\n\n  this._previous = undefined;\n};\n\n\n//\n// Set Error.prepareStackTrace thus allowing stack-chain\n// to take control of the Error().stack formating.\n//\n\n// If there already is a custom stack formater, then set\n// that as the stack-chain formater.\nif (Error.prepareStackTrace) {\n    chain.format.replace(Error.prepareStackTrace);\n}\n\nvar SHORTCIRCUIT_FORMATER = false;\nfunction prepareStackTrace(error, originalFrames) {\n  if (SHORTCIRCUIT_CALLSITE) return originalFrames;\n  if (SHORTCIRCUIT_FORMATER) return defaultFormater(error, originalFrames);\n\n  // Make a loss copy of originalFrames\n  var frames = originalFrames.concat();\n\n  // extend frames\n  frames = chain.extend._modify(error, frames);\n\n  // filter frames\n  frames = chain.filter._modify(error, frames);\n\n  // reduce frames to match Error.stackTraceLimit\n  frames = frames.slice(0, Error.stackTraceLimit);\n\n  // Set the callSite property\n  // But only if it hasn't been explicitly set, otherwise\n  // error.stack would have unintended side effects. Check also for\n  // non-extensible/sealed objects, such as those from Google's Closure Library\n  if (Object.isExtensible(error) &&\n      (Object.getOwnPropertyDescriptor(error, \"callSite\") === undefined)) {\n    error.callSite = {\n      original: originalFrames,\n      mutated: frames\n    };\n  }\n\n  // format frames\n  SHORTCIRCUIT_FORMATER = true;\n  var format = chain.format._formater(error, frames);\n  SHORTCIRCUIT_FORMATER = false;\n\n  return format;\n}\n\n// Replace the v8 stack trace creator\nObject.defineProperty(Error, 'prepareStackTrace', {\n  'get': function () {\n    return prepareStackTrace;\n  },\n\n  'set': function (formater) {\n    // If formater is prepareStackTrace it means that someone ran\n    // var old = Error.prepareStackTrace;\n    // Error.prepareStackTrace = custom\n    // new Error().stack\n    // Error.prepareStackTrace = old;\n    // The effect of this, should be that the old behaviour is restored.\n    if (formater === prepareStackTrace) {\n      chain.format._roolback();\n    }\n    // Error.prepareStackTrace was set, this means that someone is\n    // trying to take control of the Error().stack format. Make\n    // them belive they succeeded by setting them up as the stack-chain\n    // formater.\n    else {\n      chain.format._backup();\n      chain.format.replace(formater);\n    }\n  }\n});\n\n//\n// Manage call site storeage\n//\nfunction callSiteGetter() {\n  // calculate call site object\n  this.stack;\n\n  // return call site object\n  return this.callSite;\n}\n\nObject.defineProperty(Error.prototype, 'callSite', {\n  'get': callSiteGetter,\n\n  'set': function (frames) {\n    // In case callSite was set before [[getter]], just set\n    // the value\n    Object.defineProperty(this, 'callSite', {\n        value: frames,\n        writable: true,\n        configurable: true\n    });\n  },\n\n  configurable: true\n});\n\nmodule.exports = chain;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressType = exports.ProgressToken = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.AbstractMessageBuffer = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.SharedArrayReceiverStrategy = exports.SharedArraySenderStrategy = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.LRUCache = exports.Touch = exports.LinkedMap = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.Message = exports.RAL = void 0;\nexports.MessageStrategy = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = void 0;\nconst messages_1 = require(\"./messages\");\nObject.defineProperty(exports, \"Message\", { enumerable: true, get: function () { return messages_1.Message; } });\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst linkedMap_1 = require(\"./linkedMap\");\nObject.defineProperty(exports, \"LinkedMap\", { enumerable: true, get: function () { return linkedMap_1.LinkedMap; } });\nObject.defineProperty(exports, \"LRUCache\", { enumerable: true, get: function () { return linkedMap_1.LRUCache; } });\nObject.defineProperty(exports, \"Touch\", { enumerable: true, get: function () { return linkedMap_1.Touch; } });\nconst disposable_1 = require(\"./disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"./events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"./cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst sharedArrayCancellation_1 = require(\"./sharedArrayCancellation\");\nObject.defineProperty(exports, \"SharedArraySenderStrategy\", { enumerable: true, get: function () { return sharedArrayCancellation_1.SharedArraySenderStrategy; } });\nObject.defineProperty(exports, \"SharedArrayReceiverStrategy\", { enumerable: true, get: function () { return sharedArrayCancellation_1.SharedArrayReceiverStrategy; } });\nconst messageReader_1 = require(\"./messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"./messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst messageBuffer_1 = require(\"./messageBuffer\");\nObject.defineProperty(exports, \"AbstractMessageBuffer\", { enumerable: true, get: function () { return messageBuffer_1.AbstractMessageBuffer; } });\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressToken\", { enumerable: true, get: function () { return connection_1.ProgressToken; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceValues\", { enumerable: true, get: function () { return connection_1.TraceValues; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nObject.defineProperty(exports, \"MessageStrategy\", { enumerable: true, get: function () { return connection_1.MessageStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken || (exports.CancellationToken = CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = (0, ral_1.default)().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { handle.dispose(); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.MessageStrategy = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.RequestCancellationReceiverStrategy = exports.IdCancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = exports.NullLogger = exports.ProgressType = exports.ProgressToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressToken;\n(function (ProgressToken) {\n    function is(value) {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n    ProgressToken.is = is;\n})(ProgressToken || (exports.ProgressToken = ProgressToken = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Compact\"] = 2] = \"Compact\";\n    Trace[Trace[\"Verbose\"] = 3] = \"Verbose\";\n})(Trace || (exports.Trace = Trace = {}));\nvar TraceValues;\n(function (TraceValues) {\n    /**\n     * Turn tracing off.\n     */\n    TraceValues.Off = 'off';\n    /**\n     * Trace messages only.\n     */\n    TraceValues.Messages = 'messages';\n    /**\n     * Compact message tracing.\n     */\n    TraceValues.Compact = 'compact';\n    /**\n     * Verbose message tracing.\n     */\n    TraceValues.Verbose = 'verbose';\n})(TraceValues || (exports.TraceValues = TraceValues = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'compact':\n                return Trace.Compact;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Compact:\n                return 'compact';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace || (exports.Trace = Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat || (exports.TraceFormat = TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return TraceFormat.Text;\n        }\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat || (exports.TraceFormat = TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification || (exports.SetTraceNotification = SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification || (exports.LogTraceNotification = LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors || (exports.ConnectionErrors = ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy || (exports.ConnectionStrategy = ConnectionStrategy = {}));\nvar IdCancellationReceiverStrategy;\n(function (IdCancellationReceiverStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.kind === undefined || candidate.kind === 'id') && Is.func(candidate.createCancellationTokenSource) && (candidate.dispose === undefined || Is.func(candidate.dispose));\n    }\n    IdCancellationReceiverStrategy.is = is;\n})(IdCancellationReceiverStrategy || (exports.IdCancellationReceiverStrategy = IdCancellationReceiverStrategy = {}));\nvar RequestCancellationReceiverStrategy;\n(function (RequestCancellationReceiverStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && candidate.kind === 'request' && Is.func(candidate.createCancellationTokenSource) && (candidate.dispose === undefined || Is.func(candidate.dispose));\n    }\n    RequestCancellationReceiverStrategy.is = is;\n})(RequestCancellationReceiverStrategy || (exports.RequestCancellationReceiverStrategy = RequestCancellationReceiverStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        return IdCancellationReceiverStrategy.is(value) || RequestCancellationReceiverStrategy.is(value);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            return conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy || (exports.CancellationSenderStrategy = CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy || (exports.CancellationStrategy = CancellationStrategy = {}));\nvar MessageStrategy;\n(function (MessageStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.handleMessage);\n    }\n    MessageStrategy.is = is;\n})(MessageStrategy || (exports.MessageStrategy = MessageStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy) || MessageStrategy.is(candidate.messageStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions || (exports.ConnectionOptions = ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSequenceNumber = 0;\n    let unknownResponseSequenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = new Map();\n    let starNotificationHandler = undefined;\n    const notificationHandlers = new Map();\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = new Map();\n    let knownCanceledRequests = new Set();\n    let requestTokens = new Map();\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSequenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSequenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.Message.isRequest(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = (0, ral_1.default)().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function handleMessage(message) {\n        if (messages_1.Message.isRequest(message)) {\n            handleRequest(message);\n        }\n        else if (messages_1.Message.isNotification(message)) {\n            handleNotification(message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            handleResponse(message);\n        }\n        else {\n            handleInvalidMessage(message);\n        }\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            const messageStrategy = options?.messageStrategy;\n            if (MessageStrategy.is(messageStrategy)) {\n                messageStrategy.handleMessage(message, handleMessage);\n            }\n            else {\n                handleMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.Message.isNotification(message) && message.method === CancelNotification.type.method) {\n                const cancelId = message.params.id;\n                const key = createRequestQueueKey(cancelId);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.Message.isRequest(toCancel)) {\n                    const strategy = options?.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        requestTokens.delete(cancelId);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response).catch(() => logger.error(`Sending response for canceled message failed.`));\n                        return;\n                    }\n                }\n                const cancellationToken = requestTokens.get(cancelId);\n                // The request is already running. Cancel the token\n                if (cancellationToken !== undefined) {\n                    cancellationToken.cancel();\n                    traceReceivedNotification(message);\n                    return;\n                }\n                else {\n                    // Remember the cancel but still queue the message to\n                    // clean up state in process message.\n                    knownCanceledRequests.add(cancelId);\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers.get(requestMessage.method);\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = requestMessage.id ?? String(Date.now()); //\n            const cancellationSource = IdCancellationReceiverStrategy.is(cancellationStrategy.receiver)\n                ? cancellationStrategy.receiver.createCancellationTokenSource(tokenKey)\n                : cancellationStrategy.receiver.createCancellationTokenSource(requestMessage);\n            if (requestMessage.id !== null && knownCanceledRequests.has(requestMessage.id)) {\n                cancellationSource.cancel();\n            }\n            if (requestMessage.id !== null) {\n                requestTokens.set(tokenKey, cancellationSource);\n            }\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but received none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    requestTokens.delete(tokenKey);\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        requestTokens.delete(tokenKey);\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        requestTokens.delete(tokenKey);\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    requestTokens.delete(tokenKey);\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                requestTokens.delete(tokenKey);\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = responseMessage.id;\n            const responsePromise = responsePromises.get(key);\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise !== undefined) {\n                responsePromises.delete(key);\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            const cancelId = message.params.id;\n            knownCanceledRequests.delete(cancelId);\n            traceReceivedNotification(message);\n            return;\n        }\n        else {\n            const element = notificationHandlers.get(message.method);\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        // There are JSON-RPC libraries that send progress message as positional params although\n                        // specified as named. So convert them if this is the case.\n                        const params = message.params;\n                        if (message.method === ProgressNotification.type.method && params.length === 2 && ProgressToken.is(params[0])) {\n                            notificationHandler({ token: params[0], value: params[1] });\n                        }\n                        else {\n                            if (type !== undefined) {\n                                if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                    logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                                }\n                                if (type.numberOfParams !== message.params.length) {\n                                    logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${params.length} arguments`);\n                                }\n                            }\n                            notificationHandler(...params);\n                        }\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = responseMessage.id;\n            const responseHandler = responsePromises.get(key);\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function stringifyTrace(params) {\n        if (params === undefined || params === null) {\n            return undefined;\n        }\n        switch (trace) {\n            case Trace.Verbose:\n                return JSON.stringify(params, null, 4);\n            case Trace.Compact:\n                return JSON.stringify(params);\n            default:\n                return undefined;\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Received parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            return messageWriter.write(notificationMessage).catch((error) => {\n                logger.error(`Sending notification failed.`);\n                throw error;\n            });\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers.set(type, { type: undefined, handler });\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        notificationHandlers.delete(method);\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            // This should not await but simple return to ensure that we don't have another\n            // async scheduling. Otherwise one send could overtake another send.\n            return connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    const p = cancellationStrategy.sender.sendCancellation(connection, id);\n                    if (p === undefined) {\n                        logger.log(`Received no promise from cancellation strategy when cancelling id ${id}`);\n                        return Promise.resolve();\n                    }\n                    else {\n                        return p.catch(() => {\n                            logger.log(`Sending cancellation messages for id ${id} failed`);\n                        });\n                    }\n                });\n            }\n            const requestMessage = {\n                jsonrpc: version,\n                id: id,\n                method: method,\n                params: messageParams\n            };\n            traceSendingRequest(requestMessage);\n            if (typeof cancellationStrategy.sender.enableCancellation === 'function') {\n                cancellationStrategy.sender.enableCancellation(requestMessage);\n            }\n            return new Promise(async (resolve, reject) => {\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                try {\n                    await messageWriter.write(requestMessage);\n                    responsePromises.set(id, responsePromise);\n                }\n                catch (error) {\n                    logger.error(`Sending request failed.`);\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, error.message ? error.message : 'Unknown reason'));\n                    throw error;\n                }\n            });\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers.set(type, { handler: handler, type: undefined });\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        requestHandlers.delete(method);\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        hasPendingResponse: () => {\n            return responsePromises.size > 0;\n        },\n        trace: async (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                await connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new messages_1.ResponseError(messages_1.ErrorCodes.PendingResponseRejected, 'Pending response rejected since connection got disposed');\n            for (const promise of responsePromises.values()) {\n                promise.reject(error);\n            }\n            responsePromises = new Map();\n            requestTokens = new Map();\n            knownCanceledRequests = new Set();\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            (0, ral_1.default)().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        const verbose = trace === Trace.Verbose || trace === Trace.Compact;\n        tracer.log(params.message, verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable || (exports.Disposable = Disposable = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event || (exports.Event = Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch || (exports.Touch = Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[_a] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        return this._head?.value;\n    }\n    get last() {\n        return this._tail?.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [(_a = Symbol.toStringTag, Symbol.iterator)]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders(lowerCaseKeys = false) {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error(`Message header must separate key and value using ':'\\n${header}`);\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(lowerCaseKeys ? key.toLowerCase() : key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nconst semaphore_1 = require(\"./semaphore\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader || (exports.MessageReader = MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options ?? 'utf-8';\n        }\n        else {\n            charset = options.charset ?? 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = (0, ral_1.default)().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = (0, ral_1.default)().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.readSemaphore = new semaphore_1.Semaphore(1);\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        try {\n            this.buffer.append(data);\n            while (true) {\n                if (this.nextMessageLength === -1) {\n                    const headers = this.buffer.tryReadHeaders(true);\n                    if (!headers) {\n                        return;\n                    }\n                    const contentLength = headers.get('content-length');\n                    if (!contentLength) {\n                        this.fireError(new Error(`Header must provide a Content-Length property.\\n${JSON.stringify(Object.fromEntries(headers))}`));\n                        return;\n                    }\n                    const length = parseInt(contentLength);\n                    if (isNaN(length)) {\n                        this.fireError(new Error(`Content-Length value must be a number. Got ${contentLength}`));\n                        return;\n                    }\n                    this.nextMessageLength = length;\n                }\n                const body = this.buffer.tryReadBody(this.nextMessageLength);\n                if (body === undefined) {\n                    /** We haven't received the full message yet. */\n                    this.setPartialMessageTimer();\n                    return;\n                }\n                this.clearPartialMessageTimer();\n                this.nextMessageLength = -1;\n                // Make sure that we convert one received message after the\n                // other. Otherwise it could happen that a decoding of a second\n                // smaller message finished before the decoding of a first larger\n                // message and then we would deliver the second message first.\n                this.readSemaphore.lock(async () => {\n                    const bytes = this.options.contentDecoder !== undefined\n                        ? await this.options.contentDecoder.decode(body)\n                        : body;\n                    const message = await this.options.contentTypeDecoder.decode(bytes, this.options);\n                    this.callback(message);\n                }).catch((error) => {\n                    this.fireError(error);\n                });\n            }\n        }\n        catch (error) {\n            this.fireError(error);\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            this.partialMessageTimer.dispose();\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = (0, ral_1.default)().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter || (exports.MessageWriter = MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options ?? 'utf-8', contentTypeEncoder: (0, ral_1.default)().applicationJson.encoder };\n        }\n        else {\n            return { charset: options.charset ?? 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: options.contentTypeEncoder ?? (0, ral_1.default)().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Message = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = -32099;\n    /**\n     * An error occurred when write a message to the transport layer.\n     */\n    ErrorCodes.MessageWriteError = -32099;\n    /**\n     * An error occurred when reading a message from the transport layer.\n     */\n    ErrorCodes.MessageReadError = -32098;\n    /**\n     * The connection got disposed or lost and all pending responses got\n     * rejected.\n     */\n    ErrorCodes.PendingResponseRejected = -32097;\n    /**\n     * The connection is inactive and a use of it failed.\n     */\n    ErrorCodes.ConnectionInactive = -32096;\n    /**\n     * Error code indicating that a server received a notification or\n     * request before the server has received the `initialize` request.\n     */\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = -32000;\n})(ErrorCodes || (exports.ErrorCodes = ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        const result = {\n            code: this.code,\n            message: this.message\n        };\n        if (this.data !== undefined) {\n            result.data = this.data;\n        }\n        return result;\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\nvar Message;\n(function (Message) {\n    /**\n     * Tests if the given message is a request message\n     */\n    function isRequest(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n    }\n    Message.isRequest = isRequest;\n    /**\n     * Tests if the given message is a notification message\n     */\n    function isNotification(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && message.id === void 0;\n    }\n    Message.isNotification = isNotification;\n    /**\n     * Tests if the given message is a response message\n     */\n    function isResponse(message) {\n        const candidate = message;\n        return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n    }\n    Message.isResponse = isResponse;\n})(Message || (exports.Message = Message = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, ral_1.default)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SharedArrayReceiverStrategy = exports.SharedArraySenderStrategy = void 0;\nconst cancellation_1 = require(\"./cancellation\");\nvar CancellationState;\n(function (CancellationState) {\n    CancellationState.Continue = 0;\n    CancellationState.Cancelled = 1;\n})(CancellationState || (CancellationState = {}));\nclass SharedArraySenderStrategy {\n    constructor() {\n        this.buffers = new Map();\n    }\n    enableCancellation(request) {\n        if (request.id === null) {\n            return;\n        }\n        const buffer = new SharedArrayBuffer(4);\n        const data = new Int32Array(buffer, 0, 1);\n        data[0] = CancellationState.Continue;\n        this.buffers.set(request.id, buffer);\n        request.$cancellationData = buffer;\n    }\n    async sendCancellation(_conn, id) {\n        const buffer = this.buffers.get(id);\n        if (buffer === undefined) {\n            return;\n        }\n        const data = new Int32Array(buffer, 0, 1);\n        Atomics.store(data, 0, CancellationState.Cancelled);\n    }\n    cleanup(id) {\n        this.buffers.delete(id);\n    }\n    dispose() {\n        this.buffers.clear();\n    }\n}\nexports.SharedArraySenderStrategy = SharedArraySenderStrategy;\nclass SharedArrayBufferCancellationToken {\n    constructor(buffer) {\n        this.data = new Int32Array(buffer, 0, 1);\n    }\n    get isCancellationRequested() {\n        return Atomics.load(this.data, 0) === CancellationState.Cancelled;\n    }\n    get onCancellationRequested() {\n        throw new Error(`Cancellation over SharedArrayBuffer doesn't support cancellation events`);\n    }\n}\nclass SharedArrayBufferCancellationTokenSource {\n    constructor(buffer) {\n        this.token = new SharedArrayBufferCancellationToken(buffer);\n    }\n    cancel() {\n    }\n    dispose() {\n    }\n}\nclass SharedArrayReceiverStrategy {\n    constructor() {\n        this.kind = 'request';\n    }\n    createCancellationTokenSource(request) {\n        const buffer = request.$cancellationData;\n        if (buffer === undefined) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n        return new SharedArrayBufferCancellationTokenSource(buffer);\n    }\n}\nexports.SharedArrayReceiverStrategy = SharedArrayReceiverStrategy;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.PortMessageWriter = exports.PortMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = require(\"./ril\");\n// Install the node runtime abstract.\nril_1.default.install();\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\nconst api_1 = require(\"../common/api\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    constructor(process) {\n        super();\n        this.process = process;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        const eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass PortMessageReader extends api_1.AbstractMessageReader {\n    constructor(port) {\n        super();\n        this.onData = new api_1.Emitter;\n        port.on('close', () => this.fireClose);\n        port.on('error', (error) => this.fireError(error));\n        port.on('message', (message) => {\n            this.onData.fire(message);\n        });\n    }\n    listen(callback) {\n        return this.onData.event(callback);\n    }\n}\nexports.PortMessageReader = PortMessageReader;\nclass PortMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(port) {\n        super();\n        this.port = port;\n        this.errorCount = 0;\n        port.on('close', () => this.fireClose());\n        port.on('error', (error) => this.fireError(error));\n    }\n    write(msg) {\n        try {\n            this.port.postMessage(msg);\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.PortMessageWriter = PortMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super((0, ril_1.default)().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(socket, options) {\n        super((0, ril_1.default)().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readable, encoding) {\n        super((0, ril_1.default)().stream.asReadableStream(readable), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super((0, ril_1.default)().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    const randomSuffix = (0, crypto_1.randomBytes)(21).toString('hex');\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\n    }\n    let result;\n    if (XDG_RUNTIME_DIR) {\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\n    }\n    else {\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\n    }\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined && result.length > limit) {\n        (0, ril_1.default)().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\n    }\n    return result;\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        let server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, api_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"util\");\nconst api_1 = require(\"../common/api\");\nclass MessageBuffer extends api_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\nclass ReadableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return api_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return api_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return api_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return api_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return api_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return api_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return api_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            const handle = setTimeout(callback, ms, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setImmediate(callback, ...args) {\n            const handle = setImmediate(callback, ...args);\n            return { dispose: () => clearImmediate(handle) };\n        },\n        setInterval(callback, ms, ...args) {\n            const handle = setInterval(callback, ms, ...args);\n            return { dispose: () => clearInterval(handle) };\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        api_1.RAL.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticPullMode = exports.vsdiag = void 0;\n__exportStar(require(\"vscode-languageserver-protocol\"), exports);\n__exportStar(require(\"./features\"), exports);\nvar diagnostic_1 = require(\"./diagnostic\");\nObject.defineProperty(exports, \"vsdiag\", { enumerable: true, get: function () { return diagnostic_1.vsdiag; } });\nObject.defineProperty(exports, \"DiagnosticPullMode\", { enumerable: true, get: function () { return diagnostic_1.DiagnosticPullMode; } });\n__exportStar(require(\"./client\"), exports);\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass CallHierarchyProvider {\n    constructor(client) {\n        this.client = client;\n        this.middleware = client.middleware;\n    }\n    prepareCallHierarchy(document, position, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const prepareCallHierarchy = (document, position, token) => {\n            const params = client.code2ProtocolConverter.asTextDocumentPositionParams(document, position);\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, token, error, null);\n            });\n        };\n        return middleware.prepareCallHierarchy\n            ? middleware.prepareCallHierarchy(document, position, token, prepareCallHierarchy)\n            : prepareCallHierarchy(document, position, token);\n    }\n    provideCallHierarchyIncomingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyIncomingCalls = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyIncomingCalls(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyIncomingCalls\n            ? middleware.provideCallHierarchyIncomingCalls(item, token, provideCallHierarchyIncomingCalls)\n            : provideCallHierarchyIncomingCalls(item, token);\n    }\n    provideCallHierarchyOutgoingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyOutgoingCalls = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyOutgoingCalls(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyOutgoingCalls\n            ? middleware.provideCallHierarchyOutgoingCalls(item, token, provideCallHierarchyOutgoingCalls)\n            : provideCallHierarchyOutgoingCalls(item, token);\n    }\n}\nclass CallHierarchyFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type);\n    }\n    fillClientCapabilities(cap) {\n        const capabilities = cap;\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'callHierarchy');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.callHierarchyProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const client = this._client;\n        const provider = new CallHierarchyProvider(client);\n        return [vscode_1.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(options.documentSelector), provider), provider];\n    }\n}\nexports.CallHierarchyFeature = CallHierarchyFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.BaseLanguageClient = exports.MessageTransports = exports.SuspendMode = exports.State = exports.CloseAction = exports.ErrorAction = exports.RevealOutputChannelOn = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst c2p = require(\"./codeConverter\");\nconst p2c = require(\"./protocolConverter\");\nconst Is = require(\"./utils/is\");\nconst async_1 = require(\"./utils/async\");\nconst UUID = require(\"./utils/uuid\");\nconst progressPart_1 = require(\"./progressPart\");\nconst features_1 = require(\"./features\");\nconst diagnostic_1 = require(\"./diagnostic\");\nconst notebook_1 = require(\"./notebook\");\nconst configuration_1 = require(\"./configuration\");\nconst textSynchronization_1 = require(\"./textSynchronization\");\nconst completion_1 = require(\"./completion\");\nconst hover_1 = require(\"./hover\");\nconst definition_1 = require(\"./definition\");\nconst signatureHelp_1 = require(\"./signatureHelp\");\nconst documentHighlight_1 = require(\"./documentHighlight\");\nconst documentSymbol_1 = require(\"./documentSymbol\");\nconst workspaceSymbol_1 = require(\"./workspaceSymbol\");\nconst reference_1 = require(\"./reference\");\nconst codeAction_1 = require(\"./codeAction\");\nconst codeLens_1 = require(\"./codeLens\");\nconst formatting_1 = require(\"./formatting\");\nconst rename_1 = require(\"./rename\");\nconst documentLink_1 = require(\"./documentLink\");\nconst executeCommand_1 = require(\"./executeCommand\");\nconst fileSystemWatcher_1 = require(\"./fileSystemWatcher\");\nconst colorProvider_1 = require(\"./colorProvider\");\nconst implementation_1 = require(\"./implementation\");\nconst typeDefinition_1 = require(\"./typeDefinition\");\nconst workspaceFolder_1 = require(\"./workspaceFolder\");\nconst foldingRange_1 = require(\"./foldingRange\");\nconst declaration_1 = require(\"./declaration\");\nconst selectionRange_1 = require(\"./selectionRange\");\nconst progress_1 = require(\"./progress\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nconst typeHierarchy_1 = require(\"./typeHierarchy\");\nconst inlineValue_1 = require(\"./inlineValue\");\nconst inlayHint_1 = require(\"./inlayHint\");\nconst inlineCompletion_1 = require(\"./inlineCompletion\");\n/**\n * Controls when the output channel is revealed.\n */\nvar RevealOutputChannelOn;\n(function (RevealOutputChannelOn) {\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Debug\"] = 0] = \"Debug\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Info\"] = 1] = \"Info\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Warn\"] = 2] = \"Warn\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Error\"] = 3] = \"Error\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Never\"] = 4] = \"Never\";\n})(RevealOutputChannelOn || (exports.RevealOutputChannelOn = RevealOutputChannelOn = {}));\n/**\n * An action to be performed when the connection is producing errors.\n */\nvar ErrorAction;\n(function (ErrorAction) {\n    /**\n     * Continue running the server.\n     */\n    ErrorAction[ErrorAction[\"Continue\"] = 1] = \"Continue\";\n    /**\n     * Shutdown the server.\n     */\n    ErrorAction[ErrorAction[\"Shutdown\"] = 2] = \"Shutdown\";\n})(ErrorAction || (exports.ErrorAction = ErrorAction = {}));\n/**\n * An action to be performed when the connection to a server got closed.\n */\nvar CloseAction;\n(function (CloseAction) {\n    /**\n     * Don't restart the server. The connection stays closed.\n     */\n    CloseAction[CloseAction[\"DoNotRestart\"] = 1] = \"DoNotRestart\";\n    /**\n     * Restart the server.\n     */\n    CloseAction[CloseAction[\"Restart\"] = 2] = \"Restart\";\n})(CloseAction || (exports.CloseAction = CloseAction = {}));\n/**\n * Signals in which state the language client is in.\n */\nvar State;\n(function (State) {\n    /**\n     * The client is stopped or got never started.\n     */\n    State[State[\"Stopped\"] = 1] = \"Stopped\";\n    /**\n     * The client is starting but not ready yet.\n     */\n    State[State[\"Starting\"] = 3] = \"Starting\";\n    /**\n     * The client is running and ready.\n     */\n    State[State[\"Running\"] = 2] = \"Running\";\n})(State || (exports.State = State = {}));\nvar SuspendMode;\n(function (SuspendMode) {\n    /**\n     * Don't allow suspend mode.\n     */\n    SuspendMode[\"off\"] = \"off\";\n    /**\n     * Support suspend mode even if not all\n     * registered providers have a corresponding\n     * activation listener.\n     */\n    SuspendMode[\"on\"] = \"on\";\n})(SuspendMode || (exports.SuspendMode = SuspendMode = {}));\nvar ResolvedClientOptions;\n(function (ResolvedClientOptions) {\n    function sanitizeIsTrusted(isTrusted) {\n        if (isTrusted === undefined || isTrusted === null) {\n            return false;\n        }\n        if ((typeof isTrusted === 'boolean') || (typeof isTrusted === 'object' && isTrusted !== null && Is.stringArray(isTrusted.enabledCommands))) {\n            return isTrusted;\n        }\n        return false;\n    }\n    ResolvedClientOptions.sanitizeIsTrusted = sanitizeIsTrusted;\n})(ResolvedClientOptions || (ResolvedClientOptions = {}));\nclass DefaultErrorHandler {\n    constructor(client, maxRestartCount) {\n        this.client = client;\n        this.maxRestartCount = maxRestartCount;\n        this.restarts = [];\n    }\n    error(_error, _message, count) {\n        if (count && count <= 3) {\n            return { action: ErrorAction.Continue };\n        }\n        return { action: ErrorAction.Shutdown };\n    }\n    closed() {\n        this.restarts.push(Date.now());\n        if (this.restarts.length <= this.maxRestartCount) {\n            return { action: CloseAction.Restart };\n        }\n        else {\n            let diff = this.restarts[this.restarts.length - 1] - this.restarts[0];\n            if (diff <= 3 * 60 * 1000) {\n                return { action: CloseAction.DoNotRestart, message: `The ${this.client.name} server crashed ${this.maxRestartCount + 1} times in the last 3 minutes. The server will not be restarted. See the output for more information.` };\n            }\n            else {\n                this.restarts.shift();\n                return { action: CloseAction.Restart };\n            }\n        }\n    }\n}\nvar ClientState;\n(function (ClientState) {\n    ClientState[\"Initial\"] = \"initial\";\n    ClientState[\"Starting\"] = \"starting\";\n    ClientState[\"StartFailed\"] = \"startFailed\";\n    ClientState[\"Running\"] = \"running\";\n    ClientState[\"Stopping\"] = \"stopping\";\n    ClientState[\"Stopped\"] = \"stopped\";\n})(ClientState || (ClientState = {}));\nvar MessageTransports;\n(function (MessageTransports) {\n    function is(value) {\n        let candidate = value;\n        return candidate && vscode_languageserver_protocol_1.MessageReader.is(value.reader) && vscode_languageserver_protocol_1.MessageWriter.is(value.writer);\n    }\n    MessageTransports.is = is;\n})(MessageTransports || (exports.MessageTransports = MessageTransports = {}));\nclass BaseLanguageClient {\n    constructor(id, name, clientOptions) {\n        this._traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\n        this._diagnosticQueue = new Map();\n        this._diagnosticQueueState = { state: 'idle' };\n        this._features = [];\n        this._dynamicFeatures = new Map();\n        this.workspaceEditLock = new async_1.Semaphore(1);\n        this._id = id;\n        this._name = name;\n        clientOptions = clientOptions || {};\n        const markdown = { isTrusted: false, supportHtml: false };\n        if (clientOptions.markdown !== undefined) {\n            markdown.isTrusted = ResolvedClientOptions.sanitizeIsTrusted(clientOptions.markdown.isTrusted);\n            markdown.supportHtml = clientOptions.markdown.supportHtml === true;\n        }\n        // const defaultInterval = (clientOptions as TestOptions).$testMode ? 50 : 60000;\n        this._clientOptions = {\n            documentSelector: clientOptions.documentSelector ?? [],\n            synchronize: clientOptions.synchronize ?? {},\n            diagnosticCollectionName: clientOptions.diagnosticCollectionName,\n            outputChannelName: clientOptions.outputChannelName ?? this._name,\n            revealOutputChannelOn: clientOptions.revealOutputChannelOn ?? RevealOutputChannelOn.Error,\n            stdioEncoding: clientOptions.stdioEncoding ?? 'utf8',\n            initializationOptions: clientOptions.initializationOptions,\n            initializationFailedHandler: clientOptions.initializationFailedHandler,\n            progressOnInitialization: !!clientOptions.progressOnInitialization,\n            errorHandler: clientOptions.errorHandler ?? this.createDefaultErrorHandler(clientOptions.connectionOptions?.maxRestartCount),\n            middleware: clientOptions.middleware ?? {},\n            uriConverters: clientOptions.uriConverters,\n            workspaceFolder: clientOptions.workspaceFolder,\n            connectionOptions: clientOptions.connectionOptions,\n            markdown,\n            // suspend: {\n            // \tmode: clientOptions.suspend?.mode ?? SuspendMode.off,\n            // \tcallback: clientOptions.suspend?.callback ?? (() => Promise.resolve(true)),\n            // \tinterval: clientOptions.suspend?.interval ? Math.max(clientOptions.suspend.interval, defaultInterval) : defaultInterval\n            // },\n            diagnosticPullOptions: clientOptions.diagnosticPullOptions ?? { onChange: true, onSave: false },\n            notebookDocumentOptions: clientOptions.notebookDocumentOptions ?? {}\n        };\n        this._clientOptions.synchronize = this._clientOptions.synchronize || {};\n        this._state = ClientState.Initial;\n        this._ignoredRegistrations = new Set();\n        this._listeners = [];\n        this._notificationHandlers = new Map();\n        this._pendingNotificationHandlers = new Map();\n        this._notificationDisposables = new Map();\n        this._requestHandlers = new Map();\n        this._pendingRequestHandlers = new Map();\n        this._requestDisposables = new Map();\n        this._progressHandlers = new Map();\n        this._pendingProgressHandlers = new Map();\n        this._progressDisposables = new Map();\n        this._connection = undefined;\n        // this._idleStart = undefined;\n        this._initializeResult = undefined;\n        if (clientOptions.outputChannel) {\n            this._outputChannel = clientOptions.outputChannel;\n            this._disposeOutputChannel = false;\n        }\n        else {\n            this._outputChannel = undefined;\n            this._disposeOutputChannel = true;\n        }\n        this._traceOutputChannel = clientOptions.traceOutputChannel;\n        this._diagnostics = undefined;\n        this._pendingOpenNotifications = new Set();\n        this._pendingChangeSemaphore = new async_1.Semaphore(1);\n        this._pendingChangeDelayer = new async_1.Delayer(250);\n        this._fileEvents = [];\n        this._fileEventDelayer = new async_1.Delayer(250);\n        this._onStop = undefined;\n        this._telemetryEmitter = new vscode_languageserver_protocol_1.Emitter();\n        this._stateChangeEmitter = new vscode_languageserver_protocol_1.Emitter();\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n        this._tracer = {\n            log: (messageOrDataObject, data) => {\n                if (Is.string(messageOrDataObject)) {\n                    this.logTrace(messageOrDataObject, data);\n                }\n                else {\n                    this.logObjectTrace(messageOrDataObject);\n                }\n            },\n        };\n        this._c2p = c2p.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.code2Protocol : undefined);\n        this._p2c = p2c.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.protocol2Code : undefined, this._clientOptions.markdown.isTrusted, this._clientOptions.markdown.supportHtml);\n        this._syncedDocuments = new Map();\n        this.registerBuiltinFeatures();\n    }\n    get name() {\n        return this._name;\n    }\n    get middleware() {\n        return this._clientOptions.middleware ?? Object.create(null);\n    }\n    get clientOptions() {\n        return this._clientOptions;\n    }\n    get protocol2CodeConverter() {\n        return this._p2c;\n    }\n    get code2ProtocolConverter() {\n        return this._c2p;\n    }\n    get onTelemetry() {\n        return this._telemetryEmitter.event;\n    }\n    get onDidChangeState() {\n        return this._stateChangeEmitter.event;\n    }\n    get outputChannel() {\n        if (!this._outputChannel) {\n            this._outputChannel = vscode_1.window.createOutputChannel(this._clientOptions.outputChannelName ? this._clientOptions.outputChannelName : this._name);\n        }\n        return this._outputChannel;\n    }\n    get traceOutputChannel() {\n        if (this._traceOutputChannel) {\n            return this._traceOutputChannel;\n        }\n        return this.outputChannel;\n    }\n    get diagnostics() {\n        return this._diagnostics;\n    }\n    get state() {\n        return this.getPublicState();\n    }\n    get $state() {\n        return this._state;\n    }\n    set $state(value) {\n        let oldState = this.getPublicState();\n        this._state = value;\n        let newState = this.getPublicState();\n        if (newState !== oldState) {\n            this._stateChangeEmitter.fire({ oldState, newState });\n        }\n    }\n    getPublicState() {\n        switch (this.$state) {\n            case ClientState.Starting:\n                return State.Starting;\n            case ClientState.Running:\n                return State.Running;\n            default:\n                return State.Stopped;\n        }\n    }\n    get initializeResult() {\n        return this._initializeResult;\n    }\n    async sendRequest(type, ...params) {\n        if (this.$state === ClientState.StartFailed || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped) {\n            return Promise.reject(new vscode_languageserver_protocol_1.ResponseError(vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive, `Client is not running`));\n        }\n        // Ensure we have a connection before we force the document sync.\n        const connection = await this.$start();\n        // If any document is synced in full mode make sure we flush any pending\n        // full document syncs.\n        if (this._didChangeTextDocumentFeature.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\n            await this.sendPendingFullTextDocumentChanges(connection);\n        }\n        const _sendRequest = this._clientOptions.middleware?.sendRequest;\n        if (_sendRequest !== undefined) {\n            let param = undefined;\n            let token = undefined;\n            // Separate cancellation tokens from other parameters for a better client interface\n            if (params.length === 1) {\n                // CancellationToken is an interface, so we need to check if the first param complies to it\n                if (vscode_languageserver_protocol_1.CancellationToken.is(params[0])) {\n                    token = params[0];\n                }\n                else {\n                    param = params[0];\n                }\n            }\n            else if (params.length === 2) {\n                param = params[0];\n                token = params[1];\n            }\n            // Return the general middleware invocation defining `next` as a utility function that reorganizes parameters to\n            // pass them to the original sendRequest function.\n            return _sendRequest(type, param, token, (type, param, token) => {\n                const params = [];\n                // Add the parameters if there are any\n                if (param !== undefined) {\n                    params.push(param);\n                }\n                // Add the cancellation token if there is one\n                if (token !== undefined) {\n                    params.push(token);\n                }\n                return connection.sendRequest(type, ...params);\n            });\n        }\n        else {\n            return connection.sendRequest(type, ...params);\n        }\n    }\n    onRequest(type, handler) {\n        const method = typeof type === 'string' ? type : type.method;\n        this._requestHandlers.set(method, handler);\n        const connection = this.activeConnection();\n        let disposable;\n        if (connection !== undefined) {\n            this._requestDisposables.set(method, connection.onRequest(type, handler));\n            disposable = {\n                dispose: () => {\n                    const disposable = this._requestDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._requestDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        else {\n            this._pendingRequestHandlers.set(method, handler);\n            disposable = {\n                dispose: () => {\n                    this._pendingRequestHandlers.delete(method);\n                    const disposable = this._requestDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._requestDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        return {\n            dispose: () => {\n                this._requestHandlers.delete(method);\n                disposable.dispose();\n            }\n        };\n    }\n    async sendNotification(type, params) {\n        if (this.$state === ClientState.StartFailed || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped) {\n            return Promise.reject(new vscode_languageserver_protocol_1.ResponseError(vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive, `Client is not running`));\n        }\n        const needsPendingFullTextDocumentSync = this._didChangeTextDocumentFeature.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full;\n        let openNotification;\n        if (needsPendingFullTextDocumentSync && typeof type !== 'string' && type.method === vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.method) {\n            openNotification = params?.textDocument.uri;\n            this._pendingOpenNotifications.add(openNotification);\n        }\n        // Ensure we have a connection before we force the document sync.\n        const connection = await this.$start();\n        // If any document is synced in full mode make sure we flush any pending\n        // full document syncs.\n        if (needsPendingFullTextDocumentSync) {\n            await this.sendPendingFullTextDocumentChanges(connection);\n        }\n        // We need to remove the pending open notification before we actually\n        // send the notification over the connection. Otherwise there could be\n        // a request coming in that although the open notification got already put\n        // onto the wire will ignore pending document changes.\n        //\n        // Since the code path of connection.sendNotification is actually sync\n        // until the message is handed of to the writer and the writer as a semaphore\n        // lock with a capacity of 1 no additional async scheduling can happen until\n        // the message is actually handed of.\n        if (openNotification !== undefined) {\n            this._pendingOpenNotifications.delete(openNotification);\n        }\n        const _sendNotification = this._clientOptions.middleware?.sendNotification;\n        return _sendNotification\n            ? _sendNotification(type, connection.sendNotification.bind(connection), params)\n            : connection.sendNotification(type, params);\n    }\n    onNotification(type, handler) {\n        const method = typeof type === 'string' ? type : type.method;\n        this._notificationHandlers.set(method, handler);\n        const connection = this.activeConnection();\n        let disposable;\n        if (connection !== undefined) {\n            this._notificationDisposables.set(method, connection.onNotification(type, handler));\n            disposable = {\n                dispose: () => {\n                    const disposable = this._notificationDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._notificationDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        else {\n            this._pendingNotificationHandlers.set(method, handler);\n            disposable = {\n                dispose: () => {\n                    this._pendingNotificationHandlers.delete(method);\n                    const disposable = this._notificationDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._notificationDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        return {\n            dispose: () => {\n                this._notificationHandlers.delete(method);\n                disposable.dispose();\n            }\n        };\n    }\n    async sendProgress(type, token, value) {\n        if (this.$state === ClientState.StartFailed || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped) {\n            return Promise.reject(new vscode_languageserver_protocol_1.ResponseError(vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive, `Client is not running`));\n        }\n        try {\n            // Ensure we have a connection before we force the document sync.\n            const connection = await this.$start();\n            return connection.sendProgress(type, token, value);\n        }\n        catch (error) {\n            this.error(`Sending progress for token ${token} failed.`, error);\n            throw error;\n        }\n    }\n    onProgress(type, token, handler) {\n        this._progressHandlers.set(token, { type, handler });\n        const connection = this.activeConnection();\n        let disposable;\n        const handleWorkDoneProgress = this._clientOptions.middleware?.handleWorkDoneProgress;\n        const realHandler = vscode_languageserver_protocol_1.WorkDoneProgress.is(type) && handleWorkDoneProgress !== undefined\n            ? (params) => {\n                handleWorkDoneProgress(token, params, () => handler(params));\n            }\n            : handler;\n        if (connection !== undefined) {\n            this._progressDisposables.set(token, connection.onProgress(type, token, realHandler));\n            disposable = {\n                dispose: () => {\n                    const disposable = this._progressDisposables.get(token);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._progressDisposables.delete(token);\n                    }\n                }\n            };\n        }\n        else {\n            this._pendingProgressHandlers.set(token, { type, handler });\n            disposable = {\n                dispose: () => {\n                    this._pendingProgressHandlers.delete(token);\n                    const disposable = this._progressDisposables.get(token);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._progressDisposables.delete(token);\n                    }\n                }\n            };\n        }\n        return {\n            dispose: () => {\n                this._progressHandlers.delete(token);\n                disposable.dispose();\n            }\n        };\n    }\n    createDefaultErrorHandler(maxRestartCount) {\n        if (maxRestartCount !== undefined && maxRestartCount < 0) {\n            throw new Error(`Invalid maxRestartCount: ${maxRestartCount}`);\n        }\n        return new DefaultErrorHandler(this, maxRestartCount ?? 4);\n    }\n    async setTrace(value) {\n        this._trace = value;\n        const connection = this.activeConnection();\n        if (connection !== undefined) {\n            await connection.trace(this._trace, this._tracer, {\n                sendNotification: false,\n                traceFormat: this._traceFormat\n            });\n        }\n    }\n    data2String(data) {\n        if (data instanceof vscode_languageserver_protocol_1.ResponseError) {\n            const responseError = data;\n            return `  Message: ${responseError.message}\\n  Code: ${responseError.code} ${responseError.data ? '\\n' + responseError.data.toString() : ''}`;\n        }\n        if (data instanceof Error) {\n            if (Is.string(data.stack)) {\n                return data.stack;\n            }\n            return data.message;\n        }\n        if (Is.string(data)) {\n            return data;\n        }\n        return data.toString();\n    }\n    debug(message, data, showNotification = true) {\n        this.logOutputMessage(vscode_languageserver_protocol_1.MessageType.Debug, RevealOutputChannelOn.Debug, 'Debug', message, data, showNotification);\n    }\n    info(message, data, showNotification = true) {\n        this.logOutputMessage(vscode_languageserver_protocol_1.MessageType.Info, RevealOutputChannelOn.Info, 'Info', message, data, showNotification);\n    }\n    warn(message, data, showNotification = true) {\n        this.logOutputMessage(vscode_languageserver_protocol_1.MessageType.Warning, RevealOutputChannelOn.Warn, 'Warn', message, data, showNotification);\n    }\n    error(message, data, showNotification = true) {\n        this.logOutputMessage(vscode_languageserver_protocol_1.MessageType.Error, RevealOutputChannelOn.Error, 'Error', message, data, showNotification);\n    }\n    logOutputMessage(type, reveal, name, message, data, showNotification) {\n        this.outputChannel.appendLine(`[${name.padEnd(5)} - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data !== null && data !== undefined) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification === 'force' || (showNotification && this._clientOptions.revealOutputChannelOn <= reveal)) {\n            this.showNotificationMessage(type, message);\n        }\n    }\n    showNotificationMessage(type, message) {\n        message = message ?? 'A request has failed. See the output for more information.';\n        const messageFunc = type === vscode_languageserver_protocol_1.MessageType.Error\n            ? vscode_1.window.showErrorMessage\n            : type === vscode_languageserver_protocol_1.MessageType.Warning\n                ? vscode_1.window.showWarningMessage\n                : vscode_1.window.showInformationMessage;\n        void messageFunc(message, 'Go to output').then((selection) => {\n            if (selection !== undefined) {\n                this.outputChannel.show(true);\n            }\n        });\n    }\n    logTrace(message, data) {\n        this.traceOutputChannel.appendLine(`[Trace - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.traceOutputChannel.appendLine(this.data2String(data));\n        }\n    }\n    logObjectTrace(data) {\n        if (data.isLSPMessage && data.type) {\n            this.traceOutputChannel.append(`[LSP   - ${(new Date().toLocaleTimeString())}] `);\n        }\n        else {\n            this.traceOutputChannel.append(`[Trace - ${(new Date().toLocaleTimeString())}] `);\n        }\n        if (data) {\n            this.traceOutputChannel.appendLine(`${JSON.stringify(data)}`);\n        }\n    }\n    needsStart() {\n        return this.$state === ClientState.Initial || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped;\n    }\n    needsStop() {\n        return this.$state === ClientState.Starting || this.$state === ClientState.Running;\n    }\n    activeConnection() {\n        return this.$state === ClientState.Running && this._connection !== undefined ? this._connection : undefined;\n    }\n    isRunning() {\n        return this.$state === ClientState.Running;\n    }\n    async start() {\n        if (this._disposed === 'disposing' || this._disposed === 'disposed') {\n            throw new Error(`Client got disposed and can't be restarted.`);\n        }\n        if (this.$state === ClientState.Stopping) {\n            throw new Error(`Client is currently stopping. Can only restart a full stopped client`);\n        }\n        // We are already running or are in the process of getting up\n        // to speed.\n        if (this._onStart !== undefined) {\n            return this._onStart;\n        }\n        const [promise, resolve, reject] = this.createOnStartPromise();\n        this._onStart = promise;\n        // If we restart then the diagnostics collection is reused.\n        if (this._diagnostics === undefined) {\n            this._diagnostics = this._clientOptions.diagnosticCollectionName\n                ? vscode_1.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName)\n                : vscode_1.languages.createDiagnosticCollection();\n        }\n        // When we start make all buffer handlers pending so that they\n        // get added.\n        for (const [method, handler] of this._notificationHandlers) {\n            if (!this._pendingNotificationHandlers.has(method)) {\n                this._pendingNotificationHandlers.set(method, handler);\n            }\n        }\n        for (const [method, handler] of this._requestHandlers) {\n            if (!this._pendingRequestHandlers.has(method)) {\n                this._pendingRequestHandlers.set(method, handler);\n            }\n        }\n        for (const [token, data] of this._progressHandlers) {\n            if (!this._pendingProgressHandlers.has(token)) {\n                this._pendingProgressHandlers.set(token, data);\n            }\n        }\n        this.$state = ClientState.Starting;\n        try {\n            const connection = await this.createConnection();\n            connection.onNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, (message) => {\n                switch (message.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        this.error(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        this.warn(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        this.info(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Debug:\n                        this.debug(message.message, undefined, false);\n                        break;\n                    default:\n                        this.outputChannel.appendLine(message.message);\n                }\n            });\n            connection.onNotification(vscode_languageserver_protocol_1.ShowMessageNotification.type, (message) => {\n                switch (message.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        void vscode_1.window.showErrorMessage(message.message);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        void vscode_1.window.showWarningMessage(message.message);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        void vscode_1.window.showInformationMessage(message.message);\n                        break;\n                    default:\n                        void vscode_1.window.showInformationMessage(message.message);\n                }\n            });\n            connection.onRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, (params) => {\n                let messageFunc;\n                switch (params.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        messageFunc = vscode_1.window.showErrorMessage;\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        messageFunc = vscode_1.window.showWarningMessage;\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        messageFunc = vscode_1.window.showInformationMessage;\n                        break;\n                    default:\n                        messageFunc = vscode_1.window.showInformationMessage;\n                }\n                let actions = params.actions || [];\n                return messageFunc(params.message, ...actions);\n            });\n            connection.onNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, (data) => {\n                this._telemetryEmitter.fire(data);\n            });\n            connection.onRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, async (params) => {\n                const showDocument = async (params) => {\n                    const uri = this.protocol2CodeConverter.asUri(params.uri);\n                    try {\n                        if (params.external === true) {\n                            const success = await vscode_1.env.openExternal(uri);\n                            return { success };\n                        }\n                        else {\n                            const options = {};\n                            if (params.selection !== undefined) {\n                                options.selection = this.protocol2CodeConverter.asRange(params.selection);\n                            }\n                            if (params.takeFocus === undefined || params.takeFocus === false) {\n                                options.preserveFocus = true;\n                            }\n                            else if (params.takeFocus === true) {\n                                options.preserveFocus = false;\n                            }\n                            await vscode_1.window.showTextDocument(uri, options);\n                            return { success: true };\n                        }\n                    }\n                    catch (error) {\n                        return { success: false };\n                    }\n                };\n                const middleware = this._clientOptions.middleware.window?.showDocument;\n                if (middleware !== undefined) {\n                    return middleware(params, showDocument);\n                }\n                else {\n                    return showDocument(params);\n                }\n            });\n            connection.listen();\n            await this.initialize(connection);\n            resolve();\n        }\n        catch (error) {\n            this.$state = ClientState.StartFailed;\n            this.error(`${this._name} client: couldn't create connection to server.`, error, 'force');\n            reject(error);\n        }\n        return this._onStart;\n    }\n    createOnStartPromise() {\n        let resolve;\n        let reject;\n        const promise = new Promise((_resolve, _reject) => {\n            resolve = _resolve;\n            reject = _reject;\n        });\n        return [promise, resolve, reject];\n    }\n    async initialize(connection) {\n        this.refreshTrace(connection, false);\n        const initOption = this._clientOptions.initializationOptions;\n        // If the client is locked to a workspace folder use it. In this case the workspace folder\n        // feature is not registered and we need to initialize the value here.\n        const [rootPath, workspaceFolders] = this._clientOptions.workspaceFolder !== undefined\n            ? [this._clientOptions.workspaceFolder.uri.fsPath, [{ uri: this._c2p.asUri(this._clientOptions.workspaceFolder.uri), name: this._clientOptions.workspaceFolder.name }]]\n            : [this._clientGetRootPath(), null];\n        const initParams = {\n            processId: null,\n            clientInfo: {\n                name: vscode_1.env.appName,\n                version: vscode_1.version\n            },\n            locale: this.getLocale(),\n            rootPath: rootPath ? rootPath : null,\n            rootUri: rootPath ? this._c2p.asUri(vscode_1.Uri.file(rootPath)) : null,\n            capabilities: this.computeClientCapabilities(),\n            initializationOptions: Is.func(initOption) ? initOption() : initOption,\n            trace: vscode_languageserver_protocol_1.Trace.toString(this._trace),\n            workspaceFolders: workspaceFolders\n        };\n        this.fillInitializeParams(initParams);\n        if (this._clientOptions.progressOnInitialization) {\n            const token = UUID.generateUuid();\n            const part = new progressPart_1.ProgressPart(connection, token);\n            initParams.workDoneToken = token;\n            try {\n                const result = await this.doInitialize(connection, initParams);\n                part.done();\n                return result;\n            }\n            catch (error) {\n                part.cancel();\n                throw error;\n            }\n        }\n        else {\n            return this.doInitialize(connection, initParams);\n        }\n    }\n    async doInitialize(connection, initParams) {\n        try {\n            const result = await connection.initialize(initParams);\n            if (result.capabilities.positionEncoding !== undefined && result.capabilities.positionEncoding !== vscode_languageserver_protocol_1.PositionEncodingKind.UTF16) {\n                throw new Error(`Unsupported position encoding (${result.capabilities.positionEncoding}) received from server ${this.name}`);\n            }\n            this._initializeResult = result;\n            this.$state = ClientState.Running;\n            let textDocumentSyncOptions = undefined;\n            if (Is.number(result.capabilities.textDocumentSync)) {\n                if (result.capabilities.textDocumentSync === vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n                    textDocumentSyncOptions = {\n                        openClose: false,\n                        change: vscode_languageserver_protocol_1.TextDocumentSyncKind.None,\n                        save: undefined\n                    };\n                }\n                else {\n                    textDocumentSyncOptions = {\n                        openClose: true,\n                        change: result.capabilities.textDocumentSync,\n                        save: {\n                            includeText: false\n                        }\n                    };\n                }\n            }\n            else if (result.capabilities.textDocumentSync !== undefined && result.capabilities.textDocumentSync !== null) {\n                textDocumentSyncOptions = result.capabilities.textDocumentSync;\n            }\n            this._capabilities = Object.assign({}, result.capabilities, { resolvedTextDocumentSync: textDocumentSyncOptions });\n            connection.onNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params => this.handleDiagnostics(params));\n            connection.onRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params => this.handleRegistrationRequest(params));\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\n            connection.onRequest('client/registerFeature', params => this.handleRegistrationRequest(params));\n            connection.onRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params => this.handleUnregistrationRequest(params));\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\n            connection.onRequest('client/unregisterFeature', params => this.handleUnregistrationRequest(params));\n            connection.onRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params => this.handleApplyWorkspaceEdit(params));\n            // Add pending notification, request and progress handlers.\n            for (const [method, handler] of this._pendingNotificationHandlers) {\n                this._notificationDisposables.set(method, connection.onNotification(method, handler));\n            }\n            this._pendingNotificationHandlers.clear();\n            for (const [method, handler] of this._pendingRequestHandlers) {\n                this._requestDisposables.set(method, connection.onRequest(method, handler));\n            }\n            this._pendingRequestHandlers.clear();\n            for (const [token, data] of this._pendingProgressHandlers) {\n                this._progressDisposables.set(token, connection.onProgress(data.type, token, data.handler));\n            }\n            this._pendingProgressHandlers.clear();\n            // if (this._clientOptions.suspend.mode !== SuspendMode.off) {\n            // \tthis._idleInterval =  RAL().timer.setInterval(() => this.checkSuspend(), this._clientOptions.suspend.interval);\n            // }\n            await connection.sendNotification(vscode_languageserver_protocol_1.InitializedNotification.type, {});\n            this.hookFileEvents(connection);\n            this.hookConfigurationChanged(connection);\n            this.initializeFeatures(connection);\n            return result;\n        }\n        catch (error) {\n            if (this._clientOptions.initializationFailedHandler) {\n                if (this._clientOptions.initializationFailedHandler(error)) {\n                    void this.initialize(connection);\n                }\n                else {\n                    void this.stop();\n                }\n            }\n            else if (error instanceof vscode_languageserver_protocol_1.ResponseError && error.data && error.data.retry) {\n                void vscode_1.window.showErrorMessage(error.message, { title: 'Retry', id: 'retry' }).then(item => {\n                    if (item && item.id === 'retry') {\n                        void this.initialize(connection);\n                    }\n                    else {\n                        void this.stop();\n                    }\n                });\n            }\n            else {\n                if (error && error.message) {\n                    void vscode_1.window.showErrorMessage(error.message);\n                }\n                this.error('Server initialization failed.', error);\n                void this.stop();\n            }\n            throw error;\n        }\n    }\n    _clientGetRootPath() {\n        let folders = vscode_1.workspace.workspaceFolders;\n        if (!folders || folders.length === 0) {\n            return undefined;\n        }\n        let folder = folders[0];\n        if (folder.uri.scheme === 'file') {\n            return folder.uri.fsPath;\n        }\n        return undefined;\n    }\n    stop(timeout = 2000) {\n        // Wait 2 seconds on stop\n        return this.shutdown('stop', timeout);\n    }\n    dispose(timeout = 2000) {\n        try {\n            this._disposed = 'disposing';\n            return this.stop(timeout);\n        }\n        finally {\n            this._disposed = 'disposed';\n        }\n    }\n    async shutdown(mode, timeout) {\n        // If the client is stopped or in its initial state return.\n        if (this.$state === ClientState.Stopped || this.$state === ClientState.Initial) {\n            return;\n        }\n        // If we are stopping the client and have a stop promise return it.\n        if (this.$state === ClientState.Stopping) {\n            if (this._onStop !== undefined) {\n                return this._onStop;\n            }\n            else {\n                throw new Error(`Client is stopping but no stop promise available.`);\n            }\n        }\n        const connection = this.activeConnection();\n        // We can't stop a client that is not running (e.g. has no connection). Especially not\n        // on that us starting since it can't be correctly synchronized.\n        if (connection === undefined || this.$state !== ClientState.Running) {\n            throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);\n        }\n        this._initializeResult = undefined;\n        this.$state = ClientState.Stopping;\n        this.cleanUp(mode);\n        const tp = new Promise(c => { (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(c, timeout); });\n        const shutdown = (async (connection) => {\n            await connection.shutdown();\n            await connection.exit();\n            return connection;\n        })(connection);\n        return this._onStop = Promise.race([tp, shutdown]).then((connection) => {\n            // The connection won the race with the timeout.\n            if (connection !== undefined) {\n                connection.end();\n                connection.dispose();\n            }\n            else {\n                this.error(`Stopping server timed out`, undefined, false);\n                throw new Error(`Stopping the server timed out`);\n            }\n        }, (error) => {\n            this.error(`Stopping server failed`, error, false);\n            throw error;\n        }).finally(() => {\n            this.$state = ClientState.Stopped;\n            mode === 'stop' && this.cleanUpChannel();\n            this._onStart = undefined;\n            this._onStop = undefined;\n            this._connection = undefined;\n            this._ignoredRegistrations.clear();\n        });\n    }\n    cleanUp(mode) {\n        // purge outstanding file events.\n        this._fileEvents = [];\n        this._fileEventDelayer.cancel();\n        const disposables = this._listeners.splice(0, this._listeners.length);\n        for (const disposable of disposables) {\n            disposable.dispose();\n        }\n        if (this._syncedDocuments) {\n            this._syncedDocuments.clear();\n        }\n        // Clear features in reverse order;\n        for (const feature of Array.from(this._features.entries()).map(entry => entry[1]).reverse()) {\n            feature.clear();\n        }\n        if (mode === 'stop' && this._diagnostics !== undefined) {\n            this._diagnostics.dispose();\n            this._diagnostics = undefined;\n        }\n        if (this._idleInterval !== undefined) {\n            this._idleInterval.dispose();\n            this._idleInterval = undefined;\n        }\n        // this._idleStart = undefined;\n    }\n    cleanUpChannel() {\n        if (this._outputChannel !== undefined && this._disposeOutputChannel) {\n            this._outputChannel.dispose();\n            this._outputChannel = undefined;\n        }\n    }\n    notifyFileEvent(event) {\n        const client = this;\n        async function didChangeWatchedFile(event) {\n            client._fileEvents.push(event);\n            return client._fileEventDelayer.trigger(async () => {\n                await client.sendNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, { changes: client._fileEvents });\n                client._fileEvents = [];\n            });\n        }\n        const workSpaceMiddleware = this.clientOptions.middleware?.workspace;\n        (workSpaceMiddleware?.didChangeWatchedFile ? workSpaceMiddleware.didChangeWatchedFile(event, didChangeWatchedFile) : didChangeWatchedFile(event)).catch((error) => {\n            client.error(`Notify file events failed.`, error);\n        });\n    }\n    async sendPendingFullTextDocumentChanges(connection) {\n        return this._pendingChangeSemaphore.lock(async () => {\n            try {\n                const changes = this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);\n                if (changes.length === 0) {\n                    return;\n                }\n                for (const document of changes) {\n                    const params = this.code2ProtocolConverter.asChangeTextDocumentParams(document);\n                    // We await the send and not the delivery since it is more or less the same for\n                    // notifications.\n                    await connection.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                    this._didChangeTextDocumentFeature.notificationSent(document, vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                }\n            }\n            catch (error) {\n                this.error(`Sending pending changes failed`, error, false);\n                throw error;\n            }\n        });\n    }\n    triggerPendingChangeDelivery() {\n        this._pendingChangeDelayer.trigger(async () => {\n            const connection = this.activeConnection();\n            if (connection === undefined) {\n                this.triggerPendingChangeDelivery();\n                return;\n            }\n            await this.sendPendingFullTextDocumentChanges(connection);\n        }).catch((error) => this.error(`Delivering pending changes failed`, error, false));\n    }\n    handleDiagnostics(params) {\n        if (!this._diagnostics) {\n            return;\n        }\n        const key = params.uri;\n        if (this._diagnosticQueueState.state === 'busy' && this._diagnosticQueueState.document === key) {\n            // Cancel the active run;\n            this._diagnosticQueueState.tokenSource.cancel();\n        }\n        this._diagnosticQueue.set(params.uri, params.diagnostics);\n        this.triggerDiagnosticQueue();\n    }\n    triggerDiagnosticQueue() {\n        (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => { this.workDiagnosticQueue(); });\n    }\n    workDiagnosticQueue() {\n        if (this._diagnosticQueueState.state === 'busy') {\n            return;\n        }\n        const next = this._diagnosticQueue.entries().next();\n        if (next.done === true) {\n            // Nothing in the queue\n            return;\n        }\n        const [document, diagnostics] = next.value;\n        this._diagnosticQueue.delete(document);\n        const tokenSource = new vscode_1.CancellationTokenSource();\n        this._diagnosticQueueState = { state: 'busy', document: document, tokenSource };\n        this._p2c.asDiagnostics(diagnostics, tokenSource.token).then((converted) => {\n            if (!tokenSource.token.isCancellationRequested) {\n                const uri = this._p2c.asUri(document);\n                const middleware = this.clientOptions.middleware;\n                if (middleware.handleDiagnostics) {\n                    middleware.handleDiagnostics(uri, converted, (uri, diagnostics) => this.setDiagnostics(uri, diagnostics));\n                }\n                else {\n                    this.setDiagnostics(uri, converted);\n                }\n            }\n        }).finally(() => {\n            this._diagnosticQueueState = { state: 'idle' };\n            this.triggerDiagnosticQueue();\n        });\n    }\n    setDiagnostics(uri, diagnostics) {\n        if (!this._diagnostics) {\n            return;\n        }\n        this._diagnostics.set(uri, diagnostics);\n    }\n    getLocale() {\n        return vscode_1.env.language;\n    }\n    async $start() {\n        if (this.$state === ClientState.StartFailed) {\n            throw new Error(`Previous start failed. Can't restart server.`);\n        }\n        await this.start();\n        const connection = this.activeConnection();\n        if (connection === undefined) {\n            throw new Error(`Starting server failed`);\n        }\n        return connection;\n    }\n    async createConnection() {\n        let errorHandler = (error, message, count) => {\n            this.handleConnectionError(error, message, count).catch((error) => this.error(`Handling connection error failed`, error));\n        };\n        let closeHandler = () => {\n            this.handleConnectionClosed().catch((error) => this.error(`Handling connection close failed`, error));\n        };\n        const transports = await this.createMessageTransports(this._clientOptions.stdioEncoding || 'utf8');\n        this._connection = createConnection(transports.reader, transports.writer, errorHandler, closeHandler, this._clientOptions.connectionOptions);\n        return this._connection;\n    }\n    async handleConnectionClosed() {\n        // Check whether this is a normal shutdown in progress or the client stopped normally.\n        if (this.$state === ClientState.Stopped) {\n            return;\n        }\n        try {\n            if (this._connection !== undefined) {\n                this._connection.dispose();\n            }\n        }\n        catch (error) {\n            // Disposing a connection could fail if error cases.\n        }\n        let handlerResult = { action: CloseAction.DoNotRestart };\n        if (this.$state !== ClientState.Stopping) {\n            try {\n                handlerResult = await this._clientOptions.errorHandler.closed();\n            }\n            catch (error) {\n                // Ignore errors coming from the error handler.\n            }\n        }\n        this._connection = undefined;\n        if (handlerResult.action === CloseAction.DoNotRestart) {\n            this.error(handlerResult.message ?? 'Connection to server got closed. Server will not be restarted.', undefined, handlerResult.handled === true ? false : 'force');\n            this.cleanUp('stop');\n            if (this.$state === ClientState.Starting) {\n                this.$state = ClientState.StartFailed;\n            }\n            else {\n                this.$state = ClientState.Stopped;\n            }\n            this._onStop = Promise.resolve();\n            this._onStart = undefined;\n        }\n        else if (handlerResult.action === CloseAction.Restart) {\n            this.info(handlerResult.message ?? 'Connection to server got closed. Server will restart.', !handlerResult.handled);\n            this.cleanUp('restart');\n            this.$state = ClientState.Initial;\n            this._onStop = Promise.resolve();\n            this._onStart = undefined;\n            this.start().catch((error) => this.error(`Restarting server failed`, error, 'force'));\n        }\n    }\n    async handleConnectionError(error, message, count) {\n        const handlerResult = await this._clientOptions.errorHandler.error(error, message, count);\n        if (handlerResult.action === ErrorAction.Shutdown) {\n            this.error(handlerResult.message ?? `Client ${this._name}: connection to server is erroring.\\n${error.message}\\nShutting down server.`, undefined, handlerResult.handled === true ? false : 'force');\n            this.stop().catch((error) => {\n                this.error(`Stopping server failed`, error, false);\n            });\n        }\n        else {\n            this.error(handlerResult.message ??\n                `Client ${this._name}: connection to server is erroring.\\n${error.message}`, undefined, handlerResult.handled === true ? false : 'force');\n        }\n    }\n    hookConfigurationChanged(connection) {\n        this._listeners.push(vscode_1.workspace.onDidChangeConfiguration(() => {\n            this.refreshTrace(connection, true);\n        }));\n    }\n    refreshTrace(connection, sendNotification = false) {\n        const config = vscode_1.workspace.getConfiguration(this._id);\n        let trace = vscode_languageserver_protocol_1.Trace.Off;\n        let traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\n        if (config) {\n            const traceConfig = config.get('trace.server', 'off');\n            if (typeof traceConfig === 'string') {\n                trace = vscode_languageserver_protocol_1.Trace.fromString(traceConfig);\n            }\n            else {\n                trace = vscode_languageserver_protocol_1.Trace.fromString(config.get('trace.server.verbosity', 'off'));\n                traceFormat = vscode_languageserver_protocol_1.TraceFormat.fromString(config.get('trace.server.format', 'text'));\n            }\n        }\n        this._trace = trace;\n        this._traceFormat = traceFormat;\n        connection.trace(this._trace, this._tracer, {\n            sendNotification,\n            traceFormat: this._traceFormat\n        }).catch((error) => { this.error(`Updating trace failed with error`, error, false); });\n    }\n    hookFileEvents(_connection) {\n        let fileEvents = this._clientOptions.synchronize.fileEvents;\n        if (!fileEvents) {\n            return;\n        }\n        let watchers;\n        if (Is.array(fileEvents)) {\n            watchers = fileEvents;\n        }\n        else {\n            watchers = [fileEvents];\n        }\n        if (!watchers) {\n            return;\n        }\n        this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type.method).registerRaw(UUID.generateUuid(), watchers);\n    }\n    registerFeatures(features) {\n        for (let feature of features) {\n            this.registerFeature(feature);\n        }\n    }\n    registerFeature(feature) {\n        this._features.push(feature);\n        if (features_1.DynamicFeature.is(feature)) {\n            const registrationType = feature.registrationType;\n            this._dynamicFeatures.set(registrationType.method, feature);\n        }\n    }\n    getFeature(request) {\n        return this._dynamicFeatures.get(request);\n    }\n    hasDedicatedTextSynchronizationFeature(textDocument) {\n        const feature = this.getFeature(vscode_languageserver_protocol_1.NotebookDocumentSyncRegistrationType.method);\n        if (feature === undefined || !(feature instanceof notebook_1.NotebookDocumentSyncFeature)) {\n            return false;\n        }\n        return feature.handles(textDocument);\n    }\n    registerBuiltinFeatures() {\n        const pendingFullTextDocumentChanges = new Map();\n        this.registerFeature(new configuration_1.ConfigurationFeature(this));\n        this.registerFeature(new textSynchronization_1.DidOpenTextDocumentFeature(this, this._syncedDocuments));\n        this._didChangeTextDocumentFeature = new textSynchronization_1.DidChangeTextDocumentFeature(this, pendingFullTextDocumentChanges);\n        this._didChangeTextDocumentFeature.onPendingChangeAdded(() => {\n            this.triggerPendingChangeDelivery();\n        });\n        this.registerFeature(this._didChangeTextDocumentFeature);\n        this.registerFeature(new textSynchronization_1.WillSaveFeature(this));\n        this.registerFeature(new textSynchronization_1.WillSaveWaitUntilFeature(this));\n        this.registerFeature(new textSynchronization_1.DidSaveTextDocumentFeature(this));\n        this.registerFeature(new textSynchronization_1.DidCloseTextDocumentFeature(this, this._syncedDocuments, pendingFullTextDocumentChanges));\n        this.registerFeature(new fileSystemWatcher_1.FileSystemWatcherFeature(this, (event) => this.notifyFileEvent(event)));\n        this.registerFeature(new completion_1.CompletionItemFeature(this));\n        this.registerFeature(new hover_1.HoverFeature(this));\n        this.registerFeature(new signatureHelp_1.SignatureHelpFeature(this));\n        this.registerFeature(new definition_1.DefinitionFeature(this));\n        this.registerFeature(new reference_1.ReferencesFeature(this));\n        this.registerFeature(new documentHighlight_1.DocumentHighlightFeature(this));\n        this.registerFeature(new documentSymbol_1.DocumentSymbolFeature(this));\n        this.registerFeature(new workspaceSymbol_1.WorkspaceSymbolFeature(this));\n        this.registerFeature(new codeAction_1.CodeActionFeature(this));\n        this.registerFeature(new codeLens_1.CodeLensFeature(this));\n        this.registerFeature(new formatting_1.DocumentFormattingFeature(this));\n        this.registerFeature(new formatting_1.DocumentRangeFormattingFeature(this));\n        this.registerFeature(new formatting_1.DocumentOnTypeFormattingFeature(this));\n        this.registerFeature(new rename_1.RenameFeature(this));\n        this.registerFeature(new documentLink_1.DocumentLinkFeature(this));\n        this.registerFeature(new executeCommand_1.ExecuteCommandFeature(this));\n        this.registerFeature(new configuration_1.SyncConfigurationFeature(this));\n        this.registerFeature(new typeDefinition_1.TypeDefinitionFeature(this));\n        this.registerFeature(new implementation_1.ImplementationFeature(this));\n        this.registerFeature(new colorProvider_1.ColorProviderFeature(this));\n        // We only register the workspace folder feature if the client is not locked\n        // to a specific workspace folder.\n        if (this.clientOptions.workspaceFolder === undefined) {\n            this.registerFeature(new workspaceFolder_1.WorkspaceFoldersFeature(this));\n        }\n        this.registerFeature(new foldingRange_1.FoldingRangeFeature(this));\n        this.registerFeature(new declaration_1.DeclarationFeature(this));\n        this.registerFeature(new selectionRange_1.SelectionRangeFeature(this));\n        this.registerFeature(new progress_1.ProgressFeature(this));\n        this.registerFeature(new callHierarchy_1.CallHierarchyFeature(this));\n        this.registerFeature(new semanticTokens_1.SemanticTokensFeature(this));\n        this.registerFeature(new linkedEditingRange_1.LinkedEditingFeature(this));\n        this.registerFeature(new fileOperations_1.DidCreateFilesFeature(this));\n        this.registerFeature(new fileOperations_1.DidRenameFilesFeature(this));\n        this.registerFeature(new fileOperations_1.DidDeleteFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillCreateFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillRenameFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillDeleteFilesFeature(this));\n        this.registerFeature(new typeHierarchy_1.TypeHierarchyFeature(this));\n        this.registerFeature(new inlineValue_1.InlineValueFeature(this));\n        this.registerFeature(new inlayHint_1.InlayHintsFeature(this));\n        this.registerFeature(new diagnostic_1.DiagnosticFeature(this));\n        this.registerFeature(new notebook_1.NotebookDocumentSyncFeature(this));\n    }\n    registerProposedFeatures() {\n        this.registerFeatures(ProposedFeatures.createAll(this));\n    }\n    fillInitializeParams(params) {\n        for (let feature of this._features) {\n            if (Is.func(feature.fillInitializeParams)) {\n                feature.fillInitializeParams(params);\n            }\n        }\n    }\n    computeClientCapabilities() {\n        const result = {};\n        (0, features_1.ensure)(result, 'workspace').applyEdit = true;\n        const workspaceEdit = (0, features_1.ensure)((0, features_1.ensure)(result, 'workspace'), 'workspaceEdit');\n        workspaceEdit.documentChanges = true;\n        workspaceEdit.resourceOperations = [vscode_languageserver_protocol_1.ResourceOperationKind.Create, vscode_languageserver_protocol_1.ResourceOperationKind.Rename, vscode_languageserver_protocol_1.ResourceOperationKind.Delete];\n        workspaceEdit.failureHandling = vscode_languageserver_protocol_1.FailureHandlingKind.TextOnlyTransactional;\n        workspaceEdit.normalizesLineEndings = true;\n        workspaceEdit.changeAnnotationSupport = {\n            groupsOnLabel: true\n        };\n        const diagnostics = (0, features_1.ensure)((0, features_1.ensure)(result, 'textDocument'), 'publishDiagnostics');\n        diagnostics.relatedInformation = true;\n        diagnostics.versionSupport = false;\n        diagnostics.tagSupport = { valueSet: [vscode_languageserver_protocol_1.DiagnosticTag.Unnecessary, vscode_languageserver_protocol_1.DiagnosticTag.Deprecated] };\n        diagnostics.codeDescriptionSupport = true;\n        diagnostics.dataSupport = true;\n        const windowCapabilities = (0, features_1.ensure)(result, 'window');\n        const showMessage = (0, features_1.ensure)(windowCapabilities, 'showMessage');\n        showMessage.messageActionItem = { additionalPropertiesSupport: true };\n        const showDocument = (0, features_1.ensure)(windowCapabilities, 'showDocument');\n        showDocument.support = true;\n        const generalCapabilities = (0, features_1.ensure)(result, 'general');\n        generalCapabilities.staleRequestSupport = {\n            cancel: true,\n            retryOnContentModified: Array.from(BaseLanguageClient.RequestsToCancelOnContentModified)\n        };\n        generalCapabilities.regularExpressions = { engine: 'ECMAScript', version: 'ES2020' };\n        generalCapabilities.markdown = {\n            parser: 'marked',\n            version: '1.1.0',\n        };\n        generalCapabilities.positionEncodings = ['utf-16'];\n        if (this._clientOptions.markdown.supportHtml) {\n            generalCapabilities.markdown.allowedTags = ['ul', 'li', 'p', 'code', 'blockquote', 'ol', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'em', 'pre', 'table', 'thead', 'tbody', 'tr', 'th', 'td', 'div', 'del', 'a', 'strong', 'br', 'img', 'span'];\n        }\n        for (let feature of this._features) {\n            feature.fillClientCapabilities(result);\n        }\n        return result;\n    }\n    initializeFeatures(_connection) {\n        const documentSelector = this._clientOptions.documentSelector;\n        for (const feature of this._features) {\n            if (Is.func(feature.preInitialize)) {\n                feature.preInitialize(this._capabilities, documentSelector);\n            }\n        }\n        for (const feature of this._features) {\n            feature.initialize(this._capabilities, documentSelector);\n        }\n    }\n    async handleRegistrationRequest(params) {\n        const middleware = this.clientOptions.middleware?.handleRegisterCapability;\n        if (middleware) {\n            return middleware(params, nextParams => this.doRegisterCapability(nextParams));\n        }\n        else {\n            return this.doRegisterCapability(params);\n        }\n    }\n    async doRegisterCapability(params) {\n        // We will not receive a registration call before a client is running\n        // from a server. However if we stop or shutdown we might which might\n        // try to restart the server. So ignore registrations if we are not running\n        if (!this.isRunning()) {\n            for (const registration of params.registrations) {\n                this._ignoredRegistrations.add(registration.id);\n            }\n            return;\n        }\n        for (const registration of params.registrations) {\n            const feature = this._dynamicFeatures.get(registration.method);\n            if (feature === undefined) {\n                return Promise.reject(new Error(`No feature implementation for ${registration.method} found. Registration failed.`));\n            }\n            const options = registration.registerOptions ?? {};\n            options.documentSelector = options.documentSelector ?? this._clientOptions.documentSelector;\n            const data = {\n                id: registration.id,\n                registerOptions: options\n            };\n            try {\n                feature.register(data);\n            }\n            catch (err) {\n                return Promise.reject(err);\n            }\n        }\n    }\n    async handleUnregistrationRequest(params) {\n        const middleware = this.clientOptions.middleware?.handleUnregisterCapability;\n        if (middleware) {\n            return middleware(params, nextParams => this.doUnregisterCapability(nextParams));\n        }\n        else {\n            return this.doUnregisterCapability(params);\n        }\n    }\n    async doUnregisterCapability(params) {\n        for (const unregistration of params.unregisterations) {\n            if (this._ignoredRegistrations.has(unregistration.id)) {\n                continue;\n            }\n            const feature = this._dynamicFeatures.get(unregistration.method);\n            if (!feature) {\n                return Promise.reject(new Error(`No feature implementation for ${unregistration.method} found. Unregistration failed.`));\n            }\n            feature.unregister(unregistration.id);\n        }\n    }\n    async handleApplyWorkspaceEdit(params) {\n        const workspaceEdit = params.edit;\n        // Make sure we convert workspace edits one after the other. Otherwise\n        // we might execute a workspace edit received first after we received another\n        // one since the conversion might race.\n        const converted = await this.workspaceEditLock.lock(() => {\n            return this._p2c.asWorkspaceEdit(workspaceEdit);\n        });\n        // This is some sort of workaround since the version check should be done by VS Code in the Workspace.applyEdit.\n        // However doing it here adds some safety since the server can lag more behind then an extension.\n        const openTextDocuments = new Map();\n        vscode_1.workspace.textDocuments.forEach((document) => openTextDocuments.set(document.uri.toString(), document));\n        let versionMismatch = false;\n        if (workspaceEdit.documentChanges) {\n            for (const change of workspaceEdit.documentChanges) {\n                if (vscode_languageserver_protocol_1.TextDocumentEdit.is(change) && change.textDocument.version && change.textDocument.version >= 0) {\n                    const changeUri = this._p2c.asUri(change.textDocument.uri).toString();\n                    const textDocument = openTextDocuments.get(changeUri);\n                    if (textDocument && textDocument.version !== change.textDocument.version) {\n                        versionMismatch = true;\n                        break;\n                    }\n                }\n            }\n        }\n        if (versionMismatch) {\n            return Promise.resolve({ applied: false });\n        }\n        return Is.asPromise(vscode_1.workspace.applyEdit(converted).then((value) => { return { applied: value }; }));\n    }\n    handleFailedRequest(type, token, error, defaultValue, showNotification = true) {\n        // If we get a request cancel or a content modified don't log anything.\n        if (error instanceof vscode_languageserver_protocol_1.ResponseError) {\n            // The connection got disposed while we were waiting for a response.\n            // Simply return the default value. Is the best we can do.\n            if (error.code === vscode_languageserver_protocol_1.ErrorCodes.PendingResponseRejected || error.code === vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive) {\n                return defaultValue;\n            }\n            if (error.code === vscode_languageserver_protocol_1.LSPErrorCodes.RequestCancelled || error.code === vscode_languageserver_protocol_1.LSPErrorCodes.ServerCancelled) {\n                if (token !== undefined && token.isCancellationRequested) {\n                    return defaultValue;\n                }\n                else {\n                    if (error.data !== undefined) {\n                        throw new features_1.LSPCancellationError(error.data);\n                    }\n                    else {\n                        throw new vscode_1.CancellationError();\n                    }\n                }\n            }\n            else if (error.code === vscode_languageserver_protocol_1.LSPErrorCodes.ContentModified) {\n                if (BaseLanguageClient.RequestsToCancelOnContentModified.has(type.method) || BaseLanguageClient.CancellableResolveCalls.has(type.method)) {\n                    throw new vscode_1.CancellationError();\n                }\n                else {\n                    return defaultValue;\n                }\n            }\n        }\n        this.error(`Request ${type.method} failed.`, error, showNotification);\n        throw error;\n    }\n}\nexports.BaseLanguageClient = BaseLanguageClient;\nBaseLanguageClient.RequestsToCancelOnContentModified = new Set([\n    vscode_languageserver_protocol_1.SemanticTokensRequest.method,\n    vscode_languageserver_protocol_1.SemanticTokensRangeRequest.method,\n    vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.method\n]);\nBaseLanguageClient.CancellableResolveCalls = new Set([\n    vscode_languageserver_protocol_1.CompletionResolveRequest.method,\n    vscode_languageserver_protocol_1.CodeLensResolveRequest.method,\n    vscode_languageserver_protocol_1.CodeActionResolveRequest.method,\n    vscode_languageserver_protocol_1.InlayHintResolveRequest.method,\n    vscode_languageserver_protocol_1.DocumentLinkResolveRequest.method,\n    vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.method\n]);\nclass ConsoleLogger {\n    error(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.error(message);\n    }\n    warn(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.warn(message);\n    }\n    info(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.info(message);\n    }\n    log(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.log(message);\n    }\n}\nfunction createConnection(input, output, errorHandler, closeHandler, options) {\n    const logger = new ConsoleLogger();\n    const connection = (0, vscode_languageserver_protocol_1.createProtocolConnection)(input, output, logger, options);\n    connection.onError((data) => { errorHandler(data[0], data[1], data[2]); });\n    connection.onClose(closeHandler);\n    const result = {\n        listen: () => connection.listen(),\n        sendRequest: connection.sendRequest,\n        onRequest: connection.onRequest,\n        hasPendingResponse: connection.hasPendingResponse,\n        sendNotification: connection.sendNotification,\n        onNotification: connection.onNotification,\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        trace: (value, tracer, sendNotificationOrTraceOptions) => {\n            const defaultTraceOptions = {\n                sendNotification: false,\n                traceFormat: vscode_languageserver_protocol_1.TraceFormat.Text\n            };\n            if (sendNotificationOrTraceOptions === undefined) {\n                return connection.trace(value, tracer, defaultTraceOptions);\n            }\n            else if (Is.boolean(sendNotificationOrTraceOptions)) {\n                return connection.trace(value, tracer, sendNotificationOrTraceOptions);\n            }\n            else {\n                return connection.trace(value, tracer, sendNotificationOrTraceOptions);\n            }\n        },\n        initialize: (params) => {\n            // This needs to return and MUST not be await to avoid any async\n            // scheduling. Otherwise messages might overtake each other.\n            return connection.sendRequest(vscode_languageserver_protocol_1.InitializeRequest.type, params);\n        },\n        shutdown: () => {\n            // This needs to return and MUST not be await to avoid any async\n            // scheduling. Otherwise messages might overtake each other.\n            return connection.sendRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, undefined);\n        },\n        exit: () => {\n            // This needs to return and MUST not be await to avoid any async\n            // scheduling. Otherwise messages might overtake each other.\n            return connection.sendNotification(vscode_languageserver_protocol_1.ExitNotification.type);\n        },\n        end: () => connection.end(),\n        dispose: () => connection.dispose()\n    };\n    return result;\n}\n// Exporting proposed protocol.\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    function createAll(_client) {\n        let result = [\n            new inlineCompletion_1.InlineCompletionItemFeature(_client)\n        ];\n        return result;\n    }\n    ProposedFeatures.createAll = createAll;\n})(ProposedFeatures || (exports.ProposedFeatures = ProposedFeatures = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeActionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nclass CodeActionFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CodeActionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const cap = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'codeAction');\n        cap.dynamicRegistration = true;\n        cap.isPreferredSupport = true;\n        cap.disabledSupport = true;\n        cap.dataSupport = true;\n        // We can only resolve the edit property.\n        cap.resolveSupport = {\n            properties: ['edit']\n        };\n        cap.codeActionLiteralSupport = {\n            codeActionKind: {\n                valueSet: [\n                    vscode_languageserver_protocol_1.CodeActionKind.Empty,\n                    vscode_languageserver_protocol_1.CodeActionKind.QuickFix,\n                    vscode_languageserver_protocol_1.CodeActionKind.Refactor,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorExtract,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorInline,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorRewrite,\n                    vscode_languageserver_protocol_1.CodeActionKind.Source,\n                    vscode_languageserver_protocol_1.CodeActionKind.SourceOrganizeImports\n                ]\n            }\n        };\n        cap.honorsChangeAnnotations = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeActionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideCodeActions: (document, range, context, token) => {\n                const client = this._client;\n                const _provideCodeActions = async (document, range, context, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(range),\n                        context: client.code2ProtocolConverter.asCodeActionContextSync(context)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, params, token).then((values) => {\n                        if (token.isCancellationRequested || values === null || values === undefined) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asCodeActionResult(values, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideCodeActions\n                    ? middleware.provideCodeActions(document, range, context, token, _provideCodeActions)\n                    : _provideCodeActions(document, range, context, token);\n            },\n            resolveCodeAction: options.resolveProvider\n                ? (item, token) => {\n                    const client = this._client;\n                    const middleware = this._client.middleware;\n                    const resolveCodeAction = async (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, client.code2ProtocolConverter.asCodeActionSync(item), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return item;\n                            }\n                            return client.protocol2CodeConverter.asCodeAction(result, token);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, token, error, item);\n                        });\n                    };\n                    return middleware.resolveCodeAction\n                        ? middleware.resolveCodeAction(item, token, resolveCodeAction)\n                        : resolveCodeAction(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, (options.codeActionKinds\n                ? { providedCodeActionKinds: this._client.protocol2CodeConverter.asCodeActionKinds(options.codeActionKinds) }\n                : undefined)), provider];\n    }\n}\nexports.CodeActionFeature = CodeActionFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConverter = void 0;\nconst code = require(\"vscode\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst async = require(\"./utils/async\");\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\nconst protocolCodeAction_1 = require(\"./protocolCodeAction\");\nconst protocolDiagnostic_1 = require(\"./protocolDiagnostic\");\nconst protocolCallHierarchyItem_1 = require(\"./protocolCallHierarchyItem\");\nconst protocolTypeHierarchyItem_1 = require(\"./protocolTypeHierarchyItem\");\nconst protocolWorkspaceSymbol_1 = require(\"./protocolWorkspaceSymbol\");\nconst protocolInlayHint_1 = require(\"./protocolInlayHint\");\nvar InsertReplaceRange;\n(function (InsertReplaceRange) {\n    function is(value) {\n        const candidate = value;\n        return candidate && !!candidate.inserting && !!candidate.replacing;\n    }\n    InsertReplaceRange.is = is;\n})(InsertReplaceRange || (InsertReplaceRange = {}));\nfunction createConverter(uriConverter) {\n    const nullConverter = (value) => value.toString();\n    const _uriConverter = uriConverter || nullConverter;\n    function asUri(value) {\n        return _uriConverter(value);\n    }\n    function asTextDocumentIdentifier(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri)\n        };\n    }\n    function asTextDocumentItem(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri),\n            languageId: textDocument.languageId,\n            version: textDocument.version,\n            text: textDocument.getText()\n        };\n    }\n    function asVersionedTextDocumentIdentifier(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri),\n            version: textDocument.version\n        };\n    }\n    function asOpenTextDocumentParams(textDocument) {\n        return {\n            textDocument: asTextDocumentItem(textDocument)\n        };\n    }\n    function isTextDocumentChangeEvent(value) {\n        const candidate = value;\n        return !!candidate.document && !!candidate.contentChanges;\n    }\n    function isTextDocument(value) {\n        const candidate = value;\n        return !!candidate.uri && !!candidate.version;\n    }\n    function asChangeTextDocumentParams(arg0, arg1, arg2) {\n        if (isTextDocument(arg0)) {\n            const result = {\n                textDocument: {\n                    uri: _uriConverter(arg0.uri),\n                    version: arg0.version\n                },\n                contentChanges: [{ text: arg0.getText() }]\n            };\n            return result;\n        }\n        else if (isTextDocumentChangeEvent(arg0)) {\n            const uri = arg1;\n            const version = arg2;\n            const result = {\n                textDocument: {\n                    uri: _uriConverter(uri),\n                    version: version\n                },\n                contentChanges: arg0.contentChanges.map((change) => {\n                    const range = change.range;\n                    return {\n                        range: {\n                            start: { line: range.start.line, character: range.start.character },\n                            end: { line: range.end.line, character: range.end.character }\n                        },\n                        rangeLength: change.rangeLength,\n                        text: change.text\n                    };\n                })\n            };\n            return result;\n        }\n        else {\n            throw Error('Unsupported text document change parameter');\n        }\n    }\n    function asCloseTextDocumentParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asSaveTextDocumentParams(textDocument, includeContent = false) {\n        let result = {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n        if (includeContent) {\n            result.text = textDocument.getText();\n        }\n        return result;\n    }\n    function asTextDocumentSaveReason(reason) {\n        switch (reason) {\n            case code.TextDocumentSaveReason.Manual:\n                return proto.TextDocumentSaveReason.Manual;\n            case code.TextDocumentSaveReason.AfterDelay:\n                return proto.TextDocumentSaveReason.AfterDelay;\n            case code.TextDocumentSaveReason.FocusOut:\n                return proto.TextDocumentSaveReason.FocusOut;\n        }\n        return proto.TextDocumentSaveReason.Manual;\n    }\n    function asWillSaveTextDocumentParams(event) {\n        return {\n            textDocument: asTextDocumentIdentifier(event.document),\n            reason: asTextDocumentSaveReason(event.reason)\n        };\n    }\n    function asDidCreateFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asDidRenameFilesParams(event) {\n        return {\n            files: event.files.map((file) => ({\n                oldUri: _uriConverter(file.oldUri),\n                newUri: _uriConverter(file.newUri),\n            })),\n        };\n    }\n    function asDidDeleteFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asWillCreateFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asWillRenameFilesParams(event) {\n        return {\n            files: event.files.map((file) => ({\n                oldUri: _uriConverter(file.oldUri),\n                newUri: _uriConverter(file.newUri),\n            })),\n        };\n    }\n    function asWillDeleteFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asTextDocumentPositionParams(textDocument, position) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position)\n        };\n    }\n    function asCompletionTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case code.CompletionTriggerKind.TriggerCharacter:\n                return proto.CompletionTriggerKind.TriggerCharacter;\n            case code.CompletionTriggerKind.TriggerForIncompleteCompletions:\n                return proto.CompletionTriggerKind.TriggerForIncompleteCompletions;\n            default:\n                return proto.CompletionTriggerKind.Invoked;\n        }\n    }\n    function asCompletionParams(textDocument, position, context) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: {\n                triggerKind: asCompletionTriggerKind(context.triggerKind),\n                triggerCharacter: context.triggerCharacter\n            }\n        };\n    }\n    function asSignatureHelpTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case code.SignatureHelpTriggerKind.Invoke:\n                return proto.SignatureHelpTriggerKind.Invoked;\n            case code.SignatureHelpTriggerKind.TriggerCharacter:\n                return proto.SignatureHelpTriggerKind.TriggerCharacter;\n            case code.SignatureHelpTriggerKind.ContentChange:\n                return proto.SignatureHelpTriggerKind.ContentChange;\n        }\n    }\n    function asParameterInformation(value) {\n        // We leave the documentation out on purpose since it usually adds no\n        // value for the server.\n        return {\n            label: value.label\n        };\n    }\n    function asParameterInformations(values) {\n        return values.map(asParameterInformation);\n    }\n    function asSignatureInformation(value) {\n        // We leave the documentation out on purpose since it usually adds no\n        // value for the server.\n        return {\n            label: value.label,\n            parameters: asParameterInformations(value.parameters)\n        };\n    }\n    function asSignatureInformations(values) {\n        return values.map(asSignatureInformation);\n    }\n    function asSignatureHelp(value) {\n        if (value === undefined) {\n            return value;\n        }\n        return {\n            signatures: asSignatureInformations(value.signatures),\n            activeSignature: value.activeSignature,\n            activeParameter: value.activeParameter\n        };\n    }\n    function asSignatureHelpParams(textDocument, position, context) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: {\n                isRetrigger: context.isRetrigger,\n                triggerCharacter: context.triggerCharacter,\n                triggerKind: asSignatureHelpTriggerKind(context.triggerKind),\n                activeSignatureHelp: asSignatureHelp(context.activeSignatureHelp)\n            }\n        };\n    }\n    function asWorkerPosition(position) {\n        return { line: position.line, character: position.character };\n    }\n    function asPosition(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return { line: value.line > proto.uinteger.MAX_VALUE ? proto.uinteger.MAX_VALUE : value.line, character: value.character > proto.uinteger.MAX_VALUE ? proto.uinteger.MAX_VALUE : value.character };\n    }\n    function asPositions(values, token) {\n        return async.map(values, asPosition, token);\n    }\n    function asPositionsSync(values) {\n        return values.map(asPosition);\n    }\n    function asRange(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return { start: asPosition(value.start), end: asPosition(value.end) };\n    }\n    function asRanges(values) {\n        return values.map(asRange);\n    }\n    function asLocation(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return proto.Location.create(asUri(value.uri), asRange(value.range));\n    }\n    function asDiagnosticSeverity(value) {\n        switch (value) {\n            case code.DiagnosticSeverity.Error:\n                return proto.DiagnosticSeverity.Error;\n            case code.DiagnosticSeverity.Warning:\n                return proto.DiagnosticSeverity.Warning;\n            case code.DiagnosticSeverity.Information:\n                return proto.DiagnosticSeverity.Information;\n            case code.DiagnosticSeverity.Hint:\n                return proto.DiagnosticSeverity.Hint;\n        }\n    }\n    function asDiagnosticTags(tags) {\n        if (!tags) {\n            return undefined;\n        }\n        let result = [];\n        for (let tag of tags) {\n            let converted = asDiagnosticTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length > 0 ? result : undefined;\n    }\n    function asDiagnosticTag(tag) {\n        switch (tag) {\n            case code.DiagnosticTag.Unnecessary:\n                return proto.DiagnosticTag.Unnecessary;\n            case code.DiagnosticTag.Deprecated:\n                return proto.DiagnosticTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asRelatedInformation(item) {\n        return {\n            message: item.message,\n            location: asLocation(item.location)\n        };\n    }\n    function asRelatedInformations(items) {\n        return items.map(asRelatedInformation);\n    }\n    function asDiagnosticCode(value) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        if (Is.number(value) || Is.string(value)) {\n            return value;\n        }\n        return { value: value.value, target: asUri(value.target) };\n    }\n    function asDiagnostic(item) {\n        const result = proto.Diagnostic.create(asRange(item.range), item.message);\n        const protocolDiagnostic = item instanceof protocolDiagnostic_1.ProtocolDiagnostic ? item : undefined;\n        if (protocolDiagnostic !== undefined && protocolDiagnostic.data !== undefined) {\n            result.data = protocolDiagnostic.data;\n        }\n        const code = asDiagnosticCode(item.code);\n        if (protocolDiagnostic_1.DiagnosticCode.is(code)) {\n            if (protocolDiagnostic !== undefined && protocolDiagnostic.hasDiagnosticCode) {\n                result.code = code;\n            }\n            else {\n                result.code = code.value;\n                result.codeDescription = { href: code.target };\n            }\n        }\n        else {\n            result.code = code;\n        }\n        if (Is.number(item.severity)) {\n            result.severity = asDiagnosticSeverity(item.severity);\n        }\n        if (Array.isArray(item.tags)) {\n            result.tags = asDiagnosticTags(item.tags);\n        }\n        if (item.relatedInformation) {\n            result.relatedInformation = asRelatedInformations(item.relatedInformation);\n        }\n        if (item.source) {\n            result.source = item.source;\n        }\n        return result;\n    }\n    function asDiagnostics(items, token) {\n        if (items === undefined || items === null) {\n            return items;\n        }\n        return async.map(items, asDiagnostic, token);\n    }\n    function asDiagnosticsSync(items) {\n        if (items === undefined || items === null) {\n            return items;\n        }\n        return items.map(asDiagnostic);\n    }\n    function asDocumentation(format, documentation) {\n        switch (format) {\n            case '$string':\n                return documentation;\n            case proto.MarkupKind.PlainText:\n                return { kind: format, value: documentation };\n            case proto.MarkupKind.Markdown:\n                return { kind: format, value: documentation.value };\n            default:\n                return `Unsupported Markup content received. Kind is: ${format}`;\n        }\n    }\n    function asCompletionItemTag(tag) {\n        switch (tag) {\n            case code.CompletionItemTag.Deprecated:\n                return proto.CompletionItemTag.Deprecated;\n        }\n        return undefined;\n    }\n    function asCompletionItemTags(tags) {\n        if (tags === undefined) {\n            return tags;\n        }\n        const result = [];\n        for (let tag of tags) {\n            const converted = asCompletionItemTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result;\n    }\n    function asCompletionItemKind(value, original) {\n        if (original !== undefined) {\n            return original;\n        }\n        return value + 1;\n    }\n    function asCompletionItem(item, labelDetailsSupport = false) {\n        let label;\n        let labelDetails;\n        if (Is.string(item.label)) {\n            label = item.label;\n        }\n        else {\n            label = item.label.label;\n            if (labelDetailsSupport && (item.label.detail !== undefined || item.label.description !== undefined)) {\n                labelDetails = { detail: item.label.detail, description: item.label.description };\n            }\n        }\n        let result = { label: label };\n        if (labelDetails !== undefined) {\n            result.labelDetails = labelDetails;\n        }\n        let protocolItem = item instanceof protocolCompletionItem_1.default ? item : undefined;\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        // We only send items back we created. So this can't be something else than\n        // a string right now.\n        if (item.documentation) {\n            if (!protocolItem || protocolItem.documentationFormat === '$string') {\n                result.documentation = item.documentation;\n            }\n            else {\n                result.documentation = asDocumentation(protocolItem.documentationFormat, item.documentation);\n            }\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        fillPrimaryInsertText(result, item);\n        if (Is.number(item.kind)) {\n            result.kind = asCompletionItemKind(item.kind, protocolItem && protocolItem.originalItemKind);\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\n        }\n        if (item.commitCharacters) {\n            result.commitCharacters = item.commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        const tags = asCompletionItemTags(item.tags);\n        if (protocolItem) {\n            if (protocolItem.data !== undefined) {\n                result.data = protocolItem.data;\n            }\n            if (protocolItem.deprecated === true || protocolItem.deprecated === false) {\n                if (protocolItem.deprecated === true && tags !== undefined && tags.length > 0) {\n                    const index = tags.indexOf(code.CompletionItemTag.Deprecated);\n                    if (index !== -1) {\n                        tags.splice(index, 1);\n                    }\n                }\n                result.deprecated = protocolItem.deprecated;\n            }\n            if (protocolItem.insertTextMode !== undefined) {\n                result.insertTextMode = protocolItem.insertTextMode;\n            }\n        }\n        if (tags !== undefined && tags.length > 0) {\n            result.tags = tags;\n        }\n        if (result.insertTextMode === undefined && item.keepWhitespace === true) {\n            result.insertTextMode = proto.InsertTextMode.adjustIndentation;\n        }\n        return result;\n    }\n    function fillPrimaryInsertText(target, source) {\n        let format = proto.InsertTextFormat.PlainText;\n        let text = undefined;\n        let range = undefined;\n        if (source.textEdit) {\n            text = source.textEdit.newText;\n            range = source.textEdit.range;\n        }\n        else if (source.insertText instanceof code.SnippetString) {\n            format = proto.InsertTextFormat.Snippet;\n            text = source.insertText.value;\n        }\n        else {\n            text = source.insertText;\n        }\n        if (source.range) {\n            range = source.range;\n        }\n        target.insertTextFormat = format;\n        if (source.fromEdit && text !== undefined && range !== undefined) {\n            target.textEdit = asCompletionTextEdit(text, range);\n        }\n        else {\n            target.insertText = text;\n        }\n    }\n    function asCompletionTextEdit(newText, range) {\n        if (InsertReplaceRange.is(range)) {\n            return proto.InsertReplaceEdit.create(newText, asRange(range.inserting), asRange(range.replacing));\n        }\n        else {\n            return { newText, range: asRange(range) };\n        }\n    }\n    function asTextEdit(edit) {\n        return { range: asRange(edit.range), newText: edit.newText };\n    }\n    function asTextEdits(edits) {\n        if (edits === undefined || edits === null) {\n            return edits;\n        }\n        return edits.map(asTextEdit);\n    }\n    function asSymbolKind(item) {\n        if (item <= code.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return (item + 1);\n        }\n        return proto.SymbolKind.Property;\n    }\n    function asSymbolTag(item) {\n        return item;\n    }\n    function asSymbolTags(items) {\n        return items.map(asSymbolTag);\n    }\n    function asReferenceParams(textDocument, position, options) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: { includeDeclaration: options.includeDeclaration }\n        };\n    }\n    async function asCodeAction(item, token) {\n        let result = proto.CodeAction.create(item.title);\n        if (item instanceof protocolCodeAction_1.default && item.data !== undefined) {\n            result.data = item.data;\n        }\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics !== undefined) {\n            result.diagnostics = await asDiagnostics(item.diagnostics, token);\n        }\n        if (item.edit !== undefined) {\n            throw new Error(`VS Code code actions can only be converted to a protocol code action without an edit.`);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        if (item.disabled !== undefined) {\n            result.disabled = { reason: item.disabled.reason };\n        }\n        return result;\n    }\n    function asCodeActionSync(item) {\n        let result = proto.CodeAction.create(item.title);\n        if (item instanceof protocolCodeAction_1.default && item.data !== undefined) {\n            result.data = item.data;\n        }\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics !== undefined) {\n            result.diagnostics = asDiagnosticsSync(item.diagnostics);\n        }\n        if (item.edit !== undefined) {\n            throw new Error(`VS Code code actions can only be converted to a protocol code action without an edit.`);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        if (item.disabled !== undefined) {\n            result.disabled = { reason: item.disabled.reason };\n        }\n        return result;\n    }\n    async function asCodeActionContext(context, token) {\n        if (context === undefined || context === null) {\n            return context;\n        }\n        let only;\n        if (context.only && Is.string(context.only.value)) {\n            only = [context.only.value];\n        }\n        return proto.CodeActionContext.create(await asDiagnostics(context.diagnostics, token), only, asCodeActionTriggerKind(context.triggerKind));\n    }\n    function asCodeActionContextSync(context) {\n        if (context === undefined || context === null) {\n            return context;\n        }\n        let only;\n        if (context.only && Is.string(context.only.value)) {\n            only = [context.only.value];\n        }\n        return proto.CodeActionContext.create(asDiagnosticsSync(context.diagnostics), only, asCodeActionTriggerKind(context.triggerKind));\n    }\n    function asCodeActionTriggerKind(kind) {\n        switch (kind) {\n            case code.CodeActionTriggerKind.Invoke:\n                return proto.CodeActionTriggerKind.Invoked;\n            case code.CodeActionTriggerKind.Automatic:\n                return proto.CodeActionTriggerKind.Automatic;\n            default:\n                return undefined;\n        }\n    }\n    function asCodeActionKind(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        return item.value;\n    }\n    function asInlineValueContext(context) {\n        if (context === undefined || context === null) {\n            return context;\n        }\n        return proto.InlineValueContext.create(context.frameId, asRange(context.stoppedLocation));\n    }\n    function asInlineCompletionParams(document, position, context) {\n        return { context: proto.InlineCompletionContext.create(context.triggerKind, context.selectedCompletionInfo),\n            textDocument: asTextDocumentIdentifier(document), position: asPosition(position) };\n    }\n    function asCommand(item) {\n        let result = proto.Command.create(item.title, item.command);\n        if (item.arguments) {\n            result.arguments = item.arguments;\n        }\n        return result;\n    }\n    function asCodeLens(item) {\n        let result = proto.CodeLens.create(asRange(item.range));\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item instanceof protocolCodeLens_1.default) {\n            if (item.data) {\n                result.data = item.data;\n            }\n        }\n        return result;\n    }\n    function asFormattingOptions(options, fileOptions) {\n        const result = { tabSize: options.tabSize, insertSpaces: options.insertSpaces };\n        if (fileOptions.trimTrailingWhitespace) {\n            result.trimTrailingWhitespace = true;\n        }\n        if (fileOptions.trimFinalNewlines) {\n            result.trimFinalNewlines = true;\n        }\n        if (fileOptions.insertFinalNewline) {\n            result.insertFinalNewline = true;\n        }\n        return result;\n    }\n    function asDocumentSymbolParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asCodeLensParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asDocumentLink(item) {\n        let result = proto.DocumentLink.create(asRange(item.range));\n        if (item.target) {\n            result.target = asUri(item.target);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = item.tooltip;\n        }\n        let protocolItem = item instanceof protocolDocumentLink_1.default ? item : undefined;\n        if (protocolItem && protocolItem.data) {\n            result.data = protocolItem.data;\n        }\n        return result;\n    }\n    function asDocumentLinkParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asCallHierarchyItem(value) {\n        const result = {\n            name: value.name,\n            kind: asSymbolKind(value.kind),\n            uri: asUri(value.uri),\n            range: asRange(value.range),\n            selectionRange: asRange(value.selectionRange)\n        };\n        if (value.detail !== undefined && value.detail.length > 0) {\n            result.detail = value.detail;\n        }\n        if (value.tags !== undefined) {\n            result.tags = asSymbolTags(value.tags);\n        }\n        if (value instanceof protocolCallHierarchyItem_1.default && value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    function asTypeHierarchyItem(value) {\n        const result = {\n            name: value.name,\n            kind: asSymbolKind(value.kind),\n            uri: asUri(value.uri),\n            range: asRange(value.range),\n            selectionRange: asRange(value.selectionRange),\n        };\n        if (value.detail !== undefined && value.detail.length > 0) {\n            result.detail = value.detail;\n        }\n        if (value.tags !== undefined) {\n            result.tags = asSymbolTags(value.tags);\n        }\n        if (value instanceof protocolTypeHierarchyItem_1.default && value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    function asWorkspaceSymbol(item) {\n        const result = item instanceof protocolWorkspaceSymbol_1.default\n            ? { name: item.name, kind: asSymbolKind(item.kind), location: item.hasRange ? asLocation(item.location) : { uri: _uriConverter(item.location.uri) }, data: item.data }\n            : { name: item.name, kind: asSymbolKind(item.kind), location: asLocation(item.location) };\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        if (item.containerName !== '') {\n            result.containerName = item.containerName;\n        }\n        return result;\n    }\n    function asInlayHint(item) {\n        const label = typeof item.label === 'string'\n            ? item.label\n            : item.label.map(asInlayHintLabelPart);\n        const result = proto.InlayHint.create(asPosition(item.position), label);\n        if (item.kind !== undefined) {\n            result.kind = item.kind;\n        }\n        if (item.textEdits !== undefined) {\n            result.textEdits = asTextEdits(item.textEdits);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = asTooltip(item.tooltip);\n        }\n        if (item.paddingLeft !== undefined) {\n            result.paddingLeft = item.paddingLeft;\n        }\n        if (item.paddingRight !== undefined) {\n            result.paddingRight = item.paddingRight;\n        }\n        if (item instanceof protocolInlayHint_1.default && item.data !== undefined) {\n            result.data = item.data;\n        }\n        return result;\n    }\n    function asInlayHintLabelPart(item) {\n        const result = proto.InlayHintLabelPart.create(item.value);\n        if (item.location !== undefined) {\n            result.location = asLocation(item.location);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = asTooltip(item.tooltip);\n        }\n        return result;\n    }\n    function asTooltip(value) {\n        if (typeof value === 'string') {\n            return value;\n        }\n        const result = {\n            kind: proto.MarkupKind.Markdown,\n            value: value.value\n        };\n        return result;\n    }\n    return {\n        asUri,\n        asTextDocumentIdentifier,\n        asTextDocumentItem,\n        asVersionedTextDocumentIdentifier,\n        asOpenTextDocumentParams,\n        asChangeTextDocumentParams,\n        asCloseTextDocumentParams,\n        asSaveTextDocumentParams,\n        asWillSaveTextDocumentParams,\n        asDidCreateFilesParams,\n        asDidRenameFilesParams,\n        asDidDeleteFilesParams,\n        asWillCreateFilesParams,\n        asWillRenameFilesParams,\n        asWillDeleteFilesParams,\n        asTextDocumentPositionParams,\n        asCompletionParams,\n        asSignatureHelpParams,\n        asWorkerPosition,\n        asRange,\n        asRanges,\n        asPosition,\n        asPositions,\n        asPositionsSync,\n        asLocation,\n        asDiagnosticSeverity,\n        asDiagnosticTag,\n        asDiagnostic,\n        asDiagnostics,\n        asDiagnosticsSync,\n        asCompletionItem,\n        asTextEdit,\n        asSymbolKind,\n        asSymbolTag,\n        asSymbolTags,\n        asReferenceParams,\n        asCodeAction,\n        asCodeActionSync,\n        asCodeActionContext,\n        asCodeActionContextSync,\n        asInlineValueContext,\n        asCommand,\n        asCodeLens,\n        asFormattingOptions,\n        asDocumentSymbolParams,\n        asCodeLensParams,\n        asDocumentLink,\n        asDocumentLinkParams,\n        asCallHierarchyItem,\n        asTypeHierarchyItem,\n        asInlayHint,\n        asWorkspaceSymbol,\n        asInlineCompletionParams\n    };\n}\nexports.createConverter = createConverter;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeLensFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nclass CodeLensFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CodeLensRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'codeLens').dynamicRegistration = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'codeLens').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.CodeLensRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeCodeLensEmitter.fire();\n            }\n        });\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeLensProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeCodeLenses: eventEmitter.event,\n            provideCodeLenses: (document, token) => {\n                const client = this._client;\n                const provideCodeLenses = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, client.code2ProtocolConverter.asCodeLensParams(document), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asCodeLenses(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideCodeLenses\n                    ? middleware.provideCodeLenses(document, token, provideCodeLenses)\n                    : provideCodeLenses(document, token);\n            },\n            resolveCodeLens: (options.resolveProvider)\n                ? (codeLens, token) => {\n                    const client = this._client;\n                    const resolveCodeLens = (codeLens, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, client.code2ProtocolConverter.asCodeLens(codeLens), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return codeLens;\n                            }\n                            return client.protocol2CodeConverter.asCodeLens(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, token, error, codeLens);\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.resolveCodeLens\n                        ? middleware.resolveCodeLens(codeLens, token, resolveCodeLens)\n                        : resolveCodeLens(codeLens, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), { provider, onDidChangeCodeLensEmitter: eventEmitter }];\n    }\n}\nexports.CodeLensFeature = CodeLensFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorProviderFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass ColorProviderFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentColorRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'colorProvider').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.colorProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideColorPresentations: (color, context, token) => {\n                const client = this._client;\n                const provideColorPresentations = (color, context, token) => {\n                    const requestParams = {\n                        color,\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(context.document),\n                        range: client.code2ProtocolConverter.asRange(context.range)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, requestParams, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return this._client.protocol2CodeConverter.asColorPresentations(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideColorPresentations\n                    ? middleware.provideColorPresentations(color, context, token, provideColorPresentations)\n                    : provideColorPresentations(color, context, token);\n            },\n            provideDocumentColors: (document, token) => {\n                const client = this._client;\n                const provideDocumentColors = (document, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, requestParams, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return this._client.protocol2CodeConverter.asColorInformations(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentColors\n                    ? middleware.provideDocumentColors(document, token, provideDocumentColors)\n                    : provideDocumentColors(document, token);\n            }\n        };\n        return [vscode_1.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.ColorProviderFeature = ColorProviderFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CompletionItemFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nconst SupportedCompletionItemKinds = [\n    vscode_languageserver_protocol_1.CompletionItemKind.Text,\n    vscode_languageserver_protocol_1.CompletionItemKind.Method,\n    vscode_languageserver_protocol_1.CompletionItemKind.Function,\n    vscode_languageserver_protocol_1.CompletionItemKind.Constructor,\n    vscode_languageserver_protocol_1.CompletionItemKind.Field,\n    vscode_languageserver_protocol_1.CompletionItemKind.Variable,\n    vscode_languageserver_protocol_1.CompletionItemKind.Class,\n    vscode_languageserver_protocol_1.CompletionItemKind.Interface,\n    vscode_languageserver_protocol_1.CompletionItemKind.Module,\n    vscode_languageserver_protocol_1.CompletionItemKind.Property,\n    vscode_languageserver_protocol_1.CompletionItemKind.Unit,\n    vscode_languageserver_protocol_1.CompletionItemKind.Value,\n    vscode_languageserver_protocol_1.CompletionItemKind.Enum,\n    vscode_languageserver_protocol_1.CompletionItemKind.Keyword,\n    vscode_languageserver_protocol_1.CompletionItemKind.Snippet,\n    vscode_languageserver_protocol_1.CompletionItemKind.Color,\n    vscode_languageserver_protocol_1.CompletionItemKind.File,\n    vscode_languageserver_protocol_1.CompletionItemKind.Reference,\n    vscode_languageserver_protocol_1.CompletionItemKind.Folder,\n    vscode_languageserver_protocol_1.CompletionItemKind.EnumMember,\n    vscode_languageserver_protocol_1.CompletionItemKind.Constant,\n    vscode_languageserver_protocol_1.CompletionItemKind.Struct,\n    vscode_languageserver_protocol_1.CompletionItemKind.Event,\n    vscode_languageserver_protocol_1.CompletionItemKind.Operator,\n    vscode_languageserver_protocol_1.CompletionItemKind.TypeParameter\n];\nclass CompletionItemFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CompletionRequest.type);\n        this.labelDetailsSupport = new Map();\n    }\n    fillClientCapabilities(capabilities) {\n        let completion = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'completion');\n        completion.dynamicRegistration = true;\n        completion.contextSupport = true;\n        completion.completionItem = {\n            snippetSupport: true,\n            commitCharactersSupport: true,\n            documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText],\n            deprecatedSupport: true,\n            preselectSupport: true,\n            tagSupport: { valueSet: [vscode_languageserver_protocol_1.CompletionItemTag.Deprecated] },\n            insertReplaceSupport: true,\n            resolveSupport: {\n                properties: ['documentation', 'detail', 'additionalTextEdits']\n            },\n            insertTextModeSupport: { valueSet: [vscode_languageserver_protocol_1.InsertTextMode.asIs, vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation] },\n            labelDetailsSupport: true\n        };\n        completion.insertTextMode = vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation;\n        completion.completionItemKind = { valueSet: SupportedCompletionItemKinds };\n        completion.completionList = {\n            itemDefaults: [\n                'commitCharacters', 'editRange', 'insertTextFormat', 'insertTextMode', 'data'\n            ]\n        };\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.completionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options, id) {\n        this.labelDetailsSupport.set(id, !!options.completionItem?.labelDetailsSupport);\n        const triggerCharacters = options.triggerCharacters ?? [];\n        const defaultCommitCharacters = options.allCommitCharacters;\n        const selector = options.documentSelector;\n        const provider = {\n            provideCompletionItems: (document, position, token, context) => {\n                const client = this._client;\n                const middleware = this._client.middleware;\n                const provideCompletionItems = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.CompletionRequest.type, client.code2ProtocolConverter.asCompletionParams(document, position, context), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asCompletionResult(result, defaultCommitCharacters, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionRequest.type, token, error, null);\n                    });\n                };\n                return middleware.provideCompletionItem\n                    ? middleware.provideCompletionItem(document, position, context, token, provideCompletionItems)\n                    : provideCompletionItems(document, position, context, token);\n            },\n            resolveCompletionItem: options.resolveProvider\n                ? (item, token) => {\n                    const client = this._client;\n                    const middleware = this._client.middleware;\n                    const resolveCompletionItem = (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, client.code2ProtocolConverter.asCompletionItem(item, !!this.labelDetailsSupport.get(id)), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asCompletionItem(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, token, error, item);\n                        });\n                    };\n                    return middleware.resolveCompletionItem\n                        ? middleware.resolveCompletionItem(item, token, resolveCompletionItem)\n                        : resolveCompletionItem(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, ...triggerCharacters), provider];\n    }\n}\nexports.CompletionItemFeature = CompletionItemFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SyncConfigurationFeature = exports.toJSONObject = exports.ConfigurationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\n/**\n * Configuration pull model. From server to client.\n */\nclass ConfigurationFeature {\n    constructor(client) {\n        this._client = client;\n    }\n    getState() {\n        return { kind: 'static' };\n    }\n    fillClientCapabilities(capabilities) {\n        capabilities.workspace = capabilities.workspace || {};\n        capabilities.workspace.configuration = true;\n    }\n    initialize() {\n        let client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, (params, token) => {\n            let configuration = (params) => {\n                let result = [];\n                for (let item of params.items) {\n                    let resource = item.scopeUri !== void 0 && item.scopeUri !== null ? this._client.protocol2CodeConverter.asUri(item.scopeUri) : undefined;\n                    result.push(this.getConfiguration(resource, item.section !== null ? item.section : undefined));\n                }\n                return result;\n            };\n            let middleware = client.middleware.workspace;\n            return middleware && middleware.configuration\n                ? middleware.configuration(params, token, configuration)\n                : configuration(params, token);\n        });\n    }\n    getConfiguration(resource, section) {\n        let result = null;\n        if (section) {\n            let index = section.lastIndexOf('.');\n            if (index === -1) {\n                result = toJSONObject(vscode_1.workspace.getConfiguration(undefined, resource).get(section));\n            }\n            else {\n                let config = vscode_1.workspace.getConfiguration(section.substr(0, index), resource);\n                if (config) {\n                    result = toJSONObject(config.get(section.substr(index + 1)));\n                }\n            }\n        }\n        else {\n            let config = vscode_1.workspace.getConfiguration(undefined, resource);\n            result = {};\n            for (let key of Object.keys(config)) {\n                if (config.has(key)) {\n                    result[key] = toJSONObject(config.get(key));\n                }\n            }\n        }\n        if (result === undefined) {\n            result = null;\n        }\n        return result;\n    }\n    clear() {\n    }\n}\nexports.ConfigurationFeature = ConfigurationFeature;\nfunction toJSONObject(obj) {\n    if (obj) {\n        if (Array.isArray(obj)) {\n            return obj.map(toJSONObject);\n        }\n        else if (typeof obj === 'object') {\n            const res = Object.create(null);\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    res[key] = toJSONObject(obj[key]);\n                }\n            }\n            return res;\n        }\n    }\n    return obj;\n}\nexports.toJSONObject = toJSONObject;\nclass SyncConfigurationFeature {\n    constructor(_client) {\n        this._client = _client;\n        this.isCleared = false;\n        this._listeners = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._listeners.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'didChangeConfiguration').dynamicRegistration = true;\n    }\n    initialize() {\n        this.isCleared = false;\n        let section = this._client.clientOptions.synchronize?.configurationSection;\n        if (section !== undefined) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: {\n                    section: section\n                }\n            });\n        }\n    }\n    register(data) {\n        let disposable = vscode_1.workspace.onDidChangeConfiguration((event) => {\n            this.onDidChangeConfiguration(data.registerOptions.section, event);\n        });\n        this._listeners.set(data.id, disposable);\n        if (data.registerOptions.section !== undefined) {\n            this.onDidChangeConfiguration(data.registerOptions.section, undefined);\n        }\n    }\n    unregister(id) {\n        let disposable = this._listeners.get(id);\n        if (disposable) {\n            this._listeners.delete(id);\n            disposable.dispose();\n        }\n    }\n    clear() {\n        for (const disposable of this._listeners.values()) {\n            disposable.dispose();\n        }\n        this._listeners.clear();\n        this.isCleared = true;\n    }\n    onDidChangeConfiguration(configurationSection, event) {\n        if (this.isCleared) {\n            return;\n        }\n        let sections;\n        if (Is.string(configurationSection)) {\n            sections = [configurationSection];\n        }\n        else {\n            sections = configurationSection;\n        }\n        if (sections !== undefined && event !== undefined) {\n            let affected = sections.some((section) => event.affectsConfiguration(section));\n            if (!affected) {\n                return;\n            }\n        }\n        const didChangeConfiguration = async (sections) => {\n            if (sections === undefined) {\n                return this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: null });\n            }\n            else {\n                return this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: this.extractSettingsInformation(sections) });\n            }\n        };\n        let middleware = this._client.middleware.workspace?.didChangeConfiguration;\n        (middleware ? middleware(sections, didChangeConfiguration) : didChangeConfiguration(sections)).catch((error) => {\n            this._client.error(`Sending notification ${vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type.method} failed`, error);\n        });\n    }\n    extractSettingsInformation(keys) {\n        function ensurePath(config, path) {\n            let current = config;\n            for (let i = 0; i < path.length - 1; i++) {\n                let obj = current[path[i]];\n                if (!obj) {\n                    obj = Object.create(null);\n                    current[path[i]] = obj;\n                }\n                current = obj;\n            }\n            return current;\n        }\n        let resource = this._client.clientOptions.workspaceFolder\n            ? this._client.clientOptions.workspaceFolder.uri\n            : undefined;\n        let result = Object.create(null);\n        for (let i = 0; i < keys.length; i++) {\n            let key = keys[i];\n            let index = key.indexOf('.');\n            let config = null;\n            if (index >= 0) {\n                config = vscode_1.workspace.getConfiguration(key.substr(0, index), resource).get(key.substr(index + 1));\n            }\n            else {\n                config = vscode_1.workspace.getConfiguration(undefined, resource).get(key);\n            }\n            if (config) {\n                let path = keys[i].split('.');\n                ensurePath(result, path)[path[path.length - 1]] = toJSONObject(config);\n            }\n        }\n        return result;\n    }\n}\nexports.SyncConfigurationFeature = SyncConfigurationFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass DeclarationFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DeclarationRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const declarationSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'declaration');\n        declarationSupport.dynamicRegistration = true;\n        declarationSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.declarationProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDeclaration: (document, position, token) => {\n                const client = this._client;\n                const provideDeclaration = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDeclarationResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDeclaration\n                    ? middleware.provideDeclaration(document, position, token, provideDeclaration)\n                    : provideDeclaration(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.DeclarationFeature = DeclarationFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefinitionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DefinitionFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DefinitionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let definitionSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'definition');\n        definitionSupport.dynamicRegistration = true;\n        definitionSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.definitionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDefinition: (document, position, token) => {\n                const client = this._client;\n                const provideDefinition = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDefinitionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDefinition\n                    ? middleware.provideDefinition(document, position, token, provideDefinition)\n                    : provideDefinition(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.DefinitionFeature = DefinitionFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticFeature = exports.DiagnosticPullMode = exports.vsdiag = void 0;\nconst minimatch = require(\"minimatch\");\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst uuid_1 = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nvar vsdiag;\n(function (vsdiag) {\n    let DocumentDiagnosticReportKind;\n    (function (DocumentDiagnosticReportKind) {\n        DocumentDiagnosticReportKind[\"full\"] = \"full\";\n        DocumentDiagnosticReportKind[\"unChanged\"] = \"unChanged\";\n    })(DocumentDiagnosticReportKind = vsdiag.DocumentDiagnosticReportKind || (vsdiag.DocumentDiagnosticReportKind = {}));\n})(vsdiag || (exports.vsdiag = vsdiag = {}));\nvar DiagnosticPullMode;\n(function (DiagnosticPullMode) {\n    DiagnosticPullMode[\"onType\"] = \"onType\";\n    DiagnosticPullMode[\"onSave\"] = \"onSave\";\n})(DiagnosticPullMode || (exports.DiagnosticPullMode = DiagnosticPullMode = {}));\nvar RequestStateKind;\n(function (RequestStateKind) {\n    RequestStateKind[\"active\"] = \"open\";\n    RequestStateKind[\"reschedule\"] = \"reschedule\";\n    RequestStateKind[\"outDated\"] = \"drop\";\n})(RequestStateKind || (RequestStateKind = {}));\n/**\n * Manages the open tabs. We don't directly use the tab API since for\n * diagnostics we need to de-dupe tabs that show the same resources since\n * we pull on the model not the UI.\n */\nclass Tabs {\n    constructor() {\n        this.open = new Set();\n        this._onOpen = new vscode_1.EventEmitter();\n        this._onClose = new vscode_1.EventEmitter();\n        Tabs.fillTabResources(this.open);\n        const openTabsHandler = (event) => {\n            if (event.closed.length === 0 && event.opened.length === 0) {\n                return;\n            }\n            const oldTabs = this.open;\n            const currentTabs = new Set();\n            Tabs.fillTabResources(currentTabs);\n            const closed = new Set();\n            const opened = new Set(currentTabs);\n            for (const tab of oldTabs.values()) {\n                if (currentTabs.has(tab)) {\n                    opened.delete(tab);\n                }\n                else {\n                    closed.add(tab);\n                }\n            }\n            this.open = currentTabs;\n            if (closed.size > 0) {\n                const toFire = new Set();\n                for (const item of closed) {\n                    toFire.add(vscode_1.Uri.parse(item));\n                }\n                this._onClose.fire(toFire);\n            }\n            if (opened.size > 0) {\n                const toFire = new Set();\n                for (const item of opened) {\n                    toFire.add(vscode_1.Uri.parse(item));\n                }\n                this._onOpen.fire(toFire);\n            }\n        };\n        if (vscode_1.window.tabGroups.onDidChangeTabs !== undefined) {\n            this.disposable = vscode_1.window.tabGroups.onDidChangeTabs(openTabsHandler);\n        }\n        else {\n            this.disposable = { dispose: () => { } };\n        }\n    }\n    get onClose() {\n        return this._onClose.event;\n    }\n    get onOpen() {\n        return this._onOpen.event;\n    }\n    dispose() {\n        this.disposable.dispose();\n    }\n    isActive(document) {\n        return document instanceof vscode_1.Uri\n            ? vscode_1.window.activeTextEditor?.document.uri === document\n            : vscode_1.window.activeTextEditor?.document === document;\n    }\n    isVisible(document) {\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        return this.open.has(uri.toString());\n    }\n    getTabResources() {\n        const result = new Set();\n        Tabs.fillTabResources(new Set(), result);\n        return result;\n    }\n    static fillTabResources(strings, uris) {\n        const seen = strings ?? new Set();\n        for (const group of vscode_1.window.tabGroups.all) {\n            for (const tab of group.tabs) {\n                const input = tab.input;\n                let uri;\n                if (input instanceof vscode_1.TabInputText) {\n                    uri = input.uri;\n                }\n                else if (input instanceof vscode_1.TabInputTextDiff) {\n                    uri = input.modified;\n                }\n                else if (input instanceof vscode_1.TabInputCustom) {\n                    uri = input.uri;\n                }\n                if (uri !== undefined && !seen.has(uri.toString())) {\n                    seen.add(uri.toString());\n                    uris !== undefined && uris.add(uri);\n                }\n            }\n        }\n    }\n}\nvar PullState;\n(function (PullState) {\n    PullState[PullState[\"document\"] = 1] = \"document\";\n    PullState[PullState[\"workspace\"] = 2] = \"workspace\";\n})(PullState || (PullState = {}));\nvar DocumentOrUri;\n(function (DocumentOrUri) {\n    function asKey(document) {\n        return document instanceof vscode_1.Uri ? document.toString() : document.uri.toString();\n    }\n    DocumentOrUri.asKey = asKey;\n})(DocumentOrUri || (DocumentOrUri = {}));\nclass DocumentPullStateTracker {\n    constructor() {\n        this.documentPullStates = new Map();\n        this.workspacePullStates = new Map();\n    }\n    track(kind, document, arg1) {\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        const [key, uri, version] = document instanceof vscode_1.Uri\n            ? [document.toString(), document, arg1]\n            : [document.uri.toString(), document.uri, document.version];\n        let state = states.get(key);\n        if (state === undefined) {\n            state = { document: uri, pulledVersion: version, resultId: undefined };\n            states.set(key, state);\n        }\n        return state;\n    }\n    update(kind, document, arg1, arg2) {\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        const [key, uri, version, resultId] = document instanceof vscode_1.Uri\n            ? [document.toString(), document, arg1, arg2]\n            : [document.uri.toString(), document.uri, document.version, arg1];\n        let state = states.get(key);\n        if (state === undefined) {\n            state = { document: uri, pulledVersion: version, resultId };\n            states.set(key, state);\n        }\n        else {\n            state.pulledVersion = version;\n            state.resultId = resultId;\n        }\n    }\n    unTrack(kind, document) {\n        const key = DocumentOrUri.asKey(document);\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        states.delete(key);\n    }\n    tracks(kind, document) {\n        const key = DocumentOrUri.asKey(document);\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        return states.has(key);\n    }\n    getResultId(kind, document) {\n        const key = DocumentOrUri.asKey(document);\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        return states.get(key)?.resultId;\n    }\n    getAllResultIds() {\n        const result = [];\n        for (let [uri, value] of this.workspacePullStates) {\n            if (this.documentPullStates.has(uri)) {\n                value = this.documentPullStates.get(uri);\n            }\n            if (value.resultId !== undefined) {\n                result.push({ uri, value: value.resultId });\n            }\n        }\n        return result;\n    }\n}\nclass DiagnosticRequestor {\n    constructor(client, tabs, options) {\n        this.client = client;\n        this.tabs = tabs;\n        this.options = options;\n        this.isDisposed = false;\n        this.onDidChangeDiagnosticsEmitter = new vscode_1.EventEmitter();\n        this.provider = this.createProvider();\n        this.diagnostics = vscode_1.languages.createDiagnosticCollection(options.identifier);\n        this.openRequests = new Map();\n        this.documentStates = new DocumentPullStateTracker();\n        this.workspaceErrorCounter = 0;\n    }\n    knows(kind, document) {\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        return this.documentStates.tracks(kind, document) || this.openRequests.has(uri.toString());\n    }\n    forget(kind, document) {\n        this.documentStates.unTrack(kind, document);\n    }\n    pull(document, cb) {\n        if (this.isDisposed) {\n            return;\n        }\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        this.pullAsync(document).then(() => {\n            if (cb) {\n                cb();\n            }\n        }, (error) => {\n            this.client.error(`Document pull failed for text document ${uri.toString()}`, error, false);\n        });\n    }\n    async pullAsync(document, version) {\n        if (this.isDisposed) {\n            return;\n        }\n        const isUri = document instanceof vscode_1.Uri;\n        const uri = isUri ? document : document.uri;\n        const key = uri.toString();\n        version = isUri ? version : document.version;\n        const currentRequestState = this.openRequests.get(key);\n        const documentState = isUri\n            ? this.documentStates.track(PullState.document, document, version)\n            : this.documentStates.track(PullState.document, document);\n        if (currentRequestState === undefined) {\n            const tokenSource = new vscode_1.CancellationTokenSource();\n            this.openRequests.set(key, { state: RequestStateKind.active, document: document, version: version, tokenSource });\n            let report;\n            let afterState;\n            try {\n                report = await this.provider.provideDiagnostics(document, documentState.resultId, tokenSource.token) ?? { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] };\n            }\n            catch (error) {\n                if (error instanceof features_1.LSPCancellationError && vscode_languageserver_protocol_1.DiagnosticServerCancellationData.is(error.data) && error.data.retriggerRequest === false) {\n                    afterState = { state: RequestStateKind.outDated, document };\n                }\n                if (afterState === undefined && error instanceof vscode_1.CancellationError) {\n                    afterState = { state: RequestStateKind.reschedule, document };\n                }\n                else {\n                    throw error;\n                }\n            }\n            afterState = afterState ?? this.openRequests.get(key);\n            if (afterState === undefined) {\n                // This shouldn't happen. Log it\n                this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${key}`);\n                this.diagnostics.delete(uri);\n                return;\n            }\n            this.openRequests.delete(key);\n            if (!this.tabs.isVisible(document)) {\n                this.documentStates.unTrack(PullState.document, document);\n                return;\n            }\n            if (afterState.state === RequestStateKind.outDated) {\n                return;\n            }\n            // report is only undefined if the request has thrown.\n            if (report !== undefined) {\n                if (report.kind === vsdiag.DocumentDiagnosticReportKind.full) {\n                    this.diagnostics.set(uri, report.items);\n                }\n                documentState.pulledVersion = version;\n                documentState.resultId = report.resultId;\n            }\n            if (afterState.state === RequestStateKind.reschedule) {\n                this.pull(document);\n            }\n        }\n        else {\n            if (currentRequestState.state === RequestStateKind.active) {\n                // Cancel the current request and reschedule a new one when the old one returned.\n                currentRequestState.tokenSource.cancel();\n                this.openRequests.set(key, { state: RequestStateKind.reschedule, document: currentRequestState.document });\n            }\n            else if (currentRequestState.state === RequestStateKind.outDated) {\n                this.openRequests.set(key, { state: RequestStateKind.reschedule, document: currentRequestState.document });\n            }\n        }\n    }\n    forgetDocument(document) {\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        const key = uri.toString();\n        const request = this.openRequests.get(key);\n        if (this.options.workspaceDiagnostics) {\n            // If we run workspace diagnostic pull a last time for the diagnostics\n            // and the rely on getting them from the workspace result.\n            if (request !== undefined) {\n                this.openRequests.set(key, { state: RequestStateKind.reschedule, document: document });\n            }\n            else {\n                this.pull(document, () => {\n                    this.forget(PullState.document, document);\n                });\n            }\n        }\n        else {\n            // We have normal pull or inter file dependencies. In this case we\n            // clear the diagnostics (to have the same start as after startup).\n            // We also cancel outstanding requests.\n            if (request !== undefined) {\n                if (request.state === RequestStateKind.active) {\n                    request.tokenSource.cancel();\n                }\n                this.openRequests.set(key, { state: RequestStateKind.outDated, document: document });\n            }\n            this.diagnostics.delete(uri);\n            this.forget(PullState.document, document);\n        }\n    }\n    pullWorkspace() {\n        if (this.isDisposed) {\n            return;\n        }\n        this.pullWorkspaceAsync().then(() => {\n            this.workspaceTimeout = (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(() => {\n                this.pullWorkspace();\n            }, 2000);\n        }, (error) => {\n            if (!(error instanceof features_1.LSPCancellationError) && !vscode_languageserver_protocol_1.DiagnosticServerCancellationData.is(error.data)) {\n                this.client.error(`Workspace diagnostic pull failed.`, error, false);\n                this.workspaceErrorCounter++;\n            }\n            if (this.workspaceErrorCounter <= 5) {\n                this.workspaceTimeout = (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(() => {\n                    this.pullWorkspace();\n                }, 2000);\n            }\n        });\n    }\n    async pullWorkspaceAsync() {\n        if (!this.provider.provideWorkspaceDiagnostics || this.isDisposed) {\n            return;\n        }\n        if (this.workspaceCancellation !== undefined) {\n            this.workspaceCancellation.cancel();\n            this.workspaceCancellation = undefined;\n        }\n        this.workspaceCancellation = new vscode_1.CancellationTokenSource();\n        const previousResultIds = this.documentStates.getAllResultIds().map((item) => {\n            return {\n                uri: this.client.protocol2CodeConverter.asUri(item.uri),\n                value: item.value\n            };\n        });\n        await this.provider.provideWorkspaceDiagnostics(previousResultIds, this.workspaceCancellation.token, (chunk) => {\n            if (!chunk || this.isDisposed) {\n                return;\n            }\n            for (const item of chunk.items) {\n                if (item.kind === vsdiag.DocumentDiagnosticReportKind.full) {\n                    // Favour document pull result over workspace results. So skip if it is tracked\n                    // as a document result.\n                    if (!this.documentStates.tracks(PullState.document, item.uri)) {\n                        this.diagnostics.set(item.uri, item.items);\n                    }\n                }\n                this.documentStates.update(PullState.workspace, item.uri, item.version ?? undefined, item.resultId);\n            }\n        });\n    }\n    createProvider() {\n        const result = {\n            onDidChangeDiagnostics: this.onDidChangeDiagnosticsEmitter.event,\n            provideDiagnostics: (document, previousResultId, token) => {\n                const provideDiagnostics = (document, previousResultId, token) => {\n                    const params = {\n                        identifier: this.options.identifier,\n                        textDocument: { uri: this.client.code2ProtocolConverter.asUri(document instanceof vscode_1.Uri ? document : document.uri) },\n                        previousResultId: previousResultId\n                    };\n                    if (this.isDisposed === true || !this.client.isRunning()) {\n                        return { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] };\n                    }\n                    return this.client.sendRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, params, token).then(async (result) => {\n                        if (result === undefined || result === null || this.isDisposed || token.isCancellationRequested) {\n                            return { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] };\n                        }\n                        if (result.kind === vscode_languageserver_protocol_1.DocumentDiagnosticReportKind.Full) {\n                            return { kind: vsdiag.DocumentDiagnosticReportKind.full, resultId: result.resultId, items: await this.client.protocol2CodeConverter.asDiagnostics(result.items, token) };\n                        }\n                        else {\n                            return { kind: vsdiag.DocumentDiagnosticReportKind.unChanged, resultId: result.resultId };\n                        }\n                    }, (error) => {\n                        return this.client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, token, error, { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] });\n                    });\n                };\n                const middleware = this.client.middleware;\n                return middleware.provideDiagnostics\n                    ? middleware.provideDiagnostics(document, previousResultId, token, provideDiagnostics)\n                    : provideDiagnostics(document, previousResultId, token);\n            }\n        };\n        if (this.options.workspaceDiagnostics) {\n            result.provideWorkspaceDiagnostics = (resultIds, token, resultReporter) => {\n                const convertReport = async (report) => {\n                    if (report.kind === vscode_languageserver_protocol_1.DocumentDiagnosticReportKind.Full) {\n                        return {\n                            kind: vsdiag.DocumentDiagnosticReportKind.full,\n                            uri: this.client.protocol2CodeConverter.asUri(report.uri),\n                            resultId: report.resultId,\n                            version: report.version,\n                            items: await this.client.protocol2CodeConverter.asDiagnostics(report.items, token)\n                        };\n                    }\n                    else {\n                        return {\n                            kind: vsdiag.DocumentDiagnosticReportKind.unChanged,\n                            uri: this.client.protocol2CodeConverter.asUri(report.uri),\n                            resultId: report.resultId,\n                            version: report.version\n                        };\n                    }\n                };\n                const convertPreviousResultIds = (resultIds) => {\n                    const converted = [];\n                    for (const item of resultIds) {\n                        converted.push({ uri: this.client.code2ProtocolConverter.asUri(item.uri), value: item.value });\n                    }\n                    return converted;\n                };\n                const provideDiagnostics = (resultIds, token) => {\n                    const partialResultToken = (0, uuid_1.generateUuid)();\n                    const disposable = this.client.onProgress(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.partialResult, partialResultToken, async (partialResult) => {\n                        if (partialResult === undefined || partialResult === null) {\n                            resultReporter(null);\n                            return;\n                        }\n                        const converted = {\n                            items: []\n                        };\n                        for (const item of partialResult.items) {\n                            try {\n                                converted.items.push(await convertReport(item));\n                            }\n                            catch (error) {\n                                this.client.error(`Converting workspace diagnostics failed.`, error);\n                            }\n                        }\n                        resultReporter(converted);\n                    });\n                    const params = {\n                        identifier: this.options.identifier,\n                        previousResultIds: convertPreviousResultIds(resultIds),\n                        partialResultToken: partialResultToken\n                    };\n                    if (this.isDisposed === true || !this.client.isRunning()) {\n                        return { items: [] };\n                    }\n                    return this.client.sendRequest(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.type, params, token).then(async (result) => {\n                        if (token.isCancellationRequested) {\n                            return { items: [] };\n                        }\n                        const converted = {\n                            items: []\n                        };\n                        for (const item of result.items) {\n                            converted.items.push(await convertReport(item));\n                        }\n                        disposable.dispose();\n                        resultReporter(converted);\n                        return { items: [] };\n                    }, (error) => {\n                        disposable.dispose();\n                        return this.client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, token, error, { items: [] });\n                    });\n                };\n                const middleware = this.client.middleware;\n                return middleware.provideWorkspaceDiagnostics\n                    ? middleware.provideWorkspaceDiagnostics(resultIds, token, resultReporter, provideDiagnostics)\n                    : provideDiagnostics(resultIds, token, resultReporter);\n            };\n        }\n        return result;\n    }\n    dispose() {\n        this.isDisposed = true;\n        // Cancel and clear workspace pull if present.\n        this.workspaceCancellation?.cancel();\n        this.workspaceTimeout?.dispose();\n        // Cancel all request and mark open requests as outdated.\n        for (const [key, request] of this.openRequests) {\n            if (request.state === RequestStateKind.active) {\n                request.tokenSource.cancel();\n            }\n            this.openRequests.set(key, { state: RequestStateKind.outDated, document: request.document });\n        }\n        // cleanup old diagnostics\n        this.diagnostics.dispose();\n    }\n}\nclass BackgroundScheduler {\n    constructor(diagnosticRequestor) {\n        this.diagnosticRequestor = diagnosticRequestor;\n        this.documents = new vscode_languageserver_protocol_1.LinkedMap();\n        this.isDisposed = false;\n    }\n    add(document) {\n        if (this.isDisposed === true) {\n            return;\n        }\n        const key = DocumentOrUri.asKey(document);\n        if (this.documents.has(key)) {\n            return;\n        }\n        this.documents.set(key, document, vscode_languageserver_protocol_1.Touch.Last);\n        this.trigger();\n    }\n    remove(document) {\n        const key = DocumentOrUri.asKey(document);\n        this.documents.delete(key);\n        // No more documents. Stop background activity.\n        if (this.documents.size === 0) {\n            this.stop();\n        }\n        else if (key === this.endDocumentKey()) {\n            // Make sure we have a correct last document. It could have\n            this.endDocument = this.documents.last;\n        }\n    }\n    trigger() {\n        if (this.isDisposed === true) {\n            return;\n        }\n        // We have a round running. So simply make sure we run up to the\n        // last document\n        if (this.intervalHandle !== undefined) {\n            this.endDocument = this.documents.last;\n            return;\n        }\n        this.endDocument = this.documents.last;\n        this.intervalHandle = (0, vscode_languageserver_protocol_1.RAL)().timer.setInterval(() => {\n            const document = this.documents.first;\n            if (document !== undefined) {\n                const key = DocumentOrUri.asKey(document);\n                this.diagnosticRequestor.pull(document);\n                this.documents.set(key, document, vscode_languageserver_protocol_1.Touch.Last);\n                if (key === this.endDocumentKey()) {\n                    this.stop();\n                }\n            }\n        }, 200);\n    }\n    dispose() {\n        this.isDisposed = true;\n        this.stop();\n        this.documents.clear();\n    }\n    stop() {\n        this.intervalHandle?.dispose();\n        this.intervalHandle = undefined;\n        this.endDocument = undefined;\n    }\n    endDocumentKey() {\n        return this.endDocument !== undefined ? DocumentOrUri.asKey(this.endDocument) : undefined;\n    }\n}\nclass DiagnosticFeatureProviderImpl {\n    constructor(client, tabs, options) {\n        const diagnosticPullOptions = client.clientOptions.diagnosticPullOptions ?? { onChange: true, onSave: false };\n        const documentSelector = client.protocol2CodeConverter.asDocumentSelector(options.documentSelector);\n        const disposables = [];\n        const matchResource = (resource) => {\n            const selector = options.documentSelector;\n            if (diagnosticPullOptions.match !== undefined) {\n                return diagnosticPullOptions.match(selector, resource);\n            }\n            for (const filter of selector) {\n                if (!vscode_languageserver_protocol_1.TextDocumentFilter.is(filter)) {\n                    continue;\n                }\n                // The filter is a language id. We can't determine if it matches\n                // so we return false.\n                if (typeof filter === 'string') {\n                    return false;\n                }\n                if (filter.language !== undefined && filter.language !== '*') {\n                    return false;\n                }\n                if (filter.scheme !== undefined && filter.scheme !== '*' && filter.scheme !== resource.scheme) {\n                    return false;\n                }\n                if (filter.pattern !== undefined) {\n                    const matcher = new minimatch.Minimatch(filter.pattern, { noext: true });\n                    if (!matcher.makeRe()) {\n                        return false;\n                    }\n                    if (!matcher.match(resource.fsPath)) {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        };\n        const matches = (document) => {\n            return document instanceof vscode_1.Uri\n                ? matchResource(document)\n                : vscode_1.languages.match(documentSelector, document) > 0 && tabs.isVisible(document);\n        };\n        const isActiveDocument = (document) => {\n            return document instanceof vscode_1.Uri\n                ? this.activeTextDocument?.uri.toString() === document.toString()\n                : this.activeTextDocument === document;\n        };\n        this.diagnosticRequestor = new DiagnosticRequestor(client, tabs, options);\n        this.backgroundScheduler = new BackgroundScheduler(this.diagnosticRequestor);\n        const addToBackgroundIfNeeded = (document) => {\n            if (!matches(document) || !options.interFileDependencies || isActiveDocument(document)) {\n                return;\n            }\n            this.backgroundScheduler.add(document);\n        };\n        this.activeTextDocument = vscode_1.window.activeTextEditor?.document;\n        vscode_1.window.onDidChangeActiveTextEditor((editor) => {\n            const oldActive = this.activeTextDocument;\n            this.activeTextDocument = editor?.document;\n            if (oldActive !== undefined) {\n                addToBackgroundIfNeeded(oldActive);\n            }\n            if (this.activeTextDocument !== undefined) {\n                this.backgroundScheduler.remove(this.activeTextDocument);\n            }\n        });\n        // For pull model diagnostics we pull for documents visible in the UI.\n        // From an eventing point of view we still rely on open document events\n        // and filter the documents that are not visible in the UI instead of\n        // listening to Tab events. Major reason is event timing since we need\n        // to ensure that the pull is send after the document open has reached\n        // the server.\n        // We always pull on open.\n        const openFeature = client.getFeature(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.method);\n        disposables.push(openFeature.onNotificationSent((event) => {\n            const textDocument = event.textDocument;\n            // We already know about this document. This can happen via a tab open.\n            if (this.diagnosticRequestor.knows(PullState.document, textDocument)) {\n                return;\n            }\n            if (matches(textDocument)) {\n                this.diagnosticRequestor.pull(textDocument, () => { addToBackgroundIfNeeded(textDocument); });\n            }\n        }));\n        disposables.push(tabs.onOpen((opened) => {\n            for (const resource of opened) {\n                // We already know about this document. This can happen via a document open.\n                if (this.diagnosticRequestor.knows(PullState.document, resource)) {\n                    continue;\n                }\n                const uriStr = resource.toString();\n                let textDocument;\n                for (const item of vscode_1.workspace.textDocuments) {\n                    if (uriStr === item.uri.toString()) {\n                        textDocument = item;\n                        break;\n                    }\n                }\n                // In VS Code the event timing is as follows:\n                // 1. tab events are fired.\n                // 2. open document events are fired and internal data structures like\n                //    workspace.textDocuments and Window.activeTextEditor are updated.\n                //\n                // This means: for newly created tab/editors we don't find the underlying\n                // document yet. So we do nothing an rely on the underlying open document event\n                // to be fired.\n                if (textDocument !== undefined && matches(textDocument)) {\n                    this.diagnosticRequestor.pull(textDocument, () => { addToBackgroundIfNeeded(textDocument); });\n                }\n            }\n        }));\n        // Pull all diagnostics for documents that are already open\n        const pulledTextDocuments = new Set();\n        for (const textDocument of vscode_1.workspace.textDocuments) {\n            if (matches(textDocument)) {\n                this.diagnosticRequestor.pull(textDocument, () => { addToBackgroundIfNeeded(textDocument); });\n                pulledTextDocuments.add(textDocument.uri.toString());\n            }\n        }\n        // Pull all tabs if not already pulled as text document\n        if (diagnosticPullOptions.onTabs === true) {\n            for (const resource of tabs.getTabResources()) {\n                if (!pulledTextDocuments.has(resource.toString()) && matches(resource)) {\n                    this.diagnosticRequestor.pull(resource, () => { addToBackgroundIfNeeded(resource); });\n                }\n            }\n        }\n        // We don't need to pull on tab open since we will receive a document open as well later on\n        // and that event allows us to use a document for a match check which will have a set\n        // language id.\n        if (diagnosticPullOptions.onChange === true) {\n            const changeFeature = client.getFeature(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.method);\n            disposables.push(changeFeature.onNotificationSent(async (event) => {\n                const textDocument = event.textDocument;\n                if ((diagnosticPullOptions.filter === undefined || !diagnosticPullOptions.filter(textDocument, DiagnosticPullMode.onType)) && this.diagnosticRequestor.knows(PullState.document, textDocument)) {\n                    this.diagnosticRequestor.pull(textDocument, () => { this.backgroundScheduler.trigger(); });\n                }\n            }));\n        }\n        if (diagnosticPullOptions.onSave === true) {\n            const saveFeature = client.getFeature(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.method);\n            disposables.push(saveFeature.onNotificationSent((event) => {\n                const textDocument = event.textDocument;\n                if ((diagnosticPullOptions.filter === undefined || !diagnosticPullOptions.filter(textDocument, DiagnosticPullMode.onSave)) && this.diagnosticRequestor.knows(PullState.document, textDocument)) {\n                    this.diagnosticRequestor.pull(event.textDocument, () => { this.backgroundScheduler.trigger(); });\n                }\n            }));\n        }\n        // When the document closes clear things up\n        const closeFeature = client.getFeature(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.method);\n        disposables.push(closeFeature.onNotificationSent((event) => {\n            this.cleanUpDocument(event.textDocument);\n        }));\n        // Same when a tabs closes.\n        tabs.onClose((closed) => {\n            for (const document of closed) {\n                this.cleanUpDocument(document);\n            }\n        });\n        // We received a did change from the server.\n        this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(() => {\n            for (const textDocument of vscode_1.workspace.textDocuments) {\n                if (matches(textDocument)) {\n                    this.diagnosticRequestor.pull(textDocument);\n                }\n            }\n        });\n        // da348dc5-c30a-4515-9d98-31ff3be38d14 is the test UUID to test the middle ware. So don't auto trigger pulls.\n        if (options.workspaceDiagnostics === true && options.identifier !== 'da348dc5-c30a-4515-9d98-31ff3be38d14') {\n            this.diagnosticRequestor.pullWorkspace();\n        }\n        this.disposable = vscode_1.Disposable.from(...disposables, this.backgroundScheduler, this.diagnosticRequestor);\n    }\n    get onDidChangeDiagnosticsEmitter() {\n        return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter;\n    }\n    get diagnostics() {\n        return this.diagnosticRequestor.provider;\n    }\n    cleanUpDocument(document) {\n        if (this.diagnosticRequestor.knows(PullState.document, document)) {\n            this.diagnosticRequestor.forgetDocument(document);\n            this.backgroundScheduler.remove(document);\n        }\n    }\n}\nclass DiagnosticFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let capability = ensure(ensure(capabilities, 'textDocument'), 'diagnostic');\n        capability.dynamicRegistration = true;\n        // We first need to decide how a UI will look with related documents.\n        // An easy implementation would be to only show related diagnostics for\n        // the active editor.\n        capability.relatedDocumentSupport = false;\n        ensure(ensure(capabilities, 'workspace'), 'diagnostics').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.DiagnosticRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeDiagnosticsEmitter.fire();\n            }\n        });\n        let [id, options] = this.getRegistration(documentSelector, capabilities.diagnosticProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    clear() {\n        if (this.tabs !== undefined) {\n            this.tabs.dispose();\n            this.tabs = undefined;\n        }\n        super.clear();\n    }\n    registerLanguageProvider(options) {\n        if (this.tabs === undefined) {\n            this.tabs = new Tabs();\n        }\n        const provider = new DiagnosticFeatureProviderImpl(this._client, this.tabs, options);\n        return [provider.disposable, provider];\n    }\n}\nexports.DiagnosticFeature = DiagnosticFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentHighlightFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DocumentHighlightFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentHighlightRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'documentHighlight').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentHighlightProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentHighlights: (document, position, token) => {\n                const client = this._client;\n                const _provideDocumentHighlights = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDocumentHighlights(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentHighlights\n                    ? middleware.provideDocumentHighlights(document, position, token, _provideDocumentHighlights)\n                    : _provideDocumentHighlights(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentHighlightFeature = DocumentHighlightFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentLinkFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DocumentLinkFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentLinkRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const documentLinkCapabilities = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'documentLink');\n        documentLinkCapabilities.dynamicRegistration = true;\n        documentLinkCapabilities.tooltipSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentLinkProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentLinks: (document, token) => {\n                const client = this._client;\n                const provideDocumentLinks = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, client.code2ProtocolConverter.asDocumentLinkParams(document), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDocumentLinks(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentLinks\n                    ? middleware.provideDocumentLinks(document, token, provideDocumentLinks)\n                    : provideDocumentLinks(document, token);\n            },\n            resolveDocumentLink: options.resolveProvider\n                ? (link, token) => {\n                    const client = this._client;\n                    let resolveDocumentLink = (link, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, client.code2ProtocolConverter.asDocumentLink(link), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return link;\n                            }\n                            return client.protocol2CodeConverter.asDocumentLink(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, token, error, link);\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.resolveDocumentLink\n                        ? middleware.resolveDocumentLink(link, token, resolveDocumentLink)\n                        : resolveDocumentLink(link, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentLinkFeature = DocumentLinkFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentSymbolFeature = exports.SupportedSymbolTags = exports.SupportedSymbolKinds = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nexports.SupportedSymbolKinds = [\n    vscode_languageserver_protocol_1.SymbolKind.File,\n    vscode_languageserver_protocol_1.SymbolKind.Module,\n    vscode_languageserver_protocol_1.SymbolKind.Namespace,\n    vscode_languageserver_protocol_1.SymbolKind.Package,\n    vscode_languageserver_protocol_1.SymbolKind.Class,\n    vscode_languageserver_protocol_1.SymbolKind.Method,\n    vscode_languageserver_protocol_1.SymbolKind.Property,\n    vscode_languageserver_protocol_1.SymbolKind.Field,\n    vscode_languageserver_protocol_1.SymbolKind.Constructor,\n    vscode_languageserver_protocol_1.SymbolKind.Enum,\n    vscode_languageserver_protocol_1.SymbolKind.Interface,\n    vscode_languageserver_protocol_1.SymbolKind.Function,\n    vscode_languageserver_protocol_1.SymbolKind.Variable,\n    vscode_languageserver_protocol_1.SymbolKind.Constant,\n    vscode_languageserver_protocol_1.SymbolKind.String,\n    vscode_languageserver_protocol_1.SymbolKind.Number,\n    vscode_languageserver_protocol_1.SymbolKind.Boolean,\n    vscode_languageserver_protocol_1.SymbolKind.Array,\n    vscode_languageserver_protocol_1.SymbolKind.Object,\n    vscode_languageserver_protocol_1.SymbolKind.Key,\n    vscode_languageserver_protocol_1.SymbolKind.Null,\n    vscode_languageserver_protocol_1.SymbolKind.EnumMember,\n    vscode_languageserver_protocol_1.SymbolKind.Struct,\n    vscode_languageserver_protocol_1.SymbolKind.Event,\n    vscode_languageserver_protocol_1.SymbolKind.Operator,\n    vscode_languageserver_protocol_1.SymbolKind.TypeParameter\n];\nexports.SupportedSymbolTags = [\n    vscode_languageserver_protocol_1.SymbolTag.Deprecated\n];\nclass DocumentSymbolFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentSymbolRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let symbolCapabilities = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'documentSymbol');\n        symbolCapabilities.dynamicRegistration = true;\n        symbolCapabilities.symbolKind = {\n            valueSet: exports.SupportedSymbolKinds\n        };\n        symbolCapabilities.hierarchicalDocumentSymbolSupport = true;\n        symbolCapabilities.tagSupport = {\n            valueSet: exports.SupportedSymbolTags\n        };\n        symbolCapabilities.labelSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentSymbolProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentSymbols: (document, token) => {\n                const client = this._client;\n                const _provideDocumentSymbols = async (document, token) => {\n                    try {\n                        const data = await client.sendRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, client.code2ProtocolConverter.asDocumentSymbolParams(document), token);\n                        if (token.isCancellationRequested || data === undefined || data === null) {\n                            return null;\n                        }\n                        if (data.length === 0) {\n                            return [];\n                        }\n                        else {\n                            const first = data[0];\n                            if (vscode_languageserver_protocol_1.DocumentSymbol.is(first)) {\n                                return await client.protocol2CodeConverter.asDocumentSymbols(data, token);\n                            }\n                            else {\n                                return await client.protocol2CodeConverter.asSymbolInformations(data, token);\n                            }\n                        }\n                    }\n                    catch (error) {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, token, error, null);\n                    }\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentSymbols\n                    ? middleware.provideDocumentSymbols(document, token, _provideDocumentSymbols)\n                    : _provideDocumentSymbols(document, token);\n            }\n        };\n        const metaData = options.label !== undefined ? { label: options.label } : undefined;\n        return [vscode_1.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, metaData), provider];\n    }\n}\nexports.DocumentSymbolFeature = DocumentSymbolFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExecuteCommandFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nclass ExecuteCommandFeature {\n    constructor(client) {\n        this._client = client;\n        this._commands = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._commands.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.ExecuteCommandRequest.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'executeCommand').dynamicRegistration = true;\n    }\n    initialize(capabilities) {\n        if (!capabilities.executeCommandProvider) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: Object.assign({}, capabilities.executeCommandProvider)\n        });\n    }\n    register(data) {\n        const client = this._client;\n        const middleware = client.middleware;\n        const executeCommand = (command, args) => {\n            let params = {\n                command,\n                arguments: args\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, params).then(undefined, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, undefined, error, undefined);\n            });\n        };\n        if (data.registerOptions.commands) {\n            const disposables = [];\n            for (const command of data.registerOptions.commands) {\n                disposables.push(vscode_1.commands.registerCommand(command, (...args) => {\n                    return middleware.executeCommand\n                        ? middleware.executeCommand(command, args, executeCommand)\n                        : executeCommand(command, args);\n                }));\n            }\n            this._commands.set(data.id, disposables);\n        }\n    }\n    unregister(id) {\n        let disposables = this._commands.get(id);\n        if (disposables) {\n            disposables.forEach(disposable => disposable.dispose());\n        }\n    }\n    clear() {\n        this._commands.forEach((value) => {\n            value.forEach(disposable => disposable.dispose());\n        });\n        this._commands.clear();\n    }\n}\nexports.ExecuteCommandFeature = ExecuteCommandFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFeature = exports.TextDocumentLanguageFeature = exports.TextDocumentEventFeature = exports.DynamicDocumentFeature = exports.DynamicFeature = exports.StaticFeature = exports.ensure = exports.LSPCancellationError = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nclass LSPCancellationError extends vscode_1.CancellationError {\n    constructor(data) {\n        super();\n        this.data = data;\n    }\n}\nexports.LSPCancellationError = LSPCancellationError;\nfunction ensure(target, key) {\n    if (target[key] === undefined) {\n        target[key] = {};\n    }\n    return target[key];\n}\nexports.ensure = ensure;\nvar StaticFeature;\n(function (StaticFeature) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null &&\n            Is.func(candidate.fillClientCapabilities) && Is.func(candidate.initialize) && Is.func(candidate.getState) && Is.func(candidate.clear) &&\n            (candidate.fillInitializeParams === undefined || Is.func(candidate.fillInitializeParams));\n    }\n    StaticFeature.is = is;\n})(StaticFeature || (exports.StaticFeature = StaticFeature = {}));\nvar DynamicFeature;\n(function (DynamicFeature) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null &&\n            Is.func(candidate.fillClientCapabilities) && Is.func(candidate.initialize) && Is.func(candidate.getState) && Is.func(candidate.clear) &&\n            (candidate.fillInitializeParams === undefined || Is.func(candidate.fillInitializeParams)) && Is.func(candidate.register) &&\n            Is.func(candidate.unregister) && candidate.registrationType !== undefined;\n    }\n    DynamicFeature.is = is;\n})(DynamicFeature || (exports.DynamicFeature = DynamicFeature = {}));\n/**\n * An abstract dynamic feature implementation that operates on documents (e.g. text\n * documents or notebooks).\n */\nclass DynamicDocumentFeature {\n    constructor(client) {\n        this._client = client;\n    }\n    /**\n     * Returns the state the feature is in.\n     */\n    getState() {\n        const selectors = this.getDocumentSelectors();\n        let count = 0;\n        for (const selector of selectors) {\n            count++;\n            for (const document of vscode_1.workspace.textDocuments) {\n                if (vscode_1.languages.match(selector, document) > 0) {\n                    return { kind: 'document', id: this.registrationType.method, registrations: true, matches: true };\n                }\n            }\n        }\n        const registrations = count > 0;\n        return { kind: 'document', id: this.registrationType.method, registrations, matches: false };\n    }\n}\nexports.DynamicDocumentFeature = DynamicDocumentFeature;\n/**\n * An abstract base class to implement features that react to events\n * emitted from text documents.\n */\nclass TextDocumentEventFeature extends DynamicDocumentFeature {\n    static textDocumentFilter(selectors, textDocument) {\n        for (const selector of selectors) {\n            if (vscode_1.languages.match(selector, textDocument) > 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n    constructor(client, event, type, middleware, createParams, textDocument, selectorFilter) {\n        super(client);\n        this._event = event;\n        this._type = type;\n        this._middleware = middleware;\n        this._createParams = createParams;\n        this._textDocument = textDocument;\n        this._selectorFilter = selectorFilter;\n        this._selectors = new Map();\n        this._onNotificationSent = new vscode_1.EventEmitter();\n    }\n    getStateInfo() {\n        return [this._selectors.values(), false];\n    }\n    getDocumentSelectors() {\n        return this._selectors.values();\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = this._event((data) => {\n                this.callback(data).catch((error) => {\n                    this._client.error(`Sending document notification ${this._type.method} failed.`, error);\n                });\n            });\n        }\n        this._selectors.set(data.id, this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector));\n    }\n    async callback(data) {\n        const doSend = async (data) => {\n            const params = this._createParams(data);\n            await this._client.sendNotification(this._type, params);\n            this.notificationSent(this.getTextDocument(data), this._type, params);\n        };\n        if (this.matches(data)) {\n            const middleware = this._middleware();\n            return middleware ? middleware(data, (data) => doSend(data)) : doSend(data);\n        }\n    }\n    matches(data) {\n        if (this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(data))) {\n            return false;\n        }\n        return !this._selectorFilter || this._selectorFilter(this._selectors.values(), data);\n    }\n    get onNotificationSent() {\n        return this._onNotificationSent.event;\n    }\n    notificationSent(textDocument, type, params) {\n        this._onNotificationSent.fire({ textDocument, type, params });\n    }\n    unregister(id) {\n        this._selectors.delete(id);\n        if (this._selectors.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    clear() {\n        this._selectors.clear();\n        this._onNotificationSent.dispose();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    getProvider(document) {\n        for (const selector of this._selectors.values()) {\n            if (vscode_1.languages.match(selector, document) > 0) {\n                return {\n                    send: (data) => {\n                        return this.callback(data);\n                    }\n                };\n            }\n        }\n        return undefined;\n    }\n}\nexports.TextDocumentEventFeature = TextDocumentEventFeature;\n/**\n * A abstract feature implementation that registers language providers\n * for text documents using a given document selector.\n */\nclass TextDocumentLanguageFeature extends DynamicDocumentFeature {\n    constructor(client, registrationType) {\n        super(client);\n        this._registrationType = registrationType;\n        this._registrations = new Map();\n    }\n    *getDocumentSelectors() {\n        for (const registration of this._registrations.values()) {\n            const selector = registration.data.registerOptions.documentSelector;\n            if (selector === null) {\n                continue;\n            }\n            yield this._client.protocol2CodeConverter.asDocumentSelector(selector);\n        }\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        let registration = this.registerLanguageProvider(data.registerOptions, data.id);\n        this._registrations.set(data.id, { disposable: registration[0], data, provider: registration[1] });\n    }\n    unregister(id) {\n        let registration = this._registrations.get(id);\n        if (registration !== undefined) {\n            registration.disposable.dispose();\n        }\n    }\n    clear() {\n        this._registrations.forEach((value) => {\n            value.disposable.dispose();\n        });\n        this._registrations.clear();\n    }\n    getRegistration(documentSelector, capability) {\n        if (!capability) {\n            return [undefined, undefined];\n        }\n        else if (vscode_languageserver_protocol_1.TextDocumentRegistrationOptions.is(capability)) {\n            const id = vscode_languageserver_protocol_1.StaticRegistrationOptions.hasId(capability) ? capability.id : UUID.generateUuid();\n            const selector = capability.documentSelector ?? documentSelector;\n            if (selector) {\n                return [id, Object.assign({}, capability, { documentSelector: selector })];\n            }\n        }\n        else if (Is.boolean(capability) && capability === true || vscode_languageserver_protocol_1.WorkDoneProgressOptions.is(capability)) {\n            if (!documentSelector) {\n                return [undefined, undefined];\n            }\n            const options = (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\n            return [UUID.generateUuid(), options];\n        }\n        return [undefined, undefined];\n    }\n    getRegistrationOptions(documentSelector, capability) {\n        if (!documentSelector || !capability) {\n            return undefined;\n        }\n        return (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\n    }\n    getProvider(textDocument) {\n        for (const registration of this._registrations.values()) {\n            let selector = registration.data.registerOptions.documentSelector;\n            if (selector !== null && vscode_1.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(selector), textDocument) > 0) {\n                return registration.provider;\n            }\n        }\n        return undefined;\n    }\n    getAllProviders() {\n        const result = [];\n        for (const item of this._registrations.values()) {\n            result.push(item.provider);\n        }\n        return result;\n    }\n}\nexports.TextDocumentLanguageFeature = TextDocumentLanguageFeature;\nclass WorkspaceFeature {\n    constructor(client, registrationType) {\n        this._client = client;\n        this._registrationType = registrationType;\n        this._registrations = new Map();\n    }\n    getState() {\n        const registrations = this._registrations.size > 0;\n        return { kind: 'workspace', id: this._registrationType.method, registrations };\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    register(data) {\n        const registration = this.registerLanguageProvider(data.registerOptions);\n        this._registrations.set(data.id, { disposable: registration[0], provider: registration[1] });\n    }\n    unregister(id) {\n        let registration = this._registrations.get(id);\n        if (registration !== undefined) {\n            registration.disposable.dispose();\n        }\n    }\n    clear() {\n        this._registrations.forEach((registration) => {\n            registration.disposable.dispose();\n        });\n        this._registrations.clear();\n    }\n    getProviders() {\n        const result = [];\n        for (const registration of this._registrations.values()) {\n            result.push(registration.provider);\n        }\n        return result;\n    }\n}\nexports.WorkspaceFeature = WorkspaceFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesFeature = exports.WillRenameFilesFeature = exports.WillCreateFilesFeature = exports.DidDeleteFilesFeature = exports.DidRenameFilesFeature = exports.DidCreateFilesFeature = void 0;\nconst code = require(\"vscode\");\nconst minimatch = require(\"minimatch\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nfunction access(target, key) {\n    return target[key];\n}\nfunction assign(target, key, value) {\n    target[key] = value;\n}\nclass FileOperationFeature {\n    constructor(client, event, registrationType, clientCapability, serverCapability) {\n        this._client = client;\n        this._event = event;\n        this._registrationType = registrationType;\n        this._clientCapability = clientCapability;\n        this._serverCapability = serverCapability;\n        this._filters = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this._registrationType.method, registrations: this._filters.size > 0 };\n    }\n    filterSize() {\n        return this._filters.size;\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    fillClientCapabilities(capabilities) {\n        const value = ensure(ensure(capabilities, 'workspace'), 'fileOperations');\n        // this happens n times but it is the same value so we tolerate this.\n        assign(value, 'dynamicRegistration', true);\n        assign(value, this._clientCapability, true);\n    }\n    initialize(capabilities) {\n        const options = capabilities.workspace?.fileOperations;\n        const capability = options !== undefined ? access(options, this._serverCapability) : undefined;\n        if (capability?.filters !== undefined) {\n            try {\n                this.register({\n                    id: UUID.generateUuid(),\n                    registerOptions: { filters: capability.filters }\n                });\n            }\n            catch (e) {\n                this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`);\n            }\n        }\n    }\n    register(data) {\n        if (!this._listener) {\n            this._listener = this._event(this.send, this);\n        }\n        const minimatchFilter = data.registerOptions.filters.map((filter) => {\n            const matcher = new minimatch.Minimatch(filter.pattern.glob, FileOperationFeature.asMinimatchOptions(filter.pattern.options));\n            if (!matcher.makeRe()) {\n                throw new Error(`Invalid pattern ${filter.pattern.glob}!`);\n            }\n            return { scheme: filter.scheme, matcher, kind: filter.pattern.matches };\n        });\n        this._filters.set(data.id, minimatchFilter);\n    }\n    unregister(id) {\n        this._filters.delete(id);\n        if (this._filters.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    clear() {\n        this._filters.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    getFileType(uri) {\n        return FileOperationFeature.getFileType(uri);\n    }\n    async filter(event, prop) {\n        // (Asynchronously) map each file onto a boolean of whether it matches\n        // any of the globs.\n        const fileMatches = await Promise.all(event.files.map(async (item) => {\n            const uri = prop(item);\n            // Use fsPath to make this consistent with file system watchers but help\n            // minimatch to use '/' instead of `\\\\` if present.\n            const path = uri.fsPath.replace(/\\\\/g, '/');\n            for (const filters of this._filters.values()) {\n                for (const filter of filters) {\n                    if (filter.scheme !== undefined && filter.scheme !== uri.scheme) {\n                        continue;\n                    }\n                    if (filter.matcher.match(path)) {\n                        // The pattern matches. If kind is undefined then everything is ok\n                        if (filter.kind === undefined) {\n                            return true;\n                        }\n                        const fileType = await this.getFileType(uri);\n                        // If we can't determine the file type than we treat it as a match.\n                        // Dropping it would be another alternative.\n                        if (fileType === undefined) {\n                            this._client.error(`Failed to determine file type for ${uri.toString()}.`);\n                            return true;\n                        }\n                        if ((fileType === code.FileType.File && filter.kind === proto.FileOperationPatternKind.file) || (fileType === code.FileType.Directory && filter.kind === proto.FileOperationPatternKind.folder)) {\n                            return true;\n                        }\n                    }\n                    else if (filter.kind === proto.FileOperationPatternKind.folder) {\n                        const fileType = await FileOperationFeature.getFileType(uri);\n                        if (fileType === code.FileType.Directory && filter.matcher.match(`${path}/`)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            return false;\n        }));\n        // Filter the files to those that matched.\n        const files = event.files.filter((_, index) => fileMatches[index]);\n        return { ...event, files };\n    }\n    static async getFileType(uri) {\n        try {\n            return (await code.workspace.fs.stat(uri)).type;\n        }\n        catch (e) {\n            return undefined;\n        }\n    }\n    static asMinimatchOptions(options) {\n        // The spec doesn't state that dot files don't match. So we make\n        // matching those the default.\n        const result = { dot: true };\n        if (options?.ignoreCase === true) {\n            result.nocase = true;\n        }\n        return result;\n    }\n}\nclass NotificationFileOperationFeature extends FileOperationFeature {\n    constructor(client, event, notificationType, clientCapability, serverCapability, accessUri, createParams) {\n        super(client, event, notificationType, clientCapability, serverCapability);\n        this._notificationType = notificationType;\n        this._accessUri = accessUri;\n        this._createParams = createParams;\n    }\n    async send(originalEvent) {\n        // Create a copy of the event that has the files filtered to match what the\n        // server wants.\n        const filteredEvent = await this.filter(originalEvent, this._accessUri);\n        if (filteredEvent.files.length) {\n            const next = async (event) => {\n                return this._client.sendNotification(this._notificationType, this._createParams(event));\n            };\n            return this.doSend(filteredEvent, next);\n        }\n    }\n}\nclass CachingNotificationFileOperationFeature extends NotificationFileOperationFeature {\n    constructor() {\n        super(...arguments);\n        this._fsPathFileTypes = new Map();\n    }\n    async getFileType(uri) {\n        const fsPath = uri.fsPath;\n        if (this._fsPathFileTypes.has(fsPath)) {\n            return this._fsPathFileTypes.get(fsPath);\n        }\n        const type = await FileOperationFeature.getFileType(uri);\n        if (type) {\n            this._fsPathFileTypes.set(fsPath, type);\n        }\n        return type;\n    }\n    async cacheFileTypes(event, prop) {\n        // Calling filter will force the matching logic to run. For any item\n        // that requires a getFileType lookup, the overriden getFileType will\n        // be called that will cache the result so that when onDidRename fires,\n        // it can still be checked even though the item no longer exists on disk\n        // in its original location.\n        await this.filter(event, prop);\n    }\n    clearFileTypeCache() {\n        this._fsPathFileTypes.clear();\n    }\n    unregister(id) {\n        super.unregister(id);\n        if (this.filterSize() === 0 && this._willListener) {\n            this._willListener.dispose();\n            this._willListener = undefined;\n        }\n    }\n    clear() {\n        super.clear();\n        if (this._willListener) {\n            this._willListener.dispose();\n            this._willListener = undefined;\n        }\n    }\n}\nclass DidCreateFilesFeature extends NotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidCreateFiles, proto.DidCreateFilesNotification.type, 'didCreate', 'didCreate', (i) => i, client.code2ProtocolConverter.asDidCreateFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.didCreateFiles\n            ? middleware.didCreateFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidCreateFilesFeature = DidCreateFilesFeature;\nclass DidRenameFilesFeature extends CachingNotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidRenameFiles, proto.DidRenameFilesNotification.type, 'didRename', 'didRename', (i) => i.oldUri, client.code2ProtocolConverter.asDidRenameFilesParams);\n    }\n    register(data) {\n        if (!this._willListener) {\n            this._willListener = code.workspace.onWillRenameFiles(this.willRename, this);\n        }\n        super.register(data);\n    }\n    willRename(e) {\n        e.waitUntil(this.cacheFileTypes(e, (i) => i.oldUri));\n    }\n    doSend(event, next) {\n        this.clearFileTypeCache();\n        const middleware = this._client.middleware.workspace;\n        return middleware?.didRenameFiles\n            ? middleware.didRenameFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidRenameFilesFeature = DidRenameFilesFeature;\nclass DidDeleteFilesFeature extends CachingNotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidDeleteFiles, proto.DidDeleteFilesNotification.type, 'didDelete', 'didDelete', (i) => i, client.code2ProtocolConverter.asDidDeleteFilesParams);\n    }\n    register(data) {\n        if (!this._willListener) {\n            this._willListener = code.workspace.onWillDeleteFiles(this.willDelete, this);\n        }\n        super.register(data);\n    }\n    willDelete(e) {\n        e.waitUntil(this.cacheFileTypes(e, (i) => i));\n    }\n    doSend(event, next) {\n        this.clearFileTypeCache();\n        const middleware = this._client.middleware.workspace;\n        return middleware?.didDeleteFiles\n            ? middleware.didDeleteFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidDeleteFilesFeature = DidDeleteFilesFeature;\nclass RequestFileOperationFeature extends FileOperationFeature {\n    constructor(client, event, requestType, clientCapability, serverCapability, accessUri, createParams) {\n        super(client, event, requestType, clientCapability, serverCapability);\n        this._requestType = requestType;\n        this._accessUri = accessUri;\n        this._createParams = createParams;\n    }\n    async send(originalEvent) {\n        const waitUntil = this.waitUntil(originalEvent);\n        originalEvent.waitUntil(waitUntil);\n    }\n    async waitUntil(originalEvent) {\n        // Create a copy of the event that has the files filtered to match what the\n        // server wants.\n        const filteredEvent = await this.filter(originalEvent, this._accessUri);\n        if (filteredEvent.files.length) {\n            const next = (event) => {\n                return this._client.sendRequest(this._requestType, this._createParams(event), event.token)\n                    .then(this._client.protocol2CodeConverter.asWorkspaceEdit);\n            };\n            return this.doSend(filteredEvent, next);\n        }\n        else {\n            return undefined;\n        }\n    }\n}\nclass WillCreateFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillCreateFiles, proto.WillCreateFilesRequest.type, 'willCreate', 'willCreate', (i) => i, client.code2ProtocolConverter.asWillCreateFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.willCreateFiles\n            ? middleware.willCreateFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillCreateFilesFeature = WillCreateFilesFeature;\nclass WillRenameFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillRenameFiles, proto.WillRenameFilesRequest.type, 'willRename', 'willRename', (i) => i.oldUri, client.code2ProtocolConverter.asWillRenameFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.willRenameFiles\n            ? middleware.willRenameFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillRenameFilesFeature = WillRenameFilesFeature;\nclass WillDeleteFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillDeleteFiles, proto.WillDeleteFilesRequest.type, 'willDelete', 'willDelete', (i) => i, client.code2ProtocolConverter.asWillDeleteFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.willDeleteFiles\n            ? middleware.willDeleteFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillDeleteFilesFeature = WillDeleteFilesFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileSystemWatcherFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass FileSystemWatcherFeature {\n    constructor(client, notifyFileEvent) {\n        this._client = client;\n        this._notifyFileEvent = notifyFileEvent;\n        this._watchers = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._watchers.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'didChangeWatchedFiles').dynamicRegistration = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'didChangeWatchedFiles').relativePatternSupport = true;\n    }\n    initialize(_capabilities, _documentSelector) {\n    }\n    register(data) {\n        if (!Array.isArray(data.registerOptions.watchers)) {\n            return;\n        }\n        const disposables = [];\n        for (const watcher of data.registerOptions.watchers) {\n            const globPattern = this._client.protocol2CodeConverter.asGlobPattern(watcher.globPattern);\n            if (globPattern === undefined) {\n                continue;\n            }\n            let watchCreate = true, watchChange = true, watchDelete = true;\n            if (watcher.kind !== undefined && watcher.kind !== null) {\n                watchCreate = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Create) !== 0;\n                watchChange = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Change) !== 0;\n                watchDelete = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Delete) !== 0;\n            }\n            const fileSystemWatcher = vscode_1.workspace.createFileSystemWatcher(globPattern, !watchCreate, !watchChange, !watchDelete);\n            this.hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, disposables);\n            disposables.push(fileSystemWatcher);\n        }\n        this._watchers.set(data.id, disposables);\n    }\n    registerRaw(id, fileSystemWatchers) {\n        let disposables = [];\n        for (let fileSystemWatcher of fileSystemWatchers) {\n            this.hookListeners(fileSystemWatcher, true, true, true, disposables);\n        }\n        this._watchers.set(id, disposables);\n    }\n    hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, listeners) {\n        if (watchCreate) {\n            fileSystemWatcher.onDidCreate((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Created\n            }), null, listeners);\n        }\n        if (watchChange) {\n            fileSystemWatcher.onDidChange((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Changed\n            }), null, listeners);\n        }\n        if (watchDelete) {\n            fileSystemWatcher.onDidDelete((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Deleted\n            }), null, listeners);\n        }\n    }\n    unregister(id) {\n        let disposables = this._watchers.get(id);\n        if (disposables) {\n            for (let disposable of disposables) {\n                disposable.dispose();\n            }\n        }\n    }\n    clear() {\n        this._watchers.forEach((disposables) => {\n            for (let disposable of disposables) {\n                disposable.dispose();\n            }\n        });\n        this._watchers.clear();\n    }\n}\nexports.FileSystemWatcherFeature = FileSystemWatcherFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass FoldingRangeFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.FoldingRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'foldingRange');\n        capability.dynamicRegistration = true;\n        capability.rangeLimit = 5000;\n        capability.lineFoldingOnly = true;\n        capability.foldingRangeKind = { valueSet: [vscode_languageserver_protocol_1.FoldingRangeKind.Comment, vscode_languageserver_protocol_1.FoldingRangeKind.Imports, vscode_languageserver_protocol_1.FoldingRangeKind.Region] };\n        capability.foldingRange = { collapsedText: false };\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'foldingRange').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        this._client.onRequest(vscode_languageserver_protocol_1.FoldingRangeRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeFoldingRange.fire();\n            }\n        });\n        let [id, options] = this.getRegistration(documentSelector, capabilities.foldingRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeFoldingRanges: eventEmitter.event,\n            provideFoldingRanges: (document, context, token) => {\n                const client = this._client;\n                const provideFoldingRanges = (document, _, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, requestParams, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asFoldingRanges(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideFoldingRanges\n                    ? middleware.provideFoldingRanges(document, context, token, provideFoldingRanges)\n                    : provideFoldingRanges(document, context, token);\n            }\n        };\n        return [vscode_1.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), { provider: provider, onDidChangeFoldingRange: eventEmitter }];\n    }\n}\nexports.FoldingRangeFeature = FoldingRangeFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentOnTypeFormattingFeature = exports.DocumentRangeFormattingFeature = exports.DocumentFormattingFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nvar FileFormattingOptions;\n(function (FileFormattingOptions) {\n    function fromConfiguration(document) {\n        const filesConfig = vscode_1.workspace.getConfiguration('files', document);\n        return {\n            trimTrailingWhitespace: filesConfig.get('trimTrailingWhitespace'),\n            trimFinalNewlines: filesConfig.get('trimFinalNewlines'),\n            insertFinalNewline: filesConfig.get('insertFinalNewline'),\n        };\n    }\n    FileFormattingOptions.fromConfiguration = fromConfiguration;\n})(FileFormattingOptions || (FileFormattingOptions = {}));\nclass DocumentFormattingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'formatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentFormattingEdits: (document, options, token) => {\n                const client = this._client;\n                const provideDocumentFormattingEdits = (document, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentFormattingEdits\n                    ? middleware.provideDocumentFormattingEdits(document, options, token, provideDocumentFormattingEdits)\n                    : provideDocumentFormattingEdits(document, options, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentFormattingFeature = DocumentFormattingFeature;\nclass DocumentRangeFormattingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'rangeFormatting');\n        capability.dynamicRegistration = true;\n        capability.rangesSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentRangeFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentRangeFormattingEdits: (document, range, options, token) => {\n                const client = this._client;\n                const provideDocumentRangeFormattingEdits = (document, range, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(range),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentRangeFormattingEdits\n                    ? middleware.provideDocumentRangeFormattingEdits(document, range, options, token, provideDocumentRangeFormattingEdits)\n                    : provideDocumentRangeFormattingEdits(document, range, options, token);\n            }\n        };\n        if (options.rangesSupport) {\n            provider.provideDocumentRangesFormattingEdits = (document, ranges, options, token) => {\n                const client = this._client;\n                const provideDocumentRangesFormattingEdits = (document, ranges, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        ranges: client.code2ProtocolConverter.asRanges(ranges),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentRangesFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentRangesFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentRangesFormattingEdits\n                    ? middleware.provideDocumentRangesFormattingEdits(document, ranges, options, token, provideDocumentRangesFormattingEdits)\n                    : provideDocumentRangesFormattingEdits(document, ranges, options, token);\n            };\n        }\n        return [vscode_1.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentRangeFormattingFeature = DocumentRangeFormattingFeature;\nclass DocumentOnTypeFormattingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'onTypeFormatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentOnTypeFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideOnTypeFormattingEdits: (document, position, ch, options, token) => {\n                const client = this._client;\n                const provideOnTypeFormattingEdits = (document, position, ch, options, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        position: client.code2ProtocolConverter.asPosition(position),\n                        ch: ch,\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideOnTypeFormattingEdits\n                    ? middleware.provideOnTypeFormattingEdits(document, position, ch, options, token, provideOnTypeFormattingEdits)\n                    : provideOnTypeFormattingEdits(document, position, ch, options, token);\n            }\n        };\n        const moreTriggerCharacter = options.moreTriggerCharacter || [];\n        return [vscode_1.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, options.firstTriggerCharacter, ...moreTriggerCharacter), provider];\n    }\n}\nexports.DocumentOnTypeFormattingFeature = DocumentOnTypeFormattingFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HoverFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass HoverFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.HoverRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const hoverCapability = ((0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'hover'));\n        hoverCapability.dynamicRegistration = true;\n        hoverCapability.contentFormat = [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText];\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.hoverProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideHover: (document, position, token) => {\n                const client = this._client;\n                const provideHover = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.HoverRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asHover(result);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.HoverRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideHover\n                    ? middleware.provideHover(document, position, token, provideHover)\n                    : provideHover(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.HoverFeature = HoverFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass ImplementationFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.ImplementationRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let implementationSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'implementation');\n        implementationSupport.dynamicRegistration = true;\n        implementationSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.implementationProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideImplementation: (document, position, token) => {\n                const client = this._client;\n                const provideImplementation = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDefinitionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideImplementation\n                    ? middleware.provideImplementation(document, position, token, provideImplementation)\n                    : provideImplementation(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.ImplementationFeature = ImplementationFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintsFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass InlayHintsFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.InlayHintRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const inlayHint = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'inlayHint');\n        inlayHint.dynamicRegistration = true;\n        inlayHint.resolveSupport = {\n            properties: ['tooltip', 'textEdits', 'label.tooltip', 'label.location', 'label.command']\n        };\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'inlayHint').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        this._client.onRequest(vscode_languageserver_protocol_1.InlayHintRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeInlayHints.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.inlayHintProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeInlayHints: eventEmitter.event,\n            provideInlayHints: (document, viewPort, token) => {\n                const client = this._client;\n                const provideInlayHints = async (document, viewPort, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(viewPort)\n                    };\n                    try {\n                        const values = await client.sendRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, requestParams, token);\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asInlayHints(values, token);\n                    }\n                    catch (error) {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, token, error, null);\n                    }\n                };\n                const middleware = client.middleware;\n                return middleware.provideInlayHints\n                    ? middleware.provideInlayHints(document, viewPort, token, provideInlayHints)\n                    : provideInlayHints(document, viewPort, token);\n            }\n        };\n        provider.resolveInlayHint = options.resolveProvider === true\n            ? (hint, token) => {\n                const client = this._client;\n                const resolveInlayHint = async (item, token) => {\n                    try {\n                        const value = await client.sendRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, client.code2ProtocolConverter.asInlayHint(item), token);\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        const result = client.protocol2CodeConverter.asInlayHint(value, token);\n                        return token.isCancellationRequested ? null : result;\n                    }\n                    catch (error) {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, token, error, null);\n                    }\n                };\n                const middleware = client.middleware;\n                return middleware.resolveInlayHint\n                    ? middleware.resolveInlayHint(hint, token, resolveInlayHint)\n                    : resolveInlayHint(hint, token);\n            }\n            : undefined;\n        return [this.registerProvider(selector, provider), { provider: provider, onDidChangeInlayHints: eventEmitter }];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.InlayHintsFeature = InlayHintsFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineCompletionItemFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass InlineCompletionItemFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.InlineCompletionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let inlineCompletion = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'inlineCompletion');\n        inlineCompletion.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.inlineCompletionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideInlineCompletionItems: (document, position, context, token) => {\n                const client = this._client;\n                const middleware = this._client.middleware;\n                const provideInlineCompletionItems = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.InlineCompletionRequest.type, client.code2ProtocolConverter.asInlineCompletionParams(document, position, context), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asInlineCompletionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlineCompletionRequest.type, token, error, null);\n                    });\n                };\n                return middleware.provideInlineCompletionItems\n                    ? middleware.provideInlineCompletionItems(document, position, context, token, provideInlineCompletionItems)\n                    : provideInlineCompletionItems(document, position, context, token);\n            }\n        };\n        return [vscode_1.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.InlineCompletionItemFeature = InlineCompletionItemFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass InlineValueFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.InlineValueRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'inlineValue').dynamicRegistration = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'inlineValue').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        this._client.onRequest(vscode_languageserver_protocol_1.InlineValueRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeInlineValues.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.inlineValueProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeInlineValues: eventEmitter.event,\n            provideInlineValues: (document, viewPort, context, token) => {\n                const client = this._client;\n                const provideInlineValues = (document, viewPort, context, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(viewPort),\n                        context: client.code2ProtocolConverter.asInlineValueContext(context)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, requestParams, token).then((values) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asInlineValues(values, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideInlineValues\n                    ? middleware.provideInlineValues(document, viewPort, context, token, provideInlineValues)\n                    : provideInlineValues(document, viewPort, context, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), { provider: provider, onDidChangeInlineValues: eventEmitter }];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.InlineValueFeature = InlineValueFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingFeature = void 0;\nconst code = require(\"vscode\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass LinkedEditingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, proto.LinkedEditingRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const linkedEditingSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'linkedEditingRange');\n        linkedEditingSupport.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.linkedEditingRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideLinkedEditingRanges: (document, position, token) => {\n                const client = this._client;\n                const provideLinkedEditing = (document, position, token) => {\n                    return client.sendRequest(proto.LinkedEditingRangeRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asLinkedEditingRanges(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(proto.LinkedEditingRangeRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideLinkedEditingRange\n                    ? middleware.provideLinkedEditingRange(document, position, token, provideLinkedEditing)\n                    : provideLinkedEditing(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return code.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.LinkedEditingFeature = LinkedEditingFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotebookDocumentSyncFeature = void 0;\nconst vscode = require(\"vscode\");\nconst minimatch = require(\"minimatch\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst Is = require(\"./utils/is\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nvar Converter;\n(function (Converter) {\n    let c2p;\n    (function (c2p) {\n        function asVersionedNotebookDocumentIdentifier(notebookDocument, base) {\n            return {\n                version: notebookDocument.version,\n                uri: base.asUri(notebookDocument.uri)\n            };\n        }\n        c2p.asVersionedNotebookDocumentIdentifier = asVersionedNotebookDocumentIdentifier;\n        function asNotebookDocument(notebookDocument, cells, base) {\n            const result = proto.NotebookDocument.create(base.asUri(notebookDocument.uri), notebookDocument.notebookType, notebookDocument.version, asNotebookCells(cells, base));\n            if (Object.keys(notebookDocument.metadata).length > 0) {\n                result.metadata = asMetadata(notebookDocument.metadata);\n            }\n            return result;\n        }\n        c2p.asNotebookDocument = asNotebookDocument;\n        function asNotebookCells(cells, base) {\n            return cells.map(cell => asNotebookCell(cell, base));\n        }\n        c2p.asNotebookCells = asNotebookCells;\n        function asMetadata(metadata) {\n            const seen = new Set();\n            return deepCopy(seen, metadata);\n        }\n        c2p.asMetadata = asMetadata;\n        function asNotebookCell(cell, base) {\n            const result = proto.NotebookCell.create(asNotebookCellKind(cell.kind), base.asUri(cell.document.uri));\n            if (Object.keys(cell.metadata).length > 0) {\n                result.metadata = asMetadata(cell.metadata);\n            }\n            if (cell.executionSummary !== undefined && (Is.number(cell.executionSummary.executionOrder) && Is.boolean(cell.executionSummary.success))) {\n                result.executionSummary = {\n                    executionOrder: cell.executionSummary.executionOrder,\n                    success: cell.executionSummary.success\n                };\n            }\n            return result;\n        }\n        c2p.asNotebookCell = asNotebookCell;\n        function asNotebookCellKind(kind) {\n            switch (kind) {\n                case vscode.NotebookCellKind.Markup:\n                    return proto.NotebookCellKind.Markup;\n                case vscode.NotebookCellKind.Code:\n                    return proto.NotebookCellKind.Code;\n            }\n        }\n        function deepCopy(seen, value) {\n            if (seen.has(value)) {\n                throw new Error(`Can't deep copy cyclic structures.`);\n            }\n            if (Array.isArray(value)) {\n                const result = [];\n                for (const elem of value) {\n                    if (elem !== null && typeof elem === 'object' || Array.isArray(elem)) {\n                        result.push(deepCopy(seen, elem));\n                    }\n                    else {\n                        if (elem instanceof RegExp) {\n                            throw new Error(`Can't transfer regular expressions to the server`);\n                        }\n                        result.push(elem);\n                    }\n                }\n                return result;\n            }\n            else {\n                const props = Object.keys(value);\n                const result = Object.create(null);\n                for (const prop of props) {\n                    const elem = value[prop];\n                    if (elem !== null && typeof elem === 'object' || Array.isArray(elem)) {\n                        result[prop] = deepCopy(seen, elem);\n                    }\n                    else {\n                        if (elem instanceof RegExp) {\n                            throw new Error(`Can't transfer regular expressions to the server`);\n                        }\n                        result[prop] = elem;\n                    }\n                }\n                return result;\n            }\n        }\n        function asTextContentChange(event, base) {\n            const params = base.asChangeTextDocumentParams(event, event.document.uri, event.document.version);\n            return { document: params.textDocument, changes: params.contentChanges };\n        }\n        c2p.asTextContentChange = asTextContentChange;\n        function asNotebookDocumentChangeEvent(event, base) {\n            const result = Object.create(null);\n            if (event.metadata) {\n                result.metadata = Converter.c2p.asMetadata(event.metadata);\n            }\n            if (event.cells !== undefined) {\n                const cells = Object.create(null);\n                const changedCells = event.cells;\n                if (changedCells.structure) {\n                    cells.structure = {\n                        array: {\n                            start: changedCells.structure.array.start,\n                            deleteCount: changedCells.structure.array.deleteCount,\n                            cells: changedCells.structure.array.cells !== undefined ? changedCells.structure.array.cells.map(cell => Converter.c2p.asNotebookCell(cell, base)) : undefined\n                        },\n                        didOpen: changedCells.structure.didOpen !== undefined\n                            ? changedCells.structure.didOpen.map(cell => base.asOpenTextDocumentParams(cell.document).textDocument)\n                            : undefined,\n                        didClose: changedCells.structure.didClose !== undefined\n                            ? changedCells.structure.didClose.map(cell => base.asCloseTextDocumentParams(cell.document).textDocument)\n                            : undefined\n                    };\n                }\n                if (changedCells.data !== undefined) {\n                    cells.data = changedCells.data.map(cell => Converter.c2p.asNotebookCell(cell, base));\n                }\n                if (changedCells.textContent !== undefined) {\n                    cells.textContent = changedCells.textContent.map(event => Converter.c2p.asTextContentChange(event, base));\n                }\n                if (Object.keys(cells).length > 0) {\n                    result.cells = cells;\n                }\n            }\n            return result;\n        }\n        c2p.asNotebookDocumentChangeEvent = asNotebookDocumentChangeEvent;\n    })(c2p = Converter.c2p || (Converter.c2p = {}));\n})(Converter || (Converter = {}));\nvar $NotebookCell;\n(function ($NotebookCell) {\n    function computeDiff(originalCells, modifiedCells, compareMetadata) {\n        const originalLength = originalCells.length;\n        const modifiedLength = modifiedCells.length;\n        let startIndex = 0;\n        while (startIndex < modifiedLength && startIndex < originalLength && equals(originalCells[startIndex], modifiedCells[startIndex], compareMetadata)) {\n            startIndex++;\n        }\n        if (startIndex < modifiedLength && startIndex < originalLength) {\n            let originalEndIndex = originalLength - 1;\n            let modifiedEndIndex = modifiedLength - 1;\n            while (originalEndIndex >= 0 && modifiedEndIndex >= 0 && equals(originalCells[originalEndIndex], modifiedCells[modifiedEndIndex], compareMetadata)) {\n                originalEndIndex--;\n                modifiedEndIndex--;\n            }\n            const deleteCount = (originalEndIndex + 1) - startIndex;\n            const newCells = startIndex === modifiedEndIndex + 1 ? undefined : modifiedCells.slice(startIndex, modifiedEndIndex + 1);\n            return newCells !== undefined ? { start: startIndex, deleteCount, cells: newCells } : { start: startIndex, deleteCount };\n        }\n        else if (startIndex < modifiedLength) {\n            return { start: startIndex, deleteCount: 0, cells: modifiedCells.slice(startIndex) };\n        }\n        else if (startIndex < originalLength) {\n            return { start: startIndex, deleteCount: originalLength - startIndex };\n        }\n        else {\n            // The two arrays are the same.\n            return undefined;\n        }\n    }\n    $NotebookCell.computeDiff = computeDiff;\n    /**\n     * We only sync kind, document, execution and metadata to the server. So we only need to compare those.\n     */\n    function equals(one, other, compareMetaData = true) {\n        if (one.kind !== other.kind || one.document.uri.toString() !== other.document.uri.toString() || one.document.languageId !== other.document.languageId ||\n            !equalsExecution(one.executionSummary, other.executionSummary)) {\n            return false;\n        }\n        return !compareMetaData || (compareMetaData && equalsMetadata(one.metadata, other.metadata));\n    }\n    function equalsExecution(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === undefined || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success && equalsTiming(one.timing, other.timing);\n    }\n    function equalsTiming(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === undefined || other === undefined) {\n            return false;\n        }\n        return one.startTime === other.startTime && one.endTime === other.endTime;\n    }\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (isObjectLiteral(one) && isObjectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    function isObjectLiteral(value) {\n        return value !== null && typeof value === 'object';\n    }\n    $NotebookCell.isObjectLiteral = isObjectLiteral;\n})($NotebookCell || ($NotebookCell = {}));\nvar $NotebookDocumentFilter;\n(function ($NotebookDocumentFilter) {\n    function matchNotebook(filter, notebookDocument) {\n        if (typeof filter === 'string') {\n            return filter === '*' || notebookDocument.notebookType === filter;\n        }\n        if (filter.notebookType !== undefined && filter.notebookType !== '*' && notebookDocument.notebookType !== filter.notebookType) {\n            return false;\n        }\n        const uri = notebookDocument.uri;\n        if (filter.scheme !== undefined && filter.scheme !== '*' && uri.scheme !== filter.scheme) {\n            return false;\n        }\n        if (filter.pattern !== undefined) {\n            const matcher = new minimatch.Minimatch(filter.pattern, { noext: true });\n            if (!matcher.makeRe()) {\n                return false;\n            }\n            if (!matcher.match(uri.fsPath)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    $NotebookDocumentFilter.matchNotebook = matchNotebook;\n})($NotebookDocumentFilter || ($NotebookDocumentFilter = {}));\nvar $NotebookDocumentSyncOptions;\n(function ($NotebookDocumentSyncOptions) {\n    function asDocumentSelector(options) {\n        const selector = options.notebookSelector;\n        const result = [];\n        for (const element of selector) {\n            const notebookType = (typeof element.notebook === 'string' ? element.notebook : element.notebook?.notebookType) ?? '*';\n            const scheme = (typeof element.notebook === 'string') ? undefined : element.notebook?.scheme;\n            const pattern = (typeof element.notebook === 'string') ? undefined : element.notebook?.pattern;\n            if (element.cells !== undefined) {\n                for (const cell of element.cells) {\n                    result.push(asDocumentFilter(notebookType, scheme, pattern, cell.language));\n                }\n            }\n            else {\n                result.push(asDocumentFilter(notebookType, scheme, pattern, undefined));\n            }\n        }\n        return result;\n    }\n    $NotebookDocumentSyncOptions.asDocumentSelector = asDocumentSelector;\n    function asDocumentFilter(notebookType, scheme, pattern, language) {\n        return scheme === undefined && pattern === undefined\n            ? { notebook: notebookType, language }\n            : { notebook: { notebookType, scheme, pattern }, language };\n    }\n})($NotebookDocumentSyncOptions || ($NotebookDocumentSyncOptions = {}));\nvar SyncInfo;\n(function (SyncInfo) {\n    function create(cells) {\n        return {\n            cells,\n            uris: new Set(cells.map(cell => cell.document.uri.toString()))\n        };\n    }\n    SyncInfo.create = create;\n})(SyncInfo || (SyncInfo = {}));\nclass NotebookDocumentSyncFeatureProvider {\n    constructor(client, options) {\n        this.client = client;\n        this.options = options;\n        this.notebookSyncInfo = new Map();\n        this.notebookDidOpen = new Set();\n        this.disposables = [];\n        this.selector = client.protocol2CodeConverter.asDocumentSelector($NotebookDocumentSyncOptions.asDocumentSelector(options));\n        // open\n        vscode.workspace.onDidOpenNotebookDocument((notebookDocument) => {\n            this.notebookDidOpen.add(notebookDocument.uri.toString());\n            this.didOpen(notebookDocument);\n        }, undefined, this.disposables);\n        for (const notebookDocument of vscode.workspace.notebookDocuments) {\n            this.notebookDidOpen.add(notebookDocument.uri.toString());\n            this.didOpen(notebookDocument);\n        }\n        // Notebook document changed.\n        vscode.workspace.onDidChangeNotebookDocument(event => this.didChangeNotebookDocument(event), undefined, this.disposables);\n        //save\n        if (this.options.save === true) {\n            vscode.workspace.onDidSaveNotebookDocument(notebookDocument => this.didSave(notebookDocument), undefined, this.disposables);\n        }\n        // close\n        vscode.workspace.onDidCloseNotebookDocument((notebookDocument) => {\n            this.didClose(notebookDocument);\n            this.notebookDidOpen.delete(notebookDocument.uri.toString());\n        }, undefined, this.disposables);\n    }\n    getState() {\n        for (const notebook of vscode.workspace.notebookDocuments) {\n            const matchingCells = this.getMatchingCells(notebook);\n            if (matchingCells !== undefined) {\n                return { kind: 'document', id: '$internal', registrations: true, matches: true };\n            }\n        }\n        return { kind: 'document', id: '$internal', registrations: true, matches: false };\n    }\n    get mode() {\n        return 'notebook';\n    }\n    handles(textDocument) {\n        return vscode.languages.match(this.selector, textDocument) > 0;\n    }\n    didOpenNotebookCellTextDocument(notebookDocument, cell) {\n        if (vscode.languages.match(this.selector, cell.document) === 0) {\n            return;\n        }\n        if (!this.notebookDidOpen.has(notebookDocument.uri.toString())) {\n            // We have never received an open notification for the notebook document.\n            // VS Code guarantees that we first get cell document open and then\n            // notebook open. So simply wait for the notebook open.\n            return;\n        }\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        // In VS Code we receive a notebook open before a cell document open.\n        // The document and the cell is synced.\n        const cellMatches = this.cellMatches(notebookDocument, cell);\n        if (syncInfo !== undefined) {\n            const cellIsSynced = syncInfo.uris.has(cell.document.uri.toString());\n            if ((cellMatches && cellIsSynced) || (!cellMatches && !cellIsSynced)) {\n                // The cell doesn't match and was not synced or it matches and is synced.\n                // In both cases nothing to do.\n                //\n                // Note that if the language mode of a document changes we remove the\n                // cell and add it back to update the language mode on the server side.\n                return;\n            }\n            if (cellMatches) {\n                // don't use cells from above since there might be more matching cells in the notebook\n                // Since we had a matching cell above we will have matching cells now.\n                const matchingCells = this.getMatchingCells(notebookDocument);\n                if (matchingCells !== undefined) {\n                    const event = this.asNotebookDocumentChangeEvent(notebookDocument, undefined, syncInfo, matchingCells);\n                    if (event !== undefined) {\n                        this.doSendChange(event, matchingCells).catch(() => { });\n                    }\n                }\n            }\n        }\n        else {\n            // No sync info. But we have a open event for the notebook document\n            // itself. If the cell matches then we need to send an open with\n            // exactly that cell.\n            if (cellMatches) {\n                this.doSendOpen(notebookDocument, [cell]).catch(() => { });\n            }\n        }\n    }\n    didChangeNotebookCellTextDocument(notebookDocument, event) {\n        // No match with the selector\n        if (vscode.languages.match(this.selector, event.document) === 0) {\n            return;\n        }\n        this.doSendChange({\n            notebook: notebookDocument,\n            cells: { textContent: [event] }\n        }, undefined).catch(() => { });\n    }\n    didCloseNotebookCellTextDocument(notebookDocument, cell) {\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        if (syncInfo === undefined) {\n            // The notebook document got never synced. So it doesn't matter if a cell\n            // document closes.\n            return;\n        }\n        const cellUri = cell.document.uri;\n        const index = syncInfo.cells.findIndex((item) => item.document.uri.toString() === cellUri.toString());\n        if (index === -1) {\n            // The cell never got synced or it got deleted and we now received the document\n            // close event.\n            return;\n        }\n        if (index === 0 && syncInfo.cells.length === 1) {\n            // The last cell. Close the notebook document in the server.\n            this.doSendClose(notebookDocument, syncInfo.cells).catch(() => { });\n        }\n        else {\n            const newCells = syncInfo.cells.slice();\n            const deleted = newCells.splice(index, 1);\n            this.doSendChange({\n                notebook: notebookDocument,\n                cells: {\n                    structure: {\n                        array: { start: index, deleteCount: 1 },\n                        didClose: deleted\n                    }\n                }\n            }, newCells).catch(() => { });\n        }\n    }\n    dispose() {\n        for (const disposable of this.disposables) {\n            disposable.dispose();\n        }\n    }\n    didOpen(notebookDocument, matchingCells = this.getMatchingCells(notebookDocument), syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString())) {\n        if (syncInfo !== undefined) {\n            if (matchingCells !== undefined) {\n                const event = this.asNotebookDocumentChangeEvent(notebookDocument, undefined, syncInfo, matchingCells);\n                if (event !== undefined) {\n                    this.doSendChange(event, matchingCells).catch(() => { });\n                }\n            }\n            else {\n                this.doSendClose(notebookDocument, []).catch(() => { });\n            }\n        }\n        else {\n            // Check if we need to sync the notebook document.\n            if (matchingCells === undefined) {\n                return;\n            }\n            this.doSendOpen(notebookDocument, matchingCells).catch(() => { });\n        }\n    }\n    didChangeNotebookDocument(event) {\n        const notebookDocument = event.notebook;\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        if (syncInfo === undefined) {\n            // We have no changes to the cells. Since the notebook wasn't synced\n            // it will not be synced now.\n            if (event.contentChanges.length === 0) {\n                return;\n            }\n            // Check if we have new matching cells.\n            const cells = this.getMatchingCells(notebookDocument);\n            // No matching cells and the notebook never synced. So still no need\n            // to sync it.\n            if (cells === undefined) {\n                return;\n            }\n            // Open the notebook document and ignore the rest of the changes\n            // this the notebooks will be synced with the correct settings.\n            this.didOpen(notebookDocument, cells, syncInfo);\n        }\n        else {\n            // The notebook is synced. First check if we have no matching\n            // cells anymore and if so close the notebook\n            const cells = this.getMatchingCells(notebookDocument);\n            if (cells === undefined) {\n                this.didClose(notebookDocument, syncInfo);\n                return;\n            }\n            const newEvent = this.asNotebookDocumentChangeEvent(event.notebook, event, syncInfo, cells);\n            if (newEvent !== undefined) {\n                this.doSendChange(newEvent, cells).catch(() => { });\n            }\n        }\n    }\n    didSave(notebookDocument) {\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        if (syncInfo === undefined) {\n            return;\n        }\n        this.doSendSave(notebookDocument).catch(() => { });\n    }\n    didClose(notebookDocument, syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString())) {\n        if (syncInfo === undefined) {\n            return;\n        }\n        const syncedCells = notebookDocument.getCells().filter(cell => syncInfo.uris.has(cell.document.uri.toString()));\n        this.doSendClose(notebookDocument, syncedCells).catch(() => { });\n    }\n    async sendDidOpenNotebookDocument(notebookDocument) {\n        const cells = this.getMatchingCells(notebookDocument);\n        if (cells === undefined) {\n            return;\n        }\n        return this.doSendOpen(notebookDocument, cells);\n    }\n    async doSendOpen(notebookDocument, cells) {\n        const send = async (notebookDocument, cells) => {\n            const nb = Converter.c2p.asNotebookDocument(notebookDocument, cells, this.client.code2ProtocolConverter);\n            const cellDocuments = cells.map(cell => this.client.code2ProtocolConverter.asTextDocumentItem(cell.document));\n            try {\n                await this.client.sendNotification(proto.DidOpenNotebookDocumentNotification.type, {\n                    notebookDocument: nb,\n                    cellTextDocuments: cellDocuments\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidOpenNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        this.notebookSyncInfo.set(notebookDocument.uri.toString(), SyncInfo.create(cells));\n        return middleware?.didOpen !== undefined ? middleware.didOpen(notebookDocument, cells, send) : send(notebookDocument, cells);\n    }\n    async sendDidChangeNotebookDocument(event) {\n        return this.doSendChange(event, undefined);\n    }\n    async doSendChange(event, cells = this.getMatchingCells(event.notebook)) {\n        const send = async (event) => {\n            try {\n                await this.client.sendNotification(proto.DidChangeNotebookDocumentNotification.type, {\n                    notebookDocument: Converter.c2p.asVersionedNotebookDocumentIdentifier(event.notebook, this.client.code2ProtocolConverter),\n                    change: Converter.c2p.asNotebookDocumentChangeEvent(event, this.client.code2ProtocolConverter)\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidChangeNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        if (event.cells?.structure !== undefined) {\n            this.notebookSyncInfo.set(event.notebook.uri.toString(), SyncInfo.create(cells ?? []));\n        }\n        return middleware?.didChange !== undefined ? middleware?.didChange(event, send) : send(event);\n    }\n    async sendDidSaveNotebookDocument(notebookDocument) {\n        return this.doSendSave(notebookDocument);\n    }\n    async doSendSave(notebookDocument) {\n        const send = async (notebookDocument) => {\n            try {\n                await this.client.sendNotification(proto.DidSaveNotebookDocumentNotification.type, {\n                    notebookDocument: { uri: this.client.code2ProtocolConverter.asUri(notebookDocument.uri) }\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidSaveNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        return middleware?.didSave !== undefined ? middleware.didSave(notebookDocument, send) : send(notebookDocument);\n    }\n    async sendDidCloseNotebookDocument(notebookDocument) {\n        return this.doSendClose(notebookDocument, this.getMatchingCells(notebookDocument) ?? []);\n    }\n    async doSendClose(notebookDocument, cells) {\n        const send = async (notebookDocument, cells) => {\n            try {\n                await this.client.sendNotification(proto.DidCloseNotebookDocumentNotification.type, {\n                    notebookDocument: { uri: this.client.code2ProtocolConverter.asUri(notebookDocument.uri) },\n                    cellTextDocuments: cells.map(cell => this.client.code2ProtocolConverter.asTextDocumentIdentifier(cell.document))\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidCloseNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        this.notebookSyncInfo.delete(notebookDocument.uri.toString());\n        return middleware?.didClose !== undefined ? middleware.didClose(notebookDocument, cells, send) : send(notebookDocument, cells);\n    }\n    asNotebookDocumentChangeEvent(notebook, event, syncInfo, matchingCells) {\n        if (event !== undefined && event.notebook !== notebook) {\n            throw new Error('Notebook must be identical');\n        }\n        const result = {\n            notebook: notebook\n        };\n        if (event?.metadata !== undefined) {\n            result.metadata = Converter.c2p.asMetadata(event.metadata);\n        }\n        let matchingCellsSet;\n        if (event?.cellChanges !== undefined && event.cellChanges.length > 0) {\n            const data = [];\n            // Only consider the new matching cells.\n            matchingCellsSet = new Set(matchingCells.map(cell => cell.document.uri.toString()));\n            for (const cellChange of event.cellChanges) {\n                if (matchingCellsSet.has(cellChange.cell.document.uri.toString()) && (cellChange.executionSummary !== undefined || cellChange.metadata !== undefined)) {\n                    data.push(cellChange.cell);\n                }\n            }\n            if (data.length > 0) {\n                result.cells = result.cells ?? {};\n                result.cells.data = data;\n            }\n        }\n        if (((event?.contentChanges !== undefined && event.contentChanges.length > 0) || event === undefined) && syncInfo !== undefined && matchingCells !== undefined) {\n            // We still have matching cells. Check if the cell changes\n            // affect the notebook on the server side.\n            const oldCells = syncInfo.cells;\n            const newCells = matchingCells;\n            // meta data changes are reported using on the cell itself. So we can ignore comparing\n            // it which has a positive effect on performance.\n            const diff = $NotebookCell.computeDiff(oldCells, newCells, false);\n            let addedCells;\n            let removedCells;\n            if (diff !== undefined) {\n                addedCells = diff.cells === undefined\n                    ? new Map()\n                    : new Map(diff.cells.map(cell => [cell.document.uri.toString(), cell]));\n                removedCells = diff.deleteCount === 0\n                    ? new Map()\n                    : new Map(oldCells.slice(diff.start, diff.start + diff.deleteCount).map(cell => [cell.document.uri.toString(), cell]));\n                // Remove the onces that got deleted and inserted again.\n                for (const key of Array.from(removedCells.keys())) {\n                    if (addedCells.has(key)) {\n                        removedCells.delete(key);\n                        addedCells.delete(key);\n                    }\n                }\n                result.cells = result.cells ?? {};\n                const didOpen = [];\n                const didClose = [];\n                if (addedCells.size > 0 || removedCells.size > 0) {\n                    for (const cell of addedCells.values()) {\n                        didOpen.push(cell);\n                    }\n                    for (const cell of removedCells.values()) {\n                        didClose.push(cell);\n                    }\n                }\n                result.cells.structure = {\n                    array: diff,\n                    didOpen,\n                    didClose\n                };\n            }\n        }\n        // The notebook is a property as well.\n        return Object.keys(result).length > 1 ? result : undefined;\n    }\n    getMatchingCells(notebookDocument, cells = notebookDocument.getCells()) {\n        if (this.options.notebookSelector === undefined) {\n            return undefined;\n        }\n        for (const item of this.options.notebookSelector) {\n            if (item.notebook === undefined || $NotebookDocumentFilter.matchNotebook(item.notebook, notebookDocument)) {\n                const filtered = this.filterCells(notebookDocument, cells, item.cells);\n                return filtered.length === 0 ? undefined : filtered;\n            }\n        }\n        return undefined;\n    }\n    cellMatches(notebookDocument, cell) {\n        const cells = this.getMatchingCells(notebookDocument, [cell]);\n        return cells !== undefined && cells[0] === cell;\n    }\n    filterCells(notebookDocument, cells, cellSelector) {\n        const filtered = cellSelector !== undefined ? cells.filter((cell) => {\n            const cellLanguage = cell.document.languageId;\n            return cellSelector.some((filter => (filter.language === '*' || cellLanguage === filter.language)));\n        }) : cells;\n        return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells === 'function'\n            ? this.client.clientOptions.notebookDocumentOptions.filterCells(notebookDocument, filtered)\n            : filtered;\n    }\n}\nclass NotebookDocumentSyncFeature {\n    constructor(client) {\n        this.client = client;\n        this.registrations = new Map();\n        this.registrationType = proto.NotebookDocumentSyncRegistrationType.type;\n        // We don't receive an event for cells where the document changes its language mode\n        // Since we allow servers to filter on the language mode we fire such an event ourselves.\n        vscode.workspace.onDidOpenTextDocument((textDocument) => {\n            if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n                return;\n            }\n            const [notebookDocument, notebookCell] = this.findNotebookDocumentAndCell(textDocument);\n            if (notebookDocument === undefined || notebookCell === undefined) {\n                return;\n            }\n            for (const provider of this.registrations.values()) {\n                if (provider instanceof NotebookDocumentSyncFeatureProvider) {\n                    provider.didOpenNotebookCellTextDocument(notebookDocument, notebookCell);\n                }\n            }\n        });\n        vscode.workspace.onDidChangeTextDocument((event) => {\n            if (event.contentChanges.length === 0) {\n                return;\n            }\n            const textDocument = event.document;\n            if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n                return;\n            }\n            const [notebookDocument,] = this.findNotebookDocumentAndCell(textDocument);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            for (const provider of this.registrations.values()) {\n                if (provider instanceof NotebookDocumentSyncFeatureProvider) {\n                    provider.didChangeNotebookCellTextDocument(notebookDocument, event);\n                }\n            }\n        });\n        vscode.workspace.onDidCloseTextDocument((textDocument) => {\n            if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n                return;\n            }\n            // There are two cases when we receive a close for a text document\n            // 1: the cell got removed. This is handled in `onDidChangeNotebookCells`\n            // 2: the language mode of a cell changed. This keeps the URI stable so\n            //    we will still find the cell and the notebook document.\n            const [notebookDocument, notebookCell] = this.findNotebookDocumentAndCell(textDocument);\n            if (notebookDocument === undefined || notebookCell === undefined) {\n                return;\n            }\n            for (const provider of this.registrations.values()) {\n                if (provider instanceof NotebookDocumentSyncFeatureProvider) {\n                    provider.didCloseNotebookCellTextDocument(notebookDocument, notebookCell);\n                }\n            }\n        });\n    }\n    getState() {\n        if (this.registrations.size === 0) {\n            return { kind: 'document', id: this.registrationType.method, registrations: false, matches: false };\n        }\n        for (const provider of this.registrations.values()) {\n            const state = provider.getState();\n            if (state.kind === 'document' && state.registrations === true && state.matches === true) {\n                return { kind: 'document', id: this.registrationType.method, registrations: true, matches: true };\n            }\n        }\n        return { kind: 'document', id: this.registrationType.method, registrations: true, matches: false };\n    }\n    fillClientCapabilities(capabilities) {\n        const synchronization = ensure(ensure(capabilities, 'notebookDocument'), 'synchronization');\n        synchronization.dynamicRegistration = true;\n        synchronization.executionSummarySupport = true;\n    }\n    preInitialize(capabilities) {\n        const options = capabilities.notebookDocumentSync;\n        if (options === undefined) {\n            return;\n        }\n        this.dedicatedChannel = this.client.protocol2CodeConverter.asDocumentSelector($NotebookDocumentSyncOptions.asDocumentSelector(options));\n    }\n    initialize(capabilities) {\n        const options = capabilities.notebookDocumentSync;\n        if (options === undefined) {\n            return;\n        }\n        const id = options.id ?? UUID.generateUuid();\n        this.register({ id, registerOptions: options });\n    }\n    register(data) {\n        const provider = new NotebookDocumentSyncFeatureProvider(this.client, data.registerOptions);\n        this.registrations.set(data.id, provider);\n    }\n    unregister(id) {\n        const provider = this.registrations.get(id);\n        provider && provider.dispose();\n    }\n    clear() {\n        for (const provider of this.registrations.values()) {\n            provider.dispose();\n        }\n        this.registrations.clear();\n    }\n    handles(textDocument) {\n        if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n            return false;\n        }\n        if (this.dedicatedChannel !== undefined && vscode.languages.match(this.dedicatedChannel, textDocument) > 0) {\n            return true;\n        }\n        for (const provider of this.registrations.values()) {\n            if (provider.handles(textDocument)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getProvider(notebookCell) {\n        for (const provider of this.registrations.values()) {\n            if (provider.handles(notebookCell.document)) {\n                return provider;\n            }\n        }\n        return undefined;\n    }\n    findNotebookDocumentAndCell(textDocument) {\n        const uri = textDocument.uri.toString();\n        for (const notebookDocument of vscode.workspace.notebookDocuments) {\n            for (const cell of notebookDocument.getCells()) {\n                if (cell.document.uri.toString() === uri) {\n                    return [notebookDocument, cell];\n                }\n            }\n        }\n        return [undefined, undefined];\n    }\n}\nexports.NotebookDocumentSyncFeature = NotebookDocumentSyncFeature;\nNotebookDocumentSyncFeature.CellScheme = 'vscode-notebook-cell';\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst progressPart_1 = require(\"./progressPart\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = Object.create(null);\n    }\n    return target[key];\n}\nclass ProgressFeature {\n    constructor(_client) {\n        this._client = _client;\n        this.activeParts = new Set();\n    }\n    getState() {\n        return { kind: 'window', id: vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.method, registrations: this.activeParts.size > 0 };\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(capabilities, 'window').workDoneProgress = true;\n    }\n    initialize() {\n        const client = this._client;\n        const deleteHandler = (part) => {\n            this.activeParts.delete(part);\n        };\n        const createHandler = (params) => {\n            this.activeParts.add(new progressPart_1.ProgressPart(this._client, params.token, deleteHandler));\n        };\n        client.onRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, createHandler);\n    }\n    clear() {\n        for (const part of this.activeParts) {\n            part.done();\n        }\n        this.activeParts.clear();\n    }\n}\nexports.ProgressFeature = ProgressFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressPart = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nclass ProgressPart {\n    constructor(_client, _token, done) {\n        this._client = _client;\n        this._token = _token;\n        this._reported = 0;\n        this._infinite = false;\n        this._lspProgressDisposable = this._client.onProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, (value) => {\n            switch (value.kind) {\n                case 'begin':\n                    this.begin(value);\n                    break;\n                case 'report':\n                    this.report(value);\n                    break;\n                case 'end':\n                    this.done();\n                    done && done(this);\n                    break;\n            }\n        });\n    }\n    begin(params) {\n        this._infinite = params.percentage === undefined;\n        // the progress as already been marked as done / canceled. Ignore begin call\n        if (this._lspProgressDisposable === undefined) {\n            return;\n        }\n        // Since we don't use commands this will be a silent window progress with a hidden notification.\n        void vscode_1.window.withProgress({ location: vscode_1.ProgressLocation.Window, cancellable: params.cancellable, title: params.title }, async (progress, cancellationToken) => {\n            // the progress as already been marked as done / canceled. Ignore begin call\n            if (this._lspProgressDisposable === undefined) {\n                return;\n            }\n            this._progress = progress;\n            this._cancellationToken = cancellationToken;\n            this._tokenDisposable = this._cancellationToken.onCancellationRequested(() => {\n                this._client.sendNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, { token: this._token });\n            });\n            this.report(params);\n            return new Promise((resolve, reject) => {\n                this._resolve = resolve;\n                this._reject = reject;\n            });\n        });\n    }\n    report(params) {\n        if (this._infinite && Is.string(params.message)) {\n            this._progress !== undefined && this._progress.report({ message: params.message });\n        }\n        else if (Is.number(params.percentage)) {\n            const percentage = Math.max(0, Math.min(params.percentage, 100));\n            const delta = Math.max(0, percentage - this._reported);\n            this._reported += delta;\n            this._progress !== undefined && this._progress.report({ message: params.message, increment: delta });\n        }\n    }\n    cancel() {\n        this.cleanup();\n        if (this._reject !== undefined) {\n            this._reject();\n            this._resolve = undefined;\n            this._reject = undefined;\n        }\n    }\n    done() {\n        this.cleanup();\n        if (this._resolve !== undefined) {\n            this._resolve();\n            this._resolve = undefined;\n            this._reject = undefined;\n        }\n    }\n    cleanup() {\n        if (this._lspProgressDisposable !== undefined) {\n            this._lspProgressDisposable.dispose();\n            this._lspProgressDisposable = undefined;\n        }\n        if (this._tokenDisposable !== undefined) {\n            this._tokenDisposable.dispose();\n            this._tokenDisposable = undefined;\n        }\n        this._progress = undefined;\n        this._cancellationToken = undefined;\n    }\n}\nexports.ProgressPart = ProgressPart;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCallHierarchyItem extends code.CallHierarchyItem {\n    constructor(kind, name, detail, uri, range, selectionRange, data) {\n        super(kind, name, detail, uri, range, selectionRange);\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = ProtocolCallHierarchyItem;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode = require(\"vscode\");\nclass ProtocolCodeAction extends vscode.CodeAction {\n    constructor(title, data) {\n        super(title);\n        this.data = data;\n    }\n}\nexports.default = ProtocolCodeAction;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCodeLens extends code.CodeLens {\n    constructor(range) {\n        super(range);\n    }\n}\nexports.default = ProtocolCodeLens;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCompletionItem extends code.CompletionItem {\n    constructor(label) {\n        super(label);\n    }\n}\nexports.default = ProtocolCompletionItem;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConverter = void 0;\nconst code = require(\"vscode\");\nconst ls = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst async = require(\"./utils/async\");\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\nconst protocolCodeAction_1 = require(\"./protocolCodeAction\");\nconst protocolDiagnostic_1 = require(\"./protocolDiagnostic\");\nconst protocolCallHierarchyItem_1 = require(\"./protocolCallHierarchyItem\");\nconst protocolTypeHierarchyItem_1 = require(\"./protocolTypeHierarchyItem\");\nconst protocolWorkspaceSymbol_1 = require(\"./protocolWorkspaceSymbol\");\nconst protocolInlayHint_1 = require(\"./protocolInlayHint\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nvar CodeBlock;\n(function (CodeBlock) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.string(candidate.language) && Is.string(candidate.value);\n    }\n    CodeBlock.is = is;\n})(CodeBlock || (CodeBlock = {}));\nfunction createConverter(uriConverter, trustMarkdown, supportHtml) {\n    const nullConverter = (value) => code.Uri.parse(value);\n    const _uriConverter = uriConverter || nullConverter;\n    function asUri(value) {\n        return _uriConverter(value);\n    }\n    function asDocumentSelector(selector) {\n        const result = [];\n        for (const filter of selector) {\n            if (typeof filter === 'string') {\n                result.push(filter);\n            }\n            else if (vscode_languageserver_protocol_1.NotebookCellTextDocumentFilter.is(filter)) {\n                // We first need to check for the notebook cell filter since a TextDocumentFilter would\n                // match both (e.g. the notebook is optional).\n                if (typeof filter.notebook === 'string') {\n                    result.push({ notebookType: filter.notebook, language: filter.language });\n                }\n                else {\n                    const notebookType = filter.notebook.notebookType ?? '*';\n                    result.push({ notebookType: notebookType, scheme: filter.notebook.scheme, pattern: filter.notebook.pattern, language: filter.language });\n                }\n            }\n            else if (vscode_languageserver_protocol_1.TextDocumentFilter.is(filter)) {\n                result.push({ language: filter.language, scheme: filter.scheme, pattern: filter.pattern });\n            }\n        }\n        return result;\n    }\n    async function asDiagnostics(diagnostics, token) {\n        return async.map(diagnostics, asDiagnostic, token);\n    }\n    function asDiagnosticsSync(diagnostics) {\n        const result = new Array(diagnostics.length);\n        for (let i = 0; i < diagnostics.length; i++) {\n            result[i] = asDiagnostic(diagnostics[i]);\n        }\n        return result;\n    }\n    function asDiagnostic(diagnostic) {\n        let result = new protocolDiagnostic_1.ProtocolDiagnostic(asRange(diagnostic.range), diagnostic.message, asDiagnosticSeverity(diagnostic.severity), diagnostic.data);\n        if (diagnostic.code !== undefined) {\n            if (typeof diagnostic.code === 'string' || typeof diagnostic.code === 'number') {\n                if (ls.CodeDescription.is(diagnostic.codeDescription)) {\n                    result.code = {\n                        value: diagnostic.code,\n                        target: asUri(diagnostic.codeDescription.href)\n                    };\n                }\n                else {\n                    result.code = diagnostic.code;\n                }\n            }\n            else if (protocolDiagnostic_1.DiagnosticCode.is(diagnostic.code)) {\n                // This is for backwards compatibility of a proposed API.\n                // We should remove this at some point.\n                result.hasDiagnosticCode = true;\n                const diagnosticCode = diagnostic.code;\n                result.code = {\n                    value: diagnosticCode.value,\n                    target: asUri(diagnosticCode.target)\n                };\n            }\n        }\n        if (diagnostic.source) {\n            result.source = diagnostic.source;\n        }\n        if (diagnostic.relatedInformation) {\n            result.relatedInformation = asRelatedInformation(diagnostic.relatedInformation);\n        }\n        if (Array.isArray(diagnostic.tags)) {\n            result.tags = asDiagnosticTags(diagnostic.tags);\n        }\n        return result;\n    }\n    function asRelatedInformation(relatedInformation) {\n        const result = new Array(relatedInformation.length);\n        for (let i = 0; i < relatedInformation.length; i++) {\n            const info = relatedInformation[i];\n            result[i] = new code.DiagnosticRelatedInformation(asLocation(info.location), info.message);\n        }\n        return result;\n    }\n    function asDiagnosticTags(tags) {\n        if (!tags) {\n            return undefined;\n        }\n        let result = [];\n        for (let tag of tags) {\n            let converted = asDiagnosticTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length > 0 ? result : undefined;\n    }\n    function asDiagnosticTag(tag) {\n        switch (tag) {\n            case ls.DiagnosticTag.Unnecessary:\n                return code.DiagnosticTag.Unnecessary;\n            case ls.DiagnosticTag.Deprecated:\n                return code.DiagnosticTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asPosition(value) {\n        return value ? new code.Position(value.line, value.character) : undefined;\n    }\n    function asRange(value) {\n        return value ? new code.Range(value.start.line, value.start.character, value.end.line, value.end.character) : undefined;\n    }\n    async function asRanges(items, token) {\n        return async.map(items, (range) => {\n            return new code.Range(range.start.line, range.start.character, range.end.line, range.end.character);\n        }, token);\n    }\n    function asDiagnosticSeverity(value) {\n        if (value === undefined || value === null) {\n            return code.DiagnosticSeverity.Error;\n        }\n        switch (value) {\n            case ls.DiagnosticSeverity.Error:\n                return code.DiagnosticSeverity.Error;\n            case ls.DiagnosticSeverity.Warning:\n                return code.DiagnosticSeverity.Warning;\n            case ls.DiagnosticSeverity.Information:\n                return code.DiagnosticSeverity.Information;\n            case ls.DiagnosticSeverity.Hint:\n                return code.DiagnosticSeverity.Hint;\n        }\n        return code.DiagnosticSeverity.Error;\n    }\n    function asHoverContent(value) {\n        if (Is.string(value)) {\n            return asMarkdownString(value);\n        }\n        else if (CodeBlock.is(value)) {\n            let result = asMarkdownString();\n            return result.appendCodeblock(value.value, value.language);\n        }\n        else if (Array.isArray(value)) {\n            let result = [];\n            for (let element of value) {\n                let item = asMarkdownString();\n                if (CodeBlock.is(element)) {\n                    item.appendCodeblock(element.value, element.language);\n                }\n                else {\n                    item.appendMarkdown(element);\n                }\n                result.push(item);\n            }\n            return result;\n        }\n        else {\n            return asMarkdownString(value);\n        }\n    }\n    function asDocumentation(value) {\n        if (Is.string(value)) {\n            return value;\n        }\n        else {\n            switch (value.kind) {\n                case ls.MarkupKind.Markdown:\n                    return asMarkdownString(value.value);\n                case ls.MarkupKind.PlainText:\n                    return value.value;\n                default:\n                    return `Unsupported Markup content received. Kind is: ${value.kind}`;\n            }\n        }\n    }\n    function asMarkdownString(value) {\n        let result;\n        if (value === undefined || typeof value === 'string') {\n            result = new code.MarkdownString(value);\n        }\n        else {\n            switch (value.kind) {\n                case ls.MarkupKind.Markdown:\n                    result = new code.MarkdownString(value.value);\n                    break;\n                case ls.MarkupKind.PlainText:\n                    result = new code.MarkdownString();\n                    result.appendText(value.value);\n                    break;\n                default:\n                    result = new code.MarkdownString();\n                    result.appendText(`Unsupported Markup content received. Kind is: ${value.kind}`);\n                    break;\n            }\n        }\n        result.isTrusted = trustMarkdown;\n        result.supportHtml = supportHtml;\n        return result;\n    }\n    function asHover(hover) {\n        if (!hover) {\n            return undefined;\n        }\n        return new code.Hover(asHoverContent(hover.contents), asRange(hover.range));\n    }\n    async function asCompletionResult(value, allCommitCharacters, token) {\n        if (!value) {\n            return undefined;\n        }\n        if (Array.isArray(value)) {\n            return async.map(value, (item) => asCompletionItem(item, allCommitCharacters), token);\n        }\n        const list = value;\n        const { defaultRange, commitCharacters } = getCompletionItemDefaults(list, allCommitCharacters);\n        const converted = await async.map(list.items, (item) => {\n            return asCompletionItem(item, commitCharacters, defaultRange, list.itemDefaults?.insertTextMode, list.itemDefaults?.insertTextFormat, list.itemDefaults?.data);\n        }, token);\n        return new code.CompletionList(converted, list.isIncomplete);\n    }\n    function getCompletionItemDefaults(list, allCommitCharacters) {\n        const rangeDefaults = list.itemDefaults?.editRange;\n        const commitCharacters = list.itemDefaults?.commitCharacters ?? allCommitCharacters;\n        return ls.Range.is(rangeDefaults)\n            ? { defaultRange: asRange(rangeDefaults), commitCharacters }\n            : rangeDefaults !== undefined\n                ? { defaultRange: { inserting: asRange(rangeDefaults.insert), replacing: asRange(rangeDefaults.replace) }, commitCharacters }\n                : { defaultRange: undefined, commitCharacters };\n    }\n    function asCompletionItemKind(value) {\n        // Protocol item kind is 1 based, codes item kind is zero based.\n        if (ls.CompletionItemKind.Text <= value && value <= ls.CompletionItemKind.TypeParameter) {\n            return [value - 1, undefined];\n        }\n        return [code.CompletionItemKind.Text, value];\n    }\n    function asCompletionItemTag(tag) {\n        switch (tag) {\n            case ls.CompletionItemTag.Deprecated:\n                return code.CompletionItemTag.Deprecated;\n        }\n        return undefined;\n    }\n    function asCompletionItemTags(tags) {\n        if (tags === undefined || tags === null) {\n            return [];\n        }\n        const result = [];\n        for (const tag of tags) {\n            const converted = asCompletionItemTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result;\n    }\n    function asCompletionItem(item, defaultCommitCharacters, defaultRange, defaultInsertTextMode, defaultInsertTextFormat, defaultData) {\n        const tags = asCompletionItemTags(item.tags);\n        const label = asCompletionItemLabel(item);\n        const result = new protocolCompletionItem_1.default(label);\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        if (item.documentation) {\n            result.documentation = asDocumentation(item.documentation);\n            result.documentationFormat = Is.string(item.documentation) ? '$string' : item.documentation.kind;\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        const insertText = asCompletionInsertText(item, defaultRange, defaultInsertTextFormat);\n        if (insertText) {\n            result.insertText = insertText.text;\n            result.range = insertText.range;\n            result.fromEdit = insertText.fromEdit;\n        }\n        if (Is.number(item.kind)) {\n            let [itemKind, original] = asCompletionItemKind(item.kind);\n            result.kind = itemKind;\n            if (original) {\n                result.originalItemKind = original;\n            }\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = asTextEditsSync(item.additionalTextEdits);\n        }\n        const commitCharacters = item.commitCharacters !== undefined\n            ? Is.stringArray(item.commitCharacters) ? item.commitCharacters : undefined\n            : defaultCommitCharacters;\n        if (commitCharacters) {\n            result.commitCharacters = commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.deprecated === true || item.deprecated === false) {\n            result.deprecated = item.deprecated;\n            if (item.deprecated === true) {\n                tags.push(code.CompletionItemTag.Deprecated);\n            }\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        const data = item.data ?? defaultData;\n        if (data !== undefined) {\n            result.data = data;\n        }\n        if (tags.length > 0) {\n            result.tags = tags;\n        }\n        const insertTextMode = item.insertTextMode ?? defaultInsertTextMode;\n        if (insertTextMode !== undefined) {\n            result.insertTextMode = insertTextMode;\n            if (insertTextMode === ls.InsertTextMode.asIs) {\n                result.keepWhitespace = true;\n            }\n        }\n        return result;\n    }\n    function asCompletionItemLabel(item) {\n        if (ls.CompletionItemLabelDetails.is(item.labelDetails)) {\n            return {\n                label: item.label,\n                detail: item.labelDetails.detail,\n                description: item.labelDetails.description\n            };\n        }\n        else {\n            return item.label;\n        }\n    }\n    function asCompletionInsertText(item, defaultRange, defaultInsertTextFormat) {\n        const insertTextFormat = item.insertTextFormat ?? defaultInsertTextFormat;\n        if (item.textEdit !== undefined || defaultRange !== undefined) {\n            const [range, newText] = item.textEdit !== undefined\n                ? getCompletionRangeAndText(item.textEdit)\n                : [defaultRange, item.textEditText ?? item.label];\n            if (insertTextFormat === ls.InsertTextFormat.Snippet) {\n                return { text: new code.SnippetString(newText), range: range, fromEdit: true };\n            }\n            else {\n                return { text: newText, range: range, fromEdit: true };\n            }\n        }\n        else if (item.insertText) {\n            if (insertTextFormat === ls.InsertTextFormat.Snippet) {\n                return { text: new code.SnippetString(item.insertText), fromEdit: false };\n            }\n            else {\n                return { text: item.insertText, fromEdit: false };\n            }\n        }\n        else {\n            return undefined;\n        }\n    }\n    function getCompletionRangeAndText(value) {\n        if (ls.InsertReplaceEdit.is(value)) {\n            return [{ inserting: asRange(value.insert), replacing: asRange(value.replace) }, value.newText];\n        }\n        else {\n            return [asRange(value.range), value.newText];\n        }\n    }\n    function asTextEdit(edit) {\n        if (!edit) {\n            return undefined;\n        }\n        return new code.TextEdit(asRange(edit.range), edit.newText);\n    }\n    async function asTextEdits(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asTextEdit, token);\n    }\n    function asTextEditsSync(items) {\n        if (!items) {\n            return undefined;\n        }\n        const result = new Array(items.length);\n        for (let i = 0; i < items.length; i++) {\n            result[i] = asTextEdit(items[i]);\n        }\n        return result;\n    }\n    async function asSignatureHelp(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new code.SignatureHelp();\n        if (Is.number(item.activeSignature)) {\n            result.activeSignature = item.activeSignature;\n        }\n        else {\n            // activeSignature was optional in the past\n            result.activeSignature = 0;\n        }\n        if (Is.number(item.activeParameter)) {\n            result.activeParameter = item.activeParameter;\n        }\n        else {\n            // activeParameter was optional in the past\n            result.activeParameter = 0;\n        }\n        if (item.signatures) {\n            result.signatures = await asSignatureInformations(item.signatures, token);\n        }\n        return result;\n    }\n    async function asSignatureInformations(items, token) {\n        return async.mapAsync(items, asSignatureInformation, token);\n    }\n    async function asSignatureInformation(item, token) {\n        let result = new code.SignatureInformation(item.label);\n        if (item.documentation !== undefined) {\n            result.documentation = asDocumentation(item.documentation);\n        }\n        if (item.parameters !== undefined) {\n            result.parameters = await asParameterInformations(item.parameters, token);\n        }\n        if (item.activeParameter !== undefined) {\n            result.activeParameter = item.activeParameter;\n        }\n        {\n            return result;\n        }\n    }\n    function asParameterInformations(items, token) {\n        return async.map(items, asParameterInformation, token);\n    }\n    function asParameterInformation(item) {\n        let result = new code.ParameterInformation(item.label);\n        if (item.documentation) {\n            result.documentation = asDocumentation(item.documentation);\n        }\n        return result;\n    }\n    function asLocation(item) {\n        return item ? new code.Location(_uriConverter(item.uri), asRange(item.range)) : undefined;\n    }\n    async function asDeclarationResult(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        return asLocationResult(item, token);\n    }\n    async function asDefinitionResult(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        return asLocationResult(item, token);\n    }\n    function asLocationLink(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = {\n            targetUri: _uriConverter(item.targetUri),\n            targetRange: asRange(item.targetRange),\n            originSelectionRange: asRange(item.originSelectionRange),\n            targetSelectionRange: asRange(item.targetSelectionRange)\n        };\n        if (!result.targetSelectionRange) {\n            throw new Error(`targetSelectionRange must not be undefined or null`);\n        }\n        return result;\n    }\n    async function asLocationResult(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        if (Is.array(item)) {\n            if (item.length === 0) {\n                return [];\n            }\n            else if (ls.LocationLink.is(item[0])) {\n                const links = item;\n                return async.map(links, asLocationLink, token);\n            }\n            else {\n                const locations = item;\n                return async.map(locations, asLocation, token);\n            }\n        }\n        else if (ls.LocationLink.is(item)) {\n            return [asLocationLink(item)];\n        }\n        else {\n            return asLocation(item);\n        }\n    }\n    async function asReferences(values, token) {\n        if (!values) {\n            return undefined;\n        }\n        return async.map(values, asLocation, token);\n    }\n    async function asDocumentHighlights(values, token) {\n        if (!values) {\n            return undefined;\n        }\n        return async.map(values, asDocumentHighlight, token);\n    }\n    function asDocumentHighlight(item) {\n        let result = new code.DocumentHighlight(asRange(item.range));\n        if (Is.number(item.kind)) {\n            result.kind = asDocumentHighlightKind(item.kind);\n        }\n        return result;\n    }\n    function asDocumentHighlightKind(item) {\n        switch (item) {\n            case ls.DocumentHighlightKind.Text:\n                return code.DocumentHighlightKind.Text;\n            case ls.DocumentHighlightKind.Read:\n                return code.DocumentHighlightKind.Read;\n            case ls.DocumentHighlightKind.Write:\n                return code.DocumentHighlightKind.Write;\n        }\n        return code.DocumentHighlightKind.Text;\n    }\n    async function asSymbolInformations(values, token) {\n        if (!values) {\n            return undefined;\n        }\n        return async.map(values, asSymbolInformation, token);\n    }\n    function asSymbolKind(item) {\n        if (item <= ls.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return item - 1;\n        }\n        return code.SymbolKind.Property;\n    }\n    function asSymbolTag(value) {\n        switch (value) {\n            case ls.SymbolTag.Deprecated:\n                return code.SymbolTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asSymbolTags(items) {\n        if (items === undefined || items === null) {\n            return undefined;\n        }\n        const result = [];\n        for (const item of items) {\n            const converted = asSymbolTag(item);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length === 0 ? undefined : result;\n    }\n    function asSymbolInformation(item) {\n        const data = item.data;\n        const location = item.location;\n        const result = location.range === undefined || data !== undefined\n            ? new protocolWorkspaceSymbol_1.default(item.name, asSymbolKind(item.kind), item.containerName ?? '', location.range === undefined ? _uriConverter(location.uri) : new code.Location(_uriConverter(item.location.uri), asRange(location.range)), data)\n            : new code.SymbolInformation(item.name, asSymbolKind(item.kind), item.containerName ?? '', new code.Location(_uriConverter(item.location.uri), asRange(location.range)));\n        fillTags(result, item);\n        return result;\n    }\n    async function asDocumentSymbols(values, token) {\n        if (values === undefined || values === null) {\n            return undefined;\n        }\n        return async.map(values, asDocumentSymbol, token);\n    }\n    function asDocumentSymbol(value) {\n        let result = new code.DocumentSymbol(value.name, value.detail || '', asSymbolKind(value.kind), asRange(value.range), asRange(value.selectionRange));\n        fillTags(result, value);\n        if (value.children !== undefined && value.children.length > 0) {\n            let children = [];\n            for (let child of value.children) {\n                children.push(asDocumentSymbol(child));\n            }\n            result.children = children;\n        }\n        return result;\n    }\n    function fillTags(result, value) {\n        result.tags = asSymbolTags(value.tags);\n        if (value.deprecated) {\n            if (!result.tags) {\n                result.tags = [code.SymbolTag.Deprecated];\n            }\n            else {\n                if (!result.tags.includes(code.SymbolTag.Deprecated)) {\n                    result.tags = result.tags.concat(code.SymbolTag.Deprecated);\n                }\n            }\n        }\n    }\n    function asCommand(item) {\n        let result = { title: item.title, command: item.command };\n        if (item.arguments) {\n            result.arguments = item.arguments;\n        }\n        return result;\n    }\n    async function asCommands(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asCommand, token);\n    }\n    const kindMapping = new Map();\n    kindMapping.set(ls.CodeActionKind.Empty, code.CodeActionKind.Empty);\n    kindMapping.set(ls.CodeActionKind.QuickFix, code.CodeActionKind.QuickFix);\n    kindMapping.set(ls.CodeActionKind.Refactor, code.CodeActionKind.Refactor);\n    kindMapping.set(ls.CodeActionKind.RefactorExtract, code.CodeActionKind.RefactorExtract);\n    kindMapping.set(ls.CodeActionKind.RefactorInline, code.CodeActionKind.RefactorInline);\n    kindMapping.set(ls.CodeActionKind.RefactorRewrite, code.CodeActionKind.RefactorRewrite);\n    kindMapping.set(ls.CodeActionKind.Source, code.CodeActionKind.Source);\n    kindMapping.set(ls.CodeActionKind.SourceOrganizeImports, code.CodeActionKind.SourceOrganizeImports);\n    function asCodeActionKind(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        let result = kindMapping.get(item);\n        if (result) {\n            return result;\n        }\n        let parts = item.split('.');\n        result = code.CodeActionKind.Empty;\n        for (let part of parts) {\n            result = result.append(part);\n        }\n        return result;\n    }\n    function asCodeActionKinds(items) {\n        if (items === undefined || items === null) {\n            return undefined;\n        }\n        return items.map(kind => asCodeActionKind(kind));\n    }\n    async function asCodeAction(item, token) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        let result = new protocolCodeAction_1.default(item.title, item.data);\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics !== undefined) {\n            result.diagnostics = asDiagnosticsSync(item.diagnostics);\n        }\n        if (item.edit !== undefined) {\n            result.edit = await asWorkspaceEdit(item.edit, token);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        if (item.disabled !== undefined) {\n            result.disabled = { reason: item.disabled.reason };\n        }\n        return result;\n    }\n    function asCodeActionResult(items, token) {\n        return async.mapAsync(items, async (item) => {\n            if (ls.Command.is(item)) {\n                return asCommand(item);\n            }\n            else {\n                return asCodeAction(item, token);\n            }\n        }, token);\n    }\n    function asCodeLens(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new protocolCodeLens_1.default(asRange(item.range));\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.data !== undefined && item.data !== null) {\n            result.data = item.data;\n        }\n        return result;\n    }\n    async function asCodeLenses(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asCodeLens, token);\n    }\n    async function asWorkspaceEdit(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        const sharedMetadata = new Map();\n        if (item.changeAnnotations !== undefined) {\n            const changeAnnotations = item.changeAnnotations;\n            await async.forEach(Object.keys(changeAnnotations), (key) => {\n                const metaData = asWorkspaceEditEntryMetadata(changeAnnotations[key]);\n                sharedMetadata.set(key, metaData);\n            }, token);\n        }\n        const asMetadata = (annotation) => {\n            if (annotation === undefined) {\n                return undefined;\n            }\n            else {\n                return sharedMetadata.get(annotation);\n            }\n        };\n        const result = new code.WorkspaceEdit();\n        if (item.documentChanges) {\n            const documentChanges = item.documentChanges;\n            await async.forEach(documentChanges, (change) => {\n                if (ls.CreateFile.is(change)) {\n                    result.createFile(_uriConverter(change.uri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.RenameFile.is(change)) {\n                    result.renameFile(_uriConverter(change.oldUri), _uriConverter(change.newUri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.DeleteFile.is(change)) {\n                    result.deleteFile(_uriConverter(change.uri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.TextDocumentEdit.is(change)) {\n                    const uri = _uriConverter(change.textDocument.uri);\n                    for (const edit of change.edits) {\n                        if (ls.AnnotatedTextEdit.is(edit)) {\n                            result.replace(uri, asRange(edit.range), edit.newText, asMetadata(edit.annotationId));\n                        }\n                        else {\n                            result.replace(uri, asRange(edit.range), edit.newText);\n                        }\n                    }\n                }\n                else {\n                    throw new Error(`Unknown workspace edit change received:\\n${JSON.stringify(change, undefined, 4)}`);\n                }\n            }, token);\n        }\n        else if (item.changes) {\n            const changes = item.changes;\n            await async.forEach(Object.keys(changes), (key) => {\n                result.set(_uriConverter(key), asTextEditsSync(changes[key]));\n            }, token);\n        }\n        return result;\n    }\n    function asWorkspaceEditEntryMetadata(annotation) {\n        if (annotation === undefined) {\n            return undefined;\n        }\n        return { label: annotation.label, needsConfirmation: !!annotation.needsConfirmation, description: annotation.description };\n    }\n    function asDocumentLink(item) {\n        let range = asRange(item.range);\n        let target = item.target ? asUri(item.target) : undefined;\n        // target must be optional in DocumentLink\n        let link = new protocolDocumentLink_1.default(range, target);\n        if (item.tooltip !== undefined) {\n            link.tooltip = item.tooltip;\n        }\n        if (item.data !== undefined && item.data !== null) {\n            link.data = item.data;\n        }\n        return link;\n    }\n    async function asDocumentLinks(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asDocumentLink, token);\n    }\n    function asColor(color) {\n        return new code.Color(color.red, color.green, color.blue, color.alpha);\n    }\n    function asColorInformation(ci) {\n        return new code.ColorInformation(asRange(ci.range), asColor(ci.color));\n    }\n    async function asColorInformations(colorInformation, token) {\n        if (!colorInformation) {\n            return undefined;\n        }\n        return async.map(colorInformation, asColorInformation, token);\n    }\n    function asColorPresentation(cp) {\n        let presentation = new code.ColorPresentation(cp.label);\n        presentation.additionalTextEdits = asTextEditsSync(cp.additionalTextEdits);\n        if (cp.textEdit) {\n            presentation.textEdit = asTextEdit(cp.textEdit);\n        }\n        return presentation;\n    }\n    async function asColorPresentations(colorPresentations, token) {\n        if (!colorPresentations) {\n            return undefined;\n        }\n        return async.map(colorPresentations, asColorPresentation, token);\n    }\n    function asFoldingRangeKind(kind) {\n        if (kind) {\n            switch (kind) {\n                case ls.FoldingRangeKind.Comment:\n                    return code.FoldingRangeKind.Comment;\n                case ls.FoldingRangeKind.Imports:\n                    return code.FoldingRangeKind.Imports;\n                case ls.FoldingRangeKind.Region:\n                    return code.FoldingRangeKind.Region;\n            }\n        }\n        return undefined;\n    }\n    function asFoldingRange(r) {\n        return new code.FoldingRange(r.startLine, r.endLine, asFoldingRangeKind(r.kind));\n    }\n    async function asFoldingRanges(foldingRanges, token) {\n        if (!foldingRanges) {\n            return undefined;\n        }\n        return async.map(foldingRanges, asFoldingRange, token);\n    }\n    function asSelectionRange(selectionRange) {\n        return new code.SelectionRange(asRange(selectionRange.range), selectionRange.parent ? asSelectionRange(selectionRange.parent) : undefined);\n    }\n    async function asSelectionRanges(selectionRanges, token) {\n        if (!Array.isArray(selectionRanges)) {\n            return [];\n        }\n        return async.map(selectionRanges, asSelectionRange, token);\n    }\n    function asInlineValue(inlineValue) {\n        if (ls.InlineValueText.is(inlineValue)) {\n            return new code.InlineValueText(asRange(inlineValue.range), inlineValue.text);\n        }\n        else if (ls.InlineValueVariableLookup.is(inlineValue)) {\n            return new code.InlineValueVariableLookup(asRange(inlineValue.range), inlineValue.variableName, inlineValue.caseSensitiveLookup);\n        }\n        else {\n            return new code.InlineValueEvaluatableExpression(asRange(inlineValue.range), inlineValue.expression);\n        }\n    }\n    async function asInlineValues(inlineValues, token) {\n        if (!Array.isArray(inlineValues)) {\n            return [];\n        }\n        return async.map(inlineValues, asInlineValue, token);\n    }\n    async function asInlayHint(value, token) {\n        const label = typeof value.label === 'string'\n            ? value.label\n            : await async.map(value.label, asInlayHintLabelPart, token);\n        const result = new protocolInlayHint_1.default(asPosition(value.position), label);\n        if (value.kind !== undefined) {\n            result.kind = value.kind;\n        }\n        if (value.textEdits !== undefined) {\n            result.textEdits = await asTextEdits(value.textEdits, token);\n        }\n        if (value.tooltip !== undefined) {\n            result.tooltip = asTooltip(value.tooltip);\n        }\n        if (value.paddingLeft !== undefined) {\n            result.paddingLeft = value.paddingLeft;\n        }\n        if (value.paddingRight !== undefined) {\n            result.paddingRight = value.paddingRight;\n        }\n        if (value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    function asInlayHintLabelPart(part) {\n        const result = new code.InlayHintLabelPart(part.value);\n        if (part.location !== undefined) {\n            result.location = asLocation(part.location);\n        }\n        if (part.tooltip !== undefined) {\n            result.tooltip = asTooltip(part.tooltip);\n        }\n        if (part.command !== undefined) {\n            result.command = asCommand(part.command);\n        }\n        return result;\n    }\n    function asTooltip(value) {\n        if (typeof value === 'string') {\n            return value;\n        }\n        return asMarkdownString(value);\n    }\n    async function asInlayHints(values, token) {\n        if (!Array.isArray(values)) {\n            return undefined;\n        }\n        return async.mapAsync(values, asInlayHint, token);\n    }\n    function asCallHierarchyItem(item) {\n        if (item === null) {\n            return undefined;\n        }\n        const result = new protocolCallHierarchyItem_1.default(asSymbolKind(item.kind), item.name, item.detail || '', asUri(item.uri), asRange(item.range), asRange(item.selectionRange), item.data);\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        return result;\n    }\n    async function asCallHierarchyItems(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.map(items, asCallHierarchyItem, token);\n    }\n    async function asCallHierarchyIncomingCall(item, token) {\n        return new code.CallHierarchyIncomingCall(asCallHierarchyItem(item.from), await asRanges(item.fromRanges, token));\n    }\n    async function asCallHierarchyIncomingCalls(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.mapAsync(items, asCallHierarchyIncomingCall, token);\n    }\n    async function asCallHierarchyOutgoingCall(item, token) {\n        return new code.CallHierarchyOutgoingCall(asCallHierarchyItem(item.to), await asRanges(item.fromRanges, token));\n    }\n    async function asCallHierarchyOutgoingCalls(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.mapAsync(items, asCallHierarchyOutgoingCall, token);\n    }\n    async function asSemanticTokens(value, _token) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        return new code.SemanticTokens(new Uint32Array(value.data), value.resultId);\n    }\n    function asSemanticTokensEdit(value) {\n        return new code.SemanticTokensEdit(value.start, value.deleteCount, value.data !== undefined ? new Uint32Array(value.data) : undefined);\n    }\n    async function asSemanticTokensEdits(value, _token) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        return new code.SemanticTokensEdits(value.edits.map(asSemanticTokensEdit), value.resultId);\n    }\n    function asSemanticTokensLegend(value) {\n        return value;\n    }\n    async function asLinkedEditingRanges(value, token) {\n        if (value === null || value === undefined) {\n            return undefined;\n        }\n        return new code.LinkedEditingRanges(await asRanges(value.ranges, token), asRegularExpression(value.wordPattern));\n    }\n    function asRegularExpression(value) {\n        if (value === null || value === undefined) {\n            return undefined;\n        }\n        return new RegExp(value);\n    }\n    function asTypeHierarchyItem(item) {\n        if (item === null) {\n            return undefined;\n        }\n        let result = new protocolTypeHierarchyItem_1.default(asSymbolKind(item.kind), item.name, item.detail || '', asUri(item.uri), asRange(item.range), asRange(item.selectionRange), item.data);\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        return result;\n    }\n    async function asTypeHierarchyItems(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.map(items, asTypeHierarchyItem, token);\n    }\n    function asGlobPattern(pattern) {\n        if (Is.string(pattern)) {\n            return pattern;\n        }\n        if (ls.RelativePattern.is(pattern)) {\n            if (ls.URI.is(pattern.baseUri)) {\n                return new code.RelativePattern(asUri(pattern.baseUri), pattern.pattern);\n            }\n            else if (ls.WorkspaceFolder.is(pattern.baseUri)) {\n                const workspaceFolder = code.workspace.getWorkspaceFolder(asUri(pattern.baseUri.uri));\n                return workspaceFolder !== undefined ? new code.RelativePattern(workspaceFolder, pattern.pattern) : undefined;\n            }\n        }\n        return undefined;\n    }\n    async function asInlineCompletionResult(value, token) {\n        if (!value) {\n            return undefined;\n        }\n        if (Array.isArray(value)) {\n            return async.map(value, (item) => asInlineCompletionItem(item), token);\n        }\n        const list = value;\n        const converted = await async.map(list.items, (item) => {\n            return asInlineCompletionItem(item);\n        }, token);\n        return new code.InlineCompletionList(converted);\n    }\n    function asInlineCompletionItem(item) {\n        let insertText;\n        if (typeof item.insertText === 'string') {\n            insertText = item.insertText;\n        }\n        else {\n            insertText = new code.SnippetString(item.insertText.value);\n        }\n        let command = undefined;\n        if (item.command) {\n            command = asCommand(item.command);\n        }\n        const inlineCompletionItem = new code.InlineCompletionItem(insertText, asRange(item.range), command);\n        if (item.filterText) {\n            inlineCompletionItem.filterText = item.filterText;\n        }\n        return inlineCompletionItem;\n    }\n    return {\n        asUri,\n        asDocumentSelector,\n        asDiagnostics,\n        asDiagnostic,\n        asRange,\n        asRanges,\n        asPosition,\n        asDiagnosticSeverity,\n        asDiagnosticTag,\n        asHover,\n        asCompletionResult,\n        asCompletionItem,\n        asTextEdit,\n        asTextEdits,\n        asSignatureHelp,\n        asSignatureInformations,\n        asSignatureInformation,\n        asParameterInformations,\n        asParameterInformation,\n        asDeclarationResult,\n        asDefinitionResult,\n        asLocation,\n        asReferences,\n        asDocumentHighlights,\n        asDocumentHighlight,\n        asDocumentHighlightKind,\n        asSymbolKind,\n        asSymbolTag,\n        asSymbolTags,\n        asSymbolInformations,\n        asSymbolInformation,\n        asDocumentSymbols,\n        asDocumentSymbol,\n        asCommand,\n        asCommands,\n        asCodeAction,\n        asCodeActionKind,\n        asCodeActionKinds,\n        asCodeActionResult,\n        asCodeLens,\n        asCodeLenses,\n        asWorkspaceEdit,\n        asDocumentLink,\n        asDocumentLinks,\n        asFoldingRangeKind,\n        asFoldingRange,\n        asFoldingRanges,\n        asColor,\n        asColorInformation,\n        asColorInformations,\n        asColorPresentation,\n        asColorPresentations,\n        asSelectionRange,\n        asSelectionRanges,\n        asInlineValue,\n        asInlineValues,\n        asInlayHint,\n        asInlayHints,\n        asSemanticTokensLegend,\n        asSemanticTokens,\n        asSemanticTokensEdit,\n        asSemanticTokensEdits,\n        asCallHierarchyItem,\n        asCallHierarchyItems,\n        asCallHierarchyIncomingCall,\n        asCallHierarchyIncomingCalls,\n        asCallHierarchyOutgoingCall,\n        asCallHierarchyOutgoingCalls,\n        asLinkedEditingRanges: asLinkedEditingRanges,\n        asTypeHierarchyItem,\n        asTypeHierarchyItems,\n        asGlobPattern,\n        asInlineCompletionResult,\n        asInlineCompletionItem\n    };\n}\nexports.createConverter = createConverter;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolDiagnostic = exports.DiagnosticCode = void 0;\nconst vscode = require(\"vscode\");\nconst Is = require(\"./utils/is\");\nvar DiagnosticCode;\n(function (DiagnosticCode) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && (Is.number(candidate.value) || Is.string(candidate.value)) && Is.string(candidate.target);\n    }\n    DiagnosticCode.is = is;\n})(DiagnosticCode || (exports.DiagnosticCode = DiagnosticCode = {}));\nclass ProtocolDiagnostic extends vscode.Diagnostic {\n    constructor(range, message, severity, data) {\n        super(range, message, severity);\n        this.data = data;\n        this.hasDiagnosticCode = false;\n    }\n}\nexports.ProtocolDiagnostic = ProtocolDiagnostic;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolDocumentLink extends code.DocumentLink {\n    constructor(range, target) {\n        super(range, target);\n    }\n}\nexports.default = ProtocolDocumentLink;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolInlayHint extends code.InlayHint {\n    constructor(position, label, kind) {\n        super(position, label, kind);\n    }\n}\nexports.default = ProtocolInlayHint;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolTypeHierarchyItem extends code.TypeHierarchyItem {\n    constructor(kind, name, detail, uri, range, selectionRange, data) {\n        super(kind, name, detail, uri, range, selectionRange);\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = ProtocolTypeHierarchyItem;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass WorkspaceSymbol extends code.SymbolInformation {\n    constructor(name, kind, containerName, locationOrUri, data) {\n        const hasRange = !(locationOrUri instanceof code.Uri);\n        super(name, kind, containerName, hasRange ? locationOrUri : new code.Location(locationOrUri, new code.Range(0, 0, 0, 0)));\n        this.hasRange = hasRange;\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = WorkspaceSymbol;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReferencesFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass ReferencesFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.ReferencesRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'references').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.referencesProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideReferences: (document, position, options, token) => {\n                const client = this._client;\n                const _providerReferences = (document, position, options, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, client.code2ProtocolConverter.asReferenceParams(document, position, options), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asReferences(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideReferences\n                    ? middleware.provideReferences(document, position, options, token, _providerReferences)\n                    : _providerReferences(document, position, options, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.ReferencesFeature = ReferencesFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RenameFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst Is = require(\"./utils/is\");\nconst features_1 = require(\"./features\");\nclass RenameFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.RenameRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let rename = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'rename');\n        rename.dynamicRegistration = true;\n        rename.prepareSupport = true;\n        rename.prepareSupportDefaultBehavior = vscode_languageserver_protocol_1.PrepareSupportDefaultBehavior.Identifier;\n        rename.honorsChangeAnnotations = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.renameProvider);\n        if (!options) {\n            return;\n        }\n        if (Is.boolean(capabilities.renameProvider)) {\n            options.prepareProvider = false;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideRenameEdits: (document, position, newName, token) => {\n                const client = this._client;\n                const provideRenameEdits = (document, position, newName, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        position: client.code2ProtocolConverter.asPosition(position),\n                        newName: newName\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.RenameRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asWorkspaceEdit(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.RenameRequest.type, token, error, null, false);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideRenameEdits\n                    ? middleware.provideRenameEdits(document, position, newName, token, provideRenameEdits)\n                    : provideRenameEdits(document, position, newName, token);\n            },\n            prepareRename: options.prepareProvider\n                ? (document, position, token) => {\n                    const client = this._client;\n                    const prepareRename = (document, position, token) => {\n                        let params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            position: client.code2ProtocolConverter.asPosition(position),\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, params, token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            if (vscode_languageserver_protocol_1.Range.is(result)) {\n                                return client.protocol2CodeConverter.asRange(result);\n                            }\n                            else if (this.isDefaultBehavior(result)) {\n                                return result.defaultBehavior === true\n                                    ? null\n                                    : Promise.reject(new Error(`The element can't be renamed.`));\n                            }\n                            else if (result && vscode_languageserver_protocol_1.Range.is(result.range)) {\n                                return {\n                                    range: client.protocol2CodeConverter.asRange(result.range),\n                                    placeholder: result.placeholder\n                                };\n                            }\n                            // To cancel the rename vscode API expects a rejected promise.\n                            return Promise.reject(new Error(`The element can't be renamed.`));\n                        }, (error) => {\n                            if (typeof error.message === 'string') {\n                                throw new Error(error.message);\n                            }\n                            else {\n                                throw new Error(`The element can't be renamed.`);\n                            }\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.prepareRename\n                        ? middleware.prepareRename(document, position, token, prepareRename)\n                        : prepareRename(document, position, token);\n                }\n                : undefined\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n    isDefaultBehavior(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.defaultBehavior);\n    }\n}\nexports.RenameFeature = RenameFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass SelectionRangeFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SelectionRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'selectionRange');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.selectionRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideSelectionRanges: (document, positions, token) => {\n                const client = this._client;\n                const provideSelectionRanges = async (document, positions, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        positions: client.code2ProtocolConverter.asPositionsSync(positions, token)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, requestParams, token).then((ranges) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asSelectionRanges(ranges, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideSelectionRanges\n                    ? middleware.provideSelectionRanges(document, positions, token, provideSelectionRanges)\n                    : provideSelectionRanges(document, positions, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.SelectionRangeFeature = SelectionRangeFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensFeature = void 0;\nconst vscode = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst Is = require(\"./utils/is\");\nclass SemanticTokensFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SemanticTokensRegistrationType.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'semanticTokens');\n        capability.dynamicRegistration = true;\n        capability.tokenTypes = [\n            vscode_languageserver_protocol_1.SemanticTokenTypes.namespace,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.type,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.class,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.enum,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.interface,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.struct,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.typeParameter,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.parameter,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.variable,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.property,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.enumMember,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.event,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.function,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.method,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.macro,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.keyword,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.modifier,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.comment,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.string,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.number,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.regexp,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.operator,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.decorator\n        ];\n        capability.tokenModifiers = [\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.declaration,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.definition,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.readonly,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.static,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.deprecated,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.abstract,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.async,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.modification,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.documentation,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.defaultLibrary\n        ];\n        capability.formats = [vscode_languageserver_protocol_1.TokenFormat.Relative];\n        capability.requests = {\n            range: true,\n            full: {\n                delta: true\n            }\n        };\n        capability.multilineTokenSupport = false;\n        capability.overlappingTokenSupport = false;\n        capability.serverCancelSupport = true;\n        capability.augmentsSyntaxTokens = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'semanticTokens').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeSemanticTokensEmitter.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.semanticTokensProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const fullProvider = Is.boolean(options.full) ? options.full : options.full !== undefined;\n        const hasEditProvider = options.full !== undefined && typeof options.full !== 'boolean' && options.full.delta === true;\n        const eventEmitter = new vscode.EventEmitter();\n        const documentProvider = fullProvider\n            ? {\n                onDidChangeSemanticTokens: eventEmitter.event,\n                provideDocumentSemanticTokens: (document, token) => {\n                    const client = this._client;\n                    const middleware = client.middleware;\n                    const provideDocumentSemanticTokens = (document, token) => {\n                        const params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type, params, token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asSemanticTokens(result, token);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type, token, error, null);\n                        });\n                    };\n                    return middleware.provideDocumentSemanticTokens\n                        ? middleware.provideDocumentSemanticTokens(document, token, provideDocumentSemanticTokens)\n                        : provideDocumentSemanticTokens(document, token);\n                },\n                provideDocumentSemanticTokensEdits: hasEditProvider\n                    ? (document, previousResultId, token) => {\n                        const client = this._client;\n                        const middleware = client.middleware;\n                        const provideDocumentSemanticTokensEdits = (document, previousResultId, token) => {\n                            const params = {\n                                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                                previousResultId\n                            };\n                            return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type, params, token).then(async (result) => {\n                                if (token.isCancellationRequested) {\n                                    return null;\n                                }\n                                if (vscode_languageserver_protocol_1.SemanticTokens.is(result)) {\n                                    return await client.protocol2CodeConverter.asSemanticTokens(result, token);\n                                }\n                                else {\n                                    return await client.protocol2CodeConverter.asSemanticTokensEdits(result, token);\n                                }\n                            }, (error) => {\n                                return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type, token, error, null);\n                            });\n                        };\n                        return middleware.provideDocumentSemanticTokensEdits\n                            ? middleware.provideDocumentSemanticTokensEdits(document, previousResultId, token, provideDocumentSemanticTokensEdits)\n                            : provideDocumentSemanticTokensEdits(document, previousResultId, token);\n                    }\n                    : undefined\n            }\n            : undefined;\n        const hasRangeProvider = options.range === true;\n        const rangeProvider = hasRangeProvider\n            ? {\n                provideDocumentRangeSemanticTokens: (document, range, token) => {\n                    const client = this._client;\n                    const middleware = client.middleware;\n                    const provideDocumentRangeSemanticTokens = (document, range, token) => {\n                        const params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            range: client.code2ProtocolConverter.asRange(range)\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type, params, token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asSemanticTokens(result, token);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type, token, error, null);\n                        });\n                    };\n                    return middleware.provideDocumentRangeSemanticTokens\n                        ? middleware.provideDocumentRangeSemanticTokens(document, range, token, provideDocumentRangeSemanticTokens)\n                        : provideDocumentRangeSemanticTokens(document, range, token);\n                }\n            }\n            : undefined;\n        const disposables = [];\n        const client = this._client;\n        const legend = client.protocol2CodeConverter.asSemanticTokensLegend(options.legend);\n        const documentSelector = client.protocol2CodeConverter.asDocumentSelector(selector);\n        if (documentProvider !== undefined) {\n            disposables.push(vscode.languages.registerDocumentSemanticTokensProvider(documentSelector, documentProvider, legend));\n        }\n        if (rangeProvider !== undefined) {\n            disposables.push(vscode.languages.registerDocumentRangeSemanticTokensProvider(documentSelector, rangeProvider, legend));\n        }\n        return [new vscode.Disposable(() => disposables.forEach(item => item.dispose())), { range: rangeProvider, full: documentProvider, onDidChangeSemanticTokensEmitter: eventEmitter }];\n    }\n}\nexports.SemanticTokensFeature = SemanticTokensFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SignatureHelpFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass SignatureHelpFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SignatureHelpRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let config = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'signatureHelp');\n        config.dynamicRegistration = true;\n        config.signatureInformation = { documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText] };\n        config.signatureInformation.parameterInformation = { labelOffsetSupport: true };\n        config.signatureInformation.activeParameterSupport = true;\n        config.contextSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.signatureHelpProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideSignatureHelp: (document, position, token, context) => {\n                const client = this._client;\n                const providerSignatureHelp = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, client.code2ProtocolConverter.asSignatureHelpParams(document, position, context), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asSignatureHelp(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideSignatureHelp\n                    ? middleware.provideSignatureHelp(document, position, context, token, providerSignatureHelp)\n                    : providerSignatureHelp(document, position, context, token);\n            }\n        };\n        return [this.registerProvider(options, provider), provider];\n    }\n    registerProvider(options, provider) {\n        const selector = this._client.protocol2CodeConverter.asDocumentSelector(options.documentSelector);\n        if (options.retriggerCharacters === undefined) {\n            const triggerCharacters = options.triggerCharacters || [];\n            return vscode_1.languages.registerSignatureHelpProvider(selector, provider, ...triggerCharacters);\n        }\n        else {\n            const metaData = {\n                triggerCharacters: options.triggerCharacters || [],\n                retriggerCharacters: options.retriggerCharacters || []\n            };\n            return vscode_1.languages.registerSignatureHelpProvider(selector, provider, metaData);\n        }\n    }\n}\nexports.SignatureHelpFeature = SignatureHelpFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidSaveTextDocumentFeature = exports.WillSaveWaitUntilFeature = exports.WillSaveFeature = exports.DidChangeTextDocumentFeature = exports.DidCloseTextDocumentFeature = exports.DidOpenTextDocumentFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DidOpenTextDocumentFeature extends features_1.TextDocumentEventFeature {\n    constructor(client, syncedDocuments) {\n        super(client, vscode_1.workspace.onDidOpenTextDocument, vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, () => client.middleware.didOpen, (textDocument) => client.code2ProtocolConverter.asOpenTextDocumentParams(textDocument), (data) => data, features_1.TextDocumentEventFeature.textDocumentFilter);\n        this._syncedDocuments = syncedDocuments;\n    }\n    get openDocuments() {\n        return this._syncedDocuments.values();\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\n            this.register({ id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\n        }\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type;\n    }\n    register(data) {\n        super.register(data);\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        const documentSelector = this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector);\n        vscode_1.workspace.textDocuments.forEach((textDocument) => {\n            const uri = textDocument.uri.toString();\n            if (this._syncedDocuments.has(uri)) {\n                return;\n            }\n            if (vscode_1.languages.match(documentSelector, textDocument) > 0 && !this._client.hasDedicatedTextSynchronizationFeature(textDocument)) {\n                const middleware = this._client.middleware;\n                const didOpen = (textDocument) => {\n                    return this._client.sendNotification(this._type, this._createParams(textDocument));\n                };\n                (middleware.didOpen ? middleware.didOpen(textDocument, didOpen) : didOpen(textDocument)).catch((error) => {\n                    this._client.error(`Sending document notification ${this._type.method} failed`, error);\n                });\n                this._syncedDocuments.set(uri, textDocument);\n            }\n        });\n    }\n    getTextDocument(data) {\n        return data;\n    }\n    notificationSent(textDocument, type, params) {\n        this._syncedDocuments.set(textDocument.uri.toString(), textDocument);\n        super.notificationSent(textDocument, type, params);\n    }\n}\nexports.DidOpenTextDocumentFeature = DidOpenTextDocumentFeature;\nclass DidCloseTextDocumentFeature extends features_1.TextDocumentEventFeature {\n    constructor(client, syncedDocuments, pendingTextDocumentChanges) {\n        super(client, vscode_1.workspace.onDidCloseTextDocument, vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, () => client.middleware.didClose, (textDocument) => client.code2ProtocolConverter.asCloseTextDocumentParams(textDocument), (data) => data, features_1.TextDocumentEventFeature.textDocumentFilter);\n        this._syncedDocuments = syncedDocuments;\n        this._pendingTextDocumentChanges = pendingTextDocumentChanges;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\n            this.register({ id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\n        }\n    }\n    async callback(data) {\n        await super.callback(data);\n        this._pendingTextDocumentChanges.delete(data.uri.toString());\n    }\n    getTextDocument(data) {\n        return data;\n    }\n    notificationSent(textDocument, type, params) {\n        this._syncedDocuments.delete(textDocument.uri.toString());\n        super.notificationSent(textDocument, type, params);\n    }\n    unregister(id) {\n        const selector = this._selectors.get(id);\n        // The super call removed the selector from the map\n        // of selectors.\n        super.unregister(id);\n        const selectors = this._selectors.values();\n        this._syncedDocuments.forEach((textDocument) => {\n            if (vscode_1.languages.match(selector, textDocument) > 0 && !this._selectorFilter(selectors, textDocument) && !this._client.hasDedicatedTextSynchronizationFeature(textDocument)) {\n                let middleware = this._client.middleware;\n                let didClose = (textDocument) => {\n                    return this._client.sendNotification(this._type, this._createParams(textDocument));\n                };\n                this._syncedDocuments.delete(textDocument.uri.toString());\n                (middleware.didClose ? middleware.didClose(textDocument, didClose) : didClose(textDocument)).catch((error) => {\n                    this._client.error(`Sending document notification ${this._type.method} failed`, error);\n                });\n            }\n        });\n    }\n}\nexports.DidCloseTextDocumentFeature = DidCloseTextDocumentFeature;\nclass DidChangeTextDocumentFeature extends features_1.DynamicDocumentFeature {\n    constructor(client, pendingTextDocumentChanges) {\n        super(client);\n        this._changeData = new Map();\n        this._onNotificationSent = new vscode_1.EventEmitter();\n        this._onPendingChangeAdded = new vscode_1.EventEmitter();\n        this._pendingTextDocumentChanges = pendingTextDocumentChanges;\n        this._syncKind = vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n    }\n    get onNotificationSent() {\n        return this._onNotificationSent.event;\n    }\n    get onPendingChangeAdded() {\n        return this._onPendingChangeAdded.event;\n    }\n    get syncKind() {\n        return this._syncKind;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.change !== undefined && textDocumentSyncOptions.change !== vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, { syncKind: textDocumentSyncOptions.change })\n            });\n        }\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = vscode_1.workspace.onDidChangeTextDocument(this.callback, this);\n        }\n        this._changeData.set(data.id, {\n            syncKind: data.registerOptions.syncKind,\n            documentSelector: this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector),\n        });\n        this.updateSyncKind(data.registerOptions.syncKind);\n    }\n    *getDocumentSelectors() {\n        for (const data of this._changeData.values()) {\n            yield data.documentSelector;\n        }\n    }\n    async callback(event) {\n        // Text document changes are send for dirty changes as well. We don't\n        // have dirty / un-dirty events in the LSP so we ignore content changes\n        // with length zero.\n        if (event.contentChanges.length === 0) {\n            return;\n        }\n        // We need to capture the URI and version here since they might change on the text document\n        // until we reach did `didChange` call since the middleware support async execution.\n        const uri = event.document.uri;\n        const version = event.document.version;\n        const promises = [];\n        for (const changeData of this._changeData.values()) {\n            if (vscode_1.languages.match(changeData.documentSelector, event.document) > 0 && !this._client.hasDedicatedTextSynchronizationFeature(event.document)) {\n                const middleware = this._client.middleware;\n                if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental) {\n                    const didChange = async (event) => {\n                        const params = this._client.code2ProtocolConverter.asChangeTextDocumentParams(event, uri, version);\n                        await this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                        this.notificationSent(event.document, vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                    };\n                    promises.push(middleware.didChange ? middleware.didChange(event, event => didChange(event)) : didChange(event));\n                }\n                else if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\n                    const didChange = async (event) => {\n                        const eventUri = event.document.uri.toString();\n                        this._pendingTextDocumentChanges.set(eventUri, event.document);\n                        this._onPendingChangeAdded.fire();\n                    };\n                    promises.push(middleware.didChange ? middleware.didChange(event, event => didChange(event)) : didChange(event));\n                }\n            }\n        }\n        return Promise.all(promises).then(undefined, (error) => {\n            this._client.error(`Sending document notification ${vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method} failed`, error);\n            throw error;\n        });\n    }\n    notificationSent(textDocument, type, params) {\n        this._onNotificationSent.fire({ textDocument, type, params });\n    }\n    unregister(id) {\n        this._changeData.delete(id);\n        if (this._changeData.size === 0) {\n            if (this._listener) {\n                this._listener.dispose();\n                this._listener = undefined;\n            }\n            this._syncKind = vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n        }\n        else {\n            this._syncKind = vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n            for (const changeData of this._changeData.values()) {\n                this.updateSyncKind(changeData.syncKind);\n                if (this._syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\n                    break;\n                }\n            }\n        }\n    }\n    clear() {\n        this._pendingTextDocumentChanges.clear();\n        this._changeData.clear();\n        this._syncKind = vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    getPendingDocumentChanges(excludes) {\n        if (this._pendingTextDocumentChanges.size === 0) {\n            return [];\n        }\n        let result;\n        if (excludes.size === 0) {\n            result = Array.from(this._pendingTextDocumentChanges.values());\n            this._pendingTextDocumentChanges.clear();\n        }\n        else {\n            result = [];\n            for (const entry of this._pendingTextDocumentChanges) {\n                if (!excludes.has(entry[0])) {\n                    result.push(entry[1]);\n                    this._pendingTextDocumentChanges.delete(entry[0]);\n                }\n            }\n        }\n        return result;\n    }\n    getProvider(document) {\n        for (const changeData of this._changeData.values()) {\n            if (vscode_1.languages.match(changeData.documentSelector, document) > 0) {\n                return {\n                    send: (event) => {\n                        return this.callback(event);\n                    }\n                };\n            }\n        }\n        return undefined;\n    }\n    updateSyncKind(syncKind) {\n        if (this._syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\n            return;\n        }\n        switch (syncKind) {\n            case vscode_languageserver_protocol_1.TextDocumentSyncKind.Full:\n                this._syncKind = syncKind;\n                break;\n            case vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental:\n                if (this._syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n                    this._syncKind = vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental;\n                }\n                break;\n        }\n    }\n}\nexports.DidChangeTextDocumentFeature = DidChangeTextDocumentFeature;\nclass WillSaveFeature extends features_1.TextDocumentEventFeature {\n    constructor(client) {\n        super(client, vscode_1.workspace.onWillSaveTextDocument, vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, () => client.middleware.willSave, (willSaveEvent) => client.code2ProtocolConverter.asWillSaveTextDocumentParams(willSaveEvent), (event) => event.document, (selectors, willSaveEvent) => features_1.TextDocumentEventFeature.textDocumentFilter(selectors, willSaveEvent.document));\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        let value = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization');\n        value.willSave = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSave) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: { documentSelector: documentSelector }\n            });\n        }\n    }\n    getTextDocument(data) {\n        return data.document;\n    }\n}\nexports.WillSaveFeature = WillSaveFeature;\nclass WillSaveWaitUntilFeature extends features_1.DynamicDocumentFeature {\n    constructor(client) {\n        super(client);\n        this._selectors = new Map();\n    }\n    getDocumentSelectors() {\n        return this._selectors.values();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type;\n    }\n    fillClientCapabilities(capabilities) {\n        let value = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization');\n        value.willSaveWaitUntil = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSaveWaitUntil) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: { documentSelector: documentSelector }\n            });\n        }\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = vscode_1.workspace.onWillSaveTextDocument(this.callback, this);\n        }\n        this._selectors.set(data.id, this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector));\n    }\n    callback(event) {\n        if (features_1.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(), event.document) && !this._client.hasDedicatedTextSynchronizationFeature(event.document)) {\n            let middleware = this._client.middleware;\n            let willSaveWaitUntil = (event) => {\n                return this._client.sendRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(event)).then(async (edits) => {\n                    let vEdits = await this._client.protocol2CodeConverter.asTextEdits(edits);\n                    return vEdits === undefined ? [] : vEdits;\n                });\n            };\n            event.waitUntil(middleware.willSaveWaitUntil\n                ? middleware.willSaveWaitUntil(event, willSaveWaitUntil)\n                : willSaveWaitUntil(event));\n        }\n    }\n    unregister(id) {\n        this._selectors.delete(id);\n        if (this._selectors.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    clear() {\n        this._selectors.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n}\nexports.WillSaveWaitUntilFeature = WillSaveWaitUntilFeature;\nclass DidSaveTextDocumentFeature extends features_1.TextDocumentEventFeature {\n    constructor(client) {\n        super(client, vscode_1.workspace.onDidSaveTextDocument, vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, () => client.middleware.didSave, (textDocument) => client.code2ProtocolConverter.asSaveTextDocumentParams(textDocument, this._includeText), (data) => data, features_1.TextDocumentEventFeature.textDocumentFilter);\n        this._includeText = false;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').didSave = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.save) {\n            const saveOptions = typeof textDocumentSyncOptions.save === 'boolean'\n                ? { includeText: false }\n                : { includeText: !!textDocumentSyncOptions.save.includeText };\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, saveOptions)\n            });\n        }\n    }\n    register(data) {\n        this._includeText = !!data.registerOptions.includeText;\n        super.register(data);\n    }\n    getTextDocument(data) {\n        return data;\n    }\n}\nexports.DidSaveTextDocumentFeature = DidSaveTextDocumentFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass TypeDefinitionFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.TypeDefinitionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'typeDefinition').dynamicRegistration = true;\n        let typeDefinitionSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'typeDefinition');\n        typeDefinitionSupport.dynamicRegistration = true;\n        typeDefinitionSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.typeDefinitionProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideTypeDefinition: (document, position, token) => {\n                const client = this._client;\n                const provideTypeDefinition = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDefinitionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideTypeDefinition\n                    ? middleware.provideTypeDefinition(document, position, token, provideTypeDefinition)\n                    : provideTypeDefinition(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.TypeDefinitionFeature = TypeDefinitionFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchyFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass TypeHierarchyProvider {\n    constructor(client) {\n        this.client = client;\n        this.middleware = client.middleware;\n    }\n    prepareTypeHierarchy(document, position, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const prepareTypeHierarchy = (document, position, token) => {\n            const params = client.code2ProtocolConverter.asTextDocumentPositionParams(document, position);\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asTypeHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, token, error, null);\n            });\n        };\n        return middleware.prepareTypeHierarchy\n            ? middleware.prepareTypeHierarchy(document, position, token, prepareTypeHierarchy)\n            : prepareTypeHierarchy(document, position, token);\n    }\n    provideTypeHierarchySupertypes(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideTypeHierarchySupertypes = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asTypeHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asTypeHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideTypeHierarchySupertypes\n            ? middleware.provideTypeHierarchySupertypes(item, token, provideTypeHierarchySupertypes)\n            : provideTypeHierarchySupertypes(item, token);\n    }\n    provideTypeHierarchySubtypes(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideTypeHierarchySubtypes = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asTypeHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asTypeHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideTypeHierarchySubtypes\n            ? middleware.provideTypeHierarchySubtypes(item, token, provideTypeHierarchySubtypes)\n            : provideTypeHierarchySubtypes(item, token);\n    }\n}\nclass TypeHierarchyFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'typeHierarchy');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.typeHierarchyProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const client = this._client;\n        const provider = new TypeHierarchyProvider(client);\n        return [vscode_1.languages.registerTypeHierarchyProvider(client.protocol2CodeConverter.asDocumentSelector(options.documentSelector), provider), provider];\n    }\n}\nexports.TypeHierarchyFeature = TypeHierarchyFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.forEach = exports.mapAsync = exports.map = exports.clearTestMode = exports.setTestMode = exports.Semaphore = exports.Delayer = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nclass Delayer {\n    constructor(defaultDelay) {\n        this.defaultDelay = defaultDelay;\n        this.timeout = undefined;\n        this.completionPromise = undefined;\n        this.onSuccess = undefined;\n        this.task = undefined;\n    }\n    trigger(task, delay = this.defaultDelay) {\n        this.task = task;\n        if (delay >= 0) {\n            this.cancelTimeout();\n        }\n        if (!this.completionPromise) {\n            this.completionPromise = new Promise((resolve) => {\n                this.onSuccess = resolve;\n            }).then(() => {\n                this.completionPromise = undefined;\n                this.onSuccess = undefined;\n                var result = this.task();\n                this.task = undefined;\n                return result;\n            });\n        }\n        if (delay >= 0 || this.timeout === void 0) {\n            this.timeout = (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(() => {\n                this.timeout = undefined;\n                this.onSuccess(undefined);\n            }, delay >= 0 ? delay : this.defaultDelay);\n        }\n        return this.completionPromise;\n    }\n    forceDelivery() {\n        if (!this.completionPromise) {\n            return undefined;\n        }\n        this.cancelTimeout();\n        let result = this.task();\n        this.completionPromise = undefined;\n        this.onSuccess = undefined;\n        this.task = undefined;\n        return result;\n    }\n    isTriggered() {\n        return this.timeout !== undefined;\n    }\n    cancel() {\n        this.cancelTimeout();\n        this.completionPromise = undefined;\n    }\n    cancelTimeout() {\n        if (this.timeout !== undefined) {\n            this.timeout.dispose();\n            this.timeout = undefined;\n        }\n    }\n}\nexports.Delayer = Delayer;\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\nlet $test = false;\nfunction setTestMode() {\n    $test = true;\n}\nexports.setTestMode = setTestMode;\nfunction clearTestMode() {\n    $test = false;\n}\nexports.clearTestMode = clearTestMode;\nconst defaultYieldTimeout = 15 /*ms*/;\nclass Timer {\n    constructor(yieldAfter = defaultYieldTimeout) {\n        this.yieldAfter = $test === true ? Math.max(yieldAfter, 2) : Math.max(yieldAfter, defaultYieldTimeout);\n        this.startTime = Date.now();\n        this.counter = 0;\n        this.total = 0;\n        // start with a counter interval of 1.\n        this.counterInterval = 1;\n    }\n    start() {\n        this.counter = 0;\n        this.total = 0;\n        this.counterInterval = 1;\n        this.startTime = Date.now();\n    }\n    shouldYield() {\n        if (++this.counter >= this.counterInterval) {\n            const timeTaken = Date.now() - this.startTime;\n            const timeLeft = Math.max(0, this.yieldAfter - timeTaken);\n            this.total += this.counter;\n            this.counter = 0;\n            if (timeTaken >= this.yieldAfter || timeLeft <= 1) {\n                // Yield also if time left <= 1 since we compute the counter\n                // for max < 2 ms.\n                // Start with interval 1 again. We could do some calculation\n                // with using 80% of the last counter however other things (GC)\n                // affect the timing heavily since we have small timings (1 - 15ms).\n                this.counterInterval = 1;\n                this.total = 0;\n                return true;\n            }\n            else {\n                // Only increase the counter until we have spent <= 2 ms. Increasing\n                // the counter further is very fragile since timing is influenced\n                // by other things and can increase the counter too much. This will result\n                // that we yield in average after [14 - 16]ms.\n                switch (timeTaken) {\n                    case 0:\n                    case 1:\n                        this.counterInterval = this.total * 2;\n                        break;\n                }\n            }\n        }\n        return false;\n    }\n}\nasync function map(items, func, token, options) {\n    if (items.length === 0) {\n        return [];\n    }\n    const result = new Array(items.length);\n    const timer = new Timer(options?.yieldAfter);\n    function convertBatch(start) {\n        timer.start();\n        for (let i = start; i < items.length; i++) {\n            result[i] = func(items[i]);\n            if (timer.shouldYield()) {\n                options?.yieldCallback && options.yieldCallback();\n                return i + 1;\n            }\n        }\n        return -1;\n    }\n    // Convert the first batch sync on the same frame.\n    let index = convertBatch(0);\n    while (index !== -1) {\n        if (token !== undefined && token.isCancellationRequested) {\n            break;\n        }\n        index = await new Promise((resolve) => {\n            (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => {\n                resolve(convertBatch(index));\n            });\n        });\n    }\n    return result;\n}\nexports.map = map;\nasync function mapAsync(items, func, token, options) {\n    if (items.length === 0) {\n        return [];\n    }\n    const result = new Array(items.length);\n    const timer = new Timer(options?.yieldAfter);\n    async function convertBatch(start) {\n        timer.start();\n        for (let i = start; i < items.length; i++) {\n            result[i] = await func(items[i], token);\n            if (timer.shouldYield()) {\n                options?.yieldCallback && options.yieldCallback();\n                return i + 1;\n            }\n        }\n        return -1;\n    }\n    let index = await convertBatch(0);\n    while (index !== -1) {\n        if (token !== undefined && token.isCancellationRequested) {\n            break;\n        }\n        index = await new Promise((resolve) => {\n            (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => {\n                resolve(convertBatch(index));\n            });\n        });\n    }\n    return result;\n}\nexports.mapAsync = mapAsync;\nasync function forEach(items, func, token, options) {\n    if (items.length === 0) {\n        return;\n    }\n    const timer = new Timer(options?.yieldAfter);\n    function runBatch(start) {\n        timer.start();\n        for (let i = start; i < items.length; i++) {\n            func(items[i]);\n            if (timer.shouldYield()) {\n                options?.yieldCallback && options.yieldCallback();\n                return i + 1;\n            }\n        }\n        return -1;\n    }\n    // Convert the first batch sync on the same frame.\n    let index = runBatch(0);\n    while (index !== -1) {\n        if (token !== undefined && token.isCancellationRequested) {\n            break;\n        }\n        index = await new Promise((resolve) => {\n            (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => {\n                resolve(runBatch(index));\n            });\n        });\n    }\n}\nexports.forEach = forEach;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.asPromise = exports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\nfunction asPromise(value) {\n    if (value instanceof Promise) {\n        return value;\n    }\n    else if (thenable(value)) {\n        return new Promise((resolve, reject) => {\n            value.then((resolved) => resolve(resolved), (error) => reject(error));\n        });\n    }\n    else {\n        return Promise.resolve(value);\n    }\n}\nexports.asPromise = asPromise;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = exports.arrayDiff = void 0;\nconst UUID = require(\"./utils/uuid\");\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nfunction access(target, key) {\n    if (target === undefined || target === null) {\n        return undefined;\n    }\n    return target[key];\n}\nfunction arrayDiff(left, right) {\n    return left.filter(element => right.indexOf(element) < 0);\n}\nexports.arrayDiff = arrayDiff;\nclass WorkspaceFoldersFeature {\n    constructor(client) {\n        this._client = client;\n        this._listeners = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._listeners.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type;\n    }\n    fillInitializeParams(params) {\n        const folders = vscode_1.workspace.workspaceFolders;\n        this.initializeWithFolders(folders);\n        if (folders === void 0) {\n            params.workspaceFolders = null;\n        }\n        else {\n            params.workspaceFolders = folders.map(folder => this.asProtocol(folder));\n        }\n    }\n    initializeWithFolders(currentWorkspaceFolders) {\n        this._initialFolders = currentWorkspaceFolders;\n    }\n    fillClientCapabilities(capabilities) {\n        capabilities.workspace = capabilities.workspace || {};\n        capabilities.workspace.workspaceFolders = true;\n    }\n    initialize(capabilities) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type, (token) => {\n            const workspaceFolders = () => {\n                const folders = vscode_1.workspace.workspaceFolders;\n                if (folders === undefined) {\n                    return null;\n                }\n                const result = folders.map((folder) => {\n                    return this.asProtocol(folder);\n                });\n                return result;\n            };\n            const middleware = client.middleware.workspace;\n            return middleware && middleware.workspaceFolders\n                ? middleware.workspaceFolders(token, workspaceFolders)\n                : workspaceFolders(token);\n        });\n        const value = access(access(access(capabilities, 'workspace'), 'workspaceFolders'), 'changeNotifications');\n        let id;\n        if (typeof value === 'string') {\n            id = value;\n        }\n        else if (value === true) {\n            id = UUID.generateUuid();\n        }\n        if (id) {\n            this.register({ id: id, registerOptions: undefined });\n        }\n    }\n    sendInitialEvent(currentWorkspaceFolders) {\n        let promise;\n        if (this._initialFolders && currentWorkspaceFolders) {\n            const removed = arrayDiff(this._initialFolders, currentWorkspaceFolders);\n            const added = arrayDiff(currentWorkspaceFolders, this._initialFolders);\n            if (added.length > 0 || removed.length > 0) {\n                promise = this.doSendEvent(added, removed);\n            }\n        }\n        else if (this._initialFolders) {\n            promise = this.doSendEvent([], this._initialFolders);\n        }\n        else if (currentWorkspaceFolders) {\n            promise = this.doSendEvent(currentWorkspaceFolders, []);\n        }\n        if (promise !== undefined) {\n            promise.catch((error) => {\n                this._client.error(`Sending notification ${vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type.method} failed`, error);\n            });\n        }\n    }\n    doSendEvent(addedFolders, removedFolders) {\n        let params = {\n            event: {\n                added: addedFolders.map(folder => this.asProtocol(folder)),\n                removed: removedFolders.map(folder => this.asProtocol(folder))\n            }\n        };\n        return this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, params);\n    }\n    register(data) {\n        let id = data.id;\n        let client = this._client;\n        let disposable = vscode_1.workspace.onDidChangeWorkspaceFolders((event) => {\n            let didChangeWorkspaceFolders = (event) => {\n                return this.doSendEvent(event.added, event.removed);\n            };\n            let middleware = client.middleware.workspace;\n            const promise = middleware && middleware.didChangeWorkspaceFolders\n                ? middleware.didChangeWorkspaceFolders(event, didChangeWorkspaceFolders)\n                : didChangeWorkspaceFolders(event);\n            promise.catch((error) => {\n                this._client.error(`Sending notification ${vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type.method} failed`, error);\n            });\n        });\n        this._listeners.set(id, disposable);\n        this.sendInitialEvent(vscode_1.workspace.workspaceFolders);\n    }\n    unregister(id) {\n        let disposable = this._listeners.get(id);\n        if (disposable === void 0) {\n            return;\n        }\n        this._listeners.delete(id);\n        disposable.dispose();\n    }\n    clear() {\n        for (let disposable of this._listeners.values()) {\n            disposable.dispose();\n        }\n        this._listeners.clear();\n    }\n    asProtocol(workspaceFolder) {\n        if (workspaceFolder === void 0) {\n            return null;\n        }\n        return { uri: this._client.code2ProtocolConverter.asUri(workspaceFolder.uri), name: workspaceFolder.name };\n    }\n}\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst documentSymbol_1 = require(\"./documentSymbol\");\nconst UUID = require(\"./utils/uuid\");\nclass WorkspaceSymbolFeature extends features_1.WorkspaceFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let symbolCapabilities = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'symbol');\n        symbolCapabilities.dynamicRegistration = true;\n        symbolCapabilities.symbolKind = {\n            valueSet: documentSymbol_1.SupportedSymbolKinds\n        };\n        symbolCapabilities.tagSupport = {\n            valueSet: documentSymbol_1.SupportedSymbolTags\n        };\n        symbolCapabilities.resolveSupport = { properties: ['location.range'] };\n    }\n    initialize(capabilities) {\n        if (!capabilities.workspaceSymbolProvider) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: capabilities.workspaceSymbolProvider === true ? { workDoneProgress: false } : capabilities.workspaceSymbolProvider\n        });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideWorkspaceSymbols: (query, token) => {\n                const client = this._client;\n                const provideWorkspaceSymbols = (query, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, { query }, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asSymbolInformations(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideWorkspaceSymbols\n                    ? middleware.provideWorkspaceSymbols(query, token, provideWorkspaceSymbols)\n                    : provideWorkspaceSymbols(query, token);\n            },\n            resolveWorkspaceSymbol: options.resolveProvider === true\n                ? (item, token) => {\n                    const client = this._client;\n                    const resolveWorkspaceSymbol = (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, client.code2ProtocolConverter.asWorkspaceSymbol(item), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asSymbolInformation(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, token, error, null);\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.resolveWorkspaceSymbol\n                        ? middleware.resolveWorkspaceSymbol(item, token, resolveWorkspaceSymbol)\n                        : resolveWorkspaceSymbol(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerWorkspaceSymbolProvider(provider), provider];\n    }\n}\nexports.WorkspaceSymbolFeature = WorkspaceSymbolFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingMonitor = exports.LanguageClient = exports.TransportKind = void 0;\nconst cp = require(\"child_process\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst vscode_1 = require(\"vscode\");\nconst Is = require(\"../common/utils/is\");\nconst client_1 = require(\"../common/client\");\nconst processes_1 = require(\"./processes\");\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n// Import SemVer functions individually to avoid circular dependencies in SemVer\nconst semverParse = require(\"semver/functions/parse\");\nconst semverSatisfies = require(\"semver/functions/satisfies\");\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nconst REQUIRED_VSCODE_VERSION = '^1.82.0'; // do not change format, updated by `updateVSCode` script\nvar TransportKind;\n(function (TransportKind) {\n    TransportKind[TransportKind[\"stdio\"] = 0] = \"stdio\";\n    TransportKind[TransportKind[\"ipc\"] = 1] = \"ipc\";\n    TransportKind[TransportKind[\"pipe\"] = 2] = \"pipe\";\n    TransportKind[TransportKind[\"socket\"] = 3] = \"socket\";\n})(TransportKind || (exports.TransportKind = TransportKind = {}));\nvar Transport;\n(function (Transport) {\n    function isSocket(value) {\n        const candidate = value;\n        return candidate && candidate.kind === TransportKind.socket && Is.number(candidate.port);\n    }\n    Transport.isSocket = isSocket;\n})(Transport || (Transport = {}));\nvar Executable;\n(function (Executable) {\n    function is(value) {\n        return Is.string(value.command);\n    }\n    Executable.is = is;\n})(Executable || (Executable = {}));\nvar NodeModule;\n(function (NodeModule) {\n    function is(value) {\n        return Is.string(value.module);\n    }\n    NodeModule.is = is;\n})(NodeModule || (NodeModule = {}));\nvar StreamInfo;\n(function (StreamInfo) {\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.writer !== undefined && candidate.reader !== undefined;\n    }\n    StreamInfo.is = is;\n})(StreamInfo || (StreamInfo = {}));\nvar ChildProcessInfo;\n(function (ChildProcessInfo) {\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.process !== undefined && typeof candidate.detached === 'boolean';\n    }\n    ChildProcessInfo.is = is;\n})(ChildProcessInfo || (ChildProcessInfo = {}));\nclass LanguageClient extends client_1.BaseLanguageClient {\n    constructor(arg1, arg2, arg3, arg4, arg5) {\n        let id;\n        let name;\n        let serverOptions;\n        let clientOptions;\n        let forceDebug;\n        if (Is.string(arg2)) {\n            id = arg1;\n            name = arg2;\n            serverOptions = arg3;\n            clientOptions = arg4;\n            forceDebug = !!arg5;\n        }\n        else {\n            id = arg1.toLowerCase();\n            name = arg1;\n            serverOptions = arg2;\n            clientOptions = arg3;\n            forceDebug = arg4;\n        }\n        if (forceDebug === undefined) {\n            forceDebug = false;\n        }\n        super(id, name, clientOptions);\n        this._serverOptions = serverOptions;\n        this._forceDebug = forceDebug;\n        this._isInDebugMode = forceDebug;\n        try {\n            this.checkVersion();\n        }\n        catch (error) {\n            if (Is.string(error.message)) {\n                this.outputChannel.appendLine(error.message);\n            }\n            throw error;\n        }\n    }\n    checkVersion() {\n        const codeVersion = semverParse(vscode_1.version);\n        if (!codeVersion) {\n            throw new Error(`No valid VS Code version detected. Version string is: ${vscode_1.version}`);\n        }\n        // Remove the insider pre-release since we stay API compatible.\n        if (codeVersion.prerelease && codeVersion.prerelease.length > 0) {\n            codeVersion.prerelease = [];\n        }\n        if (!semverSatisfies(codeVersion, REQUIRED_VSCODE_VERSION)) {\n            throw new Error(`The language client requires VS Code version ${REQUIRED_VSCODE_VERSION} but received version ${vscode_1.version}`);\n        }\n    }\n    get isInDebugMode() {\n        return this._isInDebugMode;\n    }\n    async restart() {\n        await this.stop();\n        // We are in debug mode. Wait a little before we restart\n        // so that the debug port can be freed. We can safely ignore\n        // the disposable returned from start since it will call\n        // stop on the same client instance.\n        if (this.isInDebugMode) {\n            await new Promise((resolve) => setTimeout(resolve, 1000));\n            await this.start();\n        }\n        else {\n            await this.start();\n        }\n    }\n    stop(timeout = 2000) {\n        return super.stop(timeout).finally(() => {\n            if (this._serverProcess) {\n                const toCheck = this._serverProcess;\n                this._serverProcess = undefined;\n                if (this._isDetached === undefined || !this._isDetached) {\n                    this.checkProcessDied(toCheck);\n                }\n                this._isDetached = undefined;\n            }\n        });\n    }\n    checkProcessDied(childProcess) {\n        if (!childProcess || childProcess.pid === undefined) {\n            return;\n        }\n        setTimeout(() => {\n            // Test if the process is still alive. Throws an exception if not\n            try {\n                if (childProcess.pid !== undefined) {\n                    process.kill(childProcess.pid, 0);\n                    (0, processes_1.terminate)(childProcess);\n                }\n            }\n            catch (error) {\n                // All is fine.\n            }\n        }, 2000);\n    }\n    handleConnectionClosed() {\n        this._serverProcess = undefined;\n        return super.handleConnectionClosed();\n    }\n    fillInitializeParams(params) {\n        super.fillInitializeParams(params);\n        if (params.processId === null) {\n            params.processId = process.pid;\n        }\n    }\n    createMessageTransports(encoding) {\n        function getEnvironment(env, fork) {\n            if (!env && !fork) {\n                return undefined;\n            }\n            const result = Object.create(null);\n            Object.keys(process.env).forEach(key => result[key] = process.env[key]);\n            if (fork) {\n                result['ELECTRON_RUN_AS_NODE'] = '1';\n                result['ELECTRON_NO_ASAR'] = '1';\n            }\n            if (env) {\n                Object.keys(env).forEach(key => result[key] = env[key]);\n            }\n            return result;\n        }\n        const debugStartWith = ['--debug=', '--debug-brk=', '--inspect=', '--inspect-brk='];\n        const debugEquals = ['--debug', '--debug-brk', '--inspect', '--inspect-brk'];\n        function startedInDebugMode() {\n            let args = process.execArgv;\n            if (args) {\n                return args.some((arg) => {\n                    return debugStartWith.some(value => arg.startsWith(value)) ||\n                        debugEquals.some(value => arg === value);\n                });\n            }\n            return false;\n        }\n        function assertStdio(process) {\n            if (process.stdin === null || process.stdout === null || process.stderr === null) {\n                throw new Error('Process created without stdio streams');\n            }\n        }\n        const server = this._serverOptions;\n        // We got a function.\n        if (Is.func(server)) {\n            return server().then((result) => {\n                if (client_1.MessageTransports.is(result)) {\n                    this._isDetached = !!result.detached;\n                    return result;\n                }\n                else if (StreamInfo.is(result)) {\n                    this._isDetached = !!result.detached;\n                    return { reader: new node_1.StreamMessageReader(result.reader), writer: new node_1.StreamMessageWriter(result.writer) };\n                }\n                else {\n                    let cp;\n                    if (ChildProcessInfo.is(result)) {\n                        cp = result.process;\n                        this._isDetached = result.detached;\n                    }\n                    else {\n                        cp = result;\n                        this._isDetached = false;\n                    }\n                    cp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                    return { reader: new node_1.StreamMessageReader(cp.stdout), writer: new node_1.StreamMessageWriter(cp.stdin) };\n                }\n            });\n        }\n        let json;\n        let runDebug = server;\n        if (runDebug.run || runDebug.debug) {\n            if (this._forceDebug || startedInDebugMode()) {\n                json = runDebug.debug;\n                this._isInDebugMode = true;\n            }\n            else {\n                json = runDebug.run;\n                this._isInDebugMode = false;\n            }\n        }\n        else {\n            json = server;\n        }\n        return this._getServerWorkingDir(json.options).then(serverWorkingDir => {\n            if (NodeModule.is(json) && json.module) {\n                let node = json;\n                let transport = node.transport || TransportKind.stdio;\n                if (node.runtime) {\n                    const args = [];\n                    const options = node.options ?? Object.create(null);\n                    if (options.execArgv) {\n                        options.execArgv.forEach(element => args.push(element));\n                    }\n                    args.push(node.module);\n                    if (node.args) {\n                        node.args.forEach(element => args.push(element));\n                    }\n                    const execOptions = Object.create(null);\n                    execOptions.cwd = serverWorkingDir;\n                    execOptions.env = getEnvironment(options.env, false);\n                    const runtime = this._getRuntimePath(node.runtime, serverWorkingDir);\n                    let pipeName = undefined;\n                    if (transport === TransportKind.ipc) {\n                        // exec options not correctly typed in lib\n                        execOptions.stdio = [null, null, null, 'ipc'];\n                        args.push('--node-ipc');\n                    }\n                    else if (transport === TransportKind.stdio) {\n                        args.push('--stdio');\n                    }\n                    else if (transport === TransportKind.pipe) {\n                        pipeName = (0, node_1.generateRandomPipeName)();\n                        args.push(`--pipe=${pipeName}`);\n                    }\n                    else if (Transport.isSocket(transport)) {\n                        args.push(`--socket=${transport.port}`);\n                    }\n                    args.push(`--clientProcessId=${process.pid.toString()}`);\n                    if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\n                        const serverProcess = cp.spawn(runtime, args, execOptions);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return handleChildProcessStartError(serverProcess, `Launching server using runtime ${runtime} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        if (transport === TransportKind.ipc) {\n                            serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return Promise.resolve({ reader: new node_1.IPCMessageReader(serverProcess), writer: new node_1.IPCMessageWriter(serverProcess) });\n                        }\n                        else {\n                            return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\n                        }\n                    }\n                    else if (transport === TransportKind.pipe) {\n                        return (0, node_1.createClientPipeTransport)(pipeName).then((transport) => {\n                            const process = cp.spawn(runtime, args, execOptions);\n                            if (!process || !process.pid) {\n                                return handleChildProcessStartError(process, `Launching server using runtime ${runtime} failed.`);\n                            }\n                            this._serverProcess = process;\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return transport.onConnected().then((protocol) => {\n                                return { reader: protocol[0], writer: protocol[1] };\n                            });\n                        });\n                    }\n                    else if (Transport.isSocket(transport)) {\n                        return (0, node_1.createClientSocketTransport)(transport.port).then((transport) => {\n                            const process = cp.spawn(runtime, args, execOptions);\n                            if (!process || !process.pid) {\n                                return handleChildProcessStartError(process, `Launching server using runtime ${runtime} failed.`);\n                            }\n                            this._serverProcess = process;\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return transport.onConnected().then((protocol) => {\n                                return { reader: protocol[0], writer: protocol[1] };\n                            });\n                        });\n                    }\n                }\n                else {\n                    let pipeName = undefined;\n                    return new Promise((resolve, reject) => {\n                        const args = (node.args && node.args.slice()) ?? [];\n                        if (transport === TransportKind.ipc) {\n                            args.push('--node-ipc');\n                        }\n                        else if (transport === TransportKind.stdio) {\n                            args.push('--stdio');\n                        }\n                        else if (transport === TransportKind.pipe) {\n                            pipeName = (0, node_1.generateRandomPipeName)();\n                            args.push(`--pipe=${pipeName}`);\n                        }\n                        else if (Transport.isSocket(transport)) {\n                            args.push(`--socket=${transport.port}`);\n                        }\n                        args.push(`--clientProcessId=${process.pid.toString()}`);\n                        const options = node.options ?? Object.create(null);\n                        options.env = getEnvironment(options.env, true);\n                        options.execArgv = options.execArgv || [];\n                        options.cwd = serverWorkingDir;\n                        options.silent = true;\n                        if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\n                            const sp = cp.fork(node.module, args || [], options);\n                            assertStdio(sp);\n                            this._serverProcess = sp;\n                            sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            if (transport === TransportKind.ipc) {\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                resolve({ reader: new node_1.IPCMessageReader(this._serverProcess), writer: new node_1.IPCMessageWriter(this._serverProcess) });\n                            }\n                            else {\n                                resolve({ reader: new node_1.StreamMessageReader(sp.stdout), writer: new node_1.StreamMessageWriter(sp.stdin) });\n                            }\n                        }\n                        else if (transport === TransportKind.pipe) {\n                            (0, node_1.createClientPipeTransport)(pipeName).then((transport) => {\n                                const sp = cp.fork(node.module, args || [], options);\n                                assertStdio(sp);\n                                this._serverProcess = sp;\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                transport.onConnected().then((protocol) => {\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\n                                }, reject);\n                            }, reject);\n                        }\n                        else if (Transport.isSocket(transport)) {\n                            (0, node_1.createClientSocketTransport)(transport.port).then((transport) => {\n                                const sp = cp.fork(node.module, args || [], options);\n                                assertStdio(sp);\n                                this._serverProcess = sp;\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                transport.onConnected().then((protocol) => {\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\n                                }, reject);\n                            }, reject);\n                        }\n                    });\n                }\n            }\n            else if (Executable.is(json) && json.command) {\n                const command = json;\n                const args = json.args !== undefined ? json.args.slice(0) : [];\n                let pipeName = undefined;\n                const transport = json.transport;\n                if (transport === TransportKind.stdio) {\n                    args.push('--stdio');\n                }\n                else if (transport === TransportKind.pipe) {\n                    pipeName = (0, node_1.generateRandomPipeName)();\n                    args.push(`--pipe=${pipeName}`);\n                }\n                else if (Transport.isSocket(transport)) {\n                    args.push(`--socket=${transport.port}`);\n                }\n                else if (transport === TransportKind.ipc) {\n                    throw new Error(`Transport kind ipc is not support for command executable`);\n                }\n                const options = Object.assign({}, command.options);\n                options.cwd = options.cwd || serverWorkingDir;\n                if (transport === undefined || transport === TransportKind.stdio) {\n                    const serverProcess = cp.spawn(command.command, args, options);\n                    if (!serverProcess || !serverProcess.pid) {\n                        return handleChildProcessStartError(serverProcess, `Launching server using command ${command.command} failed.`);\n                    }\n                    serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                    this._serverProcess = serverProcess;\n                    this._isDetached = !!options.detached;\n                    return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\n                }\n                else if (transport === TransportKind.pipe) {\n                    return (0, node_1.createClientPipeTransport)(pipeName).then((transport) => {\n                        const serverProcess = cp.spawn(command.command, args, options);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return handleChildProcessStartError(serverProcess, `Launching server using command ${command.command} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        this._isDetached = !!options.detached;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        return transport.onConnected().then((protocol) => {\n                            return { reader: protocol[0], writer: protocol[1] };\n                        });\n                    });\n                }\n                else if (Transport.isSocket(transport)) {\n                    return (0, node_1.createClientSocketTransport)(transport.port).then((transport) => {\n                        const serverProcess = cp.spawn(command.command, args, options);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return handleChildProcessStartError(serverProcess, `Launching server using command ${command.command} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        this._isDetached = !!options.detached;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        return transport.onConnected().then((protocol) => {\n                            return { reader: protocol[0], writer: protocol[1] };\n                        });\n                    });\n                }\n            }\n            return Promise.reject(new Error(`Unsupported server configuration ` + JSON.stringify(server, null, 4)));\n        }).finally(() => {\n            if (this._serverProcess !== undefined) {\n                this._serverProcess.on('exit', (code, signal) => {\n                    if (code !== null) {\n                        this.error(`Server process exited with code ${code}.`, undefined, false);\n                    }\n                    if (signal !== null) {\n                        this.error(`Server process exited with signal ${signal}.`, undefined, false);\n                    }\n                });\n            }\n        });\n    }\n    _getRuntimePath(runtime, serverWorkingDirectory) {\n        if (path.isAbsolute(runtime)) {\n            return runtime;\n        }\n        const mainRootPath = this._mainGetRootPath();\n        if (mainRootPath !== undefined) {\n            const result = path.join(mainRootPath, runtime);\n            if (fs.existsSync(result)) {\n                return result;\n            }\n        }\n        if (serverWorkingDirectory !== undefined) {\n            const result = path.join(serverWorkingDirectory, runtime);\n            if (fs.existsSync(result)) {\n                return result;\n            }\n        }\n        return runtime;\n    }\n    _mainGetRootPath() {\n        let folders = vscode_1.workspace.workspaceFolders;\n        if (!folders || folders.length === 0) {\n            return undefined;\n        }\n        let folder = folders[0];\n        if (folder.uri.scheme === 'file') {\n            return folder.uri.fsPath;\n        }\n        return undefined;\n    }\n    _getServerWorkingDir(options) {\n        let cwd = options && options.cwd;\n        if (!cwd) {\n            cwd = this.clientOptions.workspaceFolder\n                ? this.clientOptions.workspaceFolder.uri.fsPath\n                : this._mainGetRootPath();\n        }\n        if (cwd) {\n            // make sure the folder exists otherwise creating the process will fail\n            return new Promise(s => {\n                fs.lstat(cwd, (err, stats) => {\n                    s(!err && stats.isDirectory() ? cwd : undefined);\n                });\n            });\n        }\n        return Promise.resolve(undefined);\n    }\n}\nexports.LanguageClient = LanguageClient;\nclass SettingMonitor {\n    constructor(_client, _setting) {\n        this._client = _client;\n        this._setting = _setting;\n        this._listeners = [];\n    }\n    start() {\n        vscode_1.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration, this, this._listeners);\n        this.onDidChangeConfiguration();\n        return new vscode_1.Disposable(() => {\n            if (this._client.needsStop()) {\n                void this._client.stop();\n            }\n        });\n    }\n    onDidChangeConfiguration() {\n        let index = this._setting.indexOf('.');\n        let primary = index >= 0 ? this._setting.substr(0, index) : this._setting;\n        let rest = index >= 0 ? this._setting.substr(index + 1) : undefined;\n        let enabled = rest ? vscode_1.workspace.getConfiguration(primary).get(rest, false) : vscode_1.workspace.getConfiguration(primary);\n        if (enabled && this._client.needsStart()) {\n            this._client.start().catch((error) => this._client.error('Start failed after configuration change', error, 'force'));\n        }\n        else if (!enabled && this._client.needsStop()) {\n            void this._client.stop().catch((error) => this._client.error('Stop failed after configuration change', error, 'force'));\n        }\n    }\n}\nexports.SettingMonitor = SettingMonitor;\nfunction handleChildProcessStartError(process, message) {\n    if (process === null) {\n        return Promise.reject(message);\n    }\n    return new Promise((_, reject) => {\n        process.on('error', (err) => {\n            reject(`${message} ${err}`);\n        });\n        // the error event should always be run immediately,\n        // but race on it just in case\n        setImmediate(() => reject(message));\n    });\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.terminate = void 0;\nconst cp = require(\"child_process\");\nconst path_1 = require(\"path\");\nconst isWindows = (process.platform === 'win32');\nconst isMacintosh = (process.platform === 'darwin');\nconst isLinux = (process.platform === 'linux');\nfunction terminate(process, cwd) {\n    if (isWindows) {\n        try {\n            // This we run in Atom execFileSync is available.\n            // Ignore stderr since this is otherwise piped to parent.stderr\n            // which might be already closed.\n            let options = {\n                stdio: ['pipe', 'pipe', 'ignore']\n            };\n            if (cwd) {\n                options.cwd = cwd;\n            }\n            cp.execFileSync('taskkill', ['/T', '/F', '/PID', process.pid.toString()], options);\n            return true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    else if (isLinux || isMacintosh) {\n        try {\n            var cmd = (0, path_1.join)(__dirname, 'terminateProcess.sh');\n            var result = cp.spawnSync(cmd, [process.pid.toString()]);\n            return result.error ? false : true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    else {\n        process.kill('SIGKILL');\n        return true;\n    }\n}\nexports.terminate = terminate;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    /**\n     * A request failed but it was syntactically correct, e.g the\n     * method name was known and the parameters were valid. The error\n     * message should contain human readable information about why\n     * the request failed.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.RequestFailed = -32803;\n    /**\n     * The server cancelled the request. This error code should\n     * only be used for requests that explicitly support being\n     * server cancellable.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.ServerCancelled = -32802;\n    /**\n     * The server detected that the content of a document got\n     * modified outside normal conditions. A server should\n     * NOT send this error code if it detects a content change\n     * in it unprocessed messages. The result even computed\n     * on an older state might still be useful for the client.\n     *\n     * If a client decides that a result is not of any use anymore\n     * the client should cancel the request.\n     */\n    LSPErrorCodes.ContentModified = -32801;\n    /**\n     * The client has canceled a request and a server as detected\n     * the cancel.\n     */\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes || (exports.LSPErrorCodes = LSPErrorCodes = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, vscode_jsonrpc_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = exports.MessageDirection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nvar MessageDirection;\n(function (MessageDirection) {\n    MessageDirection[\"clientToServer\"] = \"clientToServer\";\n    MessageDirection[\"serverToClient\"] = \"serverToClient\";\n    MessageDirection[\"both\"] = \"both\";\n})(MessageDirection || (exports.MessageDirection = MessageDirection = {}));\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to an incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = CallHierarchyOutgoingCallsRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type {@link DocumentColorParams} the\n * response is of type {@link ColorInformation ColorInformation[]} or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest || (exports.DocumentColorRequest = DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type {@link ColorPresentationParams} the\n * response is of type {@link ColorInformation ColorInformation[]} or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.method = 'textDocument/colorPresentation';\n    ColorPresentationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType(ColorPresentationRequest.method);\n})(ColorPresentationRequest || (exports.ColorPresentationRequest = ColorPresentationRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n//---- Get Configuration request ----\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.method = 'workspace/configuration';\n    ConfigurationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType(ConfigurationRequest.method);\n})(ConfigurationRequest || (exports.ConfigurationRequest = ConfigurationRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Declaration} or a typed array of {@link DeclarationLink}\n * or a Thenable that resolves to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest || (exports.DeclarationRequest = DeclarationRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * @since 3.17.0\n */\nvar DiagnosticServerCancellationData;\n(function (DiagnosticServerCancellationData) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.retriggerRequest);\n    }\n    DiagnosticServerCancellationData.is = is;\n})(DiagnosticServerCancellationData || (exports.DiagnosticServerCancellationData = DiagnosticServerCancellationData = {}));\n/**\n * The document diagnostic report kinds.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticReportKind;\n(function (DocumentDiagnosticReportKind) {\n    /**\n     * A diagnostic report with a full\n     * set of problems.\n     */\n    DocumentDiagnosticReportKind.Full = 'full';\n    /**\n     * A report indicating that the last\n     * returned report is still accurate.\n     */\n    DocumentDiagnosticReportKind.Unchanged = 'unchanged';\n})(DocumentDiagnosticReportKind || (exports.DocumentDiagnosticReportKind = DocumentDiagnosticReportKind = {}));\n/**\n * The document diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticRequest;\n(function (DocumentDiagnosticRequest) {\n    DocumentDiagnosticRequest.method = 'textDocument/diagnostic';\n    DocumentDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentDiagnosticRequest.type = new messages_1.ProtocolRequestType(DocumentDiagnosticRequest.method);\n    DocumentDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(DocumentDiagnosticRequest || (exports.DocumentDiagnosticRequest = DocumentDiagnosticRequest = {}));\n/**\n * The workspace diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar WorkspaceDiagnosticRequest;\n(function (WorkspaceDiagnosticRequest) {\n    WorkspaceDiagnosticRequest.method = 'workspace/diagnostic';\n    WorkspaceDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceDiagnosticRequest.type = new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest.method);\n    WorkspaceDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(WorkspaceDiagnosticRequest || (exports.WorkspaceDiagnosticRequest = WorkspaceDiagnosticRequest = {}));\n/**\n * The diagnostic refresh request definition.\n *\n * @since 3.17.0\n */\nvar DiagnosticRefreshRequest;\n(function (DiagnosticRefreshRequest) {\n    DiagnosticRefreshRequest.method = `workspace/diagnostic/refresh`;\n    DiagnosticRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    DiagnosticRefreshRequest.type = new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest.method);\n})(DiagnosticRefreshRequest || (exports.DiagnosticRefreshRequest = DiagnosticRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind || (exports.FileOperationPatternKind = FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * The request can return a `WorkspaceEdit` which will be applied to workspace before the\n * files are created. Hence the `WorkspaceEdit` can not manipulate the content of the file\n * to be created.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest || (exports.WillCreateFilesRequest = WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification || (exports.DidCreateFilesNotification = DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest || (exports.WillRenameFilesRequest = WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification || (exports.DidRenameFilesNotification = DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = WillDeleteFilesRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRefreshRequest = exports.FoldingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type {@link FoldingRangeParams}, the\n * response is of type {@link FoldingRangeList} or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest || (exports.FoldingRangeRequest = FoldingRangeRequest = {}));\n/**\n * @since 3.18.0\n * @proposed\n */\nvar FoldingRangeRefreshRequest;\n(function (FoldingRangeRefreshRequest) {\n    FoldingRangeRefreshRequest.method = `workspace/foldingRange/refresh`;\n    FoldingRangeRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    FoldingRangeRefreshRequest.type = new messages_1.ProtocolRequestType0(FoldingRangeRefreshRequest.method);\n})(FoldingRangeRefreshRequest || (exports.FoldingRangeRefreshRequest = FoldingRangeRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Definition} or a Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest || (exports.ImplementationRequest = ImplementationRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inlay hints in a document. The request's parameter is of\n * type {@link InlayHintsParams}, the response is of type\n * {@link InlayHint InlayHint[]} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintRequest;\n(function (InlayHintRequest) {\n    InlayHintRequest.method = 'textDocument/inlayHint';\n    InlayHintRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRequest.type = new messages_1.ProtocolRequestType(InlayHintRequest.method);\n})(InlayHintRequest || (exports.InlayHintRequest = InlayHintRequest = {}));\n/**\n * A request to resolve additional properties for an inlay hint.\n * The request's parameter is of type {@link InlayHint}, the response is\n * of type {@link InlayHint} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintResolveRequest;\n(function (InlayHintResolveRequest) {\n    InlayHintResolveRequest.method = 'inlayHint/resolve';\n    InlayHintResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintResolveRequest.type = new messages_1.ProtocolRequestType(InlayHintResolveRequest.method);\n})(InlayHintResolveRequest || (exports.InlayHintResolveRequest = InlayHintResolveRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlayHintRefreshRequest;\n(function (InlayHintRefreshRequest) {\n    InlayHintRefreshRequest.method = `workspace/inlayHint/refresh`;\n    InlayHintRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    InlayHintRefreshRequest.type = new messages_1.ProtocolRequestType0(InlayHintRefreshRequest.method);\n})(InlayHintRefreshRequest || (exports.InlayHintRefreshRequest = InlayHintRefreshRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineCompletionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline completions in a document. The request's parameter is of\n * type {@link InlineCompletionParams}, the response is of type\n * {@link InlineCompletion InlineCompletion[]} or a Thenable that resolves to such.\n *\n * @since 3.18.0\n * @proposed\n */\nvar InlineCompletionRequest;\n(function (InlineCompletionRequest) {\n    InlineCompletionRequest.method = 'textDocument/inlineCompletion';\n    InlineCompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineCompletionRequest.type = new messages_1.ProtocolRequestType(InlineCompletionRequest.method);\n})(InlineCompletionRequest || (exports.InlineCompletionRequest = InlineCompletionRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueRefreshRequest = exports.InlineValueRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline values in a document. The request's parameter is of\n * type {@link InlineValueParams}, the response is of type\n * {@link InlineValue InlineValue[]} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlineValueRequest;\n(function (InlineValueRequest) {\n    InlineValueRequest.method = 'textDocument/inlineValue';\n    InlineValueRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRequest.type = new messages_1.ProtocolRequestType(InlineValueRequest.method);\n})(InlineValueRequest || (exports.InlineValueRequest = InlineValueRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlineValueRefreshRequest;\n(function (InlineValueRefreshRequest) {\n    InlineValueRefreshRequest.method = `workspace/inlineValue/refresh`;\n    InlineValueRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    InlineValueRefreshRequest.type = new messages_1.ProtocolRequestType0(InlineValueRefreshRequest.method);\n})(InlineValueRefreshRequest || (exports.InlineValueRefreshRequest = InlineValueRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.RelativePattern = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeErrorCodes = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.PositionEncodingKind = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.NotebookCellTextDocumentFilter = exports.NotebookDocumentFilter = exports.TextDocumentFilter = void 0;\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRefreshRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangesFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = exports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolResolveRequest = void 0;\nexports.InlineCompletionRequest = exports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = exports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = exports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = exports.InlineValueRefreshRequest = exports.InlineValueRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchySubtypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolder_1 = require(\"./protocol.workspaceFolder\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nObject.defineProperty(exports, \"FoldingRangeRefreshRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRefreshRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\nconst protocol_typeHierarchy_1 = require(\"./protocol.typeHierarchy\");\nObject.defineProperty(exports, \"TypeHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchyPrepareRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySubtypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySubtypesRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySupertypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySupertypesRequest; } });\nconst protocol_inlineValue_1 = require(\"./protocol.inlineValue\");\nObject.defineProperty(exports, \"InlineValueRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRequest; } });\nObject.defineProperty(exports, \"InlineValueRefreshRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRefreshRequest; } });\nconst protocol_inlayHint_1 = require(\"./protocol.inlayHint\");\nObject.defineProperty(exports, \"InlayHintRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRequest; } });\nObject.defineProperty(exports, \"InlayHintResolveRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintResolveRequest; } });\nObject.defineProperty(exports, \"InlayHintRefreshRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRefreshRequest; } });\nconst protocol_diagnostic_1 = require(\"./protocol.diagnostic\");\nObject.defineProperty(exports, \"DiagnosticServerCancellationData\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticServerCancellationData; } });\nObject.defineProperty(exports, \"DocumentDiagnosticReportKind\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticReportKind; } });\nObject.defineProperty(exports, \"DocumentDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticRequest; } });\nObject.defineProperty(exports, \"WorkspaceDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.WorkspaceDiagnosticRequest; } });\nObject.defineProperty(exports, \"DiagnosticRefreshRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticRefreshRequest; } });\nconst protocol_notebook_1 = require(\"./protocol.notebook\");\nObject.defineProperty(exports, \"NotebookCellKind\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellKind; } });\nObject.defineProperty(exports, \"ExecutionSummary\", { enumerable: true, get: function () { return protocol_notebook_1.ExecutionSummary; } });\nObject.defineProperty(exports, \"NotebookCell\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCell; } });\nObject.defineProperty(exports, \"NotebookDocument\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocument; } });\nObject.defineProperty(exports, \"NotebookDocumentSyncRegistrationType\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocumentSyncRegistrationType; } });\nObject.defineProperty(exports, \"DidOpenNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidOpenNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"NotebookCellArrayChange\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellArrayChange; } });\nObject.defineProperty(exports, \"DidChangeNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidChangeNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidSaveNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidSaveNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidCloseNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidCloseNotebookDocumentNotification; } });\nconst protocol_inlineCompletion_1 = require(\"./protocol.inlineCompletion\");\nObject.defineProperty(exports, \"InlineCompletionRequest\", { enumerable: true, get: function () { return protocol_inlineCompletion_1.InlineCompletionRequest; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The TextDocumentFilter namespace provides helper functions to work with\n * {@link TextDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar TextDocumentFilter;\n(function (TextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate) || (Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    TextDocumentFilter.is = is;\n})(TextDocumentFilter || (exports.TextDocumentFilter = TextDocumentFilter = {}));\n/**\n * The NotebookDocumentFilter namespace provides helper functions to work with\n * {@link NotebookDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar NotebookDocumentFilter;\n(function (NotebookDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (Is.string(candidate.notebookType) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    NotebookDocumentFilter.is = is;\n})(NotebookDocumentFilter || (exports.NotebookDocumentFilter = NotebookDocumentFilter = {}));\n/**\n * The NotebookCellTextDocumentFilter namespace provides helper functions to work with\n * {@link NotebookCellTextDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar NotebookCellTextDocumentFilter;\n(function (NotebookCellTextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (Is.string(candidate.notebook) || NotebookDocumentFilter.is(candidate.notebook))\n            && (candidate.language === undefined || Is.string(candidate.language));\n    }\n    NotebookCellTextDocumentFilter.is = is;\n})(NotebookCellTextDocumentFilter || (exports.NotebookCellTextDocumentFilter = NotebookCellTextDocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * {@link DocumentSelector}s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !TextDocumentFilter.is(elem) && !NotebookCellTextDocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector || (exports.DocumentSelector = DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.method = 'client/registerCapability';\n    RegistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    RegistrationRequest.type = new messages_1.ProtocolRequestType(RegistrationRequest.method);\n})(RegistrationRequest || (exports.RegistrationRequest = RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.method = 'client/unregisterCapability';\n    UnregistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType(UnregistrationRequest.method);\n})(UnregistrationRequest || (exports.UnregistrationRequest = UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind || (exports.ResourceOperationKind = ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind || (exports.FailureHandlingKind = FailureHandlingKind = {}));\n/**\n * A set of predefined position encoding kinds.\n *\n * @since 3.17.0\n */\nvar PositionEncodingKind;\n(function (PositionEncodingKind) {\n    /**\n     * Character offsets count UTF-8 code units (e.g. bytes).\n     */\n    PositionEncodingKind.UTF8 = 'utf-8';\n    /**\n     * Character offsets count UTF-16 code units.\n     *\n     * This is the default and must always be supported\n     * by servers\n     */\n    PositionEncodingKind.UTF16 = 'utf-16';\n    /**\n     * Character offsets count UTF-32 code units.\n     *\n     * Implementation note: these are the same as Unicode codepoints,\n     * so this `PositionEncodingKind` may also be used for an\n     * encoding-agnostic representation of character offsets.\n     */\n    PositionEncodingKind.UTF32 = 'utf-32';\n})(PositionEncodingKind || (exports.PositionEncodingKind = PositionEncodingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * {@link StaticRegistrationOptions} literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions || (exports.StaticRegistrationOptions = StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * {@link TextDocumentRegistrationOptions} literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * {@link WorkDoneProgressOptions} literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type {@link InitializeParams}\n * the response if of type {@link InitializeResult} of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.method = 'initialize';\n    InitializeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializeRequest.type = new messages_1.ProtocolRequestType(InitializeRequest.method);\n})(InitializeRequest || (exports.InitializeRequest = InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeErrorCodes`;\n */\nvar InitializeErrorCodes;\n(function (InitializeErrorCodes) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     *\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeErrorCodes.unknownProtocolVersion = 1;\n})(InitializeErrorCodes || (exports.InitializeErrorCodes = InitializeErrorCodes = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.method = 'initialized';\n    InitializedNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializedNotification.type = new messages_1.ProtocolNotificationType(InitializedNotification.method);\n})(InitializedNotification || (exports.InitializedNotification = InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.method = 'shutdown';\n    ShutdownRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0(ShutdownRequest.method);\n})(ShutdownRequest || (exports.ShutdownRequest = ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.method = 'exit';\n    ExitNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExitNotification.type = new messages_1.ProtocolNotificationType0(ExitNotification.method);\n})(ExitNotification || (exports.ExitNotification = ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.method = 'workspace/didChangeConfiguration';\n    DidChangeConfigurationNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType(DidChangeConfigurationNotification.method);\n})(DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n    /**\n     * A debug message.\n     *\n     * @since 3.18.0\n     */\n    MessageType.Debug = 5;\n})(MessageType || (exports.MessageType = MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.method = 'window/showMessage';\n    ShowMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType(ShowMessageNotification.method);\n})(ShowMessageNotification || (exports.ShowMessageNotification = ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.method = 'window/showMessageRequest';\n    ShowMessageRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType(ShowMessageRequest.method);\n})(ShowMessageRequest || (exports.ShowMessageRequest = ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.method = 'window/logMessage';\n    LogMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType(LogMessageNotification.method);\n})(LogMessageNotification || (exports.LogMessageNotification = LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.method = 'telemetry/event';\n    TelemetryEventNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType(TelemetryEventNotification.method);\n})(TelemetryEventNotification || (exports.TelemetryEventNotification = TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind || (exports.TextDocumentSyncKind = TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason || (exports.TextDocumentSaveReason = TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.method = 'workspace/didChangeWatchedFiles';\n    DidChangeWatchedFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType(DidChangeWatchedFilesNotification.method);\n})(DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType || (exports.FileChangeType = FileChangeType = {}));\nvar RelativePattern;\n(function (RelativePattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (vscode_languageserver_types_1.URI.is(candidate.baseUri) || vscode_languageserver_types_1.WorkspaceFolder.is(candidate.baseUri)) && Is.string(candidate.pattern);\n    }\n    RelativePattern.is = is;\n})(RelativePattern || (exports.RelativePattern = RelativePattern = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind || (exports.WatchKind = WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.method = 'textDocument/publishDiagnostics';\n    PublishDiagnosticsNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType(PublishDiagnosticsNotification.method);\n})(PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind || (exports.CompletionTriggerKind = CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type {@link TextDocumentPosition} the response\n * is of type {@link CompletionItem CompletionItem[]} or {@link CompletionList}\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the {@link CompletionItem.detail `detail`}\n * and {@link CompletionItem.documentation `documentation`} properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest || (exports.CompletionRequest = CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type {@link CompletionItem} the response\n * is of type {@link CompletionItem} or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest || (exports.CompletionResolveRequest = CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type {@link TextDocumentPosition} the response is of\n * type {@link Hover} or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest || (exports.HoverRequest = HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest || (exports.SignatureHelpRequest = SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPosition}\n * the response is of either type {@link Definition} or a typed array of\n * {@link DefinitionLink} or a Thenable that resolves to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest || (exports.DefinitionRequest = DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type {@link ReferenceParams} the response is of type\n * {@link Location Location[]} or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest || (exports.ReferencesRequest = ReferencesRequest = {}));\n/**\n * Request to resolve a {@link DocumentHighlight} for a given\n * text document position. The request's parameter is of type {@link TextDocumentPosition}\n * the request response is an array of type {@link DocumentHighlight}\n * or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest || (exports.DocumentHighlightRequest = DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type {@link TextDocumentIdentifier} the\n * response is of type {@link SymbolInformation SymbolInformation[]} or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest || (exports.DocumentSymbolRequest = DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest || (exports.CodeActionRequest = CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type {@link CodeAction} the response\n * is of type {@link CodeAction} or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest || (exports.CodeActionResolveRequest = CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the {@link WorkspaceSymbolParams}. The response is\n * of type {@link SymbolInformation SymbolInformation[]} or a Thenable that\n * resolves to such.\n *\n * @since 3.17.0 - support for WorkspaceSymbol in the returned data. Clients\n *  need to advertise support for WorkspaceSymbols via the client capability\n *  `workspace.symbol.resolveSupport`.\n *\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = WorkspaceSymbolRequest = {}));\n/**\n * A request to resolve the range inside the workspace\n * symbol's location.\n *\n * @since 3.17.0\n */\nvar WorkspaceSymbolResolveRequest;\n(function (WorkspaceSymbolResolveRequest) {\n    WorkspaceSymbolResolveRequest.method = 'workspaceSymbol/resolve';\n    WorkspaceSymbolResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolResolveRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest.method);\n})(WorkspaceSymbolResolveRequest || (exports.WorkspaceSymbolResolveRequest = WorkspaceSymbolResolveRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest || (exports.CodeLensRequest = CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest || (exports.CodeLensResolveRequest = CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest || (exports.DocumentLinkRequest = DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type {@link DocumentLink} the response\n * is of type {@link DocumentLink} or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = DocumentLinkResolveRequest = {}));\n/**\n * A request to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest || (exports.DocumentFormattingRequest = DocumentFormattingRequest = {}));\n/**\n * A request to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = DocumentRangeFormattingRequest = {}));\n/**\n * A request to format ranges in a document.\n *\n * @since 3.18.0\n * @proposed\n */\nvar DocumentRangesFormattingRequest;\n(function (DocumentRangesFormattingRequest) {\n    DocumentRangesFormattingRequest.method = 'textDocument/rangesFormatting';\n    DocumentRangesFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangesFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangesFormattingRequest.method);\n})(DocumentRangesFormattingRequest || (exports.DocumentRangesFormattingRequest = DocumentRangesFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest || (exports.RenameRequest = RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest || (exports.PrepareRenameRequest = PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.method = 'workspace/executeCommand';\n    ExecuteCommandRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType(ExecuteCommandRequest.method);\n})(ExecuteCommandRequest || (exports.ExecuteCommandRequest = ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.method = 'workspace/applyEdit';\n    ApplyWorkspaceEditRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = ApplyWorkspaceEditRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = LinkedEditingRangeRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel.document = 'document';\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel.project = 'project';\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel.group = 'group';\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel.scheme = 'scheme';\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel.global = 'global';\n})(UniquenessLevel || (exports.UniquenessLevel = UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind.$import = 'import';\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind.$export = 'export';\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind.local = 'local';\n})(MonikerKind || (exports.MonikerKind = MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type {@link TextDocumentPositionParams}.\n * The response is of type {@link Moniker Moniker[]} or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest || (exports.MonikerRequest = MonikerRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = void 0;\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * A notebook cell kind.\n *\n * @since 3.17.0\n */\nvar NotebookCellKind;\n(function (NotebookCellKind) {\n    /**\n     * A markup-cell is formatted source that is used for display.\n     */\n    NotebookCellKind.Markup = 1;\n    /**\n     * A code-cell is source code.\n     */\n    NotebookCellKind.Code = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    NotebookCellKind.is = is;\n})(NotebookCellKind || (exports.NotebookCellKind = NotebookCellKind = {}));\nvar ExecutionSummary;\n(function (ExecutionSummary) {\n    function create(executionOrder, success) {\n        const result = { executionOrder };\n        if (success === true || success === false) {\n            result.success = success;\n        }\n        return result;\n    }\n    ExecutionSummary.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.executionOrder) && (candidate.success === undefined || Is.boolean(candidate.success));\n    }\n    ExecutionSummary.is = is;\n    function equals(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success;\n    }\n    ExecutionSummary.equals = equals;\n})(ExecutionSummary || (exports.ExecutionSummary = ExecutionSummary = {}));\nvar NotebookCell;\n(function (NotebookCell) {\n    function create(kind, document) {\n        return { kind, document };\n    }\n    NotebookCell.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && NotebookCellKind.is(candidate.kind) && vscode_languageserver_types_1.DocumentUri.is(candidate.document) &&\n            (candidate.metadata === undefined || Is.objectLiteral(candidate.metadata));\n    }\n    NotebookCell.is = is;\n    function diff(one, two) {\n        const result = new Set();\n        if (one.document !== two.document) {\n            result.add('document');\n        }\n        if (one.kind !== two.kind) {\n            result.add('kind');\n        }\n        if (one.executionSummary !== two.executionSummary) {\n            result.add('executionSummary');\n        }\n        if ((one.metadata !== undefined || two.metadata !== undefined) && !equalsMetadata(one.metadata, two.metadata)) {\n            result.add('metadata');\n        }\n        if ((one.executionSummary !== undefined || two.executionSummary !== undefined) && !ExecutionSummary.equals(one.executionSummary, two.executionSummary)) {\n            result.add('executionSummary');\n        }\n        return result;\n    }\n    NotebookCell.diff = diff;\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (Is.objectLiteral(one) && Is.objectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n})(NotebookCell || (exports.NotebookCell = NotebookCell = {}));\nvar NotebookDocument;\n(function (NotebookDocument) {\n    function create(uri, notebookType, version, cells) {\n        return { uri, notebookType, version, cells };\n    }\n    NotebookDocument.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.uri) && vscode_languageserver_types_1.integer.is(candidate.version) && Is.typedArray(candidate.cells, NotebookCell.is);\n    }\n    NotebookDocument.is = is;\n})(NotebookDocument || (exports.NotebookDocument = NotebookDocument = {}));\nvar NotebookDocumentSyncRegistrationType;\n(function (NotebookDocumentSyncRegistrationType) {\n    NotebookDocumentSyncRegistrationType.method = 'notebookDocument/sync';\n    NotebookDocumentSyncRegistrationType.messageDirection = messages_1.MessageDirection.clientToServer;\n    NotebookDocumentSyncRegistrationType.type = new messages_1.RegistrationType(NotebookDocumentSyncRegistrationType.method);\n})(NotebookDocumentSyncRegistrationType || (exports.NotebookDocumentSyncRegistrationType = NotebookDocumentSyncRegistrationType = {}));\n/**\n * A notification sent when a notebook opens.\n *\n * @since 3.17.0\n */\nvar DidOpenNotebookDocumentNotification;\n(function (DidOpenNotebookDocumentNotification) {\n    DidOpenNotebookDocumentNotification.method = 'notebookDocument/didOpen';\n    DidOpenNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenNotebookDocumentNotification.method);\n    DidOpenNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidOpenNotebookDocumentNotification || (exports.DidOpenNotebookDocumentNotification = DidOpenNotebookDocumentNotification = {}));\nvar NotebookCellArrayChange;\n(function (NotebookCellArrayChange) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.start) && vscode_languageserver_types_1.uinteger.is(candidate.deleteCount) && (candidate.cells === undefined || Is.typedArray(candidate.cells, NotebookCell.is));\n    }\n    NotebookCellArrayChange.is = is;\n    function create(start, deleteCount, cells) {\n        const result = { start, deleteCount };\n        if (cells !== undefined) {\n            result.cells = cells;\n        }\n        return result;\n    }\n    NotebookCellArrayChange.create = create;\n})(NotebookCellArrayChange || (exports.NotebookCellArrayChange = NotebookCellArrayChange = {}));\nvar DidChangeNotebookDocumentNotification;\n(function (DidChangeNotebookDocumentNotification) {\n    DidChangeNotebookDocumentNotification.method = 'notebookDocument/didChange';\n    DidChangeNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeNotebookDocumentNotification.method);\n    DidChangeNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidChangeNotebookDocumentNotification || (exports.DidChangeNotebookDocumentNotification = DidChangeNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook document is saved.\n *\n * @since 3.17.0\n */\nvar DidSaveNotebookDocumentNotification;\n(function (DidSaveNotebookDocumentNotification) {\n    DidSaveNotebookDocumentNotification.method = 'notebookDocument/didSave';\n    DidSaveNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveNotebookDocumentNotification.method);\n    DidSaveNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidSaveNotebookDocumentNotification || (exports.DidSaveNotebookDocumentNotification = DidSaveNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook closes.\n *\n * @since 3.17.0\n */\nvar DidCloseNotebookDocumentNotification;\n(function (DidCloseNotebookDocumentNotification) {\n    DidCloseNotebookDocumentNotification.method = 'notebookDocument/didClose';\n    DidCloseNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseNotebookDocumentNotification.method);\n    DidCloseNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidCloseNotebookDocumentNotification || (exports.DidCloseNotebookDocumentNotification = DidCloseNotebookDocumentNotification = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress || (exports.WorkDoneProgress = WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.method = 'window/workDoneProgress/create';\n    WorkDoneProgressCreateRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType(WorkDoneProgressCreateRequest.method);\n})(WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.method = 'window/workDoneProgress/cancel';\n    WorkDoneProgressCancelNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType(WorkDoneProgressCancelNotification.method);\n})(WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = WorkDoneProgressCancelNotification = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type {@link SelectionRangeParams}, the\n * response is of type {@link SelectionRange SelectionRange[]} or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest || (exports.SelectionRangeRequest = SelectionRangeRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = void 0;\nconst messages_1 = require(\"./messages\");\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat || (exports.TokenFormat = TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n    SemanticTokensRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRequest || (exports.SemanticTokensRequest = SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n    SemanticTokensDeltaRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n    SemanticTokensRangeRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = SemanticTokensRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest || (exports.ShowDocumentRequest = ShowDocumentRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Definition} or a Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest || (exports.TypeDefinitionRequest = TypeDefinitionRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `TypeHierarchyItem` in a document at a given position.\n * Can be used as an input to a subtypes or supertypes type hierarchy.\n *\n * @since 3.17.0\n */\nvar TypeHierarchyPrepareRequest;\n(function (TypeHierarchyPrepareRequest) {\n    TypeHierarchyPrepareRequest.method = 'textDocument/prepareTypeHierarchy';\n    TypeHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest.method);\n})(TypeHierarchyPrepareRequest || (exports.TypeHierarchyPrepareRequest = TypeHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the supertypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySupertypesRequest;\n(function (TypeHierarchySupertypesRequest) {\n    TypeHierarchySupertypesRequest.method = 'typeHierarchy/supertypes';\n    TypeHierarchySupertypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySupertypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest.method);\n})(TypeHierarchySupertypesRequest || (exports.TypeHierarchySupertypesRequest = TypeHierarchySupertypesRequest = {}));\n/**\n * A request to resolve the subtypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySubtypesRequest;\n(function (TypeHierarchySubtypesRequest) {\n    TypeHierarchySubtypesRequest.method = 'typeHierarchy/subtypes';\n    TypeHierarchySubtypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySubtypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest.method);\n})(TypeHierarchySubtypesRequest || (exports.TypeHierarchySubtypesRequest = TypeHierarchySubtypesRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.method = 'workspace/workspaceFolders';\n    WorkspaceFoldersRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0(WorkspaceFoldersRequest.method);\n})(WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.method = 'workspace/didChangeWorkspaceFolders';\n    DidChangeWorkspaceFoldersNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType(DidChangeWorkspaceFoldersNotification.method);\n})(DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = DidChangeWorkspaceFoldersNotification = {}));\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return (0, node_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","(function (factory) {\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\n        var v = factory(require, exports);\n        if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === \"function\" && define.amd) {\n        define([\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    /* --------------------------------------------------------------------------------------------\n     * Copyright (c) Microsoft Corporation. All rights reserved.\n     * Licensed under the MIT License. See License.txt in the project root for license information.\n     * ------------------------------------------------------------------------------------------ */\n    'use strict';\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.TextDocument = exports.EOL = exports.WorkspaceFolder = exports.InlineCompletionContext = exports.SelectedCompletionInfo = exports.InlineCompletionTriggerKind = exports.InlineCompletionList = exports.InlineCompletionItem = exports.StringValue = exports.InlayHint = exports.InlayHintLabelPart = exports.InlayHintKind = exports.InlineValueContext = exports.InlineValueEvaluatableExpression = exports.InlineValueVariableLookup = exports.InlineValueText = exports.SemanticTokens = exports.SemanticTokenModifiers = exports.SemanticTokenTypes = exports.SelectionRange = exports.DocumentLink = exports.FormattingOptions = exports.CodeLens = exports.CodeAction = exports.CodeActionContext = exports.CodeActionTriggerKind = exports.CodeActionKind = exports.DocumentSymbol = exports.WorkspaceSymbol = exports.SymbolInformation = exports.SymbolTag = exports.SymbolKind = exports.DocumentHighlight = exports.DocumentHighlightKind = exports.SignatureInformation = exports.ParameterInformation = exports.Hover = exports.MarkedString = exports.CompletionList = exports.CompletionItem = exports.CompletionItemLabelDetails = exports.InsertTextMode = exports.InsertReplaceEdit = exports.CompletionItemTag = exports.InsertTextFormat = exports.CompletionItemKind = exports.MarkupContent = exports.MarkupKind = exports.TextDocumentItem = exports.OptionalVersionedTextDocumentIdentifier = exports.VersionedTextDocumentIdentifier = exports.TextDocumentIdentifier = exports.WorkspaceChange = exports.WorkspaceEdit = exports.DeleteFile = exports.RenameFile = exports.CreateFile = exports.TextDocumentEdit = exports.AnnotatedTextEdit = exports.ChangeAnnotationIdentifier = exports.ChangeAnnotation = exports.TextEdit = exports.Command = exports.Diagnostic = exports.CodeDescription = exports.DiagnosticTag = exports.DiagnosticSeverity = exports.DiagnosticRelatedInformation = exports.FoldingRange = exports.FoldingRangeKind = exports.ColorPresentation = exports.ColorInformation = exports.Color = exports.LocationLink = exports.Location = exports.Range = exports.Position = exports.uinteger = exports.integer = exports.URI = exports.DocumentUri = void 0;\n    var DocumentUri;\n    (function (DocumentUri) {\n        function is(value) {\n            return typeof value === 'string';\n        }\n        DocumentUri.is = is;\n    })(DocumentUri || (exports.DocumentUri = DocumentUri = {}));\n    var URI;\n    (function (URI) {\n        function is(value) {\n            return typeof value === 'string';\n        }\n        URI.is = is;\n    })(URI || (exports.URI = URI = {}));\n    var integer;\n    (function (integer) {\n        integer.MIN_VALUE = -2147483648;\n        integer.MAX_VALUE = 2147483647;\n        function is(value) {\n            return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n        }\n        integer.is = is;\n    })(integer || (exports.integer = integer = {}));\n    var uinteger;\n    (function (uinteger) {\n        uinteger.MIN_VALUE = 0;\n        uinteger.MAX_VALUE = 2147483647;\n        function is(value) {\n            return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n        }\n        uinteger.is = is;\n    })(uinteger || (exports.uinteger = uinteger = {}));\n    /**\n     * The Position namespace provides helper functions to work with\n     * {@link Position} literals.\n     */\n    var Position;\n    (function (Position) {\n        /**\n         * Creates a new Position literal from the given line and character.\n         * @param line The position's line.\n         * @param character The position's character.\n         */\n        function create(line, character) {\n            if (line === Number.MAX_VALUE) {\n                line = uinteger.MAX_VALUE;\n            }\n            if (character === Number.MAX_VALUE) {\n                character = uinteger.MAX_VALUE;\n            }\n            return { line: line, character: character };\n        }\n        Position.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Position} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n        }\n        Position.is = is;\n    })(Position || (exports.Position = Position = {}));\n    /**\n     * The Range namespace provides helper functions to work with\n     * {@link Range} literals.\n     */\n    var Range;\n    (function (Range) {\n        function create(one, two, three, four) {\n            if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n                return { start: Position.create(one, two), end: Position.create(three, four) };\n            }\n            else if (Position.is(one) && Position.is(two)) {\n                return { start: one, end: two };\n            }\n            else {\n                throw new Error(\"Range#create called with invalid arguments[\".concat(one, \", \").concat(two, \", \").concat(three, \", \").concat(four, \"]\"));\n            }\n        }\n        Range.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Range} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n        }\n        Range.is = is;\n    })(Range || (exports.Range = Range = {}));\n    /**\n     * The Location namespace provides helper functions to work with\n     * {@link Location} literals.\n     */\n    var Location;\n    (function (Location) {\n        /**\n         * Creates a Location literal.\n         * @param uri The location's uri.\n         * @param range The location's range.\n         */\n        function create(uri, range) {\n            return { uri: uri, range: range };\n        }\n        Location.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Location} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n        }\n        Location.is = is;\n    })(Location || (exports.Location = Location = {}));\n    /**\n     * The LocationLink namespace provides helper functions to work with\n     * {@link LocationLink} literals.\n     */\n    var LocationLink;\n    (function (LocationLink) {\n        /**\n         * Creates a LocationLink literal.\n         * @param targetUri The definition's uri.\n         * @param targetRange The full range of the definition.\n         * @param targetSelectionRange The span of the symbol definition at the target.\n         * @param originSelectionRange The span of the symbol being defined in the originating source file.\n         */\n        function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n            return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n        }\n        LocationLink.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link LocationLink} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n                && Range.is(candidate.targetSelectionRange)\n                && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n        }\n        LocationLink.is = is;\n    })(LocationLink || (exports.LocationLink = LocationLink = {}));\n    /**\n     * The Color namespace provides helper functions to work with\n     * {@link Color} literals.\n     */\n    var Color;\n    (function (Color) {\n        /**\n         * Creates a new Color literal.\n         */\n        function create(red, green, blue, alpha) {\n            return {\n                red: red,\n                green: green,\n                blue: blue,\n                alpha: alpha,\n            };\n        }\n        Color.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Color} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n                && Is.numberRange(candidate.green, 0, 1)\n                && Is.numberRange(candidate.blue, 0, 1)\n                && Is.numberRange(candidate.alpha, 0, 1);\n        }\n        Color.is = is;\n    })(Color || (exports.Color = Color = {}));\n    /**\n     * The ColorInformation namespace provides helper functions to work with\n     * {@link ColorInformation} literals.\n     */\n    var ColorInformation;\n    (function (ColorInformation) {\n        /**\n         * Creates a new ColorInformation literal.\n         */\n        function create(range, color) {\n            return {\n                range: range,\n                color: color,\n            };\n        }\n        ColorInformation.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n        }\n        ColorInformation.is = is;\n    })(ColorInformation || (exports.ColorInformation = ColorInformation = {}));\n    /**\n     * The Color namespace provides helper functions to work with\n     * {@link ColorPresentation} literals.\n     */\n    var ColorPresentation;\n    (function (ColorPresentation) {\n        /**\n         * Creates a new ColorInformation literal.\n         */\n        function create(label, textEdit, additionalTextEdits) {\n            return {\n                label: label,\n                textEdit: textEdit,\n                additionalTextEdits: additionalTextEdits,\n            };\n        }\n        ColorPresentation.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.string(candidate.label)\n                && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n                && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n        }\n        ColorPresentation.is = is;\n    })(ColorPresentation || (exports.ColorPresentation = ColorPresentation = {}));\n    /**\n     * A set of predefined range kinds.\n     */\n    var FoldingRangeKind;\n    (function (FoldingRangeKind) {\n        /**\n         * Folding range for a comment\n         */\n        FoldingRangeKind.Comment = 'comment';\n        /**\n         * Folding range for an import or include\n         */\n        FoldingRangeKind.Imports = 'imports';\n        /**\n         * Folding range for a region (e.g. `#region`)\n         */\n        FoldingRangeKind.Region = 'region';\n    })(FoldingRangeKind || (exports.FoldingRangeKind = FoldingRangeKind = {}));\n    /**\n     * The folding range namespace provides helper functions to work with\n     * {@link FoldingRange} literals.\n     */\n    var FoldingRange;\n    (function (FoldingRange) {\n        /**\n         * Creates a new FoldingRange literal.\n         */\n        function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n            var result = {\n                startLine: startLine,\n                endLine: endLine\n            };\n            if (Is.defined(startCharacter)) {\n                result.startCharacter = startCharacter;\n            }\n            if (Is.defined(endCharacter)) {\n                result.endCharacter = endCharacter;\n            }\n            if (Is.defined(kind)) {\n                result.kind = kind;\n            }\n            if (Is.defined(collapsedText)) {\n                result.collapsedText = collapsedText;\n            }\n            return result;\n        }\n        FoldingRange.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link FoldingRange} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n                && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n                && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n                && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n        }\n        FoldingRange.is = is;\n    })(FoldingRange || (exports.FoldingRange = FoldingRange = {}));\n    /**\n     * The DiagnosticRelatedInformation namespace provides helper functions to work with\n     * {@link DiagnosticRelatedInformation} literals.\n     */\n    var DiagnosticRelatedInformation;\n    (function (DiagnosticRelatedInformation) {\n        /**\n         * Creates a new DiagnosticRelatedInformation literal.\n         */\n        function create(location, message) {\n            return {\n                location: location,\n                message: message\n            };\n        }\n        DiagnosticRelatedInformation.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link DiagnosticRelatedInformation} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n        }\n        DiagnosticRelatedInformation.is = is;\n    })(DiagnosticRelatedInformation || (exports.DiagnosticRelatedInformation = DiagnosticRelatedInformation = {}));\n    /**\n     * The diagnostic's severity.\n     */\n    var DiagnosticSeverity;\n    (function (DiagnosticSeverity) {\n        /**\n         * Reports an error.\n         */\n        DiagnosticSeverity.Error = 1;\n        /**\n         * Reports a warning.\n         */\n        DiagnosticSeverity.Warning = 2;\n        /**\n         * Reports an information.\n         */\n        DiagnosticSeverity.Information = 3;\n        /**\n         * Reports a hint.\n         */\n        DiagnosticSeverity.Hint = 4;\n    })(DiagnosticSeverity || (exports.DiagnosticSeverity = DiagnosticSeverity = {}));\n    /**\n     * The diagnostic tags.\n     *\n     * @since 3.15.0\n     */\n    var DiagnosticTag;\n    (function (DiagnosticTag) {\n        /**\n         * Unused or unnecessary code.\n         *\n         * Clients are allowed to render diagnostics with this tag faded out instead of having\n         * an error squiggle.\n         */\n        DiagnosticTag.Unnecessary = 1;\n        /**\n         * Deprecated or obsolete code.\n         *\n         * Clients are allowed to rendered diagnostics with this tag strike through.\n         */\n        DiagnosticTag.Deprecated = 2;\n    })(DiagnosticTag || (exports.DiagnosticTag = DiagnosticTag = {}));\n    /**\n     * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n     *\n     * @since 3.16.0\n     */\n    var CodeDescription;\n    (function (CodeDescription) {\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.string(candidate.href);\n        }\n        CodeDescription.is = is;\n    })(CodeDescription || (exports.CodeDescription = CodeDescription = {}));\n    /**\n     * The Diagnostic namespace provides helper functions to work with\n     * {@link Diagnostic} literals.\n     */\n    var Diagnostic;\n    (function (Diagnostic) {\n        /**\n         * Creates a new Diagnostic literal.\n         */\n        function create(range, message, severity, code, source, relatedInformation) {\n            var result = { range: range, message: message };\n            if (Is.defined(severity)) {\n                result.severity = severity;\n            }\n            if (Is.defined(code)) {\n                result.code = code;\n            }\n            if (Is.defined(source)) {\n                result.source = source;\n            }\n            if (Is.defined(relatedInformation)) {\n                result.relatedInformation = relatedInformation;\n            }\n            return result;\n        }\n        Diagnostic.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Diagnostic} interface.\n         */\n        function is(value) {\n            var _a;\n            var candidate = value;\n            return Is.defined(candidate)\n                && Range.is(candidate.range)\n                && Is.string(candidate.message)\n                && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n                && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n                && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n                && (Is.string(candidate.source) || Is.undefined(candidate.source))\n                && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n        }\n        Diagnostic.is = is;\n    })(Diagnostic || (exports.Diagnostic = Diagnostic = {}));\n    /**\n     * The Command namespace provides helper functions to work with\n     * {@link Command} literals.\n     */\n    var Command;\n    (function (Command) {\n        /**\n         * Creates a new Command literal.\n         */\n        function create(title, command) {\n            var args = [];\n            for (var _i = 2; _i < arguments.length; _i++) {\n                args[_i - 2] = arguments[_i];\n            }\n            var result = { title: title, command: command };\n            if (Is.defined(args) && args.length > 0) {\n                result.arguments = args;\n            }\n            return result;\n        }\n        Command.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Command} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n        }\n        Command.is = is;\n    })(Command || (exports.Command = Command = {}));\n    /**\n     * The TextEdit namespace provides helper function to create replace,\n     * insert and delete edits more easily.\n     */\n    var TextEdit;\n    (function (TextEdit) {\n        /**\n         * Creates a replace text edit.\n         * @param range The range of text to be replaced.\n         * @param newText The new text.\n         */\n        function replace(range, newText) {\n            return { range: range, newText: newText };\n        }\n        TextEdit.replace = replace;\n        /**\n         * Creates an insert text edit.\n         * @param position The position to insert the text at.\n         * @param newText The text to be inserted.\n         */\n        function insert(position, newText) {\n            return { range: { start: position, end: position }, newText: newText };\n        }\n        TextEdit.insert = insert;\n        /**\n         * Creates a delete text edit.\n         * @param range The range of text to be deleted.\n         */\n        function del(range) {\n            return { range: range, newText: '' };\n        }\n        TextEdit.del = del;\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate)\n                && Is.string(candidate.newText)\n                && Range.is(candidate.range);\n        }\n        TextEdit.is = is;\n    })(TextEdit || (exports.TextEdit = TextEdit = {}));\n    var ChangeAnnotation;\n    (function (ChangeAnnotation) {\n        function create(label, needsConfirmation, description) {\n            var result = { label: label };\n            if (needsConfirmation !== undefined) {\n                result.needsConfirmation = needsConfirmation;\n            }\n            if (description !== undefined) {\n                result.description = description;\n            }\n            return result;\n        }\n        ChangeAnnotation.create = create;\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n                (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n                (Is.string(candidate.description) || candidate.description === undefined);\n        }\n        ChangeAnnotation.is = is;\n    })(ChangeAnnotation || (exports.ChangeAnnotation = ChangeAnnotation = {}));\n    var ChangeAnnotationIdentifier;\n    (function (ChangeAnnotationIdentifier) {\n        function is(value) {\n            var candidate = value;\n            return Is.string(candidate);\n        }\n        ChangeAnnotationIdentifier.is = is;\n    })(ChangeAnnotationIdentifier || (exports.ChangeAnnotationIdentifier = ChangeAnnotationIdentifier = {}));\n    var AnnotatedTextEdit;\n    (function (AnnotatedTextEdit) {\n        /**\n         * Creates an annotated replace text edit.\n         *\n         * @param range The range of text to be replaced.\n         * @param newText The new text.\n         * @param annotation The annotation.\n         */\n        function replace(range, newText, annotation) {\n            return { range: range, newText: newText, annotationId: annotation };\n        }\n        AnnotatedTextEdit.replace = replace;\n        /**\n         * Creates an annotated insert text edit.\n         *\n         * @param position The position to insert the text at.\n         * @param newText The text to be inserted.\n         * @param annotation The annotation.\n         */\n        function insert(position, newText, annotation) {\n            return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n        }\n        AnnotatedTextEdit.insert = insert;\n        /**\n         * Creates an annotated delete text edit.\n         *\n         * @param range The range of text to be deleted.\n         * @param annotation The annotation.\n         */\n        function del(range, annotation) {\n            return { range: range, newText: '', annotationId: annotation };\n        }\n        AnnotatedTextEdit.del = del;\n        function is(value) {\n            var candidate = value;\n            return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n        }\n        AnnotatedTextEdit.is = is;\n    })(AnnotatedTextEdit || (exports.AnnotatedTextEdit = AnnotatedTextEdit = {}));\n    /**\n     * The TextDocumentEdit namespace provides helper function to create\n     * an edit that manipulates a text document.\n     */\n    var TextDocumentEdit;\n    (function (TextDocumentEdit) {\n        /**\n         * Creates a new `TextDocumentEdit`\n         */\n        function create(textDocument, edits) {\n            return { textDocument: textDocument, edits: edits };\n        }\n        TextDocumentEdit.create = create;\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate)\n                && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n                && Array.isArray(candidate.edits);\n        }\n        TextDocumentEdit.is = is;\n    })(TextDocumentEdit || (exports.TextDocumentEdit = TextDocumentEdit = {}));\n    var CreateFile;\n    (function (CreateFile) {\n        function create(uri, options, annotation) {\n            var result = {\n                kind: 'create',\n                uri: uri\n            };\n            if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n                result.options = options;\n            }\n            if (annotation !== undefined) {\n                result.annotationId = annotation;\n            }\n            return result;\n        }\n        CreateFile.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n                ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n        }\n        CreateFile.is = is;\n    })(CreateFile || (exports.CreateFile = CreateFile = {}));\n    var RenameFile;\n    (function (RenameFile) {\n        function create(oldUri, newUri, options, annotation) {\n            var result = {\n                kind: 'rename',\n                oldUri: oldUri,\n                newUri: newUri\n            };\n            if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n                result.options = options;\n            }\n            if (annotation !== undefined) {\n                result.annotationId = annotation;\n            }\n            return result;\n        }\n        RenameFile.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n                ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n        }\n        RenameFile.is = is;\n    })(RenameFile || (exports.RenameFile = RenameFile = {}));\n    var DeleteFile;\n    (function (DeleteFile) {\n        function create(uri, options, annotation) {\n            var result = {\n                kind: 'delete',\n                uri: uri\n            };\n            if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n                result.options = options;\n            }\n            if (annotation !== undefined) {\n                result.annotationId = annotation;\n            }\n            return result;\n        }\n        DeleteFile.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n                ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n        }\n        DeleteFile.is = is;\n    })(DeleteFile || (exports.DeleteFile = DeleteFile = {}));\n    var WorkspaceEdit;\n    (function (WorkspaceEdit) {\n        function is(value) {\n            var candidate = value;\n            return candidate &&\n                (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n                (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                    if (Is.string(change.kind)) {\n                        return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                    }\n                    else {\n                        return TextDocumentEdit.is(change);\n                    }\n                }));\n        }\n        WorkspaceEdit.is = is;\n    })(WorkspaceEdit || (exports.WorkspaceEdit = WorkspaceEdit = {}));\n    var TextEditChangeImpl = /** @class */ (function () {\n        function TextEditChangeImpl(edits, changeAnnotations) {\n            this.edits = edits;\n            this.changeAnnotations = changeAnnotations;\n        }\n        TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n            var edit;\n            var id;\n            if (annotation === undefined) {\n                edit = TextEdit.insert(position, newText);\n            }\n            else if (ChangeAnnotationIdentifier.is(annotation)) {\n                id = annotation;\n                edit = AnnotatedTextEdit.insert(position, newText, annotation);\n            }\n            else {\n                this.assertChangeAnnotations(this.changeAnnotations);\n                id = this.changeAnnotations.manage(annotation);\n                edit = AnnotatedTextEdit.insert(position, newText, id);\n            }\n            this.edits.push(edit);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n            var edit;\n            var id;\n            if (annotation === undefined) {\n                edit = TextEdit.replace(range, newText);\n            }\n            else if (ChangeAnnotationIdentifier.is(annotation)) {\n                id = annotation;\n                edit = AnnotatedTextEdit.replace(range, newText, annotation);\n            }\n            else {\n                this.assertChangeAnnotations(this.changeAnnotations);\n                id = this.changeAnnotations.manage(annotation);\n                edit = AnnotatedTextEdit.replace(range, newText, id);\n            }\n            this.edits.push(edit);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        TextEditChangeImpl.prototype.delete = function (range, annotation) {\n            var edit;\n            var id;\n            if (annotation === undefined) {\n                edit = TextEdit.del(range);\n            }\n            else if (ChangeAnnotationIdentifier.is(annotation)) {\n                id = annotation;\n                edit = AnnotatedTextEdit.del(range, annotation);\n            }\n            else {\n                this.assertChangeAnnotations(this.changeAnnotations);\n                id = this.changeAnnotations.manage(annotation);\n                edit = AnnotatedTextEdit.del(range, id);\n            }\n            this.edits.push(edit);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        TextEditChangeImpl.prototype.add = function (edit) {\n            this.edits.push(edit);\n        };\n        TextEditChangeImpl.prototype.all = function () {\n            return this.edits;\n        };\n        TextEditChangeImpl.prototype.clear = function () {\n            this.edits.splice(0, this.edits.length);\n        };\n        TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n            if (value === undefined) {\n                throw new Error(\"Text edit change is not configured to manage change annotations.\");\n            }\n        };\n        return TextEditChangeImpl;\n    }());\n    /**\n     * A helper class\n     */\n    var ChangeAnnotations = /** @class */ (function () {\n        function ChangeAnnotations(annotations) {\n            this._annotations = annotations === undefined ? Object.create(null) : annotations;\n            this._counter = 0;\n            this._size = 0;\n        }\n        ChangeAnnotations.prototype.all = function () {\n            return this._annotations;\n        };\n        Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n            get: function () {\n                return this._size;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n            var id;\n            if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n                id = idOrAnnotation;\n            }\n            else {\n                id = this.nextId();\n                annotation = idOrAnnotation;\n            }\n            if (this._annotations[id] !== undefined) {\n                throw new Error(\"Id \".concat(id, \" is already in use.\"));\n            }\n            if (annotation === undefined) {\n                throw new Error(\"No annotation provided for id \".concat(id));\n            }\n            this._annotations[id] = annotation;\n            this._size++;\n            return id;\n        };\n        ChangeAnnotations.prototype.nextId = function () {\n            this._counter++;\n            return this._counter.toString();\n        };\n        return ChangeAnnotations;\n    }());\n    /**\n     * A workspace change helps constructing changes to a workspace.\n     */\n    var WorkspaceChange = /** @class */ (function () {\n        function WorkspaceChange(workspaceEdit) {\n            var _this = this;\n            this._textEditChanges = Object.create(null);\n            if (workspaceEdit !== undefined) {\n                this._workspaceEdit = workspaceEdit;\n                if (workspaceEdit.documentChanges) {\n                    this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                    workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                    workspaceEdit.documentChanges.forEach(function (change) {\n                        if (TextDocumentEdit.is(change)) {\n                            var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                            _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                        }\n                    });\n                }\n                else if (workspaceEdit.changes) {\n                    Object.keys(workspaceEdit.changes).forEach(function (key) {\n                        var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                        _this._textEditChanges[key] = textEditChange;\n                    });\n                }\n            }\n            else {\n                this._workspaceEdit = {};\n            }\n        }\n        Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n            /**\n             * Returns the underlying {@link WorkspaceEdit} literal\n             * use to be returned from a workspace edit operation like rename.\n             */\n            get: function () {\n                this.initDocumentChanges();\n                if (this._changeAnnotations !== undefined) {\n                    if (this._changeAnnotations.size === 0) {\n                        this._workspaceEdit.changeAnnotations = undefined;\n                    }\n                    else {\n                        this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                    }\n                }\n                return this._workspaceEdit;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        WorkspaceChange.prototype.getTextEditChange = function (key) {\n            if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n                this.initDocumentChanges();\n                if (this._workspaceEdit.documentChanges === undefined) {\n                    throw new Error('Workspace edit is not configured for document changes.');\n                }\n                var textDocument = { uri: key.uri, version: key.version };\n                var result = this._textEditChanges[textDocument.uri];\n                if (!result) {\n                    var edits = [];\n                    var textDocumentEdit = {\n                        textDocument: textDocument,\n                        edits: edits\n                    };\n                    this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                    result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                    this._textEditChanges[textDocument.uri] = result;\n                }\n                return result;\n            }\n            else {\n                this.initChanges();\n                if (this._workspaceEdit.changes === undefined) {\n                    throw new Error('Workspace edit is not configured for normal text edit changes.');\n                }\n                var result = this._textEditChanges[key];\n                if (!result) {\n                    var edits = [];\n                    this._workspaceEdit.changes[key] = edits;\n                    result = new TextEditChangeImpl(edits);\n                    this._textEditChanges[key] = result;\n                }\n                return result;\n            }\n        };\n        WorkspaceChange.prototype.initDocumentChanges = function () {\n            if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n                this._changeAnnotations = new ChangeAnnotations();\n                this._workspaceEdit.documentChanges = [];\n                this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n            }\n        };\n        WorkspaceChange.prototype.initChanges = function () {\n            if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n                this._workspaceEdit.changes = Object.create(null);\n            }\n        };\n        WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var annotation;\n            if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n                annotation = optionsOrAnnotation;\n            }\n            else {\n                options = optionsOrAnnotation;\n            }\n            var operation;\n            var id;\n            if (annotation === undefined) {\n                operation = CreateFile.create(uri, options);\n            }\n            else {\n                id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n                operation = CreateFile.create(uri, options, id);\n            }\n            this._workspaceEdit.documentChanges.push(operation);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var annotation;\n            if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n                annotation = optionsOrAnnotation;\n            }\n            else {\n                options = optionsOrAnnotation;\n            }\n            var operation;\n            var id;\n            if (annotation === undefined) {\n                operation = RenameFile.create(oldUri, newUri, options);\n            }\n            else {\n                id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n                operation = RenameFile.create(oldUri, newUri, options, id);\n            }\n            this._workspaceEdit.documentChanges.push(operation);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var annotation;\n            if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n                annotation = optionsOrAnnotation;\n            }\n            else {\n                options = optionsOrAnnotation;\n            }\n            var operation;\n            var id;\n            if (annotation === undefined) {\n                operation = DeleteFile.create(uri, options);\n            }\n            else {\n                id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n                operation = DeleteFile.create(uri, options, id);\n            }\n            this._workspaceEdit.documentChanges.push(operation);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        return WorkspaceChange;\n    }());\n    exports.WorkspaceChange = WorkspaceChange;\n    /**\n     * The TextDocumentIdentifier namespace provides helper functions to work with\n     * {@link TextDocumentIdentifier} literals.\n     */\n    var TextDocumentIdentifier;\n    (function (TextDocumentIdentifier) {\n        /**\n         * Creates a new TextDocumentIdentifier literal.\n         * @param uri The document's uri.\n         */\n        function create(uri) {\n            return { uri: uri };\n        }\n        TextDocumentIdentifier.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link TextDocumentIdentifier} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri);\n        }\n        TextDocumentIdentifier.is = is;\n    })(TextDocumentIdentifier || (exports.TextDocumentIdentifier = TextDocumentIdentifier = {}));\n    /**\n     * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n     * {@link VersionedTextDocumentIdentifier} literals.\n     */\n    var VersionedTextDocumentIdentifier;\n    (function (VersionedTextDocumentIdentifier) {\n        /**\n         * Creates a new VersionedTextDocumentIdentifier literal.\n         * @param uri The document's uri.\n         * @param version The document's version.\n         */\n        function create(uri, version) {\n            return { uri: uri, version: version };\n        }\n        VersionedTextDocumentIdentifier.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link VersionedTextDocumentIdentifier} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n        }\n        VersionedTextDocumentIdentifier.is = is;\n    })(VersionedTextDocumentIdentifier || (exports.VersionedTextDocumentIdentifier = VersionedTextDocumentIdentifier = {}));\n    /**\n     * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n     * {@link OptionalVersionedTextDocumentIdentifier} literals.\n     */\n    var OptionalVersionedTextDocumentIdentifier;\n    (function (OptionalVersionedTextDocumentIdentifier) {\n        /**\n         * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n         * @param uri The document's uri.\n         * @param version The document's version.\n         */\n        function create(uri, version) {\n            return { uri: uri, version: version };\n        }\n        OptionalVersionedTextDocumentIdentifier.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link OptionalVersionedTextDocumentIdentifier} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n        }\n        OptionalVersionedTextDocumentIdentifier.is = is;\n    })(OptionalVersionedTextDocumentIdentifier || (exports.OptionalVersionedTextDocumentIdentifier = OptionalVersionedTextDocumentIdentifier = {}));\n    /**\n     * The TextDocumentItem namespace provides helper functions to work with\n     * {@link TextDocumentItem} literals.\n     */\n    var TextDocumentItem;\n    (function (TextDocumentItem) {\n        /**\n         * Creates a new TextDocumentItem literal.\n         * @param uri The document's uri.\n         * @param languageId The document's language identifier.\n         * @param version The document's version number.\n         * @param text The document's text.\n         */\n        function create(uri, languageId, version, text) {\n            return { uri: uri, languageId: languageId, version: version, text: text };\n        }\n        TextDocumentItem.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link TextDocumentItem} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n        }\n        TextDocumentItem.is = is;\n    })(TextDocumentItem || (exports.TextDocumentItem = TextDocumentItem = {}));\n    /**\n     * Describes the content type that a client supports in various\n     * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n     *\n     * Please note that `MarkupKinds` must not start with a `$`. This kinds\n     * are reserved for internal usage.\n     */\n    var MarkupKind;\n    (function (MarkupKind) {\n        /**\n         * Plain text is supported as a content format\n         */\n        MarkupKind.PlainText = 'plaintext';\n        /**\n         * Markdown is supported as a content format\n         */\n        MarkupKind.Markdown = 'markdown';\n        /**\n         * Checks whether the given value is a value of the {@link MarkupKind} type.\n         */\n        function is(value) {\n            var candidate = value;\n            return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n        }\n        MarkupKind.is = is;\n    })(MarkupKind || (exports.MarkupKind = MarkupKind = {}));\n    var MarkupContent;\n    (function (MarkupContent) {\n        /**\n         * Checks whether the given value conforms to the {@link MarkupContent} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n        }\n        MarkupContent.is = is;\n    })(MarkupContent || (exports.MarkupContent = MarkupContent = {}));\n    /**\n     * The kind of a completion entry.\n     */\n    var CompletionItemKind;\n    (function (CompletionItemKind) {\n        CompletionItemKind.Text = 1;\n        CompletionItemKind.Method = 2;\n        CompletionItemKind.Function = 3;\n        CompletionItemKind.Constructor = 4;\n        CompletionItemKind.Field = 5;\n        CompletionItemKind.Variable = 6;\n        CompletionItemKind.Class = 7;\n        CompletionItemKind.Interface = 8;\n        CompletionItemKind.Module = 9;\n        CompletionItemKind.Property = 10;\n        CompletionItemKind.Unit = 11;\n        CompletionItemKind.Value = 12;\n        CompletionItemKind.Enum = 13;\n        CompletionItemKind.Keyword = 14;\n        CompletionItemKind.Snippet = 15;\n        CompletionItemKind.Color = 16;\n        CompletionItemKind.File = 17;\n        CompletionItemKind.Reference = 18;\n        CompletionItemKind.Folder = 19;\n        CompletionItemKind.EnumMember = 20;\n        CompletionItemKind.Constant = 21;\n        CompletionItemKind.Struct = 22;\n        CompletionItemKind.Event = 23;\n        CompletionItemKind.Operator = 24;\n        CompletionItemKind.TypeParameter = 25;\n    })(CompletionItemKind || (exports.CompletionItemKind = CompletionItemKind = {}));\n    /**\n     * Defines whether the insert text in a completion item should be interpreted as\n     * plain text or a snippet.\n     */\n    var InsertTextFormat;\n    (function (InsertTextFormat) {\n        /**\n         * The primary text to be inserted is treated as a plain string.\n         */\n        InsertTextFormat.PlainText = 1;\n        /**\n         * The primary text to be inserted is treated as a snippet.\n         *\n         * A snippet can define tab stops and placeholders with `$1`, `$2`\n         * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n         * the end of the snippet. Placeholders with equal identifiers are linked,\n         * that is typing in one will update others too.\n         *\n         * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n         */\n        InsertTextFormat.Snippet = 2;\n    })(InsertTextFormat || (exports.InsertTextFormat = InsertTextFormat = {}));\n    /**\n     * Completion item tags are extra annotations that tweak the rendering of a completion\n     * item.\n     *\n     * @since 3.15.0\n     */\n    var CompletionItemTag;\n    (function (CompletionItemTag) {\n        /**\n         * Render a completion as obsolete, usually using a strike-out.\n         */\n        CompletionItemTag.Deprecated = 1;\n    })(CompletionItemTag || (exports.CompletionItemTag = CompletionItemTag = {}));\n    /**\n     * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n     *\n     * @since 3.16.0\n     */\n    var InsertReplaceEdit;\n    (function (InsertReplaceEdit) {\n        /**\n         * Creates a new insert / replace edit\n         */\n        function create(newText, insert, replace) {\n            return { newText: newText, insert: insert, replace: replace };\n        }\n        InsertReplaceEdit.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link InsertReplaceEdit} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n        }\n        InsertReplaceEdit.is = is;\n    })(InsertReplaceEdit || (exports.InsertReplaceEdit = InsertReplaceEdit = {}));\n    /**\n     * How whitespace and indentation is handled during completion\n     * item insertion.\n     *\n     * @since 3.16.0\n     */\n    var InsertTextMode;\n    (function (InsertTextMode) {\n        /**\n         * The insertion or replace strings is taken as it is. If the\n         * value is multi line the lines below the cursor will be\n         * inserted using the indentation defined in the string value.\n         * The client will not apply any kind of adjustments to the\n         * string.\n         */\n        InsertTextMode.asIs = 1;\n        /**\n         * The editor adjusts leading whitespace of new lines so that\n         * they match the indentation up to the cursor of the line for\n         * which the item is accepted.\n         *\n         * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n         * multi line completion item is indented using 2 tabs and all\n         * following lines inserted will be indented using 2 tabs as well.\n         */\n        InsertTextMode.adjustIndentation = 2;\n    })(InsertTextMode || (exports.InsertTextMode = InsertTextMode = {}));\n    var CompletionItemLabelDetails;\n    (function (CompletionItemLabelDetails) {\n        function is(value) {\n            var candidate = value;\n            return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n                (Is.string(candidate.description) || candidate.description === undefined);\n        }\n        CompletionItemLabelDetails.is = is;\n    })(CompletionItemLabelDetails || (exports.CompletionItemLabelDetails = CompletionItemLabelDetails = {}));\n    /**\n     * The CompletionItem namespace provides functions to deal with\n     * completion items.\n     */\n    var CompletionItem;\n    (function (CompletionItem) {\n        /**\n         * Create a completion item and seed it with a label.\n         * @param label The completion item's label\n         */\n        function create(label) {\n            return { label: label };\n        }\n        CompletionItem.create = create;\n    })(CompletionItem || (exports.CompletionItem = CompletionItem = {}));\n    /**\n     * The CompletionList namespace provides functions to deal with\n     * completion lists.\n     */\n    var CompletionList;\n    (function (CompletionList) {\n        /**\n         * Creates a new completion list.\n         *\n         * @param items The completion items.\n         * @param isIncomplete The list is not complete.\n         */\n        function create(items, isIncomplete) {\n            return { items: items ? items : [], isIncomplete: !!isIncomplete };\n        }\n        CompletionList.create = create;\n    })(CompletionList || (exports.CompletionList = CompletionList = {}));\n    var MarkedString;\n    (function (MarkedString) {\n        /**\n         * Creates a marked string from plain text.\n         *\n         * @param plainText The plain text.\n         */\n        function fromPlainText(plainText) {\n            return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n        }\n        MarkedString.fromPlainText = fromPlainText;\n        /**\n         * Checks whether the given value conforms to the {@link MarkedString} type.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n        }\n        MarkedString.is = is;\n    })(MarkedString || (exports.MarkedString = MarkedString = {}));\n    var Hover;\n    (function (Hover) {\n        /**\n         * Checks whether the given value conforms to the {@link Hover} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n                MarkedString.is(candidate.contents) ||\n                Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n        }\n        Hover.is = is;\n    })(Hover || (exports.Hover = Hover = {}));\n    /**\n     * The ParameterInformation namespace provides helper functions to work with\n     * {@link ParameterInformation} literals.\n     */\n    var ParameterInformation;\n    (function (ParameterInformation) {\n        /**\n         * Creates a new parameter information literal.\n         *\n         * @param label A label string.\n         * @param documentation A doc string.\n         */\n        function create(label, documentation) {\n            return documentation ? { label: label, documentation: documentation } : { label: label };\n        }\n        ParameterInformation.create = create;\n    })(ParameterInformation || (exports.ParameterInformation = ParameterInformation = {}));\n    /**\n     * The SignatureInformation namespace provides helper functions to work with\n     * {@link SignatureInformation} literals.\n     */\n    var SignatureInformation;\n    (function (SignatureInformation) {\n        function create(label, documentation) {\n            var parameters = [];\n            for (var _i = 2; _i < arguments.length; _i++) {\n                parameters[_i - 2] = arguments[_i];\n            }\n            var result = { label: label };\n            if (Is.defined(documentation)) {\n                result.documentation = documentation;\n            }\n            if (Is.defined(parameters)) {\n                result.parameters = parameters;\n            }\n            else {\n                result.parameters = [];\n            }\n            return result;\n        }\n        SignatureInformation.create = create;\n    })(SignatureInformation || (exports.SignatureInformation = SignatureInformation = {}));\n    /**\n     * A document highlight kind.\n     */\n    var DocumentHighlightKind;\n    (function (DocumentHighlightKind) {\n        /**\n         * A textual occurrence.\n         */\n        DocumentHighlightKind.Text = 1;\n        /**\n         * Read-access of a symbol, like reading a variable.\n         */\n        DocumentHighlightKind.Read = 2;\n        /**\n         * Write-access of a symbol, like writing to a variable.\n         */\n        DocumentHighlightKind.Write = 3;\n    })(DocumentHighlightKind || (exports.DocumentHighlightKind = DocumentHighlightKind = {}));\n    /**\n     * DocumentHighlight namespace to provide helper functions to work with\n     * {@link DocumentHighlight} literals.\n     */\n    var DocumentHighlight;\n    (function (DocumentHighlight) {\n        /**\n         * Create a DocumentHighlight object.\n         * @param range The range the highlight applies to.\n         * @param kind The highlight kind\n         */\n        function create(range, kind) {\n            var result = { range: range };\n            if (Is.number(kind)) {\n                result.kind = kind;\n            }\n            return result;\n        }\n        DocumentHighlight.create = create;\n    })(DocumentHighlight || (exports.DocumentHighlight = DocumentHighlight = {}));\n    /**\n     * A symbol kind.\n     */\n    var SymbolKind;\n    (function (SymbolKind) {\n        SymbolKind.File = 1;\n        SymbolKind.Module = 2;\n        SymbolKind.Namespace = 3;\n        SymbolKind.Package = 4;\n        SymbolKind.Class = 5;\n        SymbolKind.Method = 6;\n        SymbolKind.Property = 7;\n        SymbolKind.Field = 8;\n        SymbolKind.Constructor = 9;\n        SymbolKind.Enum = 10;\n        SymbolKind.Interface = 11;\n        SymbolKind.Function = 12;\n        SymbolKind.Variable = 13;\n        SymbolKind.Constant = 14;\n        SymbolKind.String = 15;\n        SymbolKind.Number = 16;\n        SymbolKind.Boolean = 17;\n        SymbolKind.Array = 18;\n        SymbolKind.Object = 19;\n        SymbolKind.Key = 20;\n        SymbolKind.Null = 21;\n        SymbolKind.EnumMember = 22;\n        SymbolKind.Struct = 23;\n        SymbolKind.Event = 24;\n        SymbolKind.Operator = 25;\n        SymbolKind.TypeParameter = 26;\n    })(SymbolKind || (exports.SymbolKind = SymbolKind = {}));\n    /**\n     * Symbol tags are extra annotations that tweak the rendering of a symbol.\n     *\n     * @since 3.16\n     */\n    var SymbolTag;\n    (function (SymbolTag) {\n        /**\n         * Render a symbol as obsolete, usually using a strike-out.\n         */\n        SymbolTag.Deprecated = 1;\n    })(SymbolTag || (exports.SymbolTag = SymbolTag = {}));\n    var SymbolInformation;\n    (function (SymbolInformation) {\n        /**\n         * Creates a new symbol information literal.\n         *\n         * @param name The name of the symbol.\n         * @param kind The kind of the symbol.\n         * @param range The range of the location of the symbol.\n         * @param uri The resource of the location of symbol.\n         * @param containerName The name of the symbol containing the symbol.\n         */\n        function create(name, kind, range, uri, containerName) {\n            var result = {\n                name: name,\n                kind: kind,\n                location: { uri: uri, range: range }\n            };\n            if (containerName) {\n                result.containerName = containerName;\n            }\n            return result;\n        }\n        SymbolInformation.create = create;\n    })(SymbolInformation || (exports.SymbolInformation = SymbolInformation = {}));\n    var WorkspaceSymbol;\n    (function (WorkspaceSymbol) {\n        /**\n         * Create a new workspace symbol.\n         *\n         * @param name The name of the symbol.\n         * @param kind The kind of the symbol.\n         * @param uri The resource of the location of the symbol.\n         * @param range An options range of the location.\n         * @returns A WorkspaceSymbol.\n         */\n        function create(name, kind, uri, range) {\n            return range !== undefined\n                ? { name: name, kind: kind, location: { uri: uri, range: range } }\n                : { name: name, kind: kind, location: { uri: uri } };\n        }\n        WorkspaceSymbol.create = create;\n    })(WorkspaceSymbol || (exports.WorkspaceSymbol = WorkspaceSymbol = {}));\n    var DocumentSymbol;\n    (function (DocumentSymbol) {\n        /**\n         * Creates a new symbol information literal.\n         *\n         * @param name The name of the symbol.\n         * @param detail The detail of the symbol.\n         * @param kind The kind of the symbol.\n         * @param range The range of the symbol.\n         * @param selectionRange The selectionRange of the symbol.\n         * @param children Children of the symbol.\n         */\n        function create(name, detail, kind, range, selectionRange, children) {\n            var result = {\n                name: name,\n                detail: detail,\n                kind: kind,\n                range: range,\n                selectionRange: selectionRange\n            };\n            if (children !== undefined) {\n                result.children = children;\n            }\n            return result;\n        }\n        DocumentSymbol.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link DocumentSymbol} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return candidate &&\n                Is.string(candidate.name) && Is.number(candidate.kind) &&\n                Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n                (candidate.detail === undefined || Is.string(candidate.detail)) &&\n                (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n                (candidate.children === undefined || Array.isArray(candidate.children)) &&\n                (candidate.tags === undefined || Array.isArray(candidate.tags));\n        }\n        DocumentSymbol.is = is;\n    })(DocumentSymbol || (exports.DocumentSymbol = DocumentSymbol = {}));\n    /**\n     * A set of predefined code action kinds\n     */\n    var CodeActionKind;\n    (function (CodeActionKind) {\n        /**\n         * Empty kind.\n         */\n        CodeActionKind.Empty = '';\n        /**\n         * Base kind for quickfix actions: 'quickfix'\n         */\n        CodeActionKind.QuickFix = 'quickfix';\n        /**\n         * Base kind for refactoring actions: 'refactor'\n         */\n        CodeActionKind.Refactor = 'refactor';\n        /**\n         * Base kind for refactoring extraction actions: 'refactor.extract'\n         *\n         * Example extract actions:\n         *\n         * - Extract method\n         * - Extract function\n         * - Extract variable\n         * - Extract interface from class\n         * - ...\n         */\n        CodeActionKind.RefactorExtract = 'refactor.extract';\n        /**\n         * Base kind for refactoring inline actions: 'refactor.inline'\n         *\n         * Example inline actions:\n         *\n         * - Inline function\n         * - Inline variable\n         * - Inline constant\n         * - ...\n         */\n        CodeActionKind.RefactorInline = 'refactor.inline';\n        /**\n         * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n         *\n         * Example rewrite actions:\n         *\n         * - Convert JavaScript function to class\n         * - Add or remove parameter\n         * - Encapsulate field\n         * - Make method static\n         * - Move method to base class\n         * - ...\n         */\n        CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n        /**\n         * Base kind for source actions: `source`\n         *\n         * Source code actions apply to the entire file.\n         */\n        CodeActionKind.Source = 'source';\n        /**\n         * Base kind for an organize imports source action: `source.organizeImports`\n         */\n        CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n        /**\n         * Base kind for auto-fix source actions: `source.fixAll`.\n         *\n         * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n         * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n         *\n         * @since 3.15.0\n         */\n        CodeActionKind.SourceFixAll = 'source.fixAll';\n    })(CodeActionKind || (exports.CodeActionKind = CodeActionKind = {}));\n    /**\n     * The reason why code actions were requested.\n     *\n     * @since 3.17.0\n     */\n    var CodeActionTriggerKind;\n    (function (CodeActionTriggerKind) {\n        /**\n         * Code actions were explicitly requested by the user or by an extension.\n         */\n        CodeActionTriggerKind.Invoked = 1;\n        /**\n         * Code actions were requested automatically.\n         *\n         * This typically happens when current selection in a file changes, but can\n         * also be triggered when file content changes.\n         */\n        CodeActionTriggerKind.Automatic = 2;\n    })(CodeActionTriggerKind || (exports.CodeActionTriggerKind = CodeActionTriggerKind = {}));\n    /**\n     * The CodeActionContext namespace provides helper functions to work with\n     * {@link CodeActionContext} literals.\n     */\n    var CodeActionContext;\n    (function (CodeActionContext) {\n        /**\n         * Creates a new CodeActionContext literal.\n         */\n        function create(diagnostics, only, triggerKind) {\n            var result = { diagnostics: diagnostics };\n            if (only !== undefined && only !== null) {\n                result.only = only;\n            }\n            if (triggerKind !== undefined && triggerKind !== null) {\n                result.triggerKind = triggerKind;\n            }\n            return result;\n        }\n        CodeActionContext.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link CodeActionContext} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n                && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n                && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n        }\n        CodeActionContext.is = is;\n    })(CodeActionContext || (exports.CodeActionContext = CodeActionContext = {}));\n    var CodeAction;\n    (function (CodeAction) {\n        function create(title, kindOrCommandOrEdit, kind) {\n            var result = { title: title };\n            var checkKind = true;\n            if (typeof kindOrCommandOrEdit === 'string') {\n                checkKind = false;\n                result.kind = kindOrCommandOrEdit;\n            }\n            else if (Command.is(kindOrCommandOrEdit)) {\n                result.command = kindOrCommandOrEdit;\n            }\n            else {\n                result.edit = kindOrCommandOrEdit;\n            }\n            if (checkKind && kind !== undefined) {\n                result.kind = kind;\n            }\n            return result;\n        }\n        CodeAction.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate && Is.string(candidate.title) &&\n                (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n                (candidate.kind === undefined || Is.string(candidate.kind)) &&\n                (candidate.edit !== undefined || candidate.command !== undefined) &&\n                (candidate.command === undefined || Command.is(candidate.command)) &&\n                (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n                (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n        }\n        CodeAction.is = is;\n    })(CodeAction || (exports.CodeAction = CodeAction = {}));\n    /**\n     * The CodeLens namespace provides helper functions to work with\n     * {@link CodeLens} literals.\n     */\n    var CodeLens;\n    (function (CodeLens) {\n        /**\n         * Creates a new CodeLens literal.\n         */\n        function create(range, data) {\n            var result = { range: range };\n            if (Is.defined(data)) {\n                result.data = data;\n            }\n            return result;\n        }\n        CodeLens.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link CodeLens} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n        }\n        CodeLens.is = is;\n    })(CodeLens || (exports.CodeLens = CodeLens = {}));\n    /**\n     * The FormattingOptions namespace provides helper functions to work with\n     * {@link FormattingOptions} literals.\n     */\n    var FormattingOptions;\n    (function (FormattingOptions) {\n        /**\n         * Creates a new FormattingOptions literal.\n         */\n        function create(tabSize, insertSpaces) {\n            return { tabSize: tabSize, insertSpaces: insertSpaces };\n        }\n        FormattingOptions.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link FormattingOptions} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n        }\n        FormattingOptions.is = is;\n    })(FormattingOptions || (exports.FormattingOptions = FormattingOptions = {}));\n    /**\n     * The DocumentLink namespace provides helper functions to work with\n     * {@link DocumentLink} literals.\n     */\n    var DocumentLink;\n    (function (DocumentLink) {\n        /**\n         * Creates a new DocumentLink literal.\n         */\n        function create(range, target, data) {\n            return { range: range, target: target, data: data };\n        }\n        DocumentLink.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link DocumentLink} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n        }\n        DocumentLink.is = is;\n    })(DocumentLink || (exports.DocumentLink = DocumentLink = {}));\n    /**\n     * The SelectionRange namespace provides helper function to work with\n     * SelectionRange literals.\n     */\n    var SelectionRange;\n    (function (SelectionRange) {\n        /**\n         * Creates a new SelectionRange\n         * @param range the range.\n         * @param parent an optional parent.\n         */\n        function create(range, parent) {\n            return { range: range, parent: parent };\n        }\n        SelectionRange.create = create;\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n        }\n        SelectionRange.is = is;\n    })(SelectionRange || (exports.SelectionRange = SelectionRange = {}));\n    /**\n     * A set of predefined token types. This set is not fixed\n     * an clients can specify additional token types via the\n     * corresponding client capabilities.\n     *\n     * @since 3.16.0\n     */\n    var SemanticTokenTypes;\n    (function (SemanticTokenTypes) {\n        SemanticTokenTypes[\"namespace\"] = \"namespace\";\n        /**\n         * Represents a generic type. Acts as a fallback for types which can't be mapped to\n         * a specific type like class or enum.\n         */\n        SemanticTokenTypes[\"type\"] = \"type\";\n        SemanticTokenTypes[\"class\"] = \"class\";\n        SemanticTokenTypes[\"enum\"] = \"enum\";\n        SemanticTokenTypes[\"interface\"] = \"interface\";\n        SemanticTokenTypes[\"struct\"] = \"struct\";\n        SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n        SemanticTokenTypes[\"parameter\"] = \"parameter\";\n        SemanticTokenTypes[\"variable\"] = \"variable\";\n        SemanticTokenTypes[\"property\"] = \"property\";\n        SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n        SemanticTokenTypes[\"event\"] = \"event\";\n        SemanticTokenTypes[\"function\"] = \"function\";\n        SemanticTokenTypes[\"method\"] = \"method\";\n        SemanticTokenTypes[\"macro\"] = \"macro\";\n        SemanticTokenTypes[\"keyword\"] = \"keyword\";\n        SemanticTokenTypes[\"modifier\"] = \"modifier\";\n        SemanticTokenTypes[\"comment\"] = \"comment\";\n        SemanticTokenTypes[\"string\"] = \"string\";\n        SemanticTokenTypes[\"number\"] = \"number\";\n        SemanticTokenTypes[\"regexp\"] = \"regexp\";\n        SemanticTokenTypes[\"operator\"] = \"operator\";\n        /**\n         * @since 3.17.0\n         */\n        SemanticTokenTypes[\"decorator\"] = \"decorator\";\n    })(SemanticTokenTypes || (exports.SemanticTokenTypes = SemanticTokenTypes = {}));\n    /**\n     * A set of predefined token modifiers. This set is not fixed\n     * an clients can specify additional token types via the\n     * corresponding client capabilities.\n     *\n     * @since 3.16.0\n     */\n    var SemanticTokenModifiers;\n    (function (SemanticTokenModifiers) {\n        SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n        SemanticTokenModifiers[\"definition\"] = \"definition\";\n        SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n        SemanticTokenModifiers[\"static\"] = \"static\";\n        SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n        SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n        SemanticTokenModifiers[\"async\"] = \"async\";\n        SemanticTokenModifiers[\"modification\"] = \"modification\";\n        SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n        SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n    })(SemanticTokenModifiers || (exports.SemanticTokenModifiers = SemanticTokenModifiers = {}));\n    /**\n     * @since 3.16.0\n     */\n    var SemanticTokens;\n    (function (SemanticTokens) {\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n                Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n        }\n        SemanticTokens.is = is;\n    })(SemanticTokens || (exports.SemanticTokens = SemanticTokens = {}));\n    /**\n     * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n     *\n     * @since 3.17.0\n     */\n    var InlineValueText;\n    (function (InlineValueText) {\n        /**\n         * Creates a new InlineValueText literal.\n         */\n        function create(range, text) {\n            return { range: range, text: text };\n        }\n        InlineValueText.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n        }\n        InlineValueText.is = is;\n    })(InlineValueText || (exports.InlineValueText = InlineValueText = {}));\n    /**\n     * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n     *\n     * @since 3.17.0\n     */\n    var InlineValueVariableLookup;\n    (function (InlineValueVariableLookup) {\n        /**\n         * Creates a new InlineValueText literal.\n         */\n        function create(range, variableName, caseSensitiveLookup) {\n            return { range: range, variableName: variableName, caseSensitiveLookup: caseSensitiveLookup };\n        }\n        InlineValueVariableLookup.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n                && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n        }\n        InlineValueVariableLookup.is = is;\n    })(InlineValueVariableLookup || (exports.InlineValueVariableLookup = InlineValueVariableLookup = {}));\n    /**\n     * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n     *\n     * @since 3.17.0\n     */\n    var InlineValueEvaluatableExpression;\n    (function (InlineValueEvaluatableExpression) {\n        /**\n         * Creates a new InlineValueEvaluatableExpression literal.\n         */\n        function create(range, expression) {\n            return { range: range, expression: expression };\n        }\n        InlineValueEvaluatableExpression.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n                && (Is.string(candidate.expression) || candidate.expression === undefined);\n        }\n        InlineValueEvaluatableExpression.is = is;\n    })(InlineValueEvaluatableExpression || (exports.InlineValueEvaluatableExpression = InlineValueEvaluatableExpression = {}));\n    /**\n     * The InlineValueContext namespace provides helper functions to work with\n     * {@link InlineValueContext} literals.\n     *\n     * @since 3.17.0\n     */\n    var InlineValueContext;\n    (function (InlineValueContext) {\n        /**\n         * Creates a new InlineValueContext literal.\n         */\n        function create(frameId, stoppedLocation) {\n            return { frameId: frameId, stoppedLocation: stoppedLocation };\n        }\n        InlineValueContext.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link InlineValueContext} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Range.is(value.stoppedLocation);\n        }\n        InlineValueContext.is = is;\n    })(InlineValueContext || (exports.InlineValueContext = InlineValueContext = {}));\n    /**\n     * Inlay hint kinds.\n     *\n     * @since 3.17.0\n     */\n    var InlayHintKind;\n    (function (InlayHintKind) {\n        /**\n         * An inlay hint that for a type annotation.\n         */\n        InlayHintKind.Type = 1;\n        /**\n         * An inlay hint that is for a parameter.\n         */\n        InlayHintKind.Parameter = 2;\n        function is(value) {\n            return value === 1 || value === 2;\n        }\n        InlayHintKind.is = is;\n    })(InlayHintKind || (exports.InlayHintKind = InlayHintKind = {}));\n    var InlayHintLabelPart;\n    (function (InlayHintLabelPart) {\n        function create(value) {\n            return { value: value };\n        }\n        InlayHintLabelPart.create = create;\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate)\n                && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n                && (candidate.location === undefined || Location.is(candidate.location))\n                && (candidate.command === undefined || Command.is(candidate.command));\n        }\n        InlayHintLabelPart.is = is;\n    })(InlayHintLabelPart || (exports.InlayHintLabelPart = InlayHintLabelPart = {}));\n    var InlayHint;\n    (function (InlayHint) {\n        function create(position, label, kind) {\n            var result = { position: position, label: label };\n            if (kind !== undefined) {\n                result.kind = kind;\n            }\n            return result;\n        }\n        InlayHint.create = create;\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Position.is(candidate.position)\n                && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n                && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n                && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n                && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n                && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n                && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n        }\n        InlayHint.is = is;\n    })(InlayHint || (exports.InlayHint = InlayHint = {}));\n    var StringValue;\n    (function (StringValue) {\n        function createSnippet(value) {\n            return { kind: 'snippet', value: value };\n        }\n        StringValue.createSnippet = createSnippet;\n    })(StringValue || (exports.StringValue = StringValue = {}));\n    var InlineCompletionItem;\n    (function (InlineCompletionItem) {\n        function create(insertText, filterText, range, command) {\n            return { insertText: insertText, filterText: filterText, range: range, command: command };\n        }\n        InlineCompletionItem.create = create;\n    })(InlineCompletionItem || (exports.InlineCompletionItem = InlineCompletionItem = {}));\n    var InlineCompletionList;\n    (function (InlineCompletionList) {\n        function create(items) {\n            return { items: items };\n        }\n        InlineCompletionList.create = create;\n    })(InlineCompletionList || (exports.InlineCompletionList = InlineCompletionList = {}));\n    /**\n     * Describes how an {@link InlineCompletionItemProvider inline completion provider} was triggered.\n     *\n     * @since 3.18.0\n     * @proposed\n     */\n    var InlineCompletionTriggerKind;\n    (function (InlineCompletionTriggerKind) {\n        /**\n         * Completion was triggered explicitly by a user gesture.\n         */\n        InlineCompletionTriggerKind.Invoked = 0;\n        /**\n         * Completion was triggered automatically while editing.\n         */\n        InlineCompletionTriggerKind.Automatic = 1;\n    })(InlineCompletionTriggerKind || (exports.InlineCompletionTriggerKind = InlineCompletionTriggerKind = {}));\n    var SelectedCompletionInfo;\n    (function (SelectedCompletionInfo) {\n        function create(range, text) {\n            return { range: range, text: text };\n        }\n        SelectedCompletionInfo.create = create;\n    })(SelectedCompletionInfo || (exports.SelectedCompletionInfo = SelectedCompletionInfo = {}));\n    var InlineCompletionContext;\n    (function (InlineCompletionContext) {\n        function create(triggerKind, selectedCompletionInfo) {\n            return { triggerKind: triggerKind, selectedCompletionInfo: selectedCompletionInfo };\n        }\n        InlineCompletionContext.create = create;\n    })(InlineCompletionContext || (exports.InlineCompletionContext = InlineCompletionContext = {}));\n    var WorkspaceFolder;\n    (function (WorkspaceFolder) {\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n        }\n        WorkspaceFolder.is = is;\n    })(WorkspaceFolder || (exports.WorkspaceFolder = WorkspaceFolder = {}));\n    exports.EOL = ['\\n', '\\r\\n', '\\r'];\n    /**\n     * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n     */\n    var TextDocument;\n    (function (TextDocument) {\n        /**\n         * Creates a new ITextDocument literal from the given uri and content.\n         * @param uri The document's uri.\n         * @param languageId The document's language Id.\n         * @param version The document's version.\n         * @param content The document's content.\n         */\n        function create(uri, languageId, version, content) {\n            return new FullTextDocument(uri, languageId, version, content);\n        }\n        TextDocument.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link ITextDocument} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n                && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n        }\n        TextDocument.is = is;\n        function applyEdits(document, edits) {\n            var text = document.getText();\n            var sortedEdits = mergeSort(edits, function (a, b) {\n                var diff = a.range.start.line - b.range.start.line;\n                if (diff === 0) {\n                    return a.range.start.character - b.range.start.character;\n                }\n                return diff;\n            });\n            var lastModifiedOffset = text.length;\n            for (var i = sortedEdits.length - 1; i >= 0; i--) {\n                var e = sortedEdits[i];\n                var startOffset = document.offsetAt(e.range.start);\n                var endOffset = document.offsetAt(e.range.end);\n                if (endOffset <= lastModifiedOffset) {\n                    text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n                }\n                else {\n                    throw new Error('Overlapping edit');\n                }\n                lastModifiedOffset = startOffset;\n            }\n            return text;\n        }\n        TextDocument.applyEdits = applyEdits;\n        function mergeSort(data, compare) {\n            if (data.length <= 1) {\n                // sorted\n                return data;\n            }\n            var p = (data.length / 2) | 0;\n            var left = data.slice(0, p);\n            var right = data.slice(p);\n            mergeSort(left, compare);\n            mergeSort(right, compare);\n            var leftIdx = 0;\n            var rightIdx = 0;\n            var i = 0;\n            while (leftIdx < left.length && rightIdx < right.length) {\n                var ret = compare(left[leftIdx], right[rightIdx]);\n                if (ret <= 0) {\n                    // smaller_equal -> take left to preserve order\n                    data[i++] = left[leftIdx++];\n                }\n                else {\n                    // greater -> take right\n                    data[i++] = right[rightIdx++];\n                }\n            }\n            while (leftIdx < left.length) {\n                data[i++] = left[leftIdx++];\n            }\n            while (rightIdx < right.length) {\n                data[i++] = right[rightIdx++];\n            }\n            return data;\n        }\n    })(TextDocument || (exports.TextDocument = TextDocument = {}));\n    /**\n     * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n     */\n    var FullTextDocument = /** @class */ (function () {\n        function FullTextDocument(uri, languageId, version, content) {\n            this._uri = uri;\n            this._languageId = languageId;\n            this._version = version;\n            this._content = content;\n            this._lineOffsets = undefined;\n        }\n        Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n            get: function () {\n                return this._uri;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n            get: function () {\n                return this._languageId;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(FullTextDocument.prototype, \"version\", {\n            get: function () {\n                return this._version;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        FullTextDocument.prototype.getText = function (range) {\n            if (range) {\n                var start = this.offsetAt(range.start);\n                var end = this.offsetAt(range.end);\n                return this._content.substring(start, end);\n            }\n            return this._content;\n        };\n        FullTextDocument.prototype.update = function (event, version) {\n            this._content = event.text;\n            this._version = version;\n            this._lineOffsets = undefined;\n        };\n        FullTextDocument.prototype.getLineOffsets = function () {\n            if (this._lineOffsets === undefined) {\n                var lineOffsets = [];\n                var text = this._content;\n                var isLineStart = true;\n                for (var i = 0; i < text.length; i++) {\n                    if (isLineStart) {\n                        lineOffsets.push(i);\n                        isLineStart = false;\n                    }\n                    var ch = text.charAt(i);\n                    isLineStart = (ch === '\\r' || ch === '\\n');\n                    if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                        i++;\n                    }\n                }\n                if (isLineStart && text.length > 0) {\n                    lineOffsets.push(text.length);\n                }\n                this._lineOffsets = lineOffsets;\n            }\n            return this._lineOffsets;\n        };\n        FullTextDocument.prototype.positionAt = function (offset) {\n            offset = Math.max(Math.min(offset, this._content.length), 0);\n            var lineOffsets = this.getLineOffsets();\n            var low = 0, high = lineOffsets.length;\n            if (high === 0) {\n                return Position.create(0, offset);\n            }\n            while (low < high) {\n                var mid = Math.floor((low + high) / 2);\n                if (lineOffsets[mid] > offset) {\n                    high = mid;\n                }\n                else {\n                    low = mid + 1;\n                }\n            }\n            // low is the least x for which the line offset is larger than the current offset\n            // or array.length if no line offset is larger than the current offset\n            var line = low - 1;\n            return Position.create(line, offset - lineOffsets[line]);\n        };\n        FullTextDocument.prototype.offsetAt = function (position) {\n            var lineOffsets = this.getLineOffsets();\n            if (position.line >= lineOffsets.length) {\n                return this._content.length;\n            }\n            else if (position.line < 0) {\n                return 0;\n            }\n            var lineOffset = lineOffsets[position.line];\n            var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n            return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n        };\n        Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n            get: function () {\n                return this.getLineOffsets().length;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return FullTextDocument;\n    }());\n    var Is;\n    (function (Is) {\n        var toString = Object.prototype.toString;\n        function defined(value) {\n            return typeof value !== 'undefined';\n        }\n        Is.defined = defined;\n        function undefined(value) {\n            return typeof value === 'undefined';\n        }\n        Is.undefined = undefined;\n        function boolean(value) {\n            return value === true || value === false;\n        }\n        Is.boolean = boolean;\n        function string(value) {\n            return toString.call(value) === '[object String]';\n        }\n        Is.string = string;\n        function number(value) {\n            return toString.call(value) === '[object Number]';\n        }\n        Is.number = number;\n        function numberRange(value, min, max) {\n            return toString.call(value) === '[object Number]' && min <= value && value <= max;\n        }\n        Is.numberRange = numberRange;\n        function integer(value) {\n            return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n        }\n        Is.integer = integer;\n        function uinteger(value) {\n            return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n        }\n        Is.uinteger = uinteger;\n        function func(value) {\n            return toString.call(value) === '[object Function]';\n        }\n        Is.func = func;\n        function objectLiteral(value) {\n            // Strictly speaking class instances pass this check as well. Since the LSP\n            // doesn't use classes we ignore this for now. If we do we need to add something\n            // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n            return value !== null && typeof value === 'object';\n        }\n        Is.objectLiteral = objectLiteral;\n        function typedArray(value, check) {\n            return Array.isArray(value) && value.every(check);\n        }\n        Is.typedArray = typedArray;\n    })(Is || (Is = {}));\n});\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 9935;\nmodule.exports = webpackEmptyContext;","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet flagForceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tflagForceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tflagForceColor = 1;\n}\n\nfunction envForceColor() {\n\tif ('FORCE_COLOR' in env) {\n\t\tif (env.FORCE_COLOR === 'true') {\n\t\t\treturn 1;\n\t\t}\n\n\t\tif (env.FORCE_COLOR === 'false') {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn env.FORCE_COLOR.length === 0 ? 1 : Math.min(Number.parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, {streamIsTTY, sniffFlags = true} = {}) {\n\tconst noFlagForceColor = envForceColor();\n\tif (noFlagForceColor !== undefined) {\n\t\tflagForceColor = noFlagForceColor;\n\t}\n\n\tconst forceColor = sniffFlags ? flagForceColor : noFlagForceColor;\n\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (sniffFlags) {\n\t\tif (hasFlag('color=16m') ||\n\t\t\thasFlag('color=full') ||\n\t\t\thasFlag('color=truecolor')) {\n\t\t\treturn 3;\n\t\t}\n\n\t\tif (hasFlag('color=256')) {\n\t\t\treturn 2;\n\t\t}\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE', 'DRONE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = Number.parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream, options = {}) {\n\tconst level = supportsColor(stream, {\n\t\tstreamIsTTY: stream && stream.isTTY,\n\t\t...options\n\t});\n\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: getSupportLevel({isTTY: tty.isatty(1)}),\n\tstderr: getSupportLevel({isTTY: tty.isatty(2)})\n};\n","/*\n * @license\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: BSD-3-Clause\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\n\n'use strict';\n\nimport * as vscode from 'vscode';\nimport { LanguageClient } from 'vscode-languageclient/node';\nimport { ContextKey, SLDSContext } from './../context';\nimport { handleReportCommand } from './../report';\n\nexport class Commands {\n  context: SLDSContext;\n  outputChannel: vscode.OutputChannel;\n  languageClient: LanguageClient;\n\n  constructor(\n    context: vscode.ExtensionContext,\n    languageClient: LanguageClient,\n    outputChannel: vscode.OutputChannel\n  ) {\n    this.context = new SLDSContext(context, languageClient);\n    this.outputChannel = outputChannel;\n    this.languageClient = languageClient;\n  }\n\n  register(): void {\n    vscode.commands.registerCommand('slds.enable', () =>\n      this.context.updateState(ContextKey.GLOBAL, true)\n    );\n    vscode.commands.registerCommand('slds.disable', () =>\n      this.context.updateState(ContextKey.GLOBAL, false)\n    );\n    vscode.commands.registerCommand('slds.enable:density', () =>\n      this.context.updateState(ContextKey.DENSITY, true)\n    );\n    vscode.commands.registerCommand('slds.disable:density', () =>\n      this.context.updateState(ContextKey.DENSITY, false)\n    );\n    vscode.commands.registerCommand('slds.enable:utility', () =>\n      this.context.updateState(ContextKey.UTILITY_CLASS, true)\n    );\n    vscode.commands.registerCommand('slds.disable:utility', () =>\n      this.context.updateState(ContextKey.UTILITY_CLASS, false)\n    );\n    vscode.commands.registerCommand('slds.enable:bem', () =>\n      this.context.updateState(ContextKey.BEM, true)\n    );\n    vscode.commands.registerCommand('slds.disable:bem', () =>\n      this.context.updateState(ContextKey.BEM, false)\n    );\n    vscode.commands.registerCommand('slds.enable:deprecated', () =>\n      this.context.updateState(ContextKey.DEPRECATED, true)\n    );\n    vscode.commands.registerCommand('slds.disable:deprecated', () =>\n      this.context.updateState(ContextKey.DEPRECATED, false)\n    );\n    vscode.commands.registerCommand('slds.enable:invalid', () =>\n      this.context.updateState(ContextKey.INVALID, true)\n    );\n    vscode.commands.registerCommand('slds.disable:invalid', () =>\n      this.context.updateState(ContextKey.INVALID, false)\n    );\n    vscode.commands.registerCommand('slds.enable:override', () =>\n      this.context.updateState(ContextKey.OVERRIDE, true)\n    );\n    vscode.commands.registerCommand('slds.disable:override', () =>\n      this.context.updateState(ContextKey.OVERRIDE, false)\n    );\n    vscode.commands.registerCommand('slds.enable:designToken', () =>\n      this.context.updateState(ContextKey.DESIGN_TOKEN, true)\n    );\n    vscode.commands.registerCommand('slds.disable:designToken', () =>\n      this.context.updateState(ContextKey.DESIGN_TOKEN, false)\n    );\n    vscode.commands.registerCommand('slds.enable:autoSuggest', () =>\n      this.context.updateState(ContextKey.AUTO_SUGGEST, true)\n    );\n    vscode.commands.registerCommand('slds.disable:autoSuggest', () =>\n      this.context.updateState(ContextKey.AUTO_SUGGEST, false)\n    );\n    vscode.commands.registerCommand('slds.enable:scope', () =>\n      this.context.updateState(ContextKey.SCOPE, true)\n    );\n    vscode.commands.registerCommand('slds.disable:scope', () =>\n      this.context.updateState(ContextKey.SCOPE, false)\n    );\n    vscode.commands.registerCommand('slds.enable:mobileValidation', () =>\n      this.context.updateState(ContextKey.SLDS_MOBILE_VALIDATION, true)\n    );\n    vscode.commands.registerCommand('slds.disable:mobileValidation', () =>\n      this.context.updateState(ContextKey.SLDS_MOBILE_VALIDATION, false)\n    );\n    vscode.commands.registerCommand('slds.enable:slds2', () =>\n      this.context.updateState(ContextKey.SLDS2, true)\n    );\n    vscode.commands.registerCommand('slds.disable:slds2', () =>\n      this.context.updateState(ContextKey.SLDS2, false)\n    );\n    vscode.commands.registerCommand('slds.enable:wcag', () =>\n      this.context.updateState(ContextKey.WCAG, true)\n    );\n    vscode.commands.registerCommand('slds.disable:wcag', () =>\n      this.context.updateState(ContextKey.WCAG, false)\n    );\n    vscode.commands.registerCommand(\n      'slds.report',\n      async () => handleReportCommand(this.languageClient, this.outputChannel), this\n    );\n    vscode.commands.registerCommand('_slds.showOutput', () => this.outputChannel.show(), this);\n  }\n\n}\n","/*\n * @license\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * Licensed under the BSD 3-Clause license.\n * For full license text, see LICENSE.txt file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\n\nexport const SFDX_PROJECT_FILE = 'sfdx-project.json';\nexport const CLIENT_ID = 'sfdx-vscode';\nexport const SFDX_CORE_CONFIGURATION_NAME = 'salesforcedx-vscode-core';\nexport const STATUS_BAR_MSG_TIMEOUT_MS = 5000;\nexport const SHOW_CLI_SUCCESS_INFO_MSG = 'show-cli-success-msg';\nexport const APEX_CODE_DEBUG_LEVEL = 'FINEST';\nexport const VISUALFORCE_DEBUG_LEVEL = 'FINER';\nexport const TELEMETRY_ENABLED = 'telemetry.false';\nexport const EXTENSION_NAME = 'salesforcedx-vscode-slds';\nexport const TELEMETRY_GLOBAL_VALUE = 'sfdxTelemetryMessage';\nexport const TELEMETRY_OPT_OUT_LINK = 'https://developer.salesforce.com/tools/vscode/en/faq/telemetry';\nexport const PUSH_OR_DEPLOY_ON_SAVE_ENABLED = 'push-or-deploy-on-save.enabled';\nexport const RETRIEVE_TEST_CODE_COVERAGE = 'retrieve-test-code-coverage';\nexport const SFDX_CLI_DOWNLOAD_LINK = 'https://developer.salesforce.com/tools/sfdxcli';","/*\n * @license\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: BSD-3-Clause\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\n\nimport * as vscode from 'vscode';\nimport { ContextKey } from './contextKey';\nimport { LanguageClient, State } from 'vscode-languageclient/node';\n\nconst CONFIG_KEY: string = 'salesforcedx-vscode-slds';\n\nconst MAPPINGS: Map<ContextKey, string> = new Map<ContextKey, string>([\n  [ContextKey.GLOBAL, 'enabled'],\n  [ContextKey.AUTO_SUGGEST, 'enhancements.autoSuggest'],\n  [ContextKey.BEM, 'basic.bemNaming'],\n  [ContextKey.DENSITY, 'enhancements.density'],\n  [ContextKey.DEPRECATED, 'basic.deprecated'],\n  [ContextKey.OVERRIDE, 'basic.override'],\n  [ContextKey.DESIGN_TOKEN, 'basic.designToken'],\n  [ContextKey.INVALID, 'basic.invalid'],\n  [ContextKey.UTILITY_CLASS, 'enhancements.utilityClasses'],\n  [ContextKey.SCOPE, 'file.scopeWithInSFDX'],\n  [ContextKey.SLDS_MOBILE_VALIDATION, 'basic.mobileValidation'],\n  [ContextKey.SLDS2, 'basic.slds2'],\n  [ContextKey.WCAG, 'accessibility.colorContrast'],\n]);\n\nconst SKIPPED_CONFIGURATION: Set<ContextKey> = new Set();\n\nexport class SLDSContext {\n  context: vscode.ExtensionContext;\n  languageClient: LanguageClient;\n  configuration: vscode.WorkspaceConfiguration;\n\n  constructor(\n    context: vscode.ExtensionContext,\n    languageClient: LanguageClient\n  ) {\n    this.context = context;\n    this.languageClient = languageClient;\n    this.configuration = vscode.workspace.getConfiguration(CONFIG_KEY);\n\n    this.upgradeContextConfiguration(context);\n    this.syncContextWithServer(MAPPINGS.keys());\n    vscode.workspace.onDidChangeConfiguration((e) =>\n      this.configurationChangeHandler(e)\n    );\n  }\n\n  private upgradeContextConfiguration(context: vscode.ExtensionContext): void {\n    for (let [key] of MAPPINGS) {\n      const result: boolean = context.globalState.get(key);\n      if (result !== undefined) {\n        this.updateState(key, result);\n        context.globalState.update(key, undefined);\n      }\n    }\n  }\n\n  private configurationChangeHandler(\n    event: vscode.ConfigurationChangeEvent\n  ): void {\n    const keys: Array<ContextKey> = [];\n\n    for (let [key, value] of MAPPINGS) {\n      if (event.affectsConfiguration(`${CONFIG_KEY}.${value}`)) {\n        keys.push(key);\n      }\n    }\n\n    if (keys.length !== 0) {\n      this.syncContextWithServer(keys);\n    }\n  }\n\n  private syncContextWithServer(keys: Iterable<ContextKey>): void {\n    this.languageClient.onDidChangeState((s) => {\n      if (s.newState == State.Running) {\n        this.languageClient.sendNotification('state/updateLocale', vscode.env.language);\n\n        for (let key of keys) {\n          const contextKey: ContextKey = <ContextKey>key;\n          const value = SKIPPED_CONFIGURATION.has(contextKey)\n            ? false\n            : SLDSContext.isEnable(contextKey);\n          if (SLDSContext.shouldNotifyServerOfContextChange(contextKey)) {\n            this.languageClient.sendNotification('state/updateState', {\n              key,\n              value,\n            });\n          }\n        }\n      }\n    });\n  }\n\n  public updateState(key: ContextKey, value: boolean) {\n    //accounting for situtation where workspace is not available\n    const setGlobal: boolean = vscode.workspace.name === undefined;\n    this.configuration.update(MAPPINGS.get(key), value, setGlobal);\n  }\n\n  private static shouldNotifyServerOfContextChange(key: ContextKey): boolean {\n    return key !== ContextKey.SCOPE;\n  }\n\n  public static isEnable(...keys: ContextKey[]): boolean {\n    const workspace: vscode.WorkspaceConfiguration =\n      vscode.workspace.getConfiguration(CONFIG_KEY);\n\n    for (let key of keys) {\n      const value: boolean = workspace.get<boolean>(MAPPINGS.get(key));\n\n      if (value === false) {\n        return false;\n      }\n\n      if (SKIPPED_CONFIGURATION.has(key)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n}\n","/*\n * @license\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: BSD-3-Clause\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\n\n\n/**\n * This list needs to match Server's LSP ContextKey\n * Server will ignore Key's not available in the server\n */\nexport enum ContextKey {\n\tGLOBAL = \"GLOBAL\",\n\tBEM = \"BEM\",\n\tDENSITY = \"DENSITY\",\n\tDEPRECATED = \"DEPRECATED\",\n\tINVALID = \"INVALID\",\n\tOVERRIDE = \"OVERRIDE\",\n\tUTILITY_CLASS = \"UTILITY_CLASS\",\n\tDESIGN_TOKEN = \"DESIGN_TOKEN\",\n\tAUTO_SUGGEST = \"AUTO_SUGGEST\",\n\tSCOPE = \"SCOPE\",\n\tSLDS_MOBILE_VALIDATION = \"SLDS_MOBILE_VALIDATION\",\n\tSLDS2 = \"SLDS2\",\n\tWCAG = \"WCAG\"\n}\n","/*\n * @license\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: BSD-3-Clause\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\n\nimport {SLDSContext} from './context';\nimport {ContextKey} from './contextKey';\n\nexport {SLDSContext, ContextKey};\n\n","/*\r\n * @license\r\n * Copyright (c) 2018, salesforce.com, inc.\r\n * All rights reserved.\r\n * SPDX-License-Identifier: BSD-3-Clause\r\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\r\n */\r\n\r\n'use strict';\r\n\r\nimport * as vscode from 'vscode';\r\nimport { LanguageClient, Disposable } from 'vscode-languageclient/node';\r\nimport { createLanguageClient } from './sldsLanguageClient';\r\nimport * as componentsProvider from './sldsComponentsProvider';\r\nimport * as utilitiesProvider from './sldsUtilitiesProvider';\r\nimport * as varTokensProvider from './sldsVarTokensProvider';\r\nimport * as auraTokensProvider from './sldsAuraTokensProvider';\r\nimport { Commands } from './commands';\r\nimport { telemetryService } from './telemetry';\r\n\r\nconst outputChannel : vscode.OutputChannel = vscode.window.createOutputChannel(`SLDS`, {log: true});\r\n\r\nexport async function activate(context: vscode.ExtensionContext) {\r\n\t// Telemetry service\r\n\tawait telemetryService.initializeService(context);\r\n\ttelemetryService.showTelemetryMessage();\r\n\tconst extensionHRStart = process.hrtime();\r\n\r\n\tcontext.subscriptions.push(outputChannel);\r\n\r\n\t// SLDS validation language client\r\n\toutputChannel.appendLine(`Starting SLDS ... `);\r\n\tconst languageClient : LanguageClient = createLanguageClient(context, outputChannel);\r\n\tlanguageClient.start();\r\n\tcontext.subscriptions.push(languageClient);\r\n\r\n\t// SLDS Commands\r\n\toutputChannel.appendLine(`Registering commands ... `);\r\n\tconst commands : Commands = new Commands(context, languageClient, outputChannel);\r\n\tcommands.register();\r\n\r\n\t/* \r\n\toutputChannel.appendLine(`registering providers`);\r\n\t// SLDS components completion provider\r\n\tlet components : Disposable = componentsProvider.register();\r\n\tcontext.subscriptions.push(components);\r\n\r\n\t// SLDS utilities completion provider\r\n\tlet utilities : Disposable = utilitiesProvider.register();\r\n\tcontext.subscriptions.push(utilities);\r\n\r\n\t// SLDS var tokens completion provider\r\n\tlet varTokens : Disposable = varTokensProvider.register();\r\n\tcontext.subscriptions.push(varTokens);\r\n\r\n\t// SLDS aura tokens completion provider\r\n\tlet auraTokens : Disposable = auraTokensProvider.register();\r\n\tcontext.subscriptions.push(auraTokens); \r\n\t*/\r\n\r\n\t// send activationEvent\r\n\ttelemetryService.sendExtensionActivationEvent(extensionHRStart);\r\n}\r\n\r\nexport function deactivate(): Thenable<void> | undefined {\r\n\ttelemetryService.sendExtensionDeactivationEvent();\r\n\treturn;\r\n}\r\n","import * as vscode from 'vscode';\nimport { ContextKey, SLDSContext } from './../context';\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport { LanguageClient } from \"vscode-languageclient/node\";\nimport { updateStatusBar } from './../utilities';\n\nexport const  handleReportCommand = async (languageClient: LanguageClient, outputChannel: vscode.OutputChannel ) => {\n\n    const availableTargets: ReportParam[] = getApplicableReportFolders();\n    const targets = await vscode.window.showQuickPick(availableTargets, {\n      placeHolder: 'Select the folder(s) to perform analysis',\n      canPickMany: true,\n    });\n\n    if (targets?.length > 0) {\n      let message = 'The following folder were selected\\r\\n';\n      targets.forEach((value) => {\n        message += `  '${value.detail}'\\r\\n`;\n      });\n      outputChannel.appendLine(message);\n\n      if (!SLDSContext.isEnable(ContextKey.SCOPE)) {\n        const availableOutputs: vscode.QuickPickItem[] =\n          vscode.workspace.workspaceFolders.map(folder => ({\n            label: folder.name,\n            detail: folder.uri.fsPath\n          }));\n\n        const output = await vscode.window.showQuickPick(availableOutputs, {\n          placeHolder: 'Enter the output directory for the report',\n        });\n\n        targets.forEach(target => {\n          target.outputDirectory = output.detail;\n        });\n      }\n\n      languageClient.sendNotification('report/execute', targets).then(async () => {\n        const outputLocation: Set<string> = new Set<string>();\n\n        targets.forEach(target => outputLocation.add(target.outputDirectory));\n\n        let output = `SLDS validation report can be found at the following location:\\r\\n`;\n        outputLocation.forEach((item) => {\n          const reportLocation = path.resolve(item, 'slds-report.sarif');\n          output += ` '${reportLocation}'\\r\\n`;\n        });\n  \n        outputChannel.appendLine(output);\n        updateStatusBar('SLDS validation report generated');\n      }).catch((reason: any) => {\n        outputChannel.appendLine(`Report was not generated: ${reason}`);\n      });\n\n      updateStatusBar('Generating SLDS validation report');\n    } else {\n      outputChannel.appendLine('No folder was selected to perform the analysis.');\n    }\n  };\n\nconst generateReportParam = (label: string, sourceDirectory: string, workspaceRoot: string) : ReportParam => {\n    return ({\n      label, alwaysShow: true, picked: true,\n      detail: sourceDirectory, sourceDirectory,\n      workspaceRoot: workspaceRoot,\n      outputDirectory: workspaceRoot\n    });\n};\n\ninterface ReportParam extends vscode.QuickPickItem {\n    workspaceRoot: string;\n    outputDirectory: string;\n    sourceDirectory?: string;\n}\n\nconst getApplicableReportFolders = (): Array<ReportParam> => {\n    const results: Array<ReportParam> = [];\n  \n    vscode.workspace.workspaceFolders?.forEach((workspaceFolder) => {\n      const workspaceRoot = workspaceFolder.uri.fsPath;\n  \n      if (SLDSContext.isEnable(ContextKey.SCOPE)) {\n        if (\n          fs.existsSync(\n            path.resolve(workspaceFolder.uri.fsPath, 'sfdx-project.json')\n          )\n        ) {\n          const auraFolder = path.resolve(\n            workspaceFolder.uri.fsPath,\n            'force-app',\n            'main',\n            'default',\n            'aura'\n          );\n          if (fs.existsSync(auraFolder)) {\n            results.push(generateReportParam(`${workspaceFolder.name} - Aura Components`, auraFolder, workspaceRoot));\n          }\n  \n          const lwcFolder = path.resolve(\n            workspaceFolder.uri.fsPath,\n            'force-app',\n            'main',\n            'default',\n            'lwc'\n          );\n          if (fs.existsSync(lwcFolder)) {\n            results.push(generateReportParam(`${workspaceFolder.name} - Lightning Web Components`, lwcFolder, workspaceRoot));\n          }\n        }\n      } else {\n        results.push(generateReportParam(workspaceFolder.name, workspaceRoot, workspaceRoot));\n      }\n    });\n  \n    return results;\n  };"," /*\n * @license\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: BSD-3-Clause\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\n\nimport { SfdxCoreSettings } from './sfdxCoreSettings';\n\nexport const sfdxCoreSettings = SfdxCoreSettings.getInstance();\n","/*\n * @license\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: BSD-3-Clause\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\n\nimport * as vscode from 'vscode';\nimport {\n\tPUSH_OR_DEPLOY_ON_SAVE_ENABLED,\n\tRETRIEVE_TEST_CODE_COVERAGE,\n\tSFDX_CORE_CONFIGURATION_NAME,\n\tSHOW_CLI_SUCCESS_INFO_MSG,\n\tTELEMETRY_ENABLED\n} from '../constants';\n/**\n * A centralized location for interacting with sfdx-core settings.\n */\nexport class SfdxCoreSettings {\n\tprivate static instance: SfdxCoreSettings;\n\n\tpublic static getInstance() {\n\t\tif (!SfdxCoreSettings.instance) {\n\t\t\tSfdxCoreSettings.instance = new SfdxCoreSettings();\n\t\t}\n\t\treturn SfdxCoreSettings.instance;\n\t}\n\n\t/**\n   * Get the configuration for a sfdx-core\n   */\n\tpublic getConfiguration(): vscode.WorkspaceConfiguration {\n\t\treturn vscode.workspace.getConfiguration(SFDX_CORE_CONFIGURATION_NAME);\n\t}\n\n\tpublic getShowCLISuccessMsg(): boolean {\n\t\treturn this.getConfigValue<boolean>(SHOW_CLI_SUCCESS_INFO_MSG, true);\n\t}\n\n\t// checks for Microsoft's telemetry setting as well as Salesforce's telemetry setting.\n\tpublic getTelemetryEnabled(): boolean {\n\t\treturn (\n\t\t\tvscode.workspace\n\t\t\t\t.getConfiguration('telemetry')\n\t\t\t\t.get<boolean>('enableTelemetry', true) &&\n\t\t\tthis.getConfigValue<boolean>(TELEMETRY_ENABLED, true)\n\t\t);\n\t}\n\n\tpublic async updateShowCLISuccessMsg(value: boolean) {\n\t\tawait this.setConfigValue(SHOW_CLI_SUCCESS_INFO_MSG, value);\n\t}\n\n\tpublic getPushOrDeployOnSaveEnabled(): boolean {\n\t\treturn this.getConfigValue<boolean>(PUSH_OR_DEPLOY_ON_SAVE_ENABLED, false);\n\t}\n\n\tpublic getRetrieveTestCodeCoverage(): boolean {\n\t\treturn this.getConfigValue(RETRIEVE_TEST_CODE_COVERAGE, false);\n\t}\n\n\tprivate getConfigValue<T>(key: string, defaultValue: T): T {\n\t\treturn this.getConfiguration().get<T>(key, defaultValue);\n\t}\n\n\tprivate async setConfigValue(key: string, value: any) {\n\t\tawait this.getConfiguration().update(key, value);\n\t}\n}\n","/*\n * @license\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: BSD-3-Clause\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\n\n'use strict';\n\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport * as net from 'net';\nimport * as child_process from \"child_process\";\nimport { workspace, ExtensionContext, OutputChannel } from 'vscode';\nimport { LanguageClient, LanguageClientOptions, StreamInfo } from 'vscode-languageclient/node';\nimport { Transform, TransformCallback } from 'stream';\nimport { shouldSendPayloadToServer } from './utilities';\n\ndeclare var v8debug: any;\nconst DEBUG = (typeof v8debug === 'object') || startedInDebugMode();\n\nconst documentSelector = [\n\t{ scheme: 'file', language: 'css' },\n\t{ scheme: 'file', language: 'html' },\n\t{ scheme: 'file', language: 'javascript' },\n\t{ scheme: 'file', language: 'typescript' }\n];\n\nfunction startedInDebugMode(): boolean {\n\tlet args = (process as any).execArgv;\n\tif (args) {\n\t\treturn args.some((arg: string) => /^--debug=?/.test(arg) || /^--debug-brk=?/.test(arg) || /^--inspect=?/.test(arg) || /^--inspect-brk=?/.test(arg));\n\t}\n\treturn false;\n}\n\n// MIT Licensed code from: https://github.com/georgewfraser/vscode-javac\nfunction findJavaExecutable(binname: string) {\n\tbinname = correctBinname(binname);\n\n\t// First search if they have an existing java.home Apex setting\n\tlet javaApexConfig: string | undefined = readJavaConfig();\n\tif (javaApexConfig) {\n\t\tconst binpath = findBinPath(javaApexConfig, binname);\n\t\tif (binpath) return binpath;\n\t}\n\n\t// Then search each JAVA_HOME bin folder\n\tif (process.env['JAVA_HOME']) {\n\t\tconst binpath = findBinPath(process.env['JAVA_HOME'], binname);\n\t\tif (binpath) return binpath;\n\t}\n\n\t// Then search each JDK_HOME bin folder\n\tif (process.env['JDK_HOME']) {\n\t\tconst binpath = findBinPath(process.env['JDK_HOME'], binname);\n\t\tif (binpath) return binpath;\n\t}\n\n\t// Else return the binary name directly (this will likely always fail downstream)\n\treturn null;\n}\n\nfunction findBinPath(config: string, binname: string) {\n\tlet workspaces = config.split(path.delimiter);\n\n\tfor (let i = 0; i < workspaces.length; i++) {\n\t\tlet binpath = path.join(workspaces[i], 'bin', binname);\n\t\tif (fs.existsSync(binpath)) {\n\t\t\treturn binpath;\n\t\t}\n\t}\n\n\treturn null;\n}\n\nfunction readJavaConfig(): string {\n\tconst config = workspace.getConfiguration();\n\t// console.log(config.get<string>('salesforcedx-vscode-slds.java.home', ''));\n\treturn config.get<string>('salesforcedx-vscode-apex.java.home', '');\n}\n\nfunction correctBinname(binname: string) {\n\tif (process.platform === 'win32')\n\t\treturn binname + '.exe';\n\telse\n\t\treturn binname;\n}\n\nfunction createServerOptions(context: ExtensionContext, outputChannel: OutputChannel): () => Promise<StreamInfo> {\n\treturn createServerPromise.bind(this, context, outputChannel);\n}\n\nfunction createServerPromise(context: ExtensionContext, outputChannel: OutputChannel): Promise<StreamInfo> {\n\treturn new Promise((resolve, reject) => {\n\t\tconst server = net.createServer((socket) => {\n\t\t\toutputChannel.appendLine(\"SLDS Validator Started\");\n\n\t\t\tconst matcher = /(\"character\":1.7976931348623157e\\+308)/;\n\t\t\tconst javaMaxIntValue = 2147483647;\n\t\t\tconst replacer = '\"character\":' + javaMaxIntValue + '}}';\n\n\t\t\t// Temporary solution for an LWC plugin issue where the end character range is too large for SLDS LSP server.\n\t\t\tlet filteredDuplex = new class extends Transform {\n\n\t\t\t\tprivate data: Array<Buffer> = [];\n\n\t\t\t\t_transform(chunk: Buffer, encoding: BufferEncoding, callback: TransformCallback) {\n\t\t\t\t\tconst contentLength = /^Content-Length: /;\n\t\t\t\t\tlet buf: string = Buffer.from(chunk).toString();\n\n\t\t\t\t\t/*\n\t\t\t\t\t\tJSONRPC send 2 types of messages:\n\t\t\t\t\t\t1. Header - indicates Content Length\n\t\t\t\t\t\t2. Payload\n\t\t\t\t\t*/\n\t\t\t\t\tif (contentLength.test(buf)) {\n\t\t\t\t\t\t//content length triggers reset\n\t\t\t\t\t\tthis.data = [];\n\t\t\t\t\t\tthis.data.push(chunk);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst sendData: boolean = shouldSendPayloadToServer(buf);\n\n\t\t\t\t\t\tif (sendData) {\n\t\t\t\t\t\t\tbuf = buf.replace(matcher, replacer);\n\t\t\t\t\t\t\tthis.data.push(Buffer.from(buf));\n\t\t\t\t\t\t\tthis.data.forEach((item) => this.push(item, encoding));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}();\n\n\t\t\tfilteredDuplex.pipe(socket);\n\n\t\t\tresolve({\n\t\t\t\treader: socket,\n\t\t\t\twriter: filteredDuplex\n\t\t\t});\n\t\t})\n\t\t\t.on('end', () => console.log(\"Disconnected\"))\n\t\t\t.on('error', (err) => {\n\t\t\t\t// handle errors here\n\t\t\t\toutputChannel.appendLine(\"SLDS Validator failed to start\");\n\t\t\t\tthrow err;\n\t\t\t});\n\n\t\tlet javaExecutablePath = findJavaExecutable('java');\n\t\tif (javaExecutablePath == undefined) {\n\t\t\toutputChannel.appendLine(`Java configuration missing. Please follow the steps listed in 'https://developer.salesforce.com/tools/vscode/en/vscode-desktop/java-setup'`);\n\n\t\t} else {\n\n\t\t\t// grab a random port.\n\t\t\tserver.listen(() => {\n\t\t\t\t// Start the child java process\n\t\t\t\tlet options = { cwd: workspace.rootPath };\n\n\t\t\t\tconst { port } = server.address() as net.AddressInfo;\n\t\t\t\tconsole.log(`Listening on port ${port}`);\n\n\t\t\t\tlet args = [];\n\n\t\t\t\tif (DEBUG) {\n\t\t\t\t\targs.push('-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=1044');\n\t\t\t\t\t// suspend=y is the default. Use this form if you need to debug the server startup code:\n\t\t\t\t\t//  params.push('-agentlib:jdwp=transport=dt_socket,server=y,address=1044');\n\t\t\t\t}\n\n\t\t\t\targs.push('-jar');\n\t\t\t\targs.push(path.resolve(context.extensionPath, 'lsp-' + process.env.PACKAGE_VERSION + '-executable.jar'));\n\t\t\t\targs.push(`--PORT=${port.toString()}`);\n\n\t\t\t\tconst childProcess = child_process.spawn(javaExecutablePath, args, options);\n\n\t\t\t\tconst storagePath: string = context.storagePath ? context.storagePath : context.globalStoragePath;\n\t\t\t\tif (!fs.existsSync(storagePath)) {\n\t\t\t\t\tfs.mkdirSync(storagePath);\n\t\t\t\t}\n\n\t\t\t\tconst logFile: string = `${storagePath}/slds-extension.log`;\n\t\t\t\tlet logStream = fs.createWriteStream(logFile, { flags: 'w' });\n\n\t\t\t\tchildProcess.stdout.pipe(logStream);\n\t\t\t\tchildProcess.stderr.pipe(logStream);\n\n\t\t\t\toutputChannel.appendLine(`Storing SLDS LSP server log in '${logFile}'`);\n\t\t\t});\n\t\t}\n\t});\n}\n\nfunction createClientOptions(outputChannel: OutputChannel): LanguageClientOptions {\n\t// Options to control the language client\n\treturn {\n\t\tdocumentSelector: documentSelector,\n\t\toutputChannel: outputChannel,\n\t\tsynchronize: {\n\t\t\tfileEvents: [\n\t\t\t\tworkspace.createFileSystemWatcher('**/*.[cmp,html,js,css,app,ts]')\n\t\t\t]\n\t\t}\n\t};\n}\n\nexport function createLanguageClient(context: ExtensionContext, outputChannel: OutputChannel): LanguageClient {\n\tlet serverOptions = createServerOptions(context, outputChannel);\n\tlet clientOptions = createClientOptions(outputChannel);\n\tlet client = new LanguageClient('sldsValidation', 'SLDS Validator', serverOptions, clientOptions);\n\treturn client;\n}\n","/*\n * @license\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: BSD-3-Clause\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\n\nimport * as path from 'path';\nimport { TelemetryService } from './telemetry';\nimport { ENV_SFDX_CLI_DISABLE_TELEMETRY, getRootWorkspacePath, SFDX_CONFIG_DISABLE_TELEMETRY } from './utils';\nimport * as fs from 'fs';\nconst homedir = require('os').homedir();\n\nexport const isCLITelemetryAllowed = async (): Promise<boolean> => {\n\ttry {\n\t\tconst disabledConfig =\n\t\t\t(await getConfigValue(SFDX_CONFIG_DISABLE_TELEMETRY)) || '';\n\t\treturn disabledConfig !== 'true';\n\t} catch (e) {\n\t\tconsole.log('Error checking cli settings: ' + e);\n\t}\n\treturn true;\n};\n\nconst getConfigValue = async (key: string): Promise<any | undefined> => {\n\ttry {\n\t\t//workspace configuration\n\t\tconst workspacePath: string = getRootWorkspacePath();\n\t\tconst localConfigPath: string = path.join(workspacePath, '.sfdx', 'sfdx-config.json');\n\t\tif (fs.existsSync(localConfigPath)) {\n\t\t\tconst myLocalConfig: Buffer = fs.readFileSync(localConfigPath);\n\t\t\tconst localValue = JSON.parse(myLocalConfig.toString())[SFDX_CONFIG_DISABLE_TELEMETRY];\n\t\t\tif (localValue != null && localValue != undefined) {\n\t\t\t\treturn localValue;\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\tTelemetryService.getInstance()\n\t\t\t.sendException('get_config_value_local', err.message);\n\t\treturn undefined;\n\t}\n\ttry {\n\t\t//environment configuration\n\t\tconst envValue = process.env[ENV_SFDX_CLI_DISABLE_TELEMETRY];\n\t\tif (envValue != null && envValue != undefined) {\n\t\t\treturn envValue;\n\t\t}\n\n\t\t//global configuration\n\t\tconst globalPath: string = path.join(homedir, '.sfdx', 'sfdx-config.json');\n\t\tif (fs.existsSync(globalPath)) {\n\t\t\tconst globalConfig: Buffer = fs.readFileSync(globalPath);\n\t\t\tconst globalValue = JSON.parse(globalConfig.toString())[SFDX_CONFIG_DISABLE_TELEMETRY];\n\t\t\tif (globalValue != null && globalValue != undefined) {\n\t\t\t\treturn globalValue;\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\tTelemetryService.getInstance()\n\t\t\t.sendException('get_config_value_global', err.message);\n\t\treturn undefined;\n\t}\n\treturn undefined;\n};","/*\n * @license\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: BSD-3-Clause\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\n\nimport { TelemetryService } from './telemetry';\n\nexport const telemetryService = TelemetryService.getInstance();\n","/*\n * @license\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: BSD-3-Clause\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\n\nimport vscode = require('vscode');\nimport util = require('util');\nimport { sfdxCoreSettings } from '../settings';\nimport TelemetryReporter from './telemetryReporter';\nimport {\n\tTELEMETRY_GLOBAL_VALUE,\n\tEXTENSION_NAME,\n\tTELEMETRY_OPT_OUT_LINK\n} from '../constants';\nimport { isCLITelemetryAllowed } from './cliConfiguration';\n\nexport class TelemetryService {\n\tprivate static instance: TelemetryService;\n\tprivate context: vscode.ExtensionContext | undefined;\n\tprivate reporter: TelemetryReporter | undefined;\n\tprivate cliAllowsTelemetry: boolean = true;\n\n\tpublic static getInstance() {\n\t\tif (!TelemetryService.instance) {\n\t\t\tTelemetryService.instance = new TelemetryService();\n\t\t}\n\t\treturn TelemetryService.instance;\n\t}\n\n\tpublic async initializeService(context: vscode.ExtensionContext): Promise<void> {\n\t\tthis.context = context;\n\t\tthis.cliAllowsTelemetry = await isCLITelemetryAllowed();\n\t\tconst machineId = vscode && vscode.env ? vscode.env.machineId : 'someValue.machineId';\n\t\tconst isDevMode = machineId === 'someValue.machineId';\n\n\t\t// TelemetryReporter is not initialized if user has disabled telemetry setting.\n\t\tif (this.reporter === undefined && this.isTelemetryEnabled() && !isDevMode) {\n\t\t\tthis.reporter = new TelemetryReporter(process.env.PACKAGE_NAME, \n\t\t\t\tprocess.env.PACKAGE_VERSION, process.env.PACKAGE_AI_KEY, true);\n\n\t\t\tthis.context.subscriptions.push(this.reporter);\n\t\t}\n\t}\n\n\tpublic isTelemetryEnabled(): boolean {\n\t\treturn sfdxCoreSettings.getTelemetryEnabled() && this.cliAllowsTelemetry;\n\t}\n\n\tprivate getHasTelemetryMessageBeenShown(): boolean {\n\t\tif (this.context === undefined) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst sfdxTelemetryState = this.context.globalState.get(TELEMETRY_GLOBAL_VALUE);\n\n\t\treturn typeof sfdxTelemetryState === 'undefined';\n\t}\n\n\tprivate setTelemetryMessageShowed(): void {\n\t\tif (this.context === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.context.globalState.update(TELEMETRY_GLOBAL_VALUE, true);\n\t}\n\n\tpublic showTelemetryMessage() {\n\t\t// check if we've ever shown Telemetry message to user\n\t\tconst showTelemetryMessage = this.getHasTelemetryMessageBeenShown();\n\n\t\tif (showTelemetryMessage) {\n\t\t\t// Show the message and set telemetry to true;\n\t\t\tconst showButtonText = 'Read more';//nls.localize('telemetry_legal_dialog_button_text');\n\t\t\tconst showMessage =  util.format('You agree that Salesforce Extensions for VS Code may collect usage information, user environment, and crash reports for product improvements. Learn how to [opt out](%s).',TELEMETRY_OPT_OUT_LINK);\n\t\t\tvscode.window\n\t\t\t\t.showInformationMessage(showMessage, showButtonText)\n\t\t\t\t.then(selection => {\n\t\t\t\t\t// Open disable telemetry link\n\t\t\t\t\tif (selection && selection === showButtonText) {\n\t\t\t\t\t\tvscode.commands.executeCommand(\n\t\t\t\t\t\t\t'vscode.open',\n\t\t\t\t\t\t\tvscode.Uri.parse(TELEMETRY_OPT_OUT_LINK)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tthis.setTelemetryMessageShowed();\n\t\t}\n\t}\n\n\tpublic sendExtensionActivationEvent(hrstart: [number, number]): void {\n\t\tif (this.reporter !== undefined && this.isTelemetryEnabled) {\n\t\t\tconst startupTime = this.getEndHRTime(hrstart);\n\t\t\tthis.reporter.sendTelemetryEvent('activationEvent', {\n\t\t\t\textensionName: EXTENSION_NAME,\n\t\t\t\tstartupTime: startupTime\n\t\t\t});\n\t\t}\n\t}\n\n\tpublic sendExtensionDeactivationEvent(): void {\n\t\tif (this.reporter !== undefined && this.isTelemetryEnabled()) {\n\t\t\tthis.reporter.sendTelemetryEvent('deactivationEvent', {\n\t\t\t\textensionName: EXTENSION_NAME\n\t\t\t});\n\t\t}\n\t}\n\n\tpublic sendError(errorMsg: string): void {\n\t\tif (this.reporter !== undefined && this.isTelemetryEnabled) {\n\t\t\tthis.reporter.sendTelemetryEvent('coreError', {\n\t\t\t\textensionName: EXTENSION_NAME,\n\t\t\t\terrorMessage: errorMsg\n\t\t\t});\n\t\t}\n\t}\n\n\tpublic sendEventData(\n\t\teventName: string,\n\t\tproperties?: { [key: string]: string },\n\t\tmeasures?: { [key: string]: number }\n\t): void {\n\t\tif (this.reporter !== undefined && this.isTelemetryEnabled) {\n\t\t\tthis.reporter.sendTelemetryEvent(eventName, properties, measures);\n\t\t}\n\t}\n\n\tpublic sendException(name: string, message: string): void {\n\t\tif (this.reporter !== undefined && this.isTelemetryEnabled) {\n\t\t\tthis.reporter.sendExceptionEvent(name, message);\n\t\t}\n\t}\n\n\tpublic sendErrorEvent(errorMsg: string, callstack: string): void {\n\t\tif (this.reporter !== undefined && this.isTelemetryEnabled) {\n\t\t\tthis.reporter.sendTelemetryEvent('error', {\n\t\t\t\textensionName: EXTENSION_NAME,\n\t\t\t\terrorMessage: errorMsg,\n\t\t\t\terrorStack: callstack\n\t\t\t});\n\t\t}\n\t}\n\n\tpublic dispose(): void {\n\t\tif (this.reporter !== undefined) {\n\t\t\tthis.reporter.dispose().catch(err => console.log(err));\n\t\t}\n\t}\n\n\tprivate getEndHRTime(hrstart: [number, number]): string {\n\t\tconst hrend = process.hrtime(hrstart);\n\t\treturn util.format('%d%d', hrend[0], hrend[1] / 1000000);\n\t}\n}","/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\n\n'use strict';\n\nimport * as appInsights from 'applicationinsights';\nimport * as fs from 'fs';\nimport * as os from 'os';\nimport * as path from 'path';\nimport * as vscode from 'vscode';\n\nexport default class TelemetryReporter extends vscode.Disposable {\n\tprivate appInsightsClient: appInsights.TelemetryClient | undefined;\n\tprivate userOptIn: boolean = false;\n\tprivate toDispose: vscode.Disposable[] = [];\n\tprivate uniqueUserMetrics: boolean = false;\n\n\tprivate static TELEMETRY_CONFIG_ID = 'telemetry';\n\tprivate static TELEMETRY_CONFIG_ENABLED_ID = 'enableTelemetry';\n\n\tprivate logStream: fs.WriteStream | undefined;\n\n\tconstructor(\n\t\tprivate extensionId: string,\n\t\tprivate extensionVersion: string,\n\t\tkey: string,\n\t\tenableUniqueMetrics?: boolean\n\t) {\n\t\tsuper(() => this.toDispose.forEach(d => d && d.dispose()));\n\t\tlet logFilePath = process.env['VSCODE_LOGS'] || '';\n\t\tif (\n\t\t\tlogFilePath &&\n\t\t\textensionId &&\n\t\t\tprocess.env['VSCODE_LOG_LEVEL'] === 'trace'\n\t\t) {\n\t\t\tlogFilePath = path.join(logFilePath, `${extensionId}.txt`);\n\t\t\tthis.logStream = fs.createWriteStream(logFilePath, {\n\t\t\t\tflags: 'a',\n\t\t\t\tencoding: 'utf8',\n\t\t\t\tautoClose: true\n\t\t\t});\n\t\t}\n\t\tif (enableUniqueMetrics) {\n\t\t\tthis.uniqueUserMetrics = true;\n\t\t}\n\t\tthis.updateUserOptIn(key);\n\t\tthis.toDispose.push(\n\t\t\tvscode.workspace.onDidChangeConfiguration(() => this.updateUserOptIn(key))\n\t\t);\n\t}\n\n\tprivate updateUserOptIn(key: string): void {\n\t\tconst config = vscode.workspace.getConfiguration(\n\t\t\tTelemetryReporter.TELEMETRY_CONFIG_ID\n\t\t);\n\t\tif (\n\t\t\tthis.userOptIn !==\n\t\t\tconfig.get<boolean>(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true)\n\t\t) {\n\t\t\tthis.userOptIn = config.get<boolean>(\n\t\t\t\tTelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID,\n\t\t\t\ttrue\n\t\t\t);\n\t\t\tif (this.userOptIn) {\n\t\t\t\tthis.createAppInsightsClient(key);\n\t\t\t} else {\n\t\t\t\t// tslint:disable-next-line:no-floating-promises\n\t\t\t\tthis.dispose();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate createAppInsightsClient(key: string) {\n\t\t// check if another instance is already initialized\n\t\tif (appInsights.defaultClient) {\n\t\t\tthis.appInsightsClient = new appInsights.TelemetryClient(key);\n\t\t\t// no other way to enable offline mode\n\t\t\tthis.appInsightsClient.channel.setUseDiskRetryCaching(true);\n\t\t} else {\n\t\t\tappInsights\n\t\t\t\t.setup(key)\n\t\t\t\t.setAutoCollectRequests(false)\n\t\t\t\t.setAutoCollectPerformance(false)\n\t\t\t\t.setAutoCollectExceptions(false)\n\t\t\t\t.setAutoCollectDependencies(false)\n\t\t\t\t.setAutoDependencyCorrelation(false)\n\t\t\t\t.setAutoCollectConsole(false)\n\t\t\t\t.setUseDiskRetryCaching(true)\n\t\t\t\t.start();\n\t\t\tthis.appInsightsClient = appInsights.defaultClient;\n\t\t}\n\n\t\tthis.appInsightsClient.commonProperties = this.getCommonProperties();\n\t\tif (this.uniqueUserMetrics && vscode && vscode.env) {\n\t\t\tthis.appInsightsClient.context.tags['ai.user.id'] = vscode.env.machineId;\n\t\t\tthis.appInsightsClient.context.tags['ai.session.id'] =\n\t\t\t\tvscode.env.sessionId;\n\t\t}\n\n\t\t// check if it's an Asimov key to change the endpoint\n\t\tif (key && key.indexOf('AIF-') === 0) {\n\t\t\tthis.appInsightsClient.config.endpointUrl =\n\t\t\t\t'https://vortex.data.microsoft.com/collect/v1';\n\t\t}\n\t}\n\n\tprivate getCommonProperties(): { [key: string]: string } {\n\t\tconst commonProperties = Object.create(null);\n\t\tcommonProperties['common.os'] = os.platform();\n\t\tcommonProperties['common.platformversion'] = (os.release() || '').replace(\n\t\t\t/^(\\d+)(\\.\\d+)?(\\.\\d+)?(.*)/,\n\t\t\t'$1$2$3'\n\t\t);\n\t\tconst cpus = os.cpus();\n\t\tif (cpus && cpus.length > 0) {\n\t\t\tcommonProperties['common.cpus'] = `${cpus[0].model}(${cpus.length} x ${cpus[0].speed\n\t\t\t\t})`;\n\t\t}\n\t\tcommonProperties['common.systemmemory'] = `${(\n\t\t\tos.totalmem() /\n\t\t\t(1024 * 1024 * 1024)\n\t\t).toFixed(2)} GB`;\n\t\tcommonProperties['common.extname'] = this.extensionId;\n\t\tcommonProperties['common.extversion'] = this.extensionVersion;\n\t\tif (vscode && vscode.env) {\n\t\t\tcommonProperties['common.vscodemachineid'] = vscode.env.machineId;\n\t\t\tcommonProperties['common.vscodesessionid'] = vscode.env.sessionId;\n\t\t\tcommonProperties['common.vscodeversion'] = vscode.version;\n\t\t}\n\t\treturn commonProperties;\n\t}\n\n\tpublic sendTelemetryEvent(\n\t\teventName: string,\n\t\tproperties?: { [key: string]: string },\n\t\tmeasurements?: { [key: string]: number }\n\t): void {\n\t\tif (this.userOptIn && eventName && this.appInsightsClient) {\n\t\t\tthis.appInsightsClient.trackEvent({\n\t\t\t\tname: `${this.extensionId}/${eventName}`,\n\t\t\t\t// tslint:disable-next-line:object-literal-shorthand\n\t\t\t\tproperties: properties,\n\t\t\t\t// tslint:disable-next-line:object-literal-shorthand\n\t\t\t\tmeasurements: measurements\n\t\t\t});\n\n\t\t\tif (this.logStream) {\n\t\t\t\tthis.logStream.write(\n\t\t\t\t\t`telemetry/${eventName} ${JSON.stringify({\n\t\t\t\t\t\tproperties,\n\t\t\t\t\t\tmeasurements\n\t\t\t\t\t})}\\n`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic sendExceptionEvent(\n\t\texceptionName: string,\n\t\texceptionMessage: string,\n\t\tmeasurements?: { [key: string]: number }): void {\n\t\tif (this.userOptIn && exceptionMessage && this.appInsightsClient) {\n\t\t\tconst error = new Error();\n\t\t\terror.name = `${this.extensionId}/${exceptionName}`;\n\t\t\terror.message = exceptionMessage;\n\t\t\terror.stack = 'DEPRECATED';\n\n\t\t\tthis.appInsightsClient.trackException({\n\t\t\t\texception: error,\n\t\t\t\tmeasurements\n\t\t\t});\n\n\t\t\tif (this.logStream) {\n\t\t\t\tthis.logStream.write(\n\t\t\t\t\t`telemetry/${exceptionName} ${JSON.stringify({\n\t\t\t\t\t\tmeasurements\n\t\t\t\t\t})}\\n`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic dispose(): Promise<any> {\n\t\tconst flushEventsToLogger = new Promise<any>(resolve => {\n\t\t\tif (!this.logStream) {\n\t\t\t\treturn resolve(void 0);\n\t\t\t}\n\t\t\tthis.logStream.on('finish', resolve);\n\t\t\tthis.logStream.end();\n\t\t});\n\n\t\tconst flushEventsToAI = new Promise<any>(resolve => {\n\t\t\tif (this.appInsightsClient) {\n\t\t\t\tthis.appInsightsClient.flush({\n\t\t\t\t\tcallback: () => {\n\t\t\t\t\t\t// all data flushed\n\t\t\t\t\t\tthis.appInsightsClient = undefined;\n\t\t\t\t\t\tresolve(void 0);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tresolve(void 0);\n\t\t\t}\n\t\t});\n\t\treturn Promise.all([flushEventsToAI, flushEventsToLogger]);\n\t}\n}\n","/*\n * @license\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: BSD-3-Clause\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\nimport { workspace, WorkspaceFolder } from \"vscode\";\n\nexport const SFDX_CONFIG_DISABLE_TELEMETRY = 'disableTelemetry';\nexport const ENV_SFDX_CLI_DISABLE_TELEMETRY = 'SFDX_DISABLE_TELEMETRY';\n\nfunction hasRootWorkspace(ws: typeof workspace = workspace) {\n\t\treturn ws && ws.workspaceFolders && ws.workspaceFolders.length > 0;\n\t}\n\nfunction getRootWorkspace(): WorkspaceFolder {\n\t\treturn hasRootWorkspace()\n\t\t\t? workspace.workspaceFolders![0]\n\t\t\t: ({} as WorkspaceFolder);\n\t}\n\t\n\texport function getRootWorkspacePath(): string {\n\t\treturn getRootWorkspace().uri ? getRootWorkspace().uri.fsPath : '';\n\t}","/*\n * @license\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: BSD-3-Clause\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\n\nimport * as vscode from 'vscode';\nimport { ContextKey, SLDSContext } from './context';\nimport * as fs from 'fs';\nimport * as path from 'path';\n\n\nconst statusBarItem = vscode.window.createStatusBarItem('SLDS Validator');\n\nexport const updateStatusBar = (text: string, \n    command: string = '_slds.showOutput', tooltip ?: string | vscode.MarkdownString) : void => {\n  statusBarItem.text = text;\n  statusBarItem.command = command;\n  statusBarItem.tooltip = tooltip;\n  return statusBarItem.show();\n};\n\nexport const shouldExecuteForDocument = (uri: vscode.Uri): boolean => {\n  if (SLDSContext.isEnable(ContextKey.SCOPE)) {\n    if (uri.scheme === 'file') {\n      const filePath: Array<string> = uri.fsPath.split(path.sep);\n      const locationOfForceApp: number = filePath.indexOf('force-app');\n\n      if (locationOfForceApp !== -1) {\n        return fs.existsSync(\n          path.resolve(\n            path.sep,\n            ...filePath.slice(0, locationOfForceApp),\n            `sfdx-project.json`\n          )\n        );\n      }\n    }\n    return false;\n  }\n\n  return true;\n};\n\nexport const shouldSendPayloadToServer = (payload: string): boolean => {\n  if (SLDSContext.isEnable(ContextKey.SCOPE)) {\n    const result = payload.match(\n      /\"method\":\"textDocument\\/\\w+\".+\"textDocument\":{\"uri\":\"([^\"]+)\"/\n    );\n\n    if (result) {\n      const textDocument: string = result[1];\n      return shouldExecuteForDocument(vscode.Uri.parse(textDocument));\n    }\n  }\n\n  return true;\n};\n","module.exports = require(\"vscode\");","module.exports = require(\"@azure/functions-core\");","module.exports = require(\"assert\");","module.exports = require(\"async_hooks\");","module.exports = require(\"child_process\");","module.exports = require(\"console\");","module.exports = require(\"constants\");","module.exports = require(\"crypto\");","module.exports = require(\"dns\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"module\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"stream\");","module.exports = require(\"timers\");","module.exports = require(\"tls\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"zlib\");","\"use strict\";\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.state = void 0;\n/**\n * @internal\n *\n * Holds the singleton instrumenter, to be shared across CJS and ESM imports.\n */\nexports.state = {\n    instrumenterImplementation: undefined,\n};\n//# sourceMappingURL=state-cjs.cjs.map","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:os\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:util\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:process\");","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { log } from \"./log.js\";\nconst debugEnvVariable = (typeof process !== \"undefined\" && process.env && process.env.DEBUG) || undefined;\nlet enabledString;\nlet enabledNamespaces = [];\nlet skippedNamespaces = [];\nconst debuggers = [];\nif (debugEnvVariable) {\n    enable(debugEnvVariable);\n}\nconst debugObj = Object.assign((namespace) => {\n    return createDebugger(namespace);\n}, {\n    enable,\n    enabled,\n    disable,\n    log,\n});\nfunction enable(namespaces) {\n    enabledString = namespaces;\n    enabledNamespaces = [];\n    skippedNamespaces = [];\n    const wildcard = /\\*/g;\n    const namespaceList = namespaces.split(\",\").map((ns) => ns.trim().replace(wildcard, \".*?\"));\n    for (const ns of namespaceList) {\n        if (ns.startsWith(\"-\")) {\n            skippedNamespaces.push(new RegExp(`^${ns.substr(1)}$`));\n        }\n        else {\n            enabledNamespaces.push(new RegExp(`^${ns}$`));\n        }\n    }\n    for (const instance of debuggers) {\n        instance.enabled = enabled(instance.namespace);\n    }\n}\nfunction enabled(namespace) {\n    if (namespace.endsWith(\"*\")) {\n        return true;\n    }\n    for (const skipped of skippedNamespaces) {\n        if (skipped.test(namespace)) {\n            return false;\n        }\n    }\n    for (const enabledNamespace of enabledNamespaces) {\n        if (enabledNamespace.test(namespace)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction disable() {\n    const result = enabledString || \"\";\n    enable(\"\");\n    return result;\n}\nfunction createDebugger(namespace) {\n    const newDebugger = Object.assign(debug, {\n        enabled: enabled(namespace),\n        destroy,\n        log: debugObj.log,\n        namespace,\n        extend,\n    });\n    function debug(...args) {\n        if (!newDebugger.enabled) {\n            return;\n        }\n        if (args.length > 0) {\n            args[0] = `${namespace} ${args[0]}`;\n        }\n        newDebugger.log(...args);\n    }\n    debuggers.push(newDebugger);\n    return newDebugger;\n}\nfunction destroy() {\n    const index = debuggers.indexOf(this);\n    if (index >= 0) {\n        debuggers.splice(index, 1);\n        return true;\n    }\n    return false;\n}\nfunction extend(namespace) {\n    const newDebugger = createDebugger(`${this.namespace}:${namespace}`);\n    newDebugger.log = this.log;\n    return newDebugger;\n}\nexport default debugObj;\n//# sourceMappingURL=debug.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { EOL } from \"node:os\";\nimport util from \"node:util\";\nimport * as process from \"node:process\";\nexport function log(message, ...args) {\n    process.stderr.write(`${util.format(message, ...args)}${EOL}`);\n}\n//# sourceMappingURL=log.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport debug from \"./debug.js\";\nconst registeredLoggers = new Set();\nconst logLevelFromEnv = (typeof process !== \"undefined\" && process.env && process.env.AZURE_LOG_LEVEL) || undefined;\nlet azureLogLevel;\n/**\n * The AzureLogger provides a mechanism for overriding where logs are output to.\n * By default, logs are sent to stderr.\n * Override the `log` method to redirect logs to another location.\n */\nexport const AzureLogger = debug(\"azure\");\nAzureLogger.log = (...args) => {\n    debug.log(...args);\n};\nconst AZURE_LOG_LEVELS = [\"verbose\", \"info\", \"warning\", \"error\"];\nif (logLevelFromEnv) {\n    // avoid calling setLogLevel because we don't want a mis-set environment variable to crash\n    if (isAzureLogLevel(logLevelFromEnv)) {\n        setLogLevel(logLevelFromEnv);\n    }\n    else {\n        console.error(`AZURE_LOG_LEVEL set to unknown log level '${logLevelFromEnv}'; logging is not enabled. Acceptable values: ${AZURE_LOG_LEVELS.join(\", \")}.`);\n    }\n}\n/**\n * Immediately enables logging at the specified log level. If no level is specified, logging is disabled.\n * @param level - The log level to enable for logging.\n * Options from most verbose to least verbose are:\n * - verbose\n * - info\n * - warning\n * - error\n */\nexport function setLogLevel(level) {\n    if (level && !isAzureLogLevel(level)) {\n        throw new Error(`Unknown log level '${level}'. Acceptable values: ${AZURE_LOG_LEVELS.join(\",\")}`);\n    }\n    azureLogLevel = level;\n    const enabledNamespaces = [];\n    for (const logger of registeredLoggers) {\n        if (shouldEnable(logger)) {\n            enabledNamespaces.push(logger.namespace);\n        }\n    }\n    debug.enable(enabledNamespaces.join(\",\"));\n}\n/**\n * Retrieves the currently specified log level.\n */\nexport function getLogLevel() {\n    return azureLogLevel;\n}\nconst levelMap = {\n    verbose: 400,\n    info: 300,\n    warning: 200,\n    error: 100,\n};\n/**\n * Creates a logger for use by the Azure SDKs that inherits from `AzureLogger`.\n * @param namespace - The name of the SDK package.\n * @hidden\n */\nexport function createClientLogger(namespace) {\n    const clientRootLogger = AzureLogger.extend(namespace);\n    patchLogMethod(AzureLogger, clientRootLogger);\n    return {\n        error: createLogger(clientRootLogger, \"error\"),\n        warning: createLogger(clientRootLogger, \"warning\"),\n        info: createLogger(clientRootLogger, \"info\"),\n        verbose: createLogger(clientRootLogger, \"verbose\"),\n    };\n}\nfunction patchLogMethod(parent, child) {\n    child.log = (...args) => {\n        parent.log(...args);\n    };\n}\nfunction createLogger(parent, level) {\n    const logger = Object.assign(parent.extend(level), {\n        level,\n    });\n    patchLogMethod(parent, logger);\n    if (shouldEnable(logger)) {\n        const enabledNamespaces = debug.disable();\n        debug.enable(enabledNamespaces + \",\" + logger.namespace);\n    }\n    registeredLoggers.add(logger);\n    return logger;\n}\nfunction shouldEnable(logger) {\n    return Boolean(azureLogLevel && levelMap[logger.level] <= levelMap[azureLogLevel]);\n}\nfunction isAzureLogLevel(logLevel) {\n    return AZURE_LOG_LEVELS.includes(logLevel);\n}\n//# sourceMappingURL=index.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the module cache\n__webpack_require__.c = __webpack_module_cache__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// module cache are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\nvar __webpack_exports__ = __webpack_require__(1737);\n"],"names":["ValidPhaseNames","Set","HttpPipeline","constructor","policies","_a","this","_policies","slice","_orderedPolicies","undefined","addPolicy","policy","options","phase","afterPhase","Error","has","push","removePolicy","removedPolicies","filter","policyDescriptor","name","sendRequest","httpClient","request","getOrderedPolicies","reduceRight","next","req","pipeline","orderPolicies","clone","create","result","policyMap","Map","createPhase","hasRun","hasAfterPolicies","serializePhase","noPhase","deserializePhase","retryPhase","signPhase","orderedPhases","getPhase","descriptor","policyName","node","dependsOn","dependants","set","add","get","afterPolicies","afterPolicyName","afterNode","beforePolicies","beforePolicyName","beforeNode","walkPhase","size","dependant","delete","walkPhases","iteration","initialResultLength","length","createEmptyPipeline","isObject","input","Array","isArray","RegExp","Date","RedactedString","defaultAllowedHeaderNames","defaultAllowedQueryParameters","Sanitizer","additionalAllowedHeaderNames","allowedHeaderNames","additionalAllowedQueryParameters","allowedQueryParameters","concat","map","n","toLowerCase","p","sanitize","obj","seen","JSON","stringify","key","value","Object","assign","message","sanitizeHeaders","sanitizeUrl","sanitizeQuery","sanitized","keys","k","url","URL","search","searchParams","toString","logPolicyName","logPolicy","logger","info","sanitizer","enabled","response","status","headers","redirectPolicyName","allowedRedirect","redirectPolicy","maxRetries","handleRedirect","async","currentRetries","locationHeader","includes","method","body","res","SDK_VERSION","DEFAULT_RETRY_POLICY_COUNT","getUserAgentValue","prefix","runtimeInfo","process","version","defaultAgent","telemetryInfo","parts","token","join","getUserAgentString","UserAgentHeaderName","userAgentPolicyName","userAgentPolicy","userAgentValue","userAgentPrefix","decompressResponsePolicyName","decompressResponsePolicy","listenersMap","WeakMap","abortedMap","AbortSignal","onabort","aborted","TypeError","none","addEventListener","_type","listener","removeEventListener","listeners","index","indexOf","splice","dispatchEvent","_event","abortSignal","signal","call","forEach","type","AbortError","super","AbortController","parentSignals","_signal","arguments","parentSignal","abort","timeout","ms","timer","setTimeout","unref","StandardAbortMessage","delay","delayInMs","Promise","resolve","reject","onAborted","rejectOnAbort","abortErrorMsg","removeListeners","clearTimeout","parseHeaderValueAsNumber","headerName","valueAsNum","Number","isNaN","RetryAfterHeader","AllRetryAfterHeaders","getRetryAfterInMs","header","retryAfterValue","retryAfterHeader","diff","parse","now","isFinite","Math","max","e","throttlingRetryStrategy","retry","retryAfterInMs","skipStrategy","DEFAULT_CLIENT_RETRY_INTERVAL","DEFAULT_CLIENT_MAX_RETRY_INTERVAL","exponentialRetryStrategy","_b","retryInterval","retryDelayInMs","maxRetryInterval","maxRetryDelayInMs","retryCount","responseError","matchedSystemError","err","code","ignoreSystemErrors","isExponential","Boolean","isExponentialRetryResponse","ignoreExponentialResponse","ignoreHttpStatusCodes","unknownResponse","isThrottlingRetryResponse","errorToThrow","exponentialDelay","pow","clampedExponentialDelay","min","ceil","floor","random","retryPolicyLogger","retryPolicyName","retryPolicy","strategies","retryRequest","requestId","error","strategiesLoop","strategy","strategyLogger","modifiers","redirectTo","defaultRetryPolicyName","defaultRetryPolicy","formDataPolicyName","formDataPolicy","formData","contentType","urlSearchParams","URLSearchParams","entries","subValue","append","wwwFormUrlEncode","requestForm","formKey","formValue","getBoundary","contentLength","getLength","prepareFormData","isNode","versions","HTTPS_PROXY","HTTP_PROXY","ALL_PROXY","NO_PROXY","proxyPolicyName","globalNoProxyList","noProxyListLoaded","globalBypassedMap","getEnvironmentValue","env","getDefaultProxySettings","proxyUrl","httpsProxy","allProxy","httpProxy","loadEnvironmentProxyValue","parsedUrl","host","protocol","hostname","port","parseInt","username","password","getProxyAgentOptions","proxySettings","tlsSettings","parsedProxyUrl","_error","warning","proxyAgentOptions","toJSON","auth","proxyPolicy","noProxy","split","item","trim","loadNoProxy","cachedAgents","uri","noProxyList","bypassedMap","isBypassedFlag","pattern","endsWith","isBypassed","customNoProxyList","agent","isInsecure","httpProxyAgent","HttpProxyAgent","httpsProxyAgent","HttpsProxyAgent","setProxyAgentOnRequest","setClientRequestIdPolicyName","setClientRequestIdPolicy","requestIdHeaderName","tlsPolicyName","tlsPolicy","knownContextKeys","span","Symbol","for","namespace","createTracingContext","context","TracingContextImpl","parentContext","setValue","initialContext","_contextMap","newContext","getValue","deleteValue","getInstrumenter","instrumenterImplementation","createRequestHeaders","parseTraceparentHeader","startSpan","_name","spanOptions","end","isRecording","recordException","setAttribute","setStatus","tracingContext","withContext","_context","callback","callbackArgs","isError","hasName","hasMessage","getErrorMessage","stringified","String","custom","inspect","errorSanitizer","RestError","statusCode","setPrototypeOf","prototype","isRestError","REQUEST_SEND_ERROR","PARSE_ERROR","tracingPolicyName","tracingPolicy","userAgent","tracingClient","packageName","packageVersion","operationOptions","startSpanResult","tracingOptions","updatedOptions","withSpan","traceparentHeader","createTracingClient","tryCreateTracingClient","spanKind","spanAttributes","tryCreateSpan","serviceRequestId","tryProcessResponse","tryProcessError","createPipelineFromOptions","tlsOptions","proxyOptions","userAgentOptions","retryOptions","redirectOptions","loggingOptions","normalizeName","HttpHeadersImpl","rawHeaders","_headersMap","preserveCase","entry","values","normalizedName","iterator","headerIterator","createHttpHeaders","DEFAULT_TLS_SETTINGS","isReadableStream","pipe","isStreamComplete","stream","on","isArrayBuffer","byteLength","ReportTransform","Transform","progressCallback","loadedBytes","_transform","chunk","_encoding","NodeHttpClient","cachedHttpsAgents","_c","abortController","abortListener","event","acceptEncoding","shouldDecompress","responseStream","bodyLength","Buffer","isBuffer","from","getBodyLength","onUploadProgress","uploadReportStream","makeRequest","getResponseHeaders","resume","contentEncoding","unzip","inflate","getDecodedResponseStream","onDownloadProgress","downloadReportStream","streamResponseStatusCodes","POSITIVE_INFINITY","readableStreamBody","bodyAsText","buffer","uploadStreamDone","downloadStreamDone","all","then","catch","allowInsecureConnection","getOrCreateAgent","path","pathname","once","abortError","destroy","ArrayBuffer","isView","disableKeepAlive","cachedHttpAgent","keepAlive","createDefaultHttpClient","rnds8Pool","Uint8Array","poolPtr","rng","byteToHex","i","substr","arr","offset","uuid","test","buf","rnds","PipelineRequestImpl","_d","_e","_f","_g","withCredentials","enableBrowserStreams","createPipelineRequest","exponentialRetryPolicyName","exponentialRetryPolicy","systemErrorRetryPolicyName","systemErrorRetryPolicy","throttlingRetryPolicyName","throttlingRetryPolicy","DEFAULT_CYCLER_OPTIONS","forcedRefreshWindowInMs","retryIntervalInMs","refreshWindowInMs","bearerTokenAuthenticationPolicyName","defaultAuthorizeRequest","scopes","getAccessToken","getTokenOptions","accessToken","bearerTokenAuthenticationPolicy","credential","challengeCallbacks","callbacks","authorizeRequest","authorizeRequestOnChallenge","tokenCyclerOptions","tenantId","refreshWorker","cycler","isRefreshing","shouldRefresh","expiresOnTimestamp","mustRefresh","refresh","refreshTimeout","tryGetAccessToken","finalToken","beginRefresh","getToken","_token","reason","tokenOptions","claims","createTokenCycler","startsWith","challenge","getChallenge","ndJsonPolicyName","ndJsonPolicy","defineProperty","exports","emitter","cleanup","removeListener","onEvent","onError","args","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","done","apply","__importDefault","mod","__esModule","net_1","tls_1","url_1","debug_1","once_1","agent_base_1","debug","default","Agent","_opts","opts","proxy","secureProxy","parsed","socket","format","setHeader","connect","_header","first","endOfHeaders","_implicitHeader","output","substring","outputData","data","agent_1","createHttpProxyAgent","module","OpenTelemetrySpanWrapper","_span","ERROR","OK","exception","unwrap","environmentCache","envVarToBoolean","rawValue","loadEnvironmentVariable","toOpenTelemetrySpanAttributes","attributes","propagator","W3CTraceContextPropagator","OpenTelemetryInstrumenter","ctx","active","wrapSpanContext","getTracer","spanLinks","kind","tracingSpanKind","toUpperCase","toOpenTelemetrySpanKind","links","reduce","acc","tracingSpanLink","spanContext","getSpanContext","toOpenTelemetryLinks","toSpanOptions","setSpan","with","extract","traceparent","inject","AzureSdkInstrumentation","init","moduleExports","useInstrumenter","includePrerelease","createAzureSdkInstrumentation","webSnippet","NoopContextManager","fn","_i","to","pack","ar","l","__spreadArray","o","m","r","__read","bind","target","enable","disable","API_NAME","NOOP_CONTEXT_MANAGER","ContextAPI","getInstance","_instance","setGlobalContextManager","contextManager","instance","_getContextManager","DiagComponentLogger","props","_namespace","logProxy","warn","verbose","funcName","unshift","DiagAPI","_logProxy","self","setLogger","optionsOrLogLevel","logLevel","INFO","stack","oldLogger","newLogger","maxLevel","_filterFunc","theLevel","theFunc","NONE","ALL","WARN","DEBUG","VERBOSE","createLogLevelDiagLogger","suppressOverrideMessage","createComponentLogger","BaggageImpl","_entries","getEntry","getAllEntries","setEntry","newBaggage","removeEntry","removeEntries","e_1","keys_1","s","__values","keys_1_1","e_1_1","return","clear","baggageEntryMetadataSymbol","createBaggage","baggageEntryMetadataFromString","str","__TYPE__","createContextKey","description","ROOT_CONTEXT","BaseContext","_currentContext","diag","DiagLogLevel","ValueType","consoleMap","c","DiagConsoleLogger","_consoleFunc","console","log","VALID_KEY_CHAR_RANGE","VALID_KEY_REGEX","VALID_VALUE_BASE_REGEX","INVALID_VALUE_COMMA_EQUAL_REGEX","TraceStateImpl","rawTraceState","_internalState","_parse","traceState","_clone","unset","serialize","_this","_keys","agg","reverse","part","listMember","validateKey","validateValue","createTraceState","metrics","propagation","trace","_globalThis","globalThis","global","VERSION","re","isCompatible","ownVersion","acceptedVersions","rejectedVersions","myVersionMatch","match","ownVersionParsed","globalVersion","_reject","v","_accept","globalVersionMatch","globalVersionParsed","_makeCompatibilityCheck","major","GLOBAL_OPENTELEMETRY_API_KEY","_global","registerGlobal","allowOverride","api","getGlobal","unregisterGlobal","NOOP_METER_PROVIDER","NoopMeterProvider","getMeter","_version","_options","MetricsAPI","setGlobalMeterProvider","provider","getMeterProvider","extendStatics","__extends","d","b","__proto__","hasOwnProperty","__","NoopMeter","createGauge","NOOP_GAUGE_METRIC","createHistogram","NOOP_HISTOGRAM_METRIC","createCounter","NOOP_COUNTER_METRIC","createUpDownCounter","NOOP_UP_DOWN_COUNTER_METRIC","createObservableGauge","NOOP_OBSERVABLE_GAUGE_METRIC","createObservableCounter","NOOP_OBSERVABLE_COUNTER_METRIC","createObservableUpDownCounter","NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC","addBatchObservableCallback","_callback","_observables","removeBatchObservableCallback","NoopMetric","NoopCounterMetric","_super","_value","_attributes","NoopUpDownCounterMetric","NoopGaugeMetric","record","NoopHistogramMetric","NoopObservableMetric","addCallback","removeCallback","NoopObservableCounterMetric","NoopObservableGaugeMetric","NoopObservableUpDownCounterMetric","NOOP_METER","createNoopMeter","NoopTextMapPropagator","_carrier","fields","BAGGAGE_KEY","getBaggage","getActiveBaggage","setBaggage","baggage","deleteBaggage","NOOP_TEXT_MAP_PROPAGATOR","PropagationAPI","setGlobalPropagator","carrier","setter","_getGlobalPropagator","getter","defaultTextMapGetter","defaultTextMapSetter","TraceAPI","_proxyTracerProvider","ProxyTracerProvider","isSpanContextValid","deleteSpan","getSpan","getActiveSpan","setSpanContext","setGlobalTracerProvider","success","setDelegate","getTracerProvider","NonRecordingSpan","_spanContext","_key","setAttributes","addEvent","addLink","_link","addLinks","_links","_status","updateName","_endTime","_exception","_time","contextApi","NoopTracer","root","parentFromContext","startActiveSpan","arg2","arg3","arg4","contextWithSpanSet","NOOP_TRACER","ProxyTracer","_provider","_getTracer","_fn","tracer","Reflect","_delegate","getDelegateTracer","NOOP_TRACER_PROVIDER","NoopTracerProvider","getDelegate","delegate","SamplingDecision","SPAN_KEY","INVALID_SPANID","INVALID_TRACEID","INVALID_SPAN_CONTEXT","traceId","spanId","traceFlags","SpanKind","VALID_TRACEID_REGEX","VALID_SPANID_REGEX","isValidTraceId","isValidSpanId","SpanStatusCode","TraceFlags","ExportResultCode","BAGGAGE_KEY_PAIR_SEPARATOR","BAGGAGE_PROPERTIES_SEPARATOR","BAGGAGE_ITEMS_SEPARATOR","BAGGAGE_HEADER","BAGGAGE_MAX_NAME_VALUE_PAIRS","BAGGAGE_MAX_PER_NAME_VALUE_PAIRS","BAGGAGE_MAX_TOTAL_LENGTH","W3CBaggagePropagator","keyPairs","getKeyPairs","pair","headerValue","serializeKeyPairs","baggageString","keyPair","parsePairKeyValue","baggageEntry","metadata","hValue","current","encodeURIComponent","valueProps","keyPairPart","shift","separatorIndex","decodeURIComponent","parseKeyPairsIntoRecord","sanitizeAttributes","out","val","isAttributeKey","isAttributeValue","e_2","arr_1","arr_1_1","element","isValidPrimitiveAttributeValue","e_2_1","isHomogeneousAttributeValueArray","delegateHandler","setGlobalErrorHandler","handler","globalErrorHandler","ex","loggingErrorHandler","getOwnPropertyNames","propertyName","getPrototypeOf","flattenException","stringifyException","NANOSECOND_DIGITS","MILLISECONDS_TO_NANOSECONDS","SECOND_TO_NANOSECONDS","millisToHrTime","epochMillis","epochSeconds","trunc","round","getTimeOrigin","timeOrigin","perf","timing","fetchStart","hrTime","performanceNow","addHrTimes","timeInputToHrTime","time","isTimeInputHrTime","getTime","hrTimeDuration","startTime","endTime","seconds","nanos","hrTimeToTimeStamp","precision","tmp","repeat","nanoString","toISOString","replace","hrTimeToNanoseconds","hrTimeToMilliseconds","hrTimeToMicroseconds","isTimeInput","time1","time2","AnchoredClock","systemClock","monotonicClock","_monotonicClock","_epochMillis","_performanceMillis","delta","intValue","charCode","hexToBinary","hexStr","hi","charCodeAt","lo","hexToBase64","RandomIdGenerator","generateTraceId","getIdGenerator","generateSpanId","SHARED_BUFFER","allocUnsafe","bytes","writeUInt32BE","RPCType","RPC_METADATA_KEY","setRPCMetadata","meta","deleteRPCMetadata","getRPCMetadata","AlwaysOffSampler","shouldSample","decision","NOT_RECORD","AlwaysOnSampler","RECORD_AND_SAMPLED","ParentBasedSampler","config","_root","_remoteParentSampled","remoteParentSampled","_remoteParentNotSampled","remoteParentNotSampled","_localParentSampled","localParentSampled","_localParentNotSampled","localParentNotSampled","spanName","isRemote","SAMPLED","TraceIdRatioBasedSampler","_ratio","_normalize","_upperBound","_accumulate","ratio","accumulation","pos","TimeoutError","callWithTimeout","promise","timeoutHandle","timeoutPromise","_resolve","race","urlMatches","urlToMatch","isUrlIgnored","ignoredUrls","ignoredUrls_1","ignoredUrls_1_1","isWrapped","func","__original","__unwrap","__wrapped","internal","_export","exporter","arg","export","getEnv","processEnv","getEnvWithoutDefaults","otperformance","require","performance","SDK_INFO","unrefTimer","CompositePropagator","_propagators","propagators","_fields","x","y","TraceState","TRACE_PARENT_HEADER","TRACE_STATE_HEADER","TRACE_PARENT_REGEX","parseTraceParent","traceParent","exec","traceParentHeader","traceStateHeader","state","SUPPRESS_TRACING_KEY","suppressTracing","unsuppressTracing","isTracingSuppressed","Deferred","_promise","enumerable","configurable","BindOnceFuture","_that","_isCalled","_deferred","DEFAULT_LIST_SEPARATOR","ENVIRONMENT_BOOLEAN_KEYS","isEnvVarABoolean","ENVIRONMENT_NUMBERS_KEYS","isEnvVarANumber","ENVIRONMENT_LISTS_KEYS","isEnvVarAList","DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT","Infinity","DEFAULT_ATTRIBUTE_COUNT_LIMIT","DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","DEFAULT_ENVIRONMENT","OTEL_SDK_DISABLED","CONTAINER_NAME","ECS_CONTAINER_METADATA_URI_V4","ECS_CONTAINER_METADATA_URI","HOSTNAME","KUBERNETES_SERVICE_HOST","NAMESPACE","OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_EXPORTER_JAEGER_AGENT_HOST","OTEL_EXPORTER_JAEGER_AGENT_PORT","OTEL_EXPORTER_JAEGER_ENDPOINT","OTEL_EXPORTER_JAEGER_PASSWORD","OTEL_EXPORTER_JAEGER_USER","OTEL_EXPORTER_OTLP_ENDPOINT","OTEL_EXPORTER_OTLP_TRACES_ENDPOINT","OTEL_EXPORTER_OTLP_METRICS_ENDPOINT","OTEL_EXPORTER_OTLP_LOGS_ENDPOINT","OTEL_EXPORTER_OTLP_HEADERS","OTEL_EXPORTER_OTLP_TRACES_HEADERS","OTEL_EXPORTER_OTLP_METRICS_HEADERS","OTEL_EXPORTER_OTLP_LOGS_HEADERS","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_ZIPKIN_ENDPOINT","OTEL_LOG_LEVEL","OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_RESOURCE_ATTRIBUTES","OTEL_SERVICE_NAME","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_TRACES_EXPORTER","OTEL_TRACES_SAMPLER","ParentBasedAlwaysOn","OTEL_TRACES_SAMPLER_ARG","OTEL_LOGS_EXPORTER","OTEL_EXPORTER_OTLP_INSECURE","OTEL_EXPORTER_OTLP_TRACES_INSECURE","OTEL_EXPORTER_OTLP_METRICS_INSECURE","OTEL_EXPORTER_OTLP_LOGS_INSECURE","OTEL_EXPORTER_OTLP_CERTIFICATE","OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE","OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE","OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE","OTEL_EXPORTER_OTLP_COMPRESSION","OTEL_EXPORTER_OTLP_TRACES_COMPRESSION","OTEL_EXPORTER_OTLP_METRICS_COMPRESSION","OTEL_EXPORTER_OTLP_LOGS_COMPRESSION","OTEL_EXPORTER_OTLP_CLIENT_KEY","OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY","OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY","OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY","OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE","OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE","OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE","OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE","OTEL_EXPORTER_OTLP_PROTOCOL","OTEL_EXPORTER_OTLP_TRACES_PROTOCOL","OTEL_EXPORTER_OTLP_METRICS_PROTOCOL","OTEL_EXPORTER_OTLP_LOGS_PROTOCOL","OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE","parseBoolean","environment","parseNumber","parseStringList","separator","givenValue","logLevelMap","setLogLevelFromEnv","parseEnvironment","transform","objectTag","nullTag","undefinedTag","funcToString","Function","objectCtorString","getPrototype","objectProto","symToStringTag","toStringTag","nativeObjectToString","isPlainObject","isObjectLike","isOwn","tag","unmasked","getRawTag","objectToString","baseGetTag","proto","Ctor","MAX_LEVEL","merge","objects","mergeTwoObjects","takeValue","one","two","level","isPrimitive","isFunction","j","shouldMerge","twoValue","obj1","obj2","wasObjectReferenced","arr1","arr2","TracesSamplerValues","parseInstrumentationOptions","instrumentations","option","results","instrumentationName","registerInstrumentations","tracerProvider","meterProvider","instrumentation","setTracerProvider","setMeterProvider","getConfig","enableInstrumentations","disableInstrumentations","InstrumentationNodeModuleFile","supportedVersions","patch","unpatch","normalize","__generator","f","t","g","_","label","sent","trys","ops","verb","op","pop","safeExecuteInTheMiddle","execute","onFinish","preventThrowingError","safeExecuteInTheMiddleAsync","__assign","InstrumentationAbstract","instrumentationVersion","_wrap","shimmer","wrap","_unwrap","_massWrap","massWrap","_massUnwrap","massUnwrap","_config","_diag","_tracer","_meter","_updateMetricInstruments","setConfig","ModuleNameSeparator","ModuleNameTrieNode","hooks","children","ModuleNameTrie","_trie","_counter","insert","hook","trieNode","moduleName","moduleNamePart","nextNode","insertedId","maintainInsertionOrder","fullOnly","foundFull","sort","a","isMocha","every","RequireInTheMiddleSingleton","_moduleNameTrie","_initialize","Hook","internals","basedir","moduleNameOrPath","normalizedModuleName","matches","matches_1","matches_1_1","onRequire","register","hooked","InstrumentationBase","_hooks","_requireInTheMiddleSingleton","_enabled","wrapper","isProxy","wrapped","moduleExportsArray","names","modules","_modules","_warnOnPreloadedModules","resolvedModule","_extractPackageVersion","baseDir","_onRequire","moduleVersion","isSupported","files","patchedExports","file","e_3","module_1","_loop_1","module_2","this_1","esmHook","_h","_j","e_3_1","e_4","e_5","module_3","e_5_1","e_4_1","isEnabled","some","supportedVersion","satisfies","InstrumentationNodeModuleDefinition","webpackEmptyContext","id","Span","parentTracer","parentSpanId","_deprecatedClock","events","_droppedAttributesCount","_droppedEventsCount","_droppedLinksCount","UNSET","_ended","_duration","_performanceStartTime","_performanceOffset","_startTimeProvided","_getTime","resource","instrumentationLibrary","_spanLimits","getSpanLimits","_attributeValueLengthLimit","attributeValueLengthLimit","_spanProcessor","getActiveSpanProcessor","onStart","_isSpanEnded","attributeCountLimit","_truncateToSize","attributesOrStartTime","timeStamp","eventCountLimit","droppedAttributesCount","link","onEnd","inp","msDuration","_truncateToLimitUtil","limit","FALLBACK_OTEL_TRACES_SAMPLER","AlwaysOn","DEFAULT_RATIO","loadDefaultConfig","sampler","buildSamplerFromEnv","forceFlushTimeoutMillis","generalLimits","spanLimits","linkCountLimit","attributePerEventCountLimit","attributePerLinkCountLimit","AlwaysOff","ParentBasedAlwaysOff","TraceIdRatio","getSamplerProbabilityFromEnv","ParentBasedTraceIdRatio","probability","ForceFlushState","Tracer","_tracerProvider","userConfig","perInstanceDefaults","DEFAULT_CONFIG","localConfig","_sampler","_generalLimits","_idGenerator","idGenerator","parentSpan","parentSpanContext","INTERNAL","samplingResult","initAttributes","getGeneralLimits","Resource","asyncAttributesPromise","asyncAttributesPending","_syncAttributes","_asyncAttributesPromise","asyncAttributes","empty","EMPTY","argv0","waitForAsyncAttributes","other","mergedSyncAttributes","mergedAttributesPromise","thisAsyncAttributes","otherAsyncAttributes","MultiSpanProcessor","_spanProcessors","forceFlush","promises","spanProcessor","shutdown","NoopSpanProcessor","BatchSpanProcessorBase","_exporter","_isExporting","_finishedSpans","_droppedSpansCount","_maxExportBatchSize","maxExportBatchSize","_maxQueueSize","maxQueueSize","_scheduledDelayMillis","scheduledDelayMillis","_exportTimeoutMillis","exportTimeoutMillis","_shutdownOnce","_shutdown","isCalled","_flushAll","_parentContext","_addToBuffer","onShutdown","_maybeStartTimer","_flushOneBatch","_clearTimer","spans","doExport","ExportResult","SUCCESS","pendingResources","len","flush","finally","_timer","BatchSpanProcessor","BasicTracerProvider","_registeredSpanProcessors","_tracers","mergedConfig","_k","_l","_m","parsedEnvConfig","reconfigureLimits","defaultExporter","_buildExporterFromEnv","batchProcessor","activeSpanProcessor","schemaUrl","addSpanProcessor","_buildPropagatorFromEnv","timeoutInterval","resolved","errors","_getPropagator","_registeredPropagators","_getSpanExporter","_registeredExporters","uniquePropagatorNames","validPropagators","list","exporterName","ConsoleSpanExporter","resultCallback","_sendSpans","_exportInfo","parentId","timestamp","duration","spans_1","spans_1_1","dir","depth","InMemorySpanExporter","_stopped","FAILED","reset","getFinishedSpans","SimpleSpanProcessor","_unresolvedExports","exportPromise_1","createConstMap","lp","TMP_CLOUD_PROVIDER","TMP_CLOUD_ACCOUNT_ID","TMP_CLOUD_REGION","TMP_CLOUD_AVAILABILITY_ZONE","TMP_CLOUD_PLATFORM","TMP_AWS_ECS_CONTAINER_ARN","TMP_AWS_ECS_CLUSTER_ARN","TMP_AWS_ECS_LAUNCHTYPE","TMP_AWS_ECS_TASK_ARN","TMP_AWS_ECS_TASK_FAMILY","TMP_AWS_ECS_TASK_REVISION","TMP_AWS_EKS_CLUSTER_ARN","TMP_AWS_LOG_GROUP_NAMES","TMP_AWS_LOG_GROUP_ARNS","TMP_AWS_LOG_STREAM_NAMES","TMP_AWS_LOG_STREAM_ARNS","TMP_CONTAINER_NAME","TMP_CONTAINER_ID","TMP_CONTAINER_RUNTIME","TMP_CONTAINER_IMAGE_NAME","TMP_CONTAINER_IMAGE_TAG","TMP_DEPLOYMENT_ENVIRONMENT","TMP_DEVICE_ID","TMP_DEVICE_MODEL_IDENTIFIER","TMP_DEVICE_MODEL_NAME","TMP_FAAS_NAME","TMP_FAAS_ID","TMP_FAAS_VERSION","TMP_FAAS_INSTANCE","TMP_FAAS_MAX_MEMORY","TMP_HOST_ID","TMP_HOST_NAME","TMP_HOST_TYPE","TMP_HOST_ARCH","TMP_HOST_IMAGE_NAME","TMP_HOST_IMAGE_ID","TMP_HOST_IMAGE_VERSION","TMP_K8S_CLUSTER_NAME","TMP_K8S_NODE_NAME","TMP_K8S_NODE_UID","TMP_K8S_NAMESPACE_NAME","TMP_K8S_POD_UID","TMP_K8S_POD_NAME","TMP_K8S_CONTAINER_NAME","TMP_K8S_REPLICASET_UID","TMP_K8S_REPLICASET_NAME","TMP_K8S_DEPLOYMENT_UID","TMP_K8S_DEPLOYMENT_NAME","TMP_K8S_STATEFULSET_UID","TMP_K8S_STATEFULSET_NAME","TMP_K8S_DAEMONSET_UID","TMP_K8S_DAEMONSET_NAME","TMP_K8S_JOB_UID","TMP_K8S_JOB_NAME","TMP_K8S_CRONJOB_UID","TMP_K8S_CRONJOB_NAME","TMP_OS_TYPE","TMP_OS_DESCRIPTION","TMP_OS_NAME","TMP_OS_VERSION","TMP_PROCESS_PID","TMP_PROCESS_EXECUTABLE_NAME","TMP_PROCESS_EXECUTABLE_PATH","TMP_PROCESS_COMMAND","TMP_PROCESS_COMMAND_LINE","TMP_PROCESS_COMMAND_ARGS","TMP_PROCESS_OWNER","TMP_PROCESS_RUNTIME_NAME","TMP_PROCESS_RUNTIME_VERSION","TMP_PROCESS_RUNTIME_DESCRIPTION","TMP_SERVICE_NAME","TMP_SERVICE_NAMESPACE","TMP_SERVICE_INSTANCE_ID","TMP_SERVICE_VERSION","TMP_TELEMETRY_SDK_NAME","TMP_TELEMETRY_SDK_LANGUAGE","TMP_TELEMETRY_SDK_VERSION","TMP_TELEMETRY_AUTO_VERSION","TMP_WEBENGINE_NAME","TMP_WEBENGINE_VERSION","TMP_WEBENGINE_DESCRIPTION","SEMRESATTRS_CLOUD_PROVIDER","SEMRESATTRS_CLOUD_ACCOUNT_ID","SEMRESATTRS_CLOUD_REGION","SEMRESATTRS_CLOUD_AVAILABILITY_ZONE","SEMRESATTRS_CLOUD_PLATFORM","SEMRESATTRS_AWS_ECS_CONTAINER_ARN","SEMRESATTRS_AWS_ECS_CLUSTER_ARN","SEMRESATTRS_AWS_ECS_LAUNCHTYPE","SEMRESATTRS_AWS_ECS_TASK_ARN","SEMRESATTRS_AWS_ECS_TASK_FAMILY","SEMRESATTRS_AWS_ECS_TASK_REVISION","SEMRESATTRS_AWS_EKS_CLUSTER_ARN","SEMRESATTRS_AWS_LOG_GROUP_NAMES","SEMRESATTRS_AWS_LOG_GROUP_ARNS","SEMRESATTRS_AWS_LOG_STREAM_NAMES","SEMRESATTRS_AWS_LOG_STREAM_ARNS","SEMRESATTRS_CONTAINER_NAME","SEMRESATTRS_CONTAINER_ID","SEMRESATTRS_CONTAINER_RUNTIME","SEMRESATTRS_CONTAINER_IMAGE_NAME","SEMRESATTRS_CONTAINER_IMAGE_TAG","SEMRESATTRS_DEPLOYMENT_ENVIRONMENT","SEMRESATTRS_DEVICE_ID","SEMRESATTRS_DEVICE_MODEL_IDENTIFIER","SEMRESATTRS_DEVICE_MODEL_NAME","SEMRESATTRS_FAAS_NAME","SEMRESATTRS_FAAS_ID","SEMRESATTRS_FAAS_VERSION","SEMRESATTRS_FAAS_INSTANCE","SEMRESATTRS_FAAS_MAX_MEMORY","SEMRESATTRS_HOST_ID","SEMRESATTRS_HOST_NAME","SEMRESATTRS_HOST_TYPE","SEMRESATTRS_HOST_ARCH","SEMRESATTRS_HOST_IMAGE_NAME","SEMRESATTRS_HOST_IMAGE_ID","SEMRESATTRS_HOST_IMAGE_VERSION","SEMRESATTRS_K8S_CLUSTER_NAME","SEMRESATTRS_K8S_NODE_NAME","SEMRESATTRS_K8S_NODE_UID","SEMRESATTRS_K8S_NAMESPACE_NAME","SEMRESATTRS_K8S_POD_UID","SEMRESATTRS_K8S_POD_NAME","SEMRESATTRS_K8S_CONTAINER_NAME","SEMRESATTRS_K8S_REPLICASET_UID","SEMRESATTRS_K8S_REPLICASET_NAME","SEMRESATTRS_K8S_DEPLOYMENT_UID","SEMRESATTRS_K8S_DEPLOYMENT_NAME","SEMRESATTRS_K8S_STATEFULSET_UID","SEMRESATTRS_K8S_STATEFULSET_NAME","SEMRESATTRS_K8S_DAEMONSET_UID","SEMRESATTRS_K8S_DAEMONSET_NAME","SEMRESATTRS_K8S_JOB_UID","SEMRESATTRS_K8S_JOB_NAME","SEMRESATTRS_K8S_CRONJOB_UID","SEMRESATTRS_K8S_CRONJOB_NAME","SEMRESATTRS_OS_TYPE","SEMRESATTRS_OS_DESCRIPTION","SEMRESATTRS_OS_NAME","SEMRESATTRS_OS_VERSION","SEMRESATTRS_PROCESS_PID","SEMRESATTRS_PROCESS_EXECUTABLE_NAME","SEMRESATTRS_PROCESS_EXECUTABLE_PATH","SEMRESATTRS_PROCESS_COMMAND","SEMRESATTRS_PROCESS_COMMAND_LINE","SEMRESATTRS_PROCESS_COMMAND_ARGS","SEMRESATTRS_PROCESS_OWNER","SEMRESATTRS_PROCESS_RUNTIME_NAME","SEMRESATTRS_PROCESS_RUNTIME_VERSION","SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION","SEMRESATTRS_SERVICE_NAME","SEMRESATTRS_SERVICE_NAMESPACE","SEMRESATTRS_SERVICE_INSTANCE_ID","SEMRESATTRS_SERVICE_VERSION","SEMRESATTRS_TELEMETRY_SDK_NAME","SEMRESATTRS_TELEMETRY_SDK_LANGUAGE","SEMRESATTRS_TELEMETRY_SDK_VERSION","SEMRESATTRS_TELEMETRY_AUTO_VERSION","SEMRESATTRS_WEBENGINE_NAME","SEMRESATTRS_WEBENGINE_VERSION","SEMRESATTRS_WEBENGINE_DESCRIPTION","SemanticResourceAttributes","TMP_CLOUDPROVIDERVALUES_ALIBABA_CLOUD","TMP_CLOUDPROVIDERVALUES_AZURE","CLOUDPROVIDERVALUES_ALIBABA_CLOUD","CLOUDPROVIDERVALUES_AWS","CLOUDPROVIDERVALUES_AZURE","CLOUDPROVIDERVALUES_GCP","CloudProviderValues","TMP_CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS","TMP_CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC","TMP_CLOUDPLATFORMVALUES_AWS_EC2","TMP_CLOUDPLATFORMVALUES_AWS_ECS","TMP_CLOUDPLATFORMVALUES_AWS_EKS","TMP_CLOUDPLATFORMVALUES_AWS_LAMBDA","TMP_CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK","TMP_CLOUDPLATFORMVALUES_AZURE_VM","TMP_CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES","TMP_CLOUDPLATFORMVALUES_AZURE_AKS","TMP_CLOUDPLATFORMVALUES_AZURE_FUNCTIONS","TMP_CLOUDPLATFORMVALUES_AZURE_APP_SERVICE","TMP_CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE","TMP_CLOUDPLATFORMVALUES_GCP_CLOUD_RUN","TMP_CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE","TMP_CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS","TMP_CLOUDPLATFORMVALUES_GCP_APP_ENGINE","CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS","CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC","CLOUDPLATFORMVALUES_AWS_EC2","CLOUDPLATFORMVALUES_AWS_ECS","CLOUDPLATFORMVALUES_AWS_EKS","CLOUDPLATFORMVALUES_AWS_LAMBDA","CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK","CLOUDPLATFORMVALUES_AZURE_VM","CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES","CLOUDPLATFORMVALUES_AZURE_AKS","CLOUDPLATFORMVALUES_AZURE_FUNCTIONS","CLOUDPLATFORMVALUES_AZURE_APP_SERVICE","CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE","CLOUDPLATFORMVALUES_GCP_CLOUD_RUN","CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE","CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS","CLOUDPLATFORMVALUES_GCP_APP_ENGINE","CloudPlatformValues","TMP_AWSECSLAUNCHTYPEVALUES_FARGATE","AWSECSLAUNCHTYPEVALUES_EC2","AWSECSLAUNCHTYPEVALUES_FARGATE","AwsEcsLaunchtypeValues","TMP_HOSTARCHVALUES_AMD64","TMP_HOSTARCHVALUES_ARM32","TMP_HOSTARCHVALUES_ARM64","TMP_HOSTARCHVALUES_IA64","TMP_HOSTARCHVALUES_PPC32","TMP_HOSTARCHVALUES_PPC64","HOSTARCHVALUES_AMD64","HOSTARCHVALUES_ARM32","HOSTARCHVALUES_ARM64","HOSTARCHVALUES_IA64","HOSTARCHVALUES_PPC32","HOSTARCHVALUES_PPC64","HOSTARCHVALUES_X86","HostArchValues","TMP_OSTYPEVALUES_WINDOWS","TMP_OSTYPEVALUES_LINUX","TMP_OSTYPEVALUES_DARWIN","TMP_OSTYPEVALUES_FREEBSD","TMP_OSTYPEVALUES_NETBSD","TMP_OSTYPEVALUES_OPENBSD","TMP_OSTYPEVALUES_DRAGONFLYBSD","TMP_OSTYPEVALUES_HPUX","TMP_OSTYPEVALUES_SOLARIS","TMP_OSTYPEVALUES_Z_OS","OSTYPEVALUES_WINDOWS","OSTYPEVALUES_LINUX","OSTYPEVALUES_DARWIN","OSTYPEVALUES_FREEBSD","OSTYPEVALUES_NETBSD","OSTYPEVALUES_OPENBSD","OSTYPEVALUES_DRAGONFLYBSD","OSTYPEVALUES_HPUX","OSTYPEVALUES_AIX","OSTYPEVALUES_SOLARIS","OSTYPEVALUES_Z_OS","OsTypeValues","TMP_TELEMETRYSDKLANGUAGEVALUES_DOTNET","TMP_TELEMETRYSDKLANGUAGEVALUES_ERLANG","TMP_TELEMETRYSDKLANGUAGEVALUES_JAVA","TMP_TELEMETRYSDKLANGUAGEVALUES_NODEJS","TMP_TELEMETRYSDKLANGUAGEVALUES_PYTHON","TMP_TELEMETRYSDKLANGUAGEVALUES_RUBY","TMP_TELEMETRYSDKLANGUAGEVALUES_WEBJS","TELEMETRYSDKLANGUAGEVALUES_CPP","TELEMETRYSDKLANGUAGEVALUES_DOTNET","TELEMETRYSDKLANGUAGEVALUES_ERLANG","TELEMETRYSDKLANGUAGEVALUES_GO","TELEMETRYSDKLANGUAGEVALUES_JAVA","TELEMETRYSDKLANGUAGEVALUES_NODEJS","TELEMETRYSDKLANGUAGEVALUES_PHP","TELEMETRYSDKLANGUAGEVALUES_PYTHON","TELEMETRYSDKLANGUAGEVALUES_RUBY","TELEMETRYSDKLANGUAGEVALUES_WEBJS","TelemetrySdkLanguageValues","TMP_AWS_LAMBDA_INVOKED_ARN","TMP_DB_SYSTEM","TMP_DB_CONNECTION_STRING","TMP_DB_USER","TMP_DB_JDBC_DRIVER_CLASSNAME","TMP_DB_NAME","TMP_DB_STATEMENT","TMP_DB_OPERATION","TMP_DB_MSSQL_INSTANCE_NAME","TMP_DB_CASSANDRA_KEYSPACE","TMP_DB_CASSANDRA_PAGE_SIZE","TMP_DB_CASSANDRA_CONSISTENCY_LEVEL","TMP_DB_CASSANDRA_TABLE","TMP_DB_CASSANDRA_IDEMPOTENCE","TMP_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT","TMP_DB_CASSANDRA_COORDINATOR_ID","TMP_DB_CASSANDRA_COORDINATOR_DC","TMP_DB_HBASE_NAMESPACE","TMP_DB_REDIS_DATABASE_INDEX","TMP_DB_MONGODB_COLLECTION","TMP_DB_SQL_TABLE","TMP_EXCEPTION_TYPE","TMP_EXCEPTION_MESSAGE","TMP_EXCEPTION_STACKTRACE","TMP_EXCEPTION_ESCAPED","TMP_FAAS_TRIGGER","TMP_FAAS_EXECUTION","TMP_FAAS_DOCUMENT_COLLECTION","TMP_FAAS_DOCUMENT_OPERATION","TMP_FAAS_DOCUMENT_TIME","TMP_FAAS_DOCUMENT_NAME","TMP_FAAS_TIME","TMP_FAAS_CRON","TMP_FAAS_COLDSTART","TMP_FAAS_INVOKED_NAME","TMP_FAAS_INVOKED_PROVIDER","TMP_FAAS_INVOKED_REGION","TMP_NET_TRANSPORT","TMP_NET_PEER_IP","TMP_NET_PEER_PORT","TMP_NET_PEER_NAME","TMP_NET_HOST_IP","TMP_NET_HOST_PORT","TMP_NET_HOST_NAME","TMP_NET_HOST_CONNECTION_TYPE","TMP_NET_HOST_CONNECTION_SUBTYPE","TMP_NET_HOST_CARRIER_NAME","TMP_NET_HOST_CARRIER_MCC","TMP_NET_HOST_CARRIER_MNC","TMP_NET_HOST_CARRIER_ICC","TMP_PEER_SERVICE","TMP_ENDUSER_ID","TMP_ENDUSER_ROLE","TMP_ENDUSER_SCOPE","TMP_THREAD_ID","TMP_THREAD_NAME","TMP_CODE_FUNCTION","TMP_CODE_NAMESPACE","TMP_CODE_FILEPATH","TMP_CODE_LINENO","TMP_HTTP_METHOD","TMP_HTTP_URL","TMP_HTTP_TARGET","TMP_HTTP_HOST","TMP_HTTP_SCHEME","TMP_HTTP_STATUS_CODE","TMP_HTTP_FLAVOR","TMP_HTTP_USER_AGENT","TMP_HTTP_REQUEST_CONTENT_LENGTH","TMP_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED","TMP_HTTP_RESPONSE_CONTENT_LENGTH","TMP_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED","TMP_HTTP_SERVER_NAME","TMP_HTTP_ROUTE","TMP_HTTP_CLIENT_IP","TMP_AWS_DYNAMODB_TABLE_NAMES","TMP_AWS_DYNAMODB_CONSUMED_CAPACITY","TMP_AWS_DYNAMODB_ITEM_COLLECTION_METRICS","TMP_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY","TMP_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY","TMP_AWS_DYNAMODB_CONSISTENT_READ","TMP_AWS_DYNAMODB_PROJECTION","TMP_AWS_DYNAMODB_LIMIT","TMP_AWS_DYNAMODB_ATTRIBUTES_TO_GET","TMP_AWS_DYNAMODB_INDEX_NAME","TMP_AWS_DYNAMODB_SELECT","TMP_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES","TMP_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES","TMP_AWS_DYNAMODB_EXCLUSIVE_START_TABLE","TMP_AWS_DYNAMODB_TABLE_COUNT","TMP_AWS_DYNAMODB_SCAN_FORWARD","TMP_AWS_DYNAMODB_SEGMENT","TMP_AWS_DYNAMODB_TOTAL_SEGMENTS","TMP_AWS_DYNAMODB_COUNT","TMP_AWS_DYNAMODB_SCANNED_COUNT","TMP_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS","TMP_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES","TMP_MESSAGING_SYSTEM","TMP_MESSAGING_DESTINATION","TMP_MESSAGING_DESTINATION_KIND","TMP_MESSAGING_TEMP_DESTINATION","TMP_MESSAGING_PROTOCOL","TMP_MESSAGING_PROTOCOL_VERSION","TMP_MESSAGING_URL","TMP_MESSAGING_MESSAGE_ID","TMP_MESSAGING_CONVERSATION_ID","TMP_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES","TMP_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES","TMP_MESSAGING_OPERATION","TMP_MESSAGING_CONSUMER_ID","TMP_MESSAGING_RABBITMQ_ROUTING_KEY","TMP_MESSAGING_KAFKA_MESSAGE_KEY","TMP_MESSAGING_KAFKA_CONSUMER_GROUP","TMP_MESSAGING_KAFKA_CLIENT_ID","TMP_MESSAGING_KAFKA_PARTITION","TMP_MESSAGING_KAFKA_TOMBSTONE","TMP_RPC_SYSTEM","TMP_RPC_SERVICE","TMP_RPC_METHOD","TMP_RPC_GRPC_STATUS_CODE","TMP_RPC_JSONRPC_VERSION","TMP_RPC_JSONRPC_REQUEST_ID","TMP_RPC_JSONRPC_ERROR_CODE","TMP_RPC_JSONRPC_ERROR_MESSAGE","TMP_MESSAGE_TYPE","TMP_MESSAGE_ID","TMP_MESSAGE_COMPRESSED_SIZE","TMP_MESSAGE_UNCOMPRESSED_SIZE","SEMATTRS_AWS_LAMBDA_INVOKED_ARN","SEMATTRS_DB_SYSTEM","SEMATTRS_DB_CONNECTION_STRING","SEMATTRS_DB_USER","SEMATTRS_DB_JDBC_DRIVER_CLASSNAME","SEMATTRS_DB_NAME","SEMATTRS_DB_STATEMENT","SEMATTRS_DB_OPERATION","SEMATTRS_DB_MSSQL_INSTANCE_NAME","SEMATTRS_DB_CASSANDRA_KEYSPACE","SEMATTRS_DB_CASSANDRA_PAGE_SIZE","SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL","SEMATTRS_DB_CASSANDRA_TABLE","SEMATTRS_DB_CASSANDRA_IDEMPOTENCE","SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT","SEMATTRS_DB_CASSANDRA_COORDINATOR_ID","SEMATTRS_DB_CASSANDRA_COORDINATOR_DC","SEMATTRS_DB_HBASE_NAMESPACE","SEMATTRS_DB_REDIS_DATABASE_INDEX","SEMATTRS_DB_MONGODB_COLLECTION","SEMATTRS_DB_SQL_TABLE","SEMATTRS_EXCEPTION_TYPE","SEMATTRS_EXCEPTION_MESSAGE","SEMATTRS_EXCEPTION_STACKTRACE","SEMATTRS_EXCEPTION_ESCAPED","SEMATTRS_FAAS_TRIGGER","SEMATTRS_FAAS_EXECUTION","SEMATTRS_FAAS_DOCUMENT_COLLECTION","SEMATTRS_FAAS_DOCUMENT_OPERATION","SEMATTRS_FAAS_DOCUMENT_TIME","SEMATTRS_FAAS_DOCUMENT_NAME","SEMATTRS_FAAS_TIME","SEMATTRS_FAAS_CRON","SEMATTRS_FAAS_COLDSTART","SEMATTRS_FAAS_INVOKED_NAME","SEMATTRS_FAAS_INVOKED_PROVIDER","SEMATTRS_FAAS_INVOKED_REGION","SEMATTRS_NET_TRANSPORT","SEMATTRS_NET_PEER_IP","SEMATTRS_NET_PEER_PORT","SEMATTRS_NET_PEER_NAME","SEMATTRS_NET_HOST_IP","SEMATTRS_NET_HOST_PORT","SEMATTRS_NET_HOST_NAME","SEMATTRS_NET_HOST_CONNECTION_TYPE","SEMATTRS_NET_HOST_CONNECTION_SUBTYPE","SEMATTRS_NET_HOST_CARRIER_NAME","SEMATTRS_NET_HOST_CARRIER_MCC","SEMATTRS_NET_HOST_CARRIER_MNC","SEMATTRS_NET_HOST_CARRIER_ICC","SEMATTRS_PEER_SERVICE","SEMATTRS_ENDUSER_ID","SEMATTRS_ENDUSER_ROLE","SEMATTRS_ENDUSER_SCOPE","SEMATTRS_THREAD_ID","SEMATTRS_THREAD_NAME","SEMATTRS_CODE_FUNCTION","SEMATTRS_CODE_NAMESPACE","SEMATTRS_CODE_FILEPATH","SEMATTRS_CODE_LINENO","SEMATTRS_HTTP_METHOD","SEMATTRS_HTTP_URL","SEMATTRS_HTTP_TARGET","SEMATTRS_HTTP_HOST","SEMATTRS_HTTP_SCHEME","SEMATTRS_HTTP_STATUS_CODE","SEMATTRS_HTTP_FLAVOR","SEMATTRS_HTTP_USER_AGENT","SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH","SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED","SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH","SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED","SEMATTRS_HTTP_SERVER_NAME","SEMATTRS_HTTP_ROUTE","SEMATTRS_HTTP_CLIENT_IP","SEMATTRS_AWS_DYNAMODB_TABLE_NAMES","SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY","SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS","SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY","SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY","SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ","SEMATTRS_AWS_DYNAMODB_PROJECTION","SEMATTRS_AWS_DYNAMODB_LIMIT","SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET","SEMATTRS_AWS_DYNAMODB_INDEX_NAME","SEMATTRS_AWS_DYNAMODB_SELECT","SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES","SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES","SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE","SEMATTRS_AWS_DYNAMODB_TABLE_COUNT","SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD","SEMATTRS_AWS_DYNAMODB_SEGMENT","SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS","SEMATTRS_AWS_DYNAMODB_COUNT","SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT","SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS","SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES","SEMATTRS_MESSAGING_SYSTEM","SEMATTRS_MESSAGING_DESTINATION","SEMATTRS_MESSAGING_DESTINATION_KIND","SEMATTRS_MESSAGING_TEMP_DESTINATION","SEMATTRS_MESSAGING_PROTOCOL","SEMATTRS_MESSAGING_PROTOCOL_VERSION","SEMATTRS_MESSAGING_URL","SEMATTRS_MESSAGING_MESSAGE_ID","SEMATTRS_MESSAGING_CONVERSATION_ID","SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES","SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES","SEMATTRS_MESSAGING_OPERATION","SEMATTRS_MESSAGING_CONSUMER_ID","SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY","SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY","SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP","SEMATTRS_MESSAGING_KAFKA_CLIENT_ID","SEMATTRS_MESSAGING_KAFKA_PARTITION","SEMATTRS_MESSAGING_KAFKA_TOMBSTONE","SEMATTRS_RPC_SYSTEM","SEMATTRS_RPC_SERVICE","SEMATTRS_RPC_METHOD","SEMATTRS_RPC_GRPC_STATUS_CODE","SEMATTRS_RPC_JSONRPC_VERSION","SEMATTRS_RPC_JSONRPC_REQUEST_ID","SEMATTRS_RPC_JSONRPC_ERROR_CODE","SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE","SEMATTRS_MESSAGE_TYPE","SEMATTRS_MESSAGE_ID","SEMATTRS_MESSAGE_COMPRESSED_SIZE","SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE","SemanticAttributes","TMP_DBSYSTEMVALUES_OTHER_SQL","TMP_DBSYSTEMVALUES_MSSQL","TMP_DBSYSTEMVALUES_MYSQL","TMP_DBSYSTEMVALUES_ORACLE","TMP_DBSYSTEMVALUES_POSTGRESQL","TMP_DBSYSTEMVALUES_REDSHIFT","TMP_DBSYSTEMVALUES_HIVE","TMP_DBSYSTEMVALUES_CLOUDSCAPE","TMP_DBSYSTEMVALUES_HSQLDB","TMP_DBSYSTEMVALUES_PROGRESS","TMP_DBSYSTEMVALUES_MAXDB","TMP_DBSYSTEMVALUES_HANADB","TMP_DBSYSTEMVALUES_INGRES","TMP_DBSYSTEMVALUES_FIRSTSQL","TMP_DBSYSTEMVALUES_CACHE","TMP_DBSYSTEMVALUES_ADABAS","TMP_DBSYSTEMVALUES_FIREBIRD","TMP_DBSYSTEMVALUES_DERBY","TMP_DBSYSTEMVALUES_FILEMAKER","TMP_DBSYSTEMVALUES_INFORMIX","TMP_DBSYSTEMVALUES_INSTANTDB","TMP_DBSYSTEMVALUES_INTERBASE","TMP_DBSYSTEMVALUES_MARIADB","TMP_DBSYSTEMVALUES_NETEZZA","TMP_DBSYSTEMVALUES_PERVASIVE","TMP_DBSYSTEMVALUES_POINTBASE","TMP_DBSYSTEMVALUES_SQLITE","TMP_DBSYSTEMVALUES_SYBASE","TMP_DBSYSTEMVALUES_TERADATA","TMP_DBSYSTEMVALUES_VERTICA","TMP_DBSYSTEMVALUES_COLDFUSION","TMP_DBSYSTEMVALUES_CASSANDRA","TMP_DBSYSTEMVALUES_HBASE","TMP_DBSYSTEMVALUES_MONGODB","TMP_DBSYSTEMVALUES_REDIS","TMP_DBSYSTEMVALUES_COUCHBASE","TMP_DBSYSTEMVALUES_COUCHDB","TMP_DBSYSTEMVALUES_COSMOSDB","TMP_DBSYSTEMVALUES_DYNAMODB","TMP_DBSYSTEMVALUES_NEO4J","TMP_DBSYSTEMVALUES_GEODE","TMP_DBSYSTEMVALUES_ELASTICSEARCH","TMP_DBSYSTEMVALUES_MEMCACHED","TMP_DBSYSTEMVALUES_COCKROACHDB","DBSYSTEMVALUES_OTHER_SQL","DBSYSTEMVALUES_MSSQL","DBSYSTEMVALUES_MYSQL","DBSYSTEMVALUES_ORACLE","DBSYSTEMVALUES_DB2","DBSYSTEMVALUES_POSTGRESQL","DBSYSTEMVALUES_REDSHIFT","DBSYSTEMVALUES_HIVE","DBSYSTEMVALUES_CLOUDSCAPE","DBSYSTEMVALUES_HSQLDB","DBSYSTEMVALUES_PROGRESS","DBSYSTEMVALUES_MAXDB","DBSYSTEMVALUES_HANADB","DBSYSTEMVALUES_INGRES","DBSYSTEMVALUES_FIRSTSQL","DBSYSTEMVALUES_EDB","DBSYSTEMVALUES_CACHE","DBSYSTEMVALUES_ADABAS","DBSYSTEMVALUES_FIREBIRD","DBSYSTEMVALUES_DERBY","DBSYSTEMVALUES_FILEMAKER","DBSYSTEMVALUES_INFORMIX","DBSYSTEMVALUES_INSTANTDB","DBSYSTEMVALUES_INTERBASE","DBSYSTEMVALUES_MARIADB","DBSYSTEMVALUES_NETEZZA","DBSYSTEMVALUES_PERVASIVE","DBSYSTEMVALUES_POINTBASE","DBSYSTEMVALUES_SQLITE","DBSYSTEMVALUES_SYBASE","DBSYSTEMVALUES_TERADATA","DBSYSTEMVALUES_VERTICA","DBSYSTEMVALUES_H2","DBSYSTEMVALUES_COLDFUSION","DBSYSTEMVALUES_CASSANDRA","DBSYSTEMVALUES_HBASE","DBSYSTEMVALUES_MONGODB","DBSYSTEMVALUES_REDIS","DBSYSTEMVALUES_COUCHBASE","DBSYSTEMVALUES_COUCHDB","DBSYSTEMVALUES_COSMOSDB","DBSYSTEMVALUES_DYNAMODB","DBSYSTEMVALUES_NEO4J","DBSYSTEMVALUES_GEODE","DBSYSTEMVALUES_ELASTICSEARCH","DBSYSTEMVALUES_MEMCACHED","DBSYSTEMVALUES_COCKROACHDB","DbSystemValues","TMP_DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM","TMP_DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM","TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM","TMP_DBCASSANDRACONSISTENCYLEVELVALUES_THREE","TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE","TMP_DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL","TMP_DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL","DBCASSANDRACONSISTENCYLEVELVALUES_ALL","DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM","DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM","DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM","DBCASSANDRACONSISTENCYLEVELVALUES_ONE","DBCASSANDRACONSISTENCYLEVELVALUES_TWO","DBCASSANDRACONSISTENCYLEVELVALUES_THREE","DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE","DBCASSANDRACONSISTENCYLEVELVALUES_ANY","DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL","DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL","DbCassandraConsistencyLevelValues","TMP_FAASTRIGGERVALUES_DATASOURCE","TMP_FAASTRIGGERVALUES_HTTP","TMP_FAASTRIGGERVALUES_PUBSUB","TMP_FAASTRIGGERVALUES_TIMER","TMP_FAASTRIGGERVALUES_OTHER","FAASTRIGGERVALUES_DATASOURCE","FAASTRIGGERVALUES_HTTP","FAASTRIGGERVALUES_PUBSUB","FAASTRIGGERVALUES_TIMER","FAASTRIGGERVALUES_OTHER","FaasTriggerValues","TMP_FAASDOCUMENTOPERATIONVALUES_INSERT","TMP_FAASDOCUMENTOPERATIONVALUES_EDIT","TMP_FAASDOCUMENTOPERATIONVALUES_DELETE","FAASDOCUMENTOPERATIONVALUES_INSERT","FAASDOCUMENTOPERATIONVALUES_EDIT","FAASDOCUMENTOPERATIONVALUES_DELETE","FaasDocumentOperationValues","TMP_FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD","TMP_FAASINVOKEDPROVIDERVALUES_AZURE","FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD","FAASINVOKEDPROVIDERVALUES_AWS","FAASINVOKEDPROVIDERVALUES_AZURE","FAASINVOKEDPROVIDERVALUES_GCP","FaasInvokedProviderValues","TMP_NETTRANSPORTVALUES_IP_TCP","TMP_NETTRANSPORTVALUES_IP_UDP","TMP_NETTRANSPORTVALUES_UNIX","TMP_NETTRANSPORTVALUES_PIPE","TMP_NETTRANSPORTVALUES_INPROC","TMP_NETTRANSPORTVALUES_OTHER","NETTRANSPORTVALUES_IP_TCP","NETTRANSPORTVALUES_IP_UDP","NETTRANSPORTVALUES_IP","NETTRANSPORTVALUES_UNIX","NETTRANSPORTVALUES_PIPE","NETTRANSPORTVALUES_INPROC","NETTRANSPORTVALUES_OTHER","NetTransportValues","TMP_NETHOSTCONNECTIONTYPEVALUES_WIFI","TMP_NETHOSTCONNECTIONTYPEVALUES_WIRED","TMP_NETHOSTCONNECTIONTYPEVALUES_CELL","TMP_NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE","TMP_NETHOSTCONNECTIONTYPEVALUES_UNKNOWN","NETHOSTCONNECTIONTYPEVALUES_WIFI","NETHOSTCONNECTIONTYPEVALUES_WIRED","NETHOSTCONNECTIONTYPEVALUES_CELL","NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE","NETHOSTCONNECTIONTYPEVALUES_UNKNOWN","NetHostConnectionTypeValues","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_GPRS","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EDGE","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_UMTS","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_CDMA","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSPA","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_IDEN","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA","TMP_NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA","NETHOSTCONNECTIONSUBTYPEVALUES_GPRS","NETHOSTCONNECTIONSUBTYPEVALUES_EDGE","NETHOSTCONNECTIONSUBTYPEVALUES_UMTS","NETHOSTCONNECTIONSUBTYPEVALUES_CDMA","NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0","NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A","NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT","NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA","NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA","NETHOSTCONNECTIONSUBTYPEVALUES_HSPA","NETHOSTCONNECTIONSUBTYPEVALUES_IDEN","NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B","NETHOSTCONNECTIONSUBTYPEVALUES_LTE","NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD","NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP","NETHOSTCONNECTIONSUBTYPEVALUES_GSM","NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA","NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN","NETHOSTCONNECTIONSUBTYPEVALUES_NR","NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA","NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA","NetHostConnectionSubtypeValues","TMP_HTTPFLAVORVALUES_SPDY","TMP_HTTPFLAVORVALUES_QUIC","HTTPFLAVORVALUES_HTTP_1_0","HTTPFLAVORVALUES_HTTP_1_1","HTTPFLAVORVALUES_HTTP_2_0","HTTPFLAVORVALUES_SPDY","HTTPFLAVORVALUES_QUIC","HttpFlavorValues","HTTP_1_0","HTTP_1_1","HTTP_2_0","SPDY","QUIC","TMP_MESSAGINGDESTINATIONKINDVALUES_QUEUE","TMP_MESSAGINGDESTINATIONKINDVALUES_TOPIC","MESSAGINGDESTINATIONKINDVALUES_QUEUE","MESSAGINGDESTINATIONKINDVALUES_TOPIC","MessagingDestinationKindValues","TMP_MESSAGINGOPERATIONVALUES_RECEIVE","TMP_MESSAGINGOPERATIONVALUES_PROCESS","MESSAGINGOPERATIONVALUES_RECEIVE","MESSAGINGOPERATIONVALUES_PROCESS","MessagingOperationValues","RPCGRPCSTATUSCODEVALUES_OK","RPCGRPCSTATUSCODEVALUES_CANCELLED","RPCGRPCSTATUSCODEVALUES_UNKNOWN","RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT","RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED","RPCGRPCSTATUSCODEVALUES_NOT_FOUND","RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS","RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED","RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED","RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION","RPCGRPCSTATUSCODEVALUES_ABORTED","RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE","RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED","RPCGRPCSTATUSCODEVALUES_INTERNAL","RPCGRPCSTATUSCODEVALUES_UNAVAILABLE","RPCGRPCSTATUSCODEVALUES_DATA_LOSS","RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED","RpcGrpcStatusCodeValues","CANCELLED","UNKNOWN","INVALID_ARGUMENT","DEADLINE_EXCEEDED","NOT_FOUND","ALREADY_EXISTS","PERMISSION_DENIED","RESOURCE_EXHAUSTED","FAILED_PRECONDITION","ABORTED","OUT_OF_RANGE","UNIMPLEMENTED","UNAVAILABLE","DATA_LOSS","UNAUTHENTICATED","TMP_MESSAGETYPEVALUES_SENT","TMP_MESSAGETYPEVALUES_RECEIVED","MESSAGETYPEVALUES_SENT","MESSAGETYPEVALUES_RECEIVED","MessageTypeValues","events_1","promisify_1","isSecureEndpoint","createAgent","EventEmitter","maxFreeSockets","maxSockets","maxTotalSockets","sockets","freeSockets","requests","defaultPort","explicitDefaultPort","explicitProtocol","addRequest","secureEndpoint","_defaultAgent","createConnection","_last","shouldKeepAlive","timedOut","timeoutId","timeoutMs","onerror","_hadError","emit","ontimeout","callbackError","onsocket","freeSocket","onSocket","promisifiedCallback","rtn","AsyncScopeManager","OpenTelemetryScopeManagerWrapper","CorrelationContextManager_1","CorrelationContextManager","getCurrentContext","_activeSymbol","correlationContext","_spanToContext","runWithContext","wrapCallback","wrapEmitter","aiContext","operation","spanToContextObject","AzureFunctionsHook","Logging","client","_client","_autoGenerateIncomingRequests","_functionsCoreModule","_addPreInvocationHook","_addPostInvocationHook","_getFuncModelHelper","_cachedModelHelper","funcProgModel","getProgrammingModel","FuncModelV3Helper","FuncModelV4Helper","dispose","_removeInvocationHooks","_preInvocationHook","registerHook","preInvocationContext","modelHelper","sharedContext","extractedContext","traceContext","invocationContext","startOperation","customProperties","setProperty","invocationId","functionCallback","isHttpTrigger","hookData","appInsightsExtractedContext","appInsightsStartTime","_postInvocationHook","postInvocationContext","request_1","startTime_1","extractedContext_1","inputs","_createIncomingRequestTelemetry","hookContext","getStatusCodes","values_1","isInteger","parsedVal","trackRequest","resultCode","_getInvocationContext","httpOutputBinding","bindingDefinitions","find","direction","bindings","trigger","__createBinding","k2","__setModuleDefault","DiagChannel","__importStar","AutoCollectConsole","INSTANCE","collectConsoleLog","IsInitialized","isInitialized","_isInitialized","_methodNames","Traceparent","Tracestate","HttpRequestParser","Util","session","CONTEXT_NAME","generateContextObject","operationId","operationName","correlationContextHeader","tracestate","CustomPropertiesImpl","traceFlag","formatOpenTelemetryTraceFlags","DEFAULT_TRACE_FLAG","dumpObj","bindEmitter","forceClsHooked","isNodeVersionCompatible","hasEverEnabled","cls","shouldUseClsHooked","createNamespace","registerContextPreservation","cb","azureFnRequest","parser","getCorrelationContextHeader","getOperationName","nodeVer","canUseClsHooked","greater800","less820","greater470","addHeaderData","keyvals","keyval","serializeToHeader","getProperty","prop","bannedCharacters","AutoCollectExceptions","_canUseUncaughtExceptionMonitor","_exceptionListenerHandle","handle","reThrow","_FALLBACK_ERROR_MESSAGE","exceptionTelemetry","contextObjects","trackException","isAppCrashing","exit","UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME","UNCAUGHT_EXCEPTION_HANDLER_NAME","_rejectionListenerHandle","UNHANDLED_REJECTION_HANDLER_NAME","_RETHROW_EXIT_MESSAGE","crypto","os","Constants","Context","HeartBeat","_collectionInterval","_isEnabled","_handle","setInterval","trackHeartBeat","clearInterval","properties","sdkVersion","release","_uniqueProcessId","randomBytes","WEBSITE_SITE_NAME","WEBSITE_HOME_STAMPNAME","WEBSITE_HOSTNAME","WEBSITE_OWNER_NAME","WEBSITE_RESOURCE_GROUP","WEBSITE_SLOT_NAME","trackMetric","HeartBeatMetricName","__spreadArrays","il","jl","http","https","RequestResponseHeaders","HttpDependencyParser","CorrelationIdManager","AutoCollectHttpDependencies","originalRequest","originalHttpsRequest","clientRequestPatch","shouldCollect","disableCollectionRequestOption","alreadyAutoCollectedFlag","userAgentHeader","w3cEnabled","generateRequestId","getRootId","requestArgs","telemetry","uniqueRequestId","uniqueTraceparent","requestParser","currentContext","updateSpanId","getBackCompatRequestId","requestNumber","canIncludeCorrelationHeader","getUrl","getHeader","correlationId","correlationHeader","requestContextHeader","safeIncludeCorrelationHeader","requestIdHeader","ignoreLegacyHeaders","parentIdHeader","rootIdHeader","isProcessed","onResponse","dependencyTelemetry","getDependencyTelemetry","trackDependency","Contracts","RequestParser","requestOptions","_getUrlFromRequestOptions","_setStatus","getCorrelationContextTarget","requestContextTargetKey","baseTelemetry","dependencyId","dependencyName","remoteDependencyType","RemoteDependencyDataConstants","TYPE_HTTP","remoteDependencyTarget","urlObject","hash","TYPE_AI","correlationIdPrefix","_isSuccess","dependencyTypeName","originalOptions_1","parsedQuery","Constants_1","_getAbsoluteUrl","socketRemoteAddress","remoteAddress","parseHeaders","connection","connectionRemoteAddress","legacySocketRemoteAddress","ellapsedMilliseconds","getRequestTelemetry","requestTelemetry","source","sourceCorrelationId","getRequestTags","tags","newTags","locationIp","_getIp","sessionId","_getId","HttpRequestCookieNames","SESSION","userId","USER","userAuthUserId","AUTH_USER","operationParentId","getOperationParentId","getOperationId","pathName","getRequestId","getTraceparent","getTracestate","getLegacyRootId","legacyRootId","encrypted","baseUrl","requestUrl","ipMatch","check","ip","cookie","decodeURI","parseId","getCookie","setBackCompatFromThisTraceContext","requestContextSourceKey","tracestateHeader","legacy_parentId","legacy_rootId","cookieValue","cookieParts","ContextTagKeys","AutoCollectPerformance","AutoCollectHttpRequests","_isAutoCorrelating","useAutoCorrelation","isAutoCorrelating","_generateCorrelationContext","_registerRequest","onRequest","HANDLER_READY","wrapOnRequestHandler","wrapServerEventHandler","server","originalAddListener","addListener","eventType","eventHandler","originalHttpServer","createServer","param1","param2","originalHttpsServer","trackRequestSync","addResponseCorrelationIdHeader","endRequest","_requestParser","headersSent","tagOverrides","AutoCollectNativePerformance","_disabledMetrics","_statsbeat","getStatsbeat","disabledMetrics","collectionInterval","_metricsAvailable","NativeMetricsEmitters","_emitter","addFeature","StatsbeatFeature","NATIVE_METRICS","_trackNativeMetrics","removeFeature","parseEnabled","collectExtendedMetrics","customConfig","disableAll","disableAllExtendedMetrics","individualOptOuts","extendedMetricDisablers","optOutsArr","optOutsArr_1","shouldSendAll","_trackGarbageCollection","_trackEventLoop","_trackHeapUsage","gc","gcData","getGCData","name_1","stdDev","sqrt","sumSquares","count","total","internalSdkVersion","loop","getLoopData","loopUsage","heap","memoryUsage","heapUsed","heapTotal","rss","NetworkStatsbeat","endpoint","totalRequestCount","totalSuccesfulRequestCount","totalFailedRequestCount","exceptionCount","throttleCount","intervalRequestExecutionTime","lastIntervalRequestExecutionTime","lastTime","lastRequestCount","enableLiveMetricsCounters","_lastIntervalRequestExecutionTime","_lastIntervalDependencyExecutionTime","_lastRequests","_lastDependencies","totalDependencyCount","totalFailedDependencyCount","_lastExceptions","totalExceptionCount","_enableLiveMetricsCounters","_lastCpus","cpus","_totalRequestCount","_totalFailedRequestCount","_totalDependencyCount","_totalFailedDependencyCount","_totalExceptionCount","cpuUsage","_lastAppCpuUsage","_lastHrtime","hrtime","trackPerformance","countRequest","durationMs","_intervalRequestExecutionTime","countException","countDependency","_intervalDependencyExecutionTime","_trackCpu","_trackMemory","_trackNetwork","_trackDependencyRate","_trackExceptionRate","totalUser","totalSys","totalNice","totalIdle","totalIrq","cpu","lastCpu","times","model","speed","lastTimes","user","sys","nice","idle","irq","appCpuPercent","appCpuUsage","totalApp","system","combinedTotal","PerformanceCounter","PROCESSOR_TIME","PROCESS_TIME","freeMem","freemem","usedMem","committedMemory","totalmem","PRIVATE_BYTES","AVAILABLE_BYTES","QuickPulseCounter","COMMITTED_BYTES","lastRequests","intervalRequests","intervalFailedRequests","elapsedMs","elapsedSeconds","averageRequestExecutionTime","requestsPerSec","failedRequestsPerSec","REQUEST_RATE","REQUEST_DURATION","REQUEST_FAILURE_RATE","lastDependencies","dependencies","intervalDependencies","intervalFailedDependencies","averageDependencyExecutionTime","dependenciesPerSec","failedDependenciesPerSec","DEPENDENCY_RATE","DEPENDENCY_FAILURE_RATE","DEPENDENCY_DURATION","lastExceptions","exceptions","intervalExceptions","exceptionsPerSec","EXCEPTION_RATE","AggregatedMetricCounters_1","AggregatedMetricDimensions_1","AutoCollectPreAggregatedMetrics","_dependencyCountersCollection","_requestCountersCollection","_exceptionCountersCollection","_traceCountersCollection","trackPreAggregatedMetrics","dimensions","_getAggregatedCounter","totalCount","countTrace","counter","intervalExecutionTime","_trackRequestMetrics","_trackDependencyMetrics","_trackExceptionMetrics","_trackTraceMetrics","counterCollection","notMatch","dim","newCounter","AggregatedMetricCounter","currentCounter","lastTotalCount","lastIntervalExecutionTime","_trackPreAggregatedMetric","aggregationInterval","metricType","MetricId","REQUESTS_DURATION","DEPENDENCIES_DURATION","EXCEPTIONS_COUNT","intervalTraces","TRACES_COUNT","metric","metricProperties","PreaggregatedMetricPropertyNames","EnvelopeFactory","Sender","Vm","Config","Network","Statsbeat","_attach","StatsbeatAttach","sdk","_feature","_instrumentation","StatsbeatInstrumentation","_statbeatMetrics","_networkStatsbeatCollection","statsbeatConnectionString","_getConnectionString","_statsbeatConfig","samplingPercentage","_sender","_shutdownStatsbeat","_getCustomProperties","trackShortIntervalStatsbeats","STATS_COLLECTION_SHORT_INTERVAL","_longHandle","trackLongIntervalStatsbeats","STATS_COLLECTION_LONG_INTERVAL","setCodelessAttach","codeless","feature","addInstrumentation","removeInstrumentation","_getNetworkStatsbeatCounter","currentStatusCounter","statusCounter","exceptionType","currentErrorCounter","exceptionCounter","countThrottle","countRetry","networkProperties","error_1","_getResourceProvider","_os","_resourceProvider","_cikey","_runtimeVersion","_language","_sdkVersion","_trackRequestDuration","_trackRequestsCount","_sendStatsbeats","TAG","commonProperties","attachProperties","instrumentationProperties","featureProperties","error_2","_resourceIdentifier","StatsbeatCounter","ATTACH","StatsbeatFeatureType","Instrumentation","FEATURE","Feature","shortHost","_getShortHost","totalRequestExecutionTime","originalHost","REQUEST_SUCCESS","REQUEST_FAILURE","RETRY_COUNT","THROTTLE_COUNT","EXCEPTION_COUNT","envelopes","statsbeat","envelope","createEnvelope","TelemetryType","Metric","StatsbeatTelemetryName","send","instrumentationKey","waiting","StatsbeatResourceProvider","unknown","AKS_ARM_NAMESPACE_ID","aks","appsvc","FUNCTIONS_WORKER_RUNTIME","functions","_isVM","AzureVirtualMachine","getAzureComputeMetadata","vmInfo","isVM","vm","subscriptionId","osType","currentEndpoint","endpointUrl","euEndpoints","EU_CONNECTION_STRING","NON_EU_CONNECTION_STRING","zlib","snippetInjectionHelper","prefixHelper","ConnectionStringParser","applicationinsights_web_snippet_1","WebSnippet","_isIkeyValid","_aiUrl","WEB_INSTRUMENTATION_DEFAULT_SOURCE","_aiDeprecatedUrl","WEB_INSTRUMENTATION_DEPRECATED_SOURCE","clientWebIkey","_getWebSnippetIkey","webInstrumentationConnectionString","_webInstrumentationIkey","_clientWebInstrumentationConfig","webInstrumentationConfig","_clientWebInstrumentationSrc","webInstrumentationSrc","_snippet","_getWebInstrumentationReplacedStr","BROWSER_SDK_LOADER","connectionString","iKey","iKeyCode","instrumentationkey","isIkeyValid","configStr","_getClientWebInstrumentationConfigStr","osStr","getOsPrefix","rpStr","getResourceProvider","snippetReplacedStr","replacedSnippet","requestListener","originalRequestListener","originalResponseWrite","write","isGetRequest","getContentEncodingFromHeaders","writeBufferType","ValidateInjection","InjectWebSnippet","encodeType","originalResponseEnd","endBufferType","httpsRequestListener","originalHttpsRequestListener","isGetHttpsRequest","originalHttpsResponseWrite","originalHttpsResponseEnd","isContentTypeHeaderHtml","inputStr","bufferEncodeType","removeHeader","_getInjectedCompressBuffer","html","newHtml","insertSnippetByIndex","bufferType","isBufferType","encodedString","contentEncodingMethod","GZIP","gunzipBuffer","gunzipSync","injectedGunzipBuffer","gzipSync","DEFLATE","inflateBuffer","inflateSync","injectedInflateBuffer","deflateSync","BR","BrotliDecompressSync","getBrotliDecompressSync","BrotliCompressSync","getBrotliCompressSync","decompressBuffer","parseEventHubSpan","api_1","core_1","semantic_conventions_1","AzNamespace","peerAddress","NET_PEER_NAME","messageBusDestination","MessageBusDestination","CLIENT","PRODUCER","DependencyTypeName","QueueMessage","CONSUMER","measurements","TIME_SINCE_ENQUEUED","countEnqueueDiffs","sumEnqueueDiffs","startTimeMs","enqueuedTime","ENQUEUED_TIME","parseFloat","getTimeSinceEnqueued","spanToTelemetryContract","EventHub_1","HTTP_METHOD","httpUrl","HTTP_URL","httpScheme","HTTP_SCHEME","httpTarget","HTTP_TARGET","httpHost","HTTP_HOST","netPeerPort","NET_PEER_PORT","netPeerName","netPeerIp","NET_PEER_IP","getDependencyTarget","peerService","PEER_SERVICE","remoteDependency","InProc","httpMethod","dbSystem","DB_SYSTEM","rpcSystem","RPC_SYSTEM","Http","httpStatusCode","HTTP_STATUS_CODE","MYSQL","POSTGRESQL","MONGODB","REDIS","DB2","DERBY","MARIADB","MSSQL","ORACLE","SQLITE","OTHER_SQL","HSQLDB","H2","isSqlDB","dbStatement","DB_STATEMENT","dbOperation","DB_OPERATION","dbName","DB_NAME","Grpc","grpcStatusCode","RPC_GRPC_STATUS_CODE","createDependencyData","SERVER","requestData","httpRoute","HTTP_ROUTE","createRequestData","operation_Id","createPropertiesFromSpan","MicrosoftEventHub","subscriber","diagnostic_channel_1","SpanParser","AsyncHooksScopeManager_1","clients","span_1","telemetry_1","channel","subscribe","trueFilter","AZURE_CORE_TRACING","unsubscribe","Contracts_1","bunyanToAILevelMap","SeverityLevel","Verbose","Information","Warning","Critical","AIlevel","bunyanError","enableLoggerErrorToTrace","trackTrace","severity","BUNYAN","stderr","lastIndexOf","CONSOLE","JsonConfig_1","JsonConfig","noDiagnosticChannel","publishers","unpatchedModules","noPatchModules","bunyan","mongodb","mongodbCore","mysql","redis","pg","pgPool","winston","azuresdk","addContextPreservation","commandName","startedData","databaseName","succeeded","queryObj","query","sqlString","sql","connectionConfig","_connection","socketPath","q","preparable","text","plan","conn","database","POSTGRES","commandObj","command","address","winstonToAILevelMap","syslog","og","emerg","alert","crit","notice","npm","silly","levelKind","WINSTON","AttachTypePrefix","StatsbeatNetworkCategory","TelemetryTypeStringToQuickPulseDocumentType","TelemetryTypeStringToQuickPulseType","QuickPulseType","QuickPulseDocumentType","PerformanceToQuickPulseCounter","DEFAULT_LIVEMETRICS_HOST","DEFAULT_LIVEMETRICS_ENDPOINT","DEFAULT_BREEZE_ENDPOINT","APPLICATION_INSIGHTS_SDK_VERSION","Event","Exception","Trace","Request","Dependency","Availability","PageView","EventData","ExceptionData","MessageData","MetricData","RequestData","RemoteDependencyData","AvailabilityData","PageViewData","Sql","domainSupportsProperties","Generated_1","domain","ver","applicationVersion","deviceId","deviceLocale","deviceModel","deviceOEMName","deviceOSVersion","deviceType","operationSyntheticSource","operationCorrelationVector","sessionIsFirst","userAccountId","cloudRole","cloudRoleInstance","internalAgentVersion","internalNodeName","Data","DataPointType","Measurement","sampleRate","hasFullStack","parsedStack","Base","DataPoint","Domain","Envelope","ExceptionDetails","StackFrame","__exportStar","TelemetryTypeString","baseTypeToTelemetryType","telemetryTypeToBaseType","baseType","cloudRoleName","operationSynthetic","requestSuccess","requestResultCode","dependencyType","dependencyTarget","dependencySuccess","dependencyResultCode","traceSeverityLevel","azureCore","emptySendRequest","_request","AuthorizationHandler","aadAudience","_azureTokenPolicy","addAuthorizationHeader","authHeaderName","webResource","AIMS_URI","virtualMachineData_1","_requestTimedOut","HTTP_TIMEOUT","Channel","isDisabled","getBatchSize","getBatchIntervalMs","sender","_buffer","_lastSend","_isDisabled","_getBatchSize","_getBatchIntervalMs","setUseDiskRetryCaching","resendInterval","maxBytesOnDisk","setDiskRetryMode","triggerSend","_timeoutHandle","isNodeCrashing","bufferIsEmpty","isNodeExit","saveOnCrash","setupString","_endpointBase","_mergeConfig","connectionStringEnv","_connectionString","csCode","csEnv","instrumentationKeyEnv","_instrumentationKey","ingestionendpoint","maxBatchSize","maxBatchIntervalMs","disableAppInsights","correlationIdRetryIntervalMs","enableWebInstrumentation","enableAutoWebSnippetInjection","correlationHeaderExcludedDomains","profileQueryEndpoint","ENV_profileQueryEndpoint","quickPulseHost","liveendpoint","ENV_quickPulseHost","_webInstrumentationConnectionString","webSnippetConnectionString","aadaudience","_profileQueryEndpoint","_validateInstrumentationKey","jsonConfig","disableStatsbeat","distributedTracingMode","enableAutoCollectConsole","enableAutoCollectDependencies","enableAutoCollectIncomingRequestAzureFunctions","enableAutoCollectExceptions","enableAutoCollectExtendedMetrics","enableAutoCollectExternalLoggers","enableAutoCollectHeartbeat","enableAutoCollectPerformance","enableAutoCollectPreAggregatedMetrics","enableAutoCollectRequests","enableAutoDependencyCorrelation","enableInternalDebugLogging","enableInternalWarningLogging","enableResendInterval","enableMaxBytesOnDisk","enableSendLiveMetrics","enableUseAsyncHooks","enableUseDiskRetryCaching","proxyHttpUrl","proxyHttpsUrl","ENV_azurePrefix","ENV_iKey","legacy_ENV_iKey","_FIELDS_SEPARATOR","kv","kvParts","_FIELD_KEY_VALUE_SEPARATOR","endpointsuffix","locationPrefix","location","fs","PrefixHelpers","packageJsonPath","_loadApplicationContext","_loadDeviceContext","_loadInternalContext","__dirname","appVersion","packageJson","readFileSync","DefaultRoleName","WEBSITE_INSTANCE_ID","arch","platform","MANUAL","queryCorrelationId","cancelCorrelationIdQuery","suffix","currentRootId","appendSuffix","generateRootId","endIndex","startIndex","w3cTraceId","delimiter","requestIdMaxLength","trimPosition","randomu32","telemetryType","createTraceData","createEventData","createExceptionData","createMetricData","createAvailabilityData","createPageViewData","baseData","addAzureFunctionsCorrelationProperties","validateStringMap","getTags","property","truncateProperties","propertiesKeys","propertiesValues","isDate","severityLevel","msToTimeSpan","exceptionDetails","typeName","parseStack","responseCode","Aggregation","ns","availabilityData","runLocation","pageViewData","frames","totalSizeInBytes","frame","_StackFrame","regex","parsedFrame","sizeInBytes","left","right","acceptedLeft","acceptedRight","howMany","assembly","fileName","line","baseSize","FileAccessControl","child_process","checkFileProtection","OS_PROVIDES_FILE_PROTECTION","OS_FILE_PROTECTION_CHECKED","USE_ICACLS","existsSync","ICACLS_PATH","applyACLRules","directory","identity","ex_1","ACLED_DIRECTORIES","_getACLIdentity","_runICACLS","_getACLArguments","applyACLRulesSync","_runICACLSSync","_getACLIdentitySync","aclProc","spawn","windowsHide","spawnSync","ACL_IDENTITY","psProc","POWERSHELL_PATH","stdio","stdout","systemdrive","getShallowFileSize","getShallowDirectorySizeSync","getShallowDirectorySize","confirmDirExists","unlinkAsync","readdirAsync","readFileAsync","writeFileAsync","appendFileAsync","accessAsync","mkdirAsync","lstatAsync","statAsync","util_1","promisify","stat","lstat","mkdir","access","appendFile","writeFile","readFile","readdir","unlink","err_1","mkdirErr_1","isDirectory","totalSize","files_1","fileStats","isFile","readdirSync","statSync","filePath","FileSystemHelper","InternalAzureLogger","_cleanupTimeOut","_tempDir","_logFileName","_fileFullPath","_backUpNameFormat","_logToFile","_logToConsole","logDestination","APPLICATIONINSIGHTS_LOG_DESTINATION","maxSizeBytes","maxHistory","logFilePath","APPLICATIONINSIGHTS_LOGDIR","isAbsolute","cwd","tmpdir","_fileCleanupTimer","_fileCleanupTask","optionalParams","_storeToDisk","appendError_1","err_3","constants","F_OK","_createBackupFile","backupPath","err_4","totalFiles","pathToDelete","err_5","basename","aCreationDate","bCreationDate","applicationinsights_json_1","ENV_instrumentationKey","ENV_legacyInstrumentationKey","noHttpAgentKeepAlive","_loadJsonFile","jsonString","contentJsonConfig","rootPath","configFile","enableDebug","disableWarnings","TelemetryClient","ServerRequestTracking","ClientRequestTracking","NodeClient","trackNodeHttpRequestSync","trackNodeHttpRequest","trackNodeHttpDependency","isFunctionApp","isWebApp","isLinux","isWindows","StreamId","QuickPulseEnvelopeFactory","createQuickPulseEnvelope","documents","machineName","roleName","Documents","InstrumentationKey","Metrics","InvariantVersion","Timestamp","Version","MachineName","Instance","RoleName","createQuickPulseMetric","Name","Value","Weight","telemetryEnvelopeToQuickPulseDocument","createQuickPulseEventDocument","createQuickPulseExceptionDocument","createQuickPulseTraceDocument","createQuickPulseDependencyDocument","createQuickPulseRequestDocument","document","createQuickPulseDocument","Message","exceptionMessage","ExceptionMessage","ExceptionType","Success","Duration","ResponseCode","OperationName","Target","ResultCode","CommandName","OperationId","documentType","__type","DocumentType","Properties","aggregateProperties","meas","QuickPulseUtil","QuickPulseConfig","QuickPulseSender","getAuthorizationHandler","_consecutiveErrors","_getAuthorizationHandler","ping","redirectedHostEndpoint","pingHeaders","_submitData","post","postOrPing","additionalHeaders","payload","authHandler","authError_1","getTransmissionTime","httpsAgent","tlsRestrictedAgent","shouldPOSTData","redirectHeader","_onError","pollingIntervalHint","statusMessage","MAX_QPS_FAILURES_BEFORE_WARN","QuickPulseStateManager","_isCollectingData","_lastSuccessTime","_lastSendSucceeded","_metrics","_documents","_collectors","_redirectedHost","_pollingIntervalHint","addCollector","collector","_addMetric","addDocument","document_1","_goQuickPulse","LIVE_METRICS","enableCollectors","_resetQuickPulseBuffer","pingInterval","currentTimeout","_post","_ping","PING_INTERVAL","POST_INTERVAL","MAX_POST_WAIT_TIME","FALLBACK_INTERVAL","MAX_PING_WAIT_TIME","_quickPulseDone","shouldPOST","redirectedHost","FileAccessControl_1","RESPONSE_CODES_INDICATING_REACHED_BREEZE","onSuccess","isStatsbeatSender","shutdownStatsbeat","_onSuccess","_enableDiskRetryMode","_resendInterval","WAIT_BETWEEN_RESEND","_maxBytesOnDisk","MAX_BYTES_ON_DISK","_numConsecutiveFailures","_numConsecutiveRedirects","_resendTimer","TEMPDIR_PREFIX","_isStatsbeatSender","_failedToIngestCounter","_statsbeatHasReachedIngestionAtLeastOnce","_logWarn","DISK_RETRY","CLEANUP_TIMEOUT","endpointHost","errorMsg","batch_1","payload_1","AAD_HANDLING","gzip","dataToSend","_logInfo","setEncoding","responseString","_statsbeatFailedToIngest","Breeze","_sendFirstFileOnDisk","_isRetriable","breezeResponse","filteredEnvelopes_1","MAX_CONNECTION_FAILURES_BEFORE_WARN","_onErrorHelper","_storeToDiskSync","ex_2","ex_3","fileFullPath","ex_4","mode","mkdirSync","dirSize","writeFileSync","firstFile","fileCreationDate","err_2","FILE_RETEMPTION_PERIOD","isSupportedContentEncoding","findBufferEncodingType","getBrotliDecompressAsync","getBrotliCompressAsync","inflateAsync","deflateAsync","gunzipAsync","gzipAsync","isBrotliSupperted","bufferEncodingTypes","majVer","gunzip","deflate","zlibObject","brotliCompress","brotliCompressSync","brotliDecompress","brotliDecompressSync","encodingType","isEncoding","encodingMethod","contentEncodingHeaders","supportedContentEncoding","snippet","isHtml","TelemetryProcessors","_telemetryProcessors","authorizationHandler","trackAvailability","track","trackPageView","trackEvent","accepted","runTelemetryProcessors","samplingTelemetryProcessor","preAggregatedMetricsTelemetryProcessor","performanceMetricsTelemetryProcessor","quickPulseClient","setAutoPopulateAzureProperties","aadTokenCredential","addTelemetryProcessor","telemetryProcessor","clearTelemetryProcessors","telemetryProcessorsCount","processor","DEFAULT_VERSION","traceparentArr","formattedFlags","fieldmap","parseHeader","fieldarr","validateKeyChars","keyParts","tenant","vendor","tenantValid","vendorValid","keydeduper","parts_1","strict","_addCloseHandler","cookieName","cookies","int32ArrayToBase64","array","toChar","fromCharCode","random32","hexValues","oct","clockSequenceHi","w3cSpanId","isValidW3CId","propType","totalms","sec","toFixed","hour","days","extractError","looseError","extractObject","origProperty","field","stringTarget","MAX_PROPERTY_LENGTH","excludedDomains","contextHeaders","keyValues","keyValue","requestCallback","useProxy","useAgent","requestUrlParsed","proxyUrlParsed","Host","isHttps","httpAgent","_useKeepAlive","keepAliveAgent","addCorrelationIdHeaderFromString","object","objectTypeDump","components","_listenerAttached","secureOptions","SSL_OP_NO_SSLv2","SSL_OP_NO_SSLv3","SSL_OP_NO_TLSv1","SSL_OP_NO_TLSv1_1","azureRoleEnvironmentTelemetryProcessor","remoteDependencyData","AutoCollecPreAggregatedMetrics","exceptionData","exceptionDimensions","traceData","traceDimensions","requestDimensions","dependencyDimensions","getSamplingHashCode","csharpMax","abs","Configuration","wrapWithCorrelationContext","getCorrelationContext","start","setup","liveMetricsClient","defaultClient","DistributedTracingModes","_console","_exceptions","_performance","_preAggregatedMetrics","_heartbeat","_webSnippet","_nativePerformance","_serverRequests","_clientRequests","_azureFunctions","QuickPulseClient","NativePerformance_1","AzureFunctionsHook_1","azureFunctionsTypes","_performanceLiveMetrics","_isStarted","extendedMetricsConfig","setDistributedTracingMode","AI_AND_W3C","setAutoCollectConsole","setAutoCollectExceptions","setAutoCollectPerformance","setAutoCollectPreAggregatedMetrics","setAutoCollectHeartbeat","setAutoCollectRequests","setAutoCollectDependencies","setAutoDependencyCorrelation","useAsyncHooks","setInternalLogging","enableDebugLogging","enableWarningLogging","setAutoCollectIncomingRequestAzureFunctions","setSendLiveMetrics","asyncWrap","binding","TIMERWRAP","Providers","patchs","ignoreUIDs","State","Hooks","initFns","preFns","postFns","destroyFns","uid","parentUid","parentHandle","pre","didThrow","removeElement","AsyncHook","_state","providers","setupHooks","remove","addHooks","removeHooks","_asyncHook","attach","callSite","filename","getFileName","NextTickWrap","oldNextTick","nextTick","listenerCount","PromiseWrap","oldThen","makeWrappedHandler","isOnFulfilled","makeUnhandledResolutionHandler","makeUnhandledRejectionHandler","onFulfilled","onRejected","timers","TimeoutWrap","IntervalWrap","ImmediateWrap","timeoutMap","intervalMap","ImmediateMap","activeCallback","clearedInCallback","patchTimer","setFn","clearFn","Handle","timerMap","singleCall","oldSetFn","oldClearFn","timerId","setImmediate","clearImmediate","ensureAslWrapper","executor","asyncCatcher","HAS_CREATE_AL","HAS_BEFORE_AL","HAS_AFTER_AL","HAS_ERROR_AL","inAsyncTick","listenerStack","union","dest","added","destLength","addedLength","returned","missing","_fatalException","errorValues","inErrorTick","er","handled","flags","original","before","after","errorThrew","threw","_originalNextTick","AsyncListener","createAsyncListener","addAsyncListener","registered","removeAsyncListener","simpleWrap","semver","util","v6plus","gte","v7plus","v8plus","v11plus","net","wrapSetUpListenHandle","onread","onconnection","patchOnRead","_originalOnread","_normalizeArgs","arg0","_normalizeConnectArgs","Server","Socket","getOwnPropertySymbols","childProcess","wrapChildProcess","child","activatorFirst","onexit","ChildProcess","processors","_nextDomainTick","_tickDomainCallback","activator","asynchronizers","patchGlobalTimers","dns","resolveNaptr","lchown","lchmod","ftruncate","Deflate","toWrap","instrumentPromise","promiseListener","fallback","cbIdx","wrappedPromise","overwrite","__asl_wrapper","propagateAslWrapper","nextResult","returnVal","errorVal","wrapThen","last","inherits","chain","wrapPromise","SemVer","NODE_DEBUG","SEMVER_SPEC_VERSION","MAX_LENGTH","MAX_SAFE_INTEGER","MAX_SAFE_BUILD_LENGTH","safeRe","src","R","LETTERDASHNUMBER","safeRegexReplacements","makeSafeRe","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULL","FULLPLAIN","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","LONETILDE","TILDETRIM","TILDE","TILDELOOSE","LONECARET","CARETTRIM","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","HYPHENRANGE","HYPHENRANGELOOSE","STAR","loose","raw","minor","prerelease","num","build","valid","clean","compare","compareMain","comparePre","compareIdentifiers","inc","identifier","version1","version2","eq","v1","v2","defaultResult","numeric","anum","bnum","gt","lt","neq","lte","cmp","Comparator","comp","ANY","operator","rcompareIdentifiers","compareLoose","rcompare","rsort","Range","range","parseRange","isX","hyphenReplace","$0","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","tb","testSet","allowed","outside","hilo","gtfn","ltefn","ltfn","ecomp","comparators","high","low","comparator","intersects","rangeTmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comps","hr","compRe","M","pr","ret","replaceCaret","replaceCarets","replaceTilde","replaceTildes","gtlt","xM","xm","xp","replaceXRange","replaceXRanges","replaceStars","parseComparator","thisComparators","thisComparator","rangeComparators","rangeComparator","toComparators","maxSatisfying","maxSV","rangeObj","minSatisfying","minSV","minVersion","minver","compver","validRange","ltr","gtr","r1","r2","coerce","parallel","serial","serialOrdered","jobs","defer","isAsync","runJob","sortMethod","isNamedList","initState","keyedList","iterate","terminator","ascending","iteratorHandler","descending","balanced","maybeMatch","reg","begs","beg","ai","bi","expand","escSlash","escOpen","escClose","escComma","escPeriod","escapeBraces","unescapeBraces","parseCommaParts","postParts","embrace","isPadded","el","isTop","expansions","expansion","N","isNumericSequence","isAlphaSequence","isSequence","isOptions","width","incr","pad","need","z","assert","asyncHook","CONTEXTS_SYMBOL","ERROR_SYMBOL","invertedProviders","DEBUG_CLS_HOOKED","currentUid","Namespace","_set","_contexts","getNamespace","namespaces","destroyNamespace","ok","debug2","msg","_rawDebug","getFunctionName","enter","createContext","_ns_name","run","runAndReturn","runPromise","thisSymbol","unwrapped","unwrappedContexts","thunk","fromException","stackChain","modifier","_modifiers","deattach","async_hooks","_indent","createHook","asyncId","triggerId","executionAsyncId","showHidden","colors","triggerAsyncId","triggerIdContext","asyncHooksCurrentId","indentStr","currentId","Stream","DelayedStream","CombinedStream","writable","readable","dataSize","maxDataSize","pauseStreams","_released","_streams","_currentStream","_insideLoop","_pendingNext","combinedStream","isStreamLike","newStream","pauseStream","_checkDataSize","_handleErrors","pause","_getNext","_realGetNext","_pipeNext","_emitError","_reset","_updateDataSize","contexts","storage","formatArgs","useColors","humanize","color","lastC","save","setItem","removeItem","load","getItem","window","__nwjs","navigator","documentElement","style","WebkitAppearance","firebug","table","$1","localStorage","localstorage","warned","formatters","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","curr","prev","formatter","selectColor","extend","newDebug","toNamespace","regexp","skips","browser","tty","inspectOpts","formatWithOptions","colorCode","hideDate","isatty","fd","deprecate","supportsColor","O","_maxDataSizeExceeded","_bufferedEvents","delayedStream","realEmit","_handleEmit","_checkIfMaxDataSizeExceeded","azureCoreTracing","AzureMonitorSymbol","publisherName","isPatched","versionSpecifier","coreTracing","tracing","defaultProvider","defaultTracer","setTracer","setTracerOriginal_1","startSpanOriginal","originalEnd","publish","setGlobalTracerProviderOriginal_1","getTracerOriginal","tracerName","startSpanOriginal_1","openTelemetryInstr","azureSdkInstr","registerMonkeyPatch","originalBunyan","originalEmit","_emit","rec","noemit","stream_1","originalConsole","aiLoggingOutStream","Writable","aiLoggingErrStream","aiLoggingConsole","Console","originalMethod","consoleMethods_1","tedious","consolePub","mongoCore","originalMongoCore","originalConnect","originalWrite","pool","cbidx","bindToContext","originalLogout","logout","mongo330","mongo3","mongo2","originalMongo","instrument","operationIdGenerator","eventMap","contextMap","coreTopology","mongodbcorePatchFunction","originalMysql","originalMysqlPath","patchObjectFunction","cbWrapper","originalFunc","resultContainer","startDate","patchClassMemberFunction","classObject","connectionClass","dirname","hrDuration","poolClass","postgresPool1","originalPgPool","postgres","postgres6","originalPg","originalPgPath","originalClientQuery","Client","diagnosticOriginalFunc","queryResult","connectionParameters","patchCallback","trackingCallback","rowCount","callbackProvided","cursor","_Promise","originalRedis","originalSend","RedisClient","internal_send_command","cb_1","pubsubBound","address_1","startDate_1","originalTedious","originalMakeRequest","Connection","origCallback","rows","parametersByName","statement","__rest","propertyIsEnumerable","winston2","winston3","originalWinston","AppInsightsTransport","splat","levels","mapLevelToKind","Transport","getLogLevel","lastLevel","patchedConfigure","origCreate","createLogger","origConfigure","configure","origRootConfigure","curLevels","originalLog","Logger","loggingFilter","filters","ContextPreservingEventEmitter","makePatchingRequire","patchRequire_1","patchRequire_2","publishing","subscribers","contextPreservationFunction","knownPatches","modulesPatched","currentlyPublishing","shouldPublish","standardEvent_1","patched","checkIfModuleIsAlreadyPatched","preserver","previousPreservationStack","patcher","getPatchesObject","addPatchedModule","diagnosticsSource","channel_1","moduleModule","nativeModules","originalRequire","patchedModules","moduleId","originalModule","modulePath","_resolveFilename","prereleaseTagIndex","modifiedModule","modulePatcher","SYMBOL","_listeners","_events","visit","onAddListener","onEmit","adding","existing","unprocessed","_process","_findAndProcess","parseUrl","mime","asynckit","populate","FormData","_overheadLength","_valueLength","_valuesToMeasure","LINE_BREAK","DEFAULT_CONTENT_TYPE","_multiPartHeader","footer","_multiPartFooter","_trackLength","valueLength","knownLength","_lengthRetriever","fileSize","contentDisposition","_getContentDisposition","_getContentType","contents","filepath","_httpMessage","lookup","_lastBoundary","getHeaders","userHeaders","formHeaders","setBoundary","boundary","_boundary","_generateBoundary","getBuffer","dataBuffer","alloc","getLengthSync","hasKnownLength","submit","params","defaults","responce","dst","toStr","concatty","that","bound","arrLike","slicy","boundLength","boundArgs","joiner","joiny","Empty","implementation","$hasOwn","assert_1","parse_proxy_response_1","ALPNProtocols","secure","isDefaultPort","proxyResponsePromise","buffered","servername","omit","fakeSocket","createHttpsProxyAgent","buffersLength","buffers","read","firstLine","ondata","onclose","onend","fileURLToPath","importHooks","specifiers","toHook","addHook","removeHook","callHookFn","hookFn","newDefault","_iitmHook","details","sep","relative","unhook","setters","proxyHandler","specifier","Proxy","hasOwn","specifierIncluded","nodeParts","versionParts","cur","matchesRange","nodeVersion","specifierValue","versionIncluded","extensions","types","preference","db","extname","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","charset","charsets","extension","exts","minimatch","assertValidPattern","nocomment","charAt","Minimatch","GLOBSTAR","plTypes","open","close","qmark","star","charSet","reSpecials","addPatternStartSet","slashSplit","ext","def","orig","makeRe","braceExpand","nobrace","SUBPARSE","mm","nonull","windowsPathsNoEscape","allowWindowsEscape","negate","comment","partial","make","parseNegate","globSet","globParts","si","nonegate","negateOffset","matchOne","fi","pi","fl","pl","hit","fr","dot","swallowee","isSub","noglobstar","hasMagic","escaping","patternListStack","negativeLists","stateChar","cs","sp","inClass","reClassStart","classStart","dotTravAllowed","dotFileAllowed","subPatternStart","clearStateChar","noext","plEntry","reStart","reEnd","tail","$2","addPatternStart","nl","nlBefore","nlFirst","nlAfter","nlLast","closeParensBefore","openParensBefore","cleanAfter","nocase","globUnescape","_glob","_src","twoStar","matchBase","flipNegate","segments","scoped","h","plural","msAbs","isPlural","long","fmtShort","splitWindowsRe","win32","pathString","allParts","base","splitPathRe","posix","Module","moduleDetailsFromPath","isCore","isBuiltin","core","ExportsCache","_localCache","_kRitmExports","cachedExports","onrequire","_cache","_unhooked","_origRequire","patching","hasWhitelist","_require","idWithoutPrefix","resolveErr","isPatching","parsedPath","fullModuleName","normalizedPath","resolveModuleName","matchFound","sync","getHomedir","caller","nodeModulesPaths","normalizeOptions","realpathFS","realpath","native","homedir","defaultIsFile","isFIFO","defaultIsDir","defaultRealpath","realpathErr","realPath","maybeRealpath","preserveSymlinks","defaultReadPackage","pkgfile","readFileErr","pkg","jsonErr","readPackage","conflictErr","packageIterator","includeCoreModules","parent","paths","absoluteStart","onfile","loadAsDirectory","realD","moduleError","loadAsFile","thePackage","loadAsFilePackage","loadPackage","onpkg","pkg_","pathFilter","rfile","rel","onex","loadpkg","unwrapErr","pkgdir","pkgParam","packageFilter","loadAsDirectoryPackage","fpkg","package","main","mainError","processDirs","dirs","ondir","isdir","realStart","getPackageCandidates","loadNodeModules","realN","origPrepareStackTrace","prepareStackTrace","isCoreModule","home","HOME","LOGNAME","LNAME","USERNAME","USERPROFILE","HOMEDRIVE","HOMEPATH","getuid","getNodeModulesDirs","aPath","moduleDir","moduleDirectory","realpathSync","throwIfNoEntry","defaultRealpathSync","maybeRealpathSync","defaultReadPackageSync","readPackageSync","loadAsFileSync","loadAsDirectorySync","loadNodeModulesSync","parseOptions","isNullSet","isAny","memoKey","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","cached","cache","comparatorTrimReplace","tildeTrimReplace","caretTrimReplace","rangeList","replaceGTE0","rangeMap","isSatisfiable","remainingComparators","testComparator","otherComparator","anyX","GTE0PRE","GTE0","incPr","compareBuild","identifierBase","rtl","coerceRtlRegex","COERCERTLFULL","COERCERTL","lastIndex","COERCEFULL","versionA","versionB","comparison","v1Higher","highVersion","lowVersion","highHasPre","throwErrors","internalRe","identifiers","simplifyRange","subset","tokens","RELEASE_TYPES","MAX_SAFE_COMPONENT_LENGTH","firstKey","looseOption","freeze","emptyOpts","createToken","isGlobal","safe","makeSafeRegex","COERCEPLAIN","setMin","ranges","simplified","minimumVersionWithPreRelease","minimumVersion","simpleSubset","sub","dom","eqSet","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","needDomLTPre","needDomGTPre","sawNonNull","OUTER","simpleSub","simpleDom","funktion","nodule","nodules","lines","ee","FormatErrorString","_stackChain","defaultFormater","TraceModifier","StackFormater","SHORTCIRCUIT_CALLSITE","collectCallSites","captureStackTrace","callSites","_modify","_formater","_previous","formater","restore","_backup","_roolback","SHORTCIRCUIT_FORMATER","originalFrames","stackTraceLimit","isExtensible","getOwnPropertyDescriptor","mutated","ProgressType","ProgressToken","createMessageConnection","NullLogger","ConnectionOptions","ConnectionStrategy","AbstractMessageBuffer","WriteableStreamMessageWriter","AbstractMessageWriter","MessageWriter","ReadableStreamMessageReader","AbstractMessageReader","MessageReader","SharedArrayReceiverStrategy","SharedArraySenderStrategy","CancellationToken","CancellationTokenSource","Emitter","Disposable","LRUCache","Touch","LinkedMap","ParameterStructures","NotificationType9","NotificationType8","NotificationType7","NotificationType6","NotificationType5","NotificationType4","NotificationType3","NotificationType2","NotificationType1","NotificationType0","NotificationType","ErrorCodes","ResponseError","RequestType9","RequestType8","RequestType7","RequestType6","RequestType5","RequestType4","RequestType3","RequestType2","RequestType1","RequestType0","RequestType","RAL","MessageStrategy","CancellationStrategy","CancellationSenderStrategy","CancellationReceiverStrategy","ConnectionError","ConnectionErrors","LogTraceNotification","SetTraceNotification","TraceFormat","TraceValues","messages_1","linkedMap_1","disposable_1","cancellation_1","sharedArrayCancellation_1","messageReader_1","messageWriter_1","messageBuffer_1","connection_1","ral_1","Is","None","isCancellationRequested","onCancellationRequested","Cancelled","is","candidate","boolean","shortcutEvent","MutableToken","_isCancelled","cancel","fire","RequestCancellationReceiverStrategy","IdCancellationReceiverStrategy","CancelNotification","ProgressNotification","StarRequestHandler","ConnectionState","Off","Messages","Compact","fromString","string","Text","cancelUndispatched","createCancellationTokenSource","sendCancellation","sendNotification","receiver","handleMessage","cancellationStrategy","connectionStrategy","messageStrategy","messageReader","messageWriter","_logger","sequenceNumber","notificationSequenceNumber","unknownResponseSequenceNumber","starRequestHandler","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","messageQueue","responsePromises","knownCanceledRequests","requestTokens","traceFormat","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","triggerMessageQueue","processMessageQueue","isRequest","requestMessage","reply","resultOrError","jsonrpc","toJson","traceSendingResponse","replyError","stringifyTrace","logLSPMessage","traceReceivedRequest","requestHandler","tokenKey","cancellationSource","handlerResult","numberOfParams","InvalidParams","parameterStructures","byName","byPosition","InternalError","replySuccess","MethodNotFound","handleRequest","isNotification","notificationHandler","cancelId","traceReceivedNotification","handleNotification","isResponse","responseMessage","responsePromise","timerStart","traceReceivedResponse","handleResponse","number","responseHandler","handleInvalidMessage","onClose","toCancel","cancellationToken","queue","addMessageToQueue","lspMessage","isLSPMessage","throwIfClosedOrDisposed","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","auto","computeMessageParams","messageParams","paramStart","paramEnd","notificationMessage","traceSendingNotification","onNotification","onProgress","sendProgress","onUnhandledProgress","throwIfNotListening","disposable","traceSendingRequest","enableCancellation","MessageWriteError","hasPendingResponse","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","onUnhandledNotification","onDispose","PendingResponseRejected","listen","AlreadyListening","throwIfListening","_disposable","CallbackList","bucket","_callbacks","foundCallbackWithDifferentContext","invoke","isEmpty","thisArgs","disposables","onFirstListenerAdd","_noop","onLastListenerRemove","stringArray","elem","First","AsOld","Last","AsNew","_map","_head","_tail","_size","touch","previous","addItemLast","addItemFirst","callbackfn","trimOld","newSize","currentSize","fromJSON","_limit","checkTrim","peek","encoding","_chunks","_totalLength","toAppend","tryReadHeaders","lowerCaseKeys","chunkIndex","chunkBytesRead","row","_read","tryReadBody","numberOfBytes","byteCount","emptyBuffer","asNative","allocNative","resultOffset","chunkPart","semaphore_1","ResolvedMessageReaderOptions","onPartialMessage","partialMessageEmitter","fireError","asError","fireClose","firePartialMessage","fromOptions","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","decoder","applicationJson","messageBuffer","_partialMessageTimeout","nextMessageLength","messageToken","readSemaphore","Semaphore","partialMessageTimeout","partialMessageTimer","onData","fromEntries","setPartialMessageTimer","clearPartialMessageTimer","lock","decode","waitingTime","ResolvedMessageWriterOptions","contentTypeEncoder","encoder","contentEncoder","errorCount","writeSemaphore","encode","doWrite","handleError","AbstractMessageSignature","ParseError","InvalidRequest","jsonrpcReservedErrorRangeStart","serverErrorStart","MessageReadError","ConnectionInactive","ServerNotInitialized","UnknownErrorCode","jsonrpcReservedErrorRangeEnd","serverErrorEnd","_parameterStructures","_ral","install","ral","capacity","_capacity","_active","_waiting","runNext","doRunNext","CancellationState","Continue","SharedArrayBuffer","Int32Array","$cancellationData","_conn","Atomics","store","SharedArrayBufferCancellationToken","SharedArrayBufferCancellationTokenSource","desc","createServerSocketTransport","createClientSocketTransport","createServerPipeTransport","createClientPipeTransport","generateRandomPipeName","StreamMessageWriter","StreamMessageReader","SocketMessageWriter","SocketMessageReader","PortMessageWriter","PortMessageReader","IPCMessageWriter","IPCMessageReader","ril_1","crypto_1","eventEmitter","off","postMessage","asReadableStream","asWritableStream","XDG_RUNTIME_DIR","safeIpcPathLengths","randomSuffix","pipeName","connectResolve","connected","onConnected","reader","writer","isWritableStream","MessageBuffer","TextDecoder","ReadableStreamWrapper","WritableStreamWrapper","_ril","RIL","DiagnosticPullMode","vsdiag","diagnostic_1","CallHierarchyFeature","vscode_1","vscode_languageserver_protocol_1","features_1","CallHierarchyProvider","middleware","prepareCallHierarchy","position","code2ProtocolConverter","asTextDocumentPositionParams","CallHierarchyPrepareRequest","protocol2CodeConverter","asCallHierarchyItems","handleFailedRequest","provideCallHierarchyIncomingCalls","asCallHierarchyItem","CallHierarchyIncomingCallsRequest","asCallHierarchyIncomingCalls","provideCallHierarchyOutgoingCalls","CallHierarchyOutgoingCallsRequest","asCallHierarchyOutgoingCalls","TextDocumentLanguageFeature","fillClientCapabilities","cap","capabilities","ensure","dynamicRegistration","initialize","documentSelector","getRegistration","callHierarchyProvider","registerOptions","registerLanguageProvider","languages","registerCallHierarchyProvider","asDocumentSelector","ProposedFeatures","BaseLanguageClient","MessageTransports","SuspendMode","CloseAction","ErrorAction","RevealOutputChannelOn","c2p","p2c","async_1","UUID","progressPart_1","notebook_1","configuration_1","textSynchronization_1","completion_1","hover_1","definition_1","signatureHelp_1","documentHighlight_1","documentSymbol_1","workspaceSymbol_1","reference_1","codeAction_1","codeLens_1","formatting_1","rename_1","documentLink_1","executeCommand_1","fileSystemWatcher_1","colorProvider_1","implementation_1","typeDefinition_1","workspaceFolder_1","foldingRange_1","declaration_1","selectionRange_1","progress_1","callHierarchy_1","semanticTokens_1","fileOperations_1","linkedEditingRange_1","typeHierarchy_1","inlineValue_1","inlayHint_1","inlineCompletion_1","ResolvedClientOptions","ClientState","sanitizeIsTrusted","isTrusted","enabledCommands","DefaultErrorHandler","maxRestartCount","restarts","action","Shutdown","closed","Restart","DoNotRestart","clientOptions","_diagnosticQueue","_diagnosticQueueState","_features","_dynamicFeatures","workspaceEditLock","_id","markdown","supportHtml","_clientOptions","synchronize","diagnosticCollectionName","outputChannelName","revealOutputChannelOn","stdioEncoding","initializationOptions","initializationFailedHandler","progressOnInitialization","errorHandler","createDefaultErrorHandler","connectionOptions","uriConverters","workspaceFolder","diagnosticPullOptions","onChange","onSave","notebookDocumentOptions","Initial","_ignoredRegistrations","_notificationHandlers","_pendingNotificationHandlers","_notificationDisposables","_requestHandlers","_pendingRequestHandlers","_requestDisposables","_progressHandlers","_pendingProgressHandlers","_progressDisposables","_initializeResult","outputChannel","_outputChannel","_disposeOutputChannel","_traceOutputChannel","traceOutputChannel","_diagnostics","_pendingOpenNotifications","_pendingChangeSemaphore","_pendingChangeDelayer","Delayer","_fileEvents","_fileEventDelayer","_onStop","_telemetryEmitter","_stateChangeEmitter","_trace","messageOrDataObject","logTrace","logObjectTrace","_c2p","createConverter","code2Protocol","_p2c","protocol2Code","_syncedDocuments","registerBuiltinFeatures","onTelemetry","onDidChangeState","createOutputChannel","diagnostics","getPublicState","$state","oldState","newState","Starting","Running","Stopped","initializeResult","StartFailed","Stopping","$start","_didChangeTextDocumentFeature","syncKind","TextDocumentSyncKind","Full","sendPendingFullTextDocumentChanges","_sendRequest","activeConnection","needsPendingFullTextDocumentSync","openNotification","DidOpenTextDocumentNotification","textDocument","handleWorkDoneProgress","realHandler","WorkDoneProgress","setTrace","data2String","showNotification","logOutputMessage","MessageType","Debug","Info","Warn","reveal","appendLine","padEnd","toLocaleTimeString","showNotificationMessage","showErrorMessage","showWarningMessage","showInformationMessage","selection","show","needsStart","needsStop","isRunning","_disposed","_onStart","createOnStartPromise","createDiagnosticCollection","LogMessageNotification","ShowMessageNotification","ShowMessageRequest","messageFunc","actions","TelemetryEventNotification","ShowDocumentRequest","showDocument","asUri","external","openExternal","asRange","takeFocus","preserveFocus","showTextDocument","refreshTrace","initOption","workspaceFolders","fsPath","_clientGetRootPath","initParams","processId","clientInfo","appName","locale","getLocale","rootUri","Uri","computeClientCapabilities","fillInitializeParams","doInitialize","generateUuid","ProgressPart","workDoneToken","positionEncoding","PositionEncodingKind","UTF16","textDocumentSyncOptions","textDocumentSync","openClose","change","includeText","_capabilities","resolvedTextDocumentSync","PublishDiagnosticsNotification","handleDiagnostics","RegistrationRequest","handleRegistrationRequest","UnregistrationRequest","handleUnregistrationRequest","ApplyWorkspaceEditRequest","handleApplyWorkspaceEdit","InitializedNotification","hookFileEvents","hookConfigurationChanged","initializeFeatures","stop","title","folders","workspace","folder","scheme","cleanUp","cleanUpChannel","_idleInterval","notifyFileEvent","didChangeWatchedFile","DidChangeWatchedFilesNotification","changes","workSpaceMiddleware","getPendingDocumentChanges","asChangeTextDocumentParams","DidChangeTextDocumentNotification","notificationSent","triggerPendingChangeDelivery","tokenSource","triggerDiagnosticQueue","workDiagnosticQueue","asDiagnostics","converted","setDiagnostics","language","transports","createMessageTransports","ConsoleLogger","createProtocolConnection","defaultTraceOptions","InitializeRequest","ShutdownRequest","ExitNotification","handleConnectionError","handleConnectionClosed","onDidChangeConfiguration","getConfiguration","traceConfig","watchers","fileEvents","registerRaw","registerFeatures","features","registerFeature","DynamicFeature","registrationType","getFeature","hasDedicatedTextSynchronizationFeature","NotebookDocumentSyncRegistrationType","NotebookDocumentSyncFeature","handles","pendingFullTextDocumentChanges","ConfigurationFeature","DidOpenTextDocumentFeature","DidChangeTextDocumentFeature","onPendingChangeAdded","WillSaveFeature","WillSaveWaitUntilFeature","DidSaveTextDocumentFeature","DidCloseTextDocumentFeature","FileSystemWatcherFeature","CompletionItemFeature","HoverFeature","SignatureHelpFeature","DefinitionFeature","ReferencesFeature","DocumentHighlightFeature","DocumentSymbolFeature","WorkspaceSymbolFeature","CodeActionFeature","CodeLensFeature","DocumentFormattingFeature","DocumentRangeFormattingFeature","DocumentOnTypeFormattingFeature","RenameFeature","DocumentLinkFeature","ExecuteCommandFeature","SyncConfigurationFeature","TypeDefinitionFeature","ImplementationFeature","ColorProviderFeature","WorkspaceFoldersFeature","FoldingRangeFeature","DeclarationFeature","SelectionRangeFeature","ProgressFeature","SemanticTokensFeature","LinkedEditingFeature","DidCreateFilesFeature","DidRenameFilesFeature","DidDeleteFilesFeature","WillCreateFilesFeature","WillRenameFilesFeature","WillDeleteFilesFeature","TypeHierarchyFeature","InlineValueFeature","InlayHintsFeature","DiagnosticFeature","registerProposedFeatures","createAll","applyEdit","workspaceEdit","documentChanges","resourceOperations","ResourceOperationKind","Create","Rename","Delete","failureHandling","FailureHandlingKind","TextOnlyTransactional","normalizesLineEndings","changeAnnotationSupport","groupsOnLabel","relatedInformation","versionSupport","tagSupport","valueSet","DiagnosticTag","Unnecessary","Deprecated","codeDescriptionSupport","dataSupport","windowCapabilities","messageActionItem","additionalPropertiesSupport","support","generalCapabilities","staleRequestSupport","retryOnContentModified","RequestsToCancelOnContentModified","regularExpressions","engine","positionEncodings","allowedTags","preInitialize","handleRegisterCapability","nextParams","doRegisterCapability","registration","registrations","handleUnregisterCapability","doUnregisterCapability","unregistration","unregisterations","unregister","edit","asWorkspaceEdit","openTextDocuments","textDocuments","versionMismatch","TextDocumentEdit","changeUri","applied","asPromise","defaultValue","LSPErrorCodes","RequestCancelled","ServerCancelled","LSPCancellationError","CancellationError","ContentModified","CancellableResolveCalls","SemanticTokensRequest","SemanticTokensRangeRequest","SemanticTokensDeltaRequest","CompletionResolveRequest","CodeLensResolveRequest","CodeActionResolveRequest","InlayHintResolveRequest","DocumentLinkResolveRequest","WorkspaceSymbolResolveRequest","InlineCompletionItemFeature","CodeActionRequest","isPreferredSupport","disabledSupport","resolveSupport","codeActionLiteralSupport","codeActionKind","CodeActionKind","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","honorsChangeAnnotations","getRegistrationOptions","codeActionProvider","selector","provideCodeActions","_provideCodeActions","asTextDocumentIdentifier","asCodeActionContextSync","asCodeActionResult","resolveCodeAction","resolveProvider","asCodeActionSync","asCodeAction","registerCodeActionsProvider","codeActionKinds","providedCodeActionKinds","asCodeActionKinds","protocolCompletionItem_1","protocolCodeLens_1","protocolDocumentLink_1","protocolCodeAction_1","protocolDiagnostic_1","protocolCallHierarchyItem_1","protocolTypeHierarchyItem_1","protocolWorkspaceSymbol_1","protocolInlayHint_1","InsertReplaceRange","inserting","replacing","uriConverter","_uriConverter","asTextDocumentItem","languageId","getText","asTextDocumentSaveReason","TextDocumentSaveReason","Manual","AfterDelay","FocusOut","asCompletionTriggerKind","triggerKind","CompletionTriggerKind","TriggerCharacter","TriggerForIncompleteCompletions","Invoked","asSignatureHelpTriggerKind","SignatureHelpTriggerKind","Invoke","ContentChange","asParameterInformation","asSignatureInformation","parameters","asWorkerPosition","character","asPosition","uinteger","MAX_VALUE","asLocation","Location","asDiagnosticSeverity","DiagnosticSeverity","Hint","asDiagnosticTag","asRelatedInformation","asDiagnostic","Diagnostic","protocolDiagnostic","ProtocolDiagnostic","asDiagnosticCode","DiagnosticCode","hasDiagnosticCode","codeDescription","href","asDiagnosticTags","items","asDiagnosticsSync","asCompletionItemTag","CompletionItemTag","asTextEdit","newText","asTextEdits","edits","asSymbolKind","SymbolKind","TypeParameter","Property","asSymbolTag","asSymbolTags","asCodeActionTriggerKind","CodeActionTriggerKind","Automatic","asCodeActionKind","asCommand","Command","asInlayHintLabelPart","InlayHintLabelPart","tooltip","asTooltip","MarkupKind","Markdown","asVersionedTextDocumentIdentifier","asOpenTextDocumentParams","arg1","isTextDocument","contentChanges","isTextDocumentChangeEvent","rangeLength","asCloseTextDocumentParams","asSaveTextDocumentParams","includeContent","asWillSaveTextDocumentParams","asDidCreateFilesParams","fileUri","asDidRenameFilesParams","oldUri","newUri","asDidDeleteFilesParams","asWillCreateFilesParams","asWillRenameFilesParams","asWillDeleteFilesParams","asCompletionParams","triggerCharacter","asSignatureHelpParams","isRetrigger","activeSignatureHelp","signatures","activeSignature","activeParameter","asRanges","asPositions","asPositionsSync","asCompletionItem","labelDetailsSupport","labelDetails","detail","protocolItem","documentation","documentationFormat","PlainText","asDocumentation","filterText","InsertTextFormat","textEdit","insertText","SnippetString","Snippet","insertTextFormat","fromEdit","InsertReplaceEdit","asCompletionTextEdit","fillPrimaryInsertText","originalItemKind","sortText","additionalTextEdits","commitCharacters","preselect","asCompletionItemTags","deprecated","insertTextMode","keepWhitespace","InsertTextMode","adjustIndentation","asReferenceParams","includeDeclaration","CodeAction","isPreferred","disabled","asCodeActionContext","only","CodeActionContext","asInlineValueContext","InlineValueContext","frameId","stoppedLocation","asCodeLens","CodeLens","asFormattingOptions","fileOptions","tabSize","insertSpaces","trimTrailingWhitespace","trimFinalNewlines","insertFinalNewline","asDocumentSymbolParams","asCodeLensParams","asDocumentLink","DocumentLink","asDocumentLinkParams","selectionRange","asTypeHierarchyItem","asInlayHint","InlayHint","textEdits","paddingLeft","paddingRight","asWorkspaceSymbol","hasRange","containerName","asInlineCompletionParams","InlineCompletionContext","selectedCompletionInfo","CodeLensRequest","refreshSupport","CodeLensRefreshRequest","getAllProviders","onDidChangeCodeLensEmitter","codeLensProvider","onDidChangeCodeLenses","provideCodeLenses","asCodeLenses","resolveCodeLens","codeLens","registerCodeLensProvider","DocumentColorRequest","colorProvider","provideColorPresentations","requestParams","ColorPresentationRequest","asColorPresentations","provideDocumentColors","asColorInformations","registerColorProvider","SupportedCompletionItemKinds","CompletionItemKind","Method","Constructor","Field","Variable","Class","Interface","Unit","Enum","Keyword","Color","File","Reference","Folder","EnumMember","Constant","Struct","Operator","CompletionRequest","completion","contextSupport","completionItem","snippetSupport","commitCharactersSupport","deprecatedSupport","preselectSupport","insertReplaceSupport","insertTextModeSupport","asIs","completionItemKind","completionList","itemDefaults","completionProvider","triggerCharacters","defaultCommitCharacters","allCommitCharacters","provideCompletionItems","asCompletionResult","provideCompletionItem","resolveCompletionItem","registerCompletionItemProvider","toJSONObject","getState","configuration","ConfigurationRequest","scopeUri","section","isCleared","DidChangeConfigurationNotification","configurationSection","sections","affectsConfiguration","didChangeConfiguration","settings","extractSettingsInformation","ensurePath","DeclarationRequest","declarationSupport","linkSupport","declarationProvider","provideDeclaration","asDeclarationResult","registerProvider","registerDeclarationProvider","DefinitionRequest","definitionSupport","definitionProvider","provideDefinition","asDefinitionResult","registerDefinitionProvider","uuid_1","RequestStateKind","PullState","DocumentOrUri","DocumentDiagnosticReportKind","Tabs","_onOpen","_onClose","fillTabResources","tabGroups","onDidChangeTabs","opened","oldTabs","currentTabs","tab","toFire","onOpen","isActive","activeTextEditor","isVisible","getTabResources","strings","uris","group","tabs","TabInputText","TabInputTextDiff","modified","TabInputCustom","asKey","DocumentPullStateTracker","documentPullStates","workspacePullStates","states","pulledVersion","resultId","update","unTrack","tracks","getResultId","getAllResultIds","DiagnosticRequestor","onDidChangeDiagnosticsEmitter","createProvider","openRequests","documentStates","workspaceErrorCounter","knows","forget","pull","pullAsync","isUri","currentRequestState","documentState","report","afterState","provideDiagnostics","full","DiagnosticServerCancellationData","retriggerRequest","outDated","reschedule","forgetDocument","workspaceDiagnostics","pullWorkspace","pullWorkspaceAsync","workspaceTimeout","provideWorkspaceDiagnostics","workspaceCancellation","previousResultIds","onDidChangeDiagnostics","previousResultId","DocumentDiagnosticRequest","unChanged","resultIds","resultReporter","convertReport","convertPreviousResultIds","partialResultToken","WorkspaceDiagnosticRequest","partialResult","BackgroundScheduler","diagnosticRequestor","endDocumentKey","endDocument","intervalHandle","DiagnosticFeatureProviderImpl","TextDocumentFilter","matcher","matchResource","isActiveDocument","activeTextDocument","backgroundScheduler","addToBackgroundIfNeeded","interFileDependencies","onDidChangeActiveTextEditor","editor","oldActive","openFeature","onNotificationSent","uriStr","pulledTextDocuments","onTabs","changeFeature","onType","saveFeature","DidSaveTextDocumentNotification","closeFeature","DidCloseTextDocumentNotification","cleanUpDocument","capability","relatedDocumentSupport","DiagnosticRefreshRequest","diagnosticProvider","DocumentHighlightRequest","documentHighlightProvider","provideDocumentHighlights","_provideDocumentHighlights","asDocumentHighlights","registerDocumentHighlightProvider","DocumentLinkRequest","documentLinkCapabilities","tooltipSupport","documentLinkProvider","provideDocumentLinks","asDocumentLinks","resolveDocumentLink","registerDocumentLinkProvider","SupportedSymbolTags","SupportedSymbolKinds","Package","Key","Null","SymbolTag","DocumentSymbolRequest","symbolCapabilities","symbolKind","hierarchicalDocumentSymbolSupport","labelSupport","documentSymbolProvider","provideDocumentSymbols","_provideDocumentSymbols","DocumentSymbol","asDocumentSymbols","asSymbolInformations","metaData","registerDocumentSymbolProvider","_commands","ExecuteCommandRequest","executeCommandProvider","executeCommand","commands","registerCommand","WorkspaceFeature","TextDocumentEventFeature","DynamicDocumentFeature","StaticFeature","selectors","getDocumentSelectors","textDocumentFilter","createParams","selectorFilter","_middleware","_createParams","_textDocument","_selectorFilter","_selectors","_onNotificationSent","getStateInfo","_listener","doSend","getTextDocument","getProvider","_registrationType","_registrations","TextDocumentRegistrationOptions","StaticRegistrationOptions","hasId","WorkDoneProgressOptions","getProviders","FileOperationFeature","clientCapability","serverCapability","_clientCapability","_serverCapability","_filters","filterSize","fileOperations","minimatchFilter","glob","asMinimatchOptions","getFileType","fileMatches","fileType","FileType","FileOperationPatternKind","Directory","ignoreCase","NotificationFileOperationFeature","notificationType","accessUri","_notificationType","_accessUri","originalEvent","filteredEvent","CachingNotificationFileOperationFeature","_fsPathFileTypes","cacheFileTypes","clearFileTypeCache","_willListener","onDidCreateFiles","DidCreateFilesNotification","didCreateFiles","onDidRenameFiles","DidRenameFilesNotification","onWillRenameFiles","willRename","waitUntil","didRenameFiles","onDidDeleteFiles","DidDeleteFilesNotification","onWillDeleteFiles","willDelete","didDeleteFiles","RequestFileOperationFeature","requestType","_requestType","onWillCreateFiles","WillCreateFilesRequest","willCreateFiles","WillRenameFilesRequest","willRenameFiles","WillDeleteFilesRequest","willDeleteFiles","_notifyFileEvent","_watchers","relativePatternSupport","_documentSelector","watcher","globPattern","asGlobPattern","watchCreate","watchChange","watchDelete","WatchKind","Change","fileSystemWatcher","createFileSystemWatcher","hookListeners","fileSystemWatchers","onDidCreate","FileChangeType","Created","onDidChange","Changed","onDidDelete","Deleted","FoldingRangeRequest","rangeLimit","lineFoldingOnly","foldingRangeKind","FoldingRangeKind","Comment","Imports","Region","foldingRange","collapsedText","FoldingRangeRefreshRequest","onDidChangeFoldingRange","foldingRangeProvider","onDidChangeFoldingRanges","provideFoldingRanges","asFoldingRanges","registerFoldingRangeProvider","FileFormattingOptions","fromConfiguration","filesConfig","DocumentFormattingRequest","documentFormattingProvider","provideDocumentFormattingEdits","registerDocumentFormattingEditProvider","DocumentRangeFormattingRequest","rangesSupport","documentRangeFormattingProvider","provideDocumentRangeFormattingEdits","provideDocumentRangesFormattingEdits","DocumentRangesFormattingRequest","registerDocumentRangeFormattingEditProvider","DocumentOnTypeFormattingRequest","documentOnTypeFormattingProvider","provideOnTypeFormattingEdits","ch","moreTriggerCharacter","registerOnTypeFormattingEditProvider","firstTriggerCharacter","HoverRequest","hoverCapability","contentFormat","hoverProvider","provideHover","asHover","registerHoverProvider","ImplementationRequest","implementationSupport","implementationProvider","provideImplementation","registerImplementationProvider","InlayHintRequest","inlayHint","InlayHintRefreshRequest","onDidChangeInlayHints","inlayHintProvider","provideInlayHints","viewPort","asInlayHints","resolveInlayHint","hint","registerInlayHintsProvider","InlineCompletionRequest","inlineCompletionProvider","provideInlineCompletionItems","asInlineCompletionResult","registerInlineCompletionItemProvider","InlineValueRequest","InlineValueRefreshRequest","onDidChangeInlineValues","inlineValueProvider","provideInlineValues","asInlineValues","registerInlineValuesProvider","LinkedEditingRangeRequest","linkedEditingRangeProvider","provideLinkedEditingRanges","provideLinkedEditing","asLinkedEditingRanges","provideLinkedEditingRange","registerLinkedEditingRangeProvider","vscode","Converter","$NotebookCell","$NotebookDocumentFilter","$NotebookDocumentSyncOptions","SyncInfo","asNotebookCells","cells","cell","asNotebookCell","asMetadata","deepCopy","NotebookCell","NotebookCellKind","Markup","Code","asNotebookCellKind","executionSummary","executionOrder","asVersionedNotebookDocumentIdentifier","notebookDocument","asNotebookDocument","NotebookDocument","notebookType","asTextContentChange","asNotebookDocumentChangeEvent","changedCells","structure","deleteCount","didOpen","didClose","textContent","equals","compareMetaData","equalsTiming","equalsExecution","equalsMetadata","oneArray","otherArray","isObjectLiteral","oneKeys","otherKeys","computeDiff","originalCells","modifiedCells","compareMetadata","originalLength","modifiedLength","originalEndIndex","modifiedEndIndex","newCells","matchNotebook","asDocumentFilter","notebook","notebookSelector","NotebookDocumentSyncFeatureProvider","notebookSyncInfo","notebookDidOpen","onDidOpenNotebookDocument","notebookDocuments","onDidChangeNotebookDocument","didChangeNotebookDocument","onDidSaveNotebookDocument","didSave","onDidCloseNotebookDocument","getMatchingCells","didOpenNotebookCellTextDocument","syncInfo","cellMatches","cellIsSynced","matchingCells","doSendChange","doSendOpen","didChangeNotebookCellTextDocument","didCloseNotebookCellTextDocument","cellUri","findIndex","doSendClose","deleted","newEvent","doSendSave","syncedCells","getCells","sendDidOpenNotebookDocument","nb","cellDocuments","DidOpenNotebookDocumentNotification","cellTextDocuments","notebooks","sendDidChangeNotebookDocument","DidChangeNotebookDocumentNotification","didChange","sendDidSaveNotebookDocument","DidSaveNotebookDocumentNotification","sendDidCloseNotebookDocument","DidCloseNotebookDocumentNotification","matchingCellsSet","cellChanges","cellChange","oldCells","addedCells","removedCells","filtered","filterCells","cellSelector","cellLanguage","onDidOpenTextDocument","CellScheme","notebookCell","findNotebookDocumentAndCell","onDidChangeTextDocument","onDidCloseTextDocument","synchronization","executionSummarySupport","notebookDocumentSync","dedicatedChannel","activeParts","WorkDoneProgressCreateRequest","workDoneProgress","deleteHandler","_reported","_infinite","_lspProgressDisposable","begin","percentage","withProgress","ProgressLocation","Window","cancellable","progress","_progress","_cancellationToken","_tokenDisposable","WorkDoneProgressCancelNotification","increment","ProtocolCallHierarchyItem","CallHierarchyItem","ProtocolCodeAction","ProtocolCodeLens","ProtocolCompletionItem","CompletionItem","ls","CodeBlock","trustMarkdown","diagnostic","CodeDescription","diagnosticCode","DiagnosticRelatedInformation","Position","asMarkdownString","MarkdownString","appendText","defaultRange","defaultInsertTextMode","defaultInsertTextFormat","defaultData","CompletionItemLabelDetails","asCompletionItemLabel","textEditText","asCompletionInsertText","itemKind","asTextEditsSync","TextEdit","asSignatureInformations","mapAsync","SignatureInformation","asParameterInformations","ParameterInformation","asLocationLink","targetUri","targetRange","originSelectionRange","targetSelectionRange","asLocationResult","LocationLink","locations","asDocumentHighlight","DocumentHighlight","asDocumentHighlightKind","DocumentHighlightKind","Read","Write","asSymbolInformation","SymbolInformation","fillTags","asDocumentSymbol","kindMapping","sharedMetadata","changeAnnotations","annotation","needsConfirmation","asWorkspaceEditEntryMetadata","WorkspaceEdit","CreateFile","createFile","annotationId","RenameFile","renameFile","DeleteFile","deleteFile","AnnotatedTextEdit","asColor","red","green","blue","alpha","asColorInformation","ci","ColorInformation","asColorPresentation","cp","presentation","ColorPresentation","asFoldingRangeKind","asFoldingRange","FoldingRange","startLine","endLine","asSelectionRange","SelectionRange","asInlineValue","inlineValue","InlineValueText","InlineValueVariableLookup","variableName","caseSensitiveLookup","InlineValueEvaluatableExpression","expression","asCallHierarchyIncomingCall","CallHierarchyIncomingCall","fromRanges","asCallHierarchyOutgoingCall","CallHierarchyOutgoingCall","asSemanticTokensEdit","SemanticTokensEdit","Uint32Array","asInlineCompletionItem","inlineCompletionItem","InlineCompletionItem","NotebookCellTextDocumentFilter","hover","Hover","appendCodeblock","appendMarkdown","asHoverContent","rangeDefaults","editRange","getCompletionItemDefaults","CompletionList","isIncomplete","asSignatureHelp","SignatureHelp","asReferences","asCommands","foldingRanges","colorInformation","colorPresentations","asSelectionRanges","selectionRanges","inlineValues","asSemanticTokensLegend","asSemanticTokens","SemanticTokens","asSemanticTokensEdits","SemanticTokensEdits","LinkedEditingRanges","asRegularExpression","wordPattern","asTypeHierarchyItems","RelativePattern","URI","baseUri","WorkspaceFolder","getWorkspaceFolder","InlineCompletionList","ProtocolDocumentLink","ProtocolInlayHint","ProtocolTypeHierarchyItem","TypeHierarchyItem","WorkspaceSymbol","locationOrUri","ReferencesRequest","referencesProvider","provideReferences","_providerReferences","registerReferenceProvider","RenameRequest","rename","prepareSupport","prepareSupportDefaultBehavior","PrepareSupportDefaultBehavior","Identifier","renameProvider","prepareProvider","provideRenameEdits","newName","prepareRename","PrepareRenameRequest","isDefaultBehavior","defaultBehavior","placeholder","registerRenameProvider","SelectionRangeRequest","selectionRangeProvider","provideSelectionRanges","positions","registerSelectionRangeProvider","SemanticTokensRegistrationType","tokenTypes","SemanticTokenTypes","class","enum","interface","struct","typeParameter","parameter","variable","enumMember","function","macro","keyword","decorator","tokenModifiers","SemanticTokenModifiers","declaration","definition","readonly","static","abstract","modification","defaultLibrary","formats","TokenFormat","Relative","multilineTokenSupport","overlappingTokenSupport","serverCancelSupport","augmentsSyntaxTokens","SemanticTokensRefreshRequest","onDidChangeSemanticTokensEmitter","semanticTokensProvider","fullProvider","hasEditProvider","documentProvider","onDidChangeSemanticTokens","provideDocumentSemanticTokens","provideDocumentSemanticTokensEdits","rangeProvider","provideDocumentRangeSemanticTokens","legend","registerDocumentSemanticTokensProvider","registerDocumentRangeSemanticTokensProvider","SignatureHelpRequest","signatureInformation","parameterInformation","labelOffsetSupport","activeParameterSupport","signatureHelpProvider","provideSignatureHelp","providerSignatureHelp","retriggerCharacters","registerSignatureHelpProvider","syncedDocuments","openDocuments","pendingTextDocumentChanges","_pendingTextDocumentChanges","_changeData","_onPendingChangeAdded","_syncKind","updateSyncKind","changeData","Incremental","eventUri","excludes","onWillSaveTextDocument","WillSaveTextDocumentNotification","willSave","willSaveEvent","WillSaveTextDocumentWaitUntilRequest","willSaveWaitUntil","vEdits","onDidSaveTextDocument","_includeText","saveOptions","TypeDefinitionRequest","typeDefinitionSupport","typeDefinitionProvider","provideTypeDefinition","registerTypeDefinitionProvider","TypeHierarchyProvider","prepareTypeHierarchy","TypeHierarchyPrepareRequest","provideTypeHierarchySupertypes","TypeHierarchySupertypesRequest","provideTypeHierarchySubtypes","TypeHierarchySubtypesRequest","typeHierarchyProvider","registerTypeHierarchyProvider","clearTestMode","setTestMode","defaultDelay","completionPromise","task","cancelTimeout","forceDelivery","isTriggered","$test","Timer","yieldAfter","counterInterval","shouldYield","timeTaken","timeLeft","convertBatch","yieldCallback","runBatch","thenable","typedArray","isUUID","v4","ValueUUID","asHex","V4UUID","_oneOf","_randomHex","_chars","_timeHighBits","_UUIDPattern","arrayDiff","DidChangeWorkspaceFoldersNotification","initializeWithFolders","asProtocol","currentWorkspaceFolders","_initialFolders","WorkspaceFoldersRequest","sendInitialEvent","removed","doSendEvent","addedFolders","removedFolders","onDidChangeWorkspaceFolders","didChangeWorkspaceFolders","WorkspaceSymbolRequest","workspaceSymbolProvider","provideWorkspaceSymbols","resolveWorkspaceSymbol","registerWorkspaceSymbolProvider","SettingMonitor","LanguageClient","TransportKind","client_1","processes_1","node_1","semverParse","semverSatisfies","REQUIRED_VSCODE_VERSION","Executable","NodeModule","StreamInfo","ChildProcessInfo","isSocket","detached","arg5","serverOptions","forceDebug","_serverOptions","_forceDebug","_isInDebugMode","checkVersion","codeVersion","isInDebugMode","restart","_serverProcess","toCheck","_isDetached","checkProcessDied","pid","kill","terminate","getEnvironment","fork","debugStartWith","debugEquals","assertStdio","stdin","json","runDebug","execArgv","startedInDebugMode","_getServerWorkingDir","serverWorkingDir","transport","runtime","ipc","silent","execOptions","_getRuntimePath","serverProcess","handleChildProcessStartError","serverWorkingDirectory","mainRootPath","_mainGetRootPath","stats","_setting","primary","rest","path_1","isMacintosh","execFileSync","cmd","lspReservedErrorRangeStart","RequestFailed","lspReservedErrorRangeEnd","vscode_jsonrpc_1","ProtocolNotificationType","ProtocolNotificationType0","ProtocolRequestType","ProtocolRequestType0","RegistrationType","MessageDirection","messageDirection","clientToServer","serverToClient","Unchanged","TextDocumentContentChangeEvent","InitializeErrorCodes","DocumentSelector","NotebookDocumentFilter","MonikerRequest","MonikerKind","UniquenessLevel","NotebookCellArrayChange","ExecutionSummary","vscode_languageserver_types_1","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolder_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","protocol_typeHierarchy_1","protocol_inlineValue_1","protocol_inlayHint_1","protocol_diagnostic_1","protocol_notebook_1","protocol_inlineCompletion_1","objectLiteral","Abort","Transactional","Undo","UTF8","UTF32","hasWorkDoneProgress","unknownProtocolVersion","Log","isIncremental","isFull","project","$import","$export","local","DocumentUri","integer","registrationMethod","factory","ChangeAnnotation","ChangeAnnotationIdentifier","TextDocument","EOL","SelectedCompletionInfo","InlineCompletionTriggerKind","StringValue","InlayHintKind","FormattingOptions","MarkedString","MarkupContent","TextDocumentItem","OptionalVersionedTextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentIdentifier","WorkspaceChange","MIN_VALUE","three","four","numberRange","startCharacter","endCharacter","defined","del","ignoreIfExists","recursive","ignoreIfNotExists","TextEditChangeImpl","assertChangeAnnotations","manage","ChangeAnnotations","annotations","_annotations","idOrAnnotation","nextId","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","getTextEditChange","textDocumentEdit","initChanges","optionsOrAnnotation","fromPlainText","plainText","SourceFixAll","kindOrCommandOrEdit","checkKind","Type","Parameter","createSnippet","mergeSort","leftIdx","rightIdx","content","FullTextDocument","lineCount","positionAt","offsetAt","applyEdits","sortedEdits","lastModifiedOffset","startOffset","endOffset","_uri","_languageId","_content","_lineOffsets","getLineOffsets","lineOffsets","isLineStart","mid","lineOffset","nextLineOffset","flag","argv","terminatorPosition","hasFlag","flagForceColor","getSupportLevel","haveStream","streamIsTTY","sniffFlags","noFlagForceColor","FORCE_COLOR","envForceColor","forceColor","TERM","osRelease","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","isTTY","hasBasic","has256","has16m","languageClient","SLDSContext","updateState","ContextKey","GLOBAL","DENSITY","UTILITY_CLASS","BEM","DEPRECATED","INVALID","OVERRIDE","DESIGN_TOKEN","AUTO_SUGGEST","SCOPE","SLDS_MOBILE_VALIDATION","SLDS2","WCAG","handleReportCommand","SFDX_PROJECT_FILE","CLIENT_ID","SFDX_CORE_CONFIGURATION_NAME","STATUS_BAR_MSG_TIMEOUT_MS","SHOW_CLI_SUCCESS_INFO_MSG","APEX_CODE_DEBUG_LEVEL","VISUALFORCE_DEBUG_LEVEL","TELEMETRY_ENABLED","EXTENSION_NAME","TELEMETRY_GLOBAL_VALUE","TELEMETRY_OPT_OUT_LINK","PUSH_OR_DEPLOY_ON_SAVE_ENABLED","RETRIEVE_TEST_CODE_COVERAGE","SFDX_CLI_DOWNLOAD_LINK","CONFIG_KEY","MAPPINGS","SKIPPED_CONFIGURATION","upgradeContextConfiguration","syncContextWithServer","configurationChangeHandler","globalState","contextKey","isEnable","shouldNotifyServerOfContextChange","setGlobal","telemetryService","initializeService","showTelemetryMessage","extensionHRStart","subscriptions","createLanguageClient","Commands","sendExtensionActivationEvent","sendExtensionDeactivationEvent","availableTargets","getApplicableReportFolders","targets","showQuickPick","placeHolder","canPickMany","availableOutputs","outputDirectory","outputLocation","reportLocation","updateStatusBar","generateReportParam","sourceDirectory","workspaceRoot","alwaysShow","picked","auraFolder","lwcFolder","sfdxCoreSettings","SfdxCoreSettings","getShowCLISuccessMsg","getConfigValue","getTelemetryEnabled","updateShowCLISuccessMsg","setConfigValue","getPushOrDeployOnSaveEnabled","getRetrieveTestCodeCoverage","v8debug","findBinPath","binname","workspaces","binpath","createServerOptions","createServerPromise","filteredDuplex","shouldSendPayloadToServer","javaExecutablePath","correctBinname","javaApexConfig","findJavaExecutable","extensionPath","storagePath","globalStoragePath","logFile","logStream","createWriteStream","createClientOptions","isCLITelemetryAllowed","SFDX_CONFIG_DISABLE_TELEMETRY","workspacePath","getRootWorkspacePath","localConfigPath","myLocalConfig","localValue","TelemetryService","sendException","envValue","ENV_SFDX_CLI_DISABLE_TELEMETRY","globalPath","globalConfig","globalValue","cliAllowsTelemetry","isDevMode","machineId","reporter","isTelemetryEnabled","getHasTelemetryMessageBeenShown","setTelemetryMessageShowed","showButtonText","showMessage","hrstart","startupTime","getEndHRTime","sendTelemetryEvent","extensionName","sendError","errorMessage","sendEventData","eventName","measures","sendExceptionEvent","sendErrorEvent","callstack","errorStack","hrend","TelemetryReporter","extensionId","extensionVersion","enableUniqueMetrics","toDispose","userOptIn","uniqueUserMetrics","autoClose","updateUserOptIn","TELEMETRY_CONFIG_ID","TELEMETRY_CONFIG_ENABLED_ID","createAppInsightsClient","appInsights","appInsightsClient","getCommonProperties","exceptionName","flushEventsToLogger","flushEventsToAI","getRootWorkspace","ws","hasRootWorkspace","statusBarItem","createStatusBarItem","shouldExecuteForDocument","locationOfForceApp","debugEnvVariable","enabledString","enabledNamespaces","skippedNamespaces","debuggers","debugObj","createDebugger","wildcard","namespaceList","skipped","enabledNamespace","newDebugger","registeredLoggers","logLevelFromEnv","AZURE_LOG_LEVEL","azureLogLevel","AzureLogger","AZURE_LOG_LEVELS","isAzureLogLevel","shouldEnable","setLogLevel","levelMap","createClientLogger","clientRootLogger","patchLogMethod","__webpack_module_cache__","__webpack_require__","cachedModule","loaded","__webpack_modules__","__webpack_exports__"],"sourceRoot":""}