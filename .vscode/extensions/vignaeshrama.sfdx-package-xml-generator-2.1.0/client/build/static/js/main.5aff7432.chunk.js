(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{71:function(e,t,a){e.exports=a(82)},76:function(e,t,a){},77:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(9),r=a.n(o),c=(a(76),a(26)),i=(a(77),a(114)),s=a(117),d=a(119),m=a(15),u=a(120),p=a(53),E=a.n(p),h=a(54),f=a.n(h),v=a(55),T=a.n(v),C=Object(i.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},button:{marginRight:e.spacing(1)},title:{flexGrow:1}}}));function g(){var e=C(),t=Object(n.useContext)(se).dispatch;return l.a.createElement("div",{className:e.root},l.a.createElement(s.a,{position:"static"},l.a.createElement(d.a,null,l.a.createElement(m.a,{variant:"h6",className:e.title},"Salesforce Package.xml Generator"),l.a.createElement(u.a,{color:"inherit",onClick:function(){t({type:"UPDATE_PACKAGE_XML"})},variant:"outlined",className:e.button,startIcon:l.a.createElement(E.a,null)},"Update Package.xml"),l.a.createElement(u.a,{color:"inherit",onClick:function(){t({type:"COPY_TO_CLIPBOARD"})},variant:"outlined",className:e.button,startIcon:l.a.createElement(f.a,null)},"Copy To Clipboard"),l.a.createElement(u.a,{color:"inherit",onClick:function(){console.log("handleHowTo invoked"),t({type:"HOW_TO"})},variant:"outlined",className:e.button,startIcon:l.a.createElement(T.a,null)},"How To"))))}var y=a(121),A=a(122),_=a(123),S=a(135),O=a(125),N=a(41),M=a.n(N),b=a(124),k=a(126),x=a(127),I=a(129),L=a(130),P=a(136),j=a(128),R=a(56),w=a.n(R),H=a(58),D=Object(i.a)({root:{minWidth:275},title:{fontSize:10},pos:{marginBottom:12}});function F(){var e=D(),t=Object(n.useContext)(se),a=t.globalState,o=t.dispatch,r=Object(n.useState)(""),i=Object(c.a)(r,2),s=i[0],d=i[1],m=function(e,t){e.stopPropagation(),console.log("handleMetadataClick invoked MetadataType.js"),console.log(t),o({type:"MDATA_TYPE_CLICK",payload:t})};return l.a.createElement(y.a,{className:e.root,variant:"outlined"},l.a.createElement(A.a,{titleTypographyProps:{variant:"h6"},title:"Metadata Types",action:l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{color:"secondary",onClick:function(){console.log("handleSelectAll MetadataType.js");var e=[],t=[],n=a.metadataTypes.map((function(a){return a.inFolder||a.isChildXMLName?t.push(a.id):(e.push(a.id),a.isSelected=!0,a.isIndeterminate=!1),a}));t&&t.length>0&&(console.log("skippedMetadataTypes"),console.log(t),t.sort()),e.sort(),o({type:"MDATA_TYPE_SELECT_ALL",payload:{metadataTypes:n,parNodeArr:e,skippedMetadataTypes:t}})}},l.a.createElement("strong",null,"Select All")),l.a.createElement(u.a,{onClick:function(){console.log("handleClearAll MetadataType.js"),o({type:"MDATA_TYPE_CLEAR_ALL"})}},"Clear All"))}),l.a.createElement(_.a,null,l.a.createElement(S.a,{id:"input-with-icon-textfield",variant:"outlined",placeholder:"Filter Metadata Types..",value:s,onChange:function(e){var t=e.target.value;d(t=t||"")},size:"small",InputProps:{startAdornment:l.a.createElement(O.a,{position:"start"},l.a.createElement(M.a,null))},fullWidth:!0}),l.a.createElement(H.a,{style:{maxHeight:500,overflow:"auto"}},l.a.createElement(b.a,{dense:!0,component:"nav","aria-label":"Metadata Types"},a.metadataTypes.map((function(e){return e.id.toUpperCase().includes(s.toUpperCase())?l.a.createElement(k.a,{button:!0,key:e.id,onClick:function(t){return m(t,e)},selected:e.id===a.selectedMetadataType.id,title:"Click to view available Metadata Components"},l.a.createElement(x.a,null,l.a.createElement(P.a,{edge:"start",tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":"labelId"},checked:e.isSelected,indeterminate:e.isIndeterminate,onClick:function(t){return function(e,t){e.stopPropagation(),console.log("handleCheckboxChange invoked MetadataType.js");var a=e.target.checked;t.isSelected=a,t.isIndeterminate=!1,console.log(t),o({type:"MDATA_TYPE_CHECKBOX_STATE_CHANGE",payload:t})}(t,e)}})),l.a.createElement(I.a,{primary:e.id}),l.a.createElement(L.a,null,l.a.createElement(j.a,{edge:"end","aria-label":"comments",onClick:function(t){return m(t,e)}},l.a.createElement(w.a,null)))):l.a.createElement(l.a.Fragment,null)}))))))}var X=a(131),B=a(132),U=Object(i.a)({root:{minWidth:275},title:{fontSize:10},pos:{marginBottom:12}});function G(e){var t=e.selectedMetadataType,a=(e.isShowChildren,U()),o=Object(n.useContext)(se).dispatch,r=Object(n.useState)(""),i=Object(c.a)(r,2),s=i[0],d=i[1],m=function(e){console.log("updateMetadataType invoked ComponentList.js");var t=e.children.filter((function(e){return e.isSelected}));return 0===t.length?(e.isSelected=!1,e.isIndeterminate=!1):t.length===e.children.length?(e.isSelected=!0,e.isIndeterminate=!1):(e.isSelected=!1,e.isIndeterminate=!0),e};return l.a.createElement(y.a,{className:a.root,variant:"outlined"},l.a.createElement(A.a,{titleTypographyProps:{variant:"h6"},title:""!==t.text?t.text:"Available Components",action:l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{onClick:function(){t.children=t.children.map((function(e){return e.isSelected=!0,e})),t.isSelected=!0,t.isIndeterminate=!1,o({type:"COMPONENT_CHECKBOX_STATE_CHANGE",payload:t})}},"Select All"),l.a.createElement(u.a,{onClick:function(){t.children=t.children.map((function(e){return e.isSelected=!1,e})),t.isSelected=!1,t.isIndeterminate=!1,o({type:"COMPONENT_CHECKBOX_STATE_CHANGE",payload:t})}},"Clear All"))}),l.a.createElement(_.a,null,l.a.createElement(S.a,{id:"input-with-icon-textfield",variant:"outlined",placeholder:""!==t.text?"Filter "+t.text+"..":"Filter Components..",value:s,onChange:function(e){var t=e.target.value;d(t=t||"")},size:"small",InputProps:{startAdornment:l.a.createElement(O.a,{position:"start"},l.a.createElement(M.a,null))},fullWidth:!0}),l.a.createElement(H.a,{style:{maxHeight:500,overflow:"auto"}},l.a.createElement(X.a,null,t.children.map((function(e){return e.text.toUpperCase().includes(s.toUpperCase())?l.a.createElement(B.a,{control:l.a.createElement(P.a,{value:e.id,checked:e.isSelected,onClick:function(a){return function(e,a){console.log("handleComponentClick invoked ComponentList.js");var n=a.target.checked,l=e.id;t.children=t.children.map((function(e){return l===e.id&&(e.isSelected=n),e})),t=m(t),o({type:"COMPONENT_CHECKBOX_STATE_CHANGE",payload:t})}(e,a)}}),label:e.text}):l.a.createElement(l.a.Fragment,null)}))))))}var K=a(57),Y=a(133),W=a(134),Q=a(21),z=function(e,t){switch(t.type){case"INIT_LOAD_REQUEST":return q(e);case"INIT_LOAD_RESPONSE":return J(e,t);case"MDATA_TYPE_CHECKBOX_STATE_CHANGE":return $(e,t);case"MDATA_TYPE_CLICK":return Z(e,t);case"FETCH_CHILDREN_RESPONSE":return te(e,t);case"COMPONENT_CHECKBOX_STATE_CHANGE":return ae(e,t);case"MDATA_TYPE_SELECT_ALL":return ne(e,t);case"MDATA_TYPE_CLEAR_ALL":return le(e,t);case"UPDATE_PACKAGE_XML":return oe(e,t);case"COPY_TO_CLIPBOARD":return re(e,t);case"HOW_TO":return ce(e,t);default:return e}},q=function(e){return e.vscode.postMessage({command:"INIT_LOAD_REQUEST"}),e},J=function(e,t){console.log("processInitialResponse invoked");var a=[],n=t.payload,l=n.metadataObjects,o=n.mpExistingPackageXML;return(l=V(l)).sort((function(e,t){return e.xmlName>t.xmlName?1:e.xmlName===t.xmlName?0:e.xmlName<t.xmlName?-1:void 0})),l.forEach((function(e){var t=e.xmlName,n=!!e.isChildXMLName&&e.isChildXMLName;if(o[t]){for(var l,r=o[t],c=[],i=!1,s=0;s<r.length;s++){var d=r[s];if("*"!==d){var m={id:t+"."+d,text:d,isSelected:!0};c.push(m)}else i=!0}l={id:t,text:t,children:c,inFolder:e.inFolder,isChildXMLName:n,isRefreshedFromServer:!1,isParent:!0,isSelected:i,isIndeterminate:!i},a.push(l)}else a.push({id:t,text:t,isRefreshedFromServer:!1,isChildXMLName:n,children:[],inFolder:e.inFolder,isParent:!0,isSelected:!1,isIndeterminate:!1})})),console.log(a),Object(Q.a)({},e,{metadataTypes:a})},V=function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a]),e[a].childXmlNames&&e[a].childXmlNames.forEach((function(e){var a={};a.xmlName=e,a.inFolder=!1,a.isChildXMLName=!0,t.push(a)}));return t},$=function(e,t){console.log("processMetadataTypeCheckBox invoked");var a=t.payload;console.log(a);var n=e.vscode;e=ee(e,a);var l=a,o=a.children.map((function(e){return e.isSelected=a.isSelected,e}));return a.children=o,a.isRefreshedFromServer||n.postMessage({command:"FETCH_CHILDREN_REQUEST",metadataType:a}),e.selectedMetadataType=l,Object(Q.a)({},e)},Z=function(e,t){console.log("processMetadataTypeClick invoked");var a=t.payload;console.log(a);var n=e.vscode;e=ee(e,a);var l=a;return a.isRefreshedFromServer||n.postMessage({command:"FETCH_CHILDREN_REQUEST",metadataType:a}),e.selectedMetadataType=l,Object(Q.a)({},e)},ee=function(e,t){var a=e.metadataTypes.map((function(e){return t.id===e.id?t:e}));return e.metadataTypes=a,e},te=function(e,t){console.log("processFetchChildrenResponse invoked");var a=t.payload,n=a.results,l=a.metadataType,o=[];if(n&&0!==n.length)if(Array.isArray(n))for(var r=0;r<n.length;r++){var c=n[r];console.log("listmetadata node.fullName "+c.fullName),o.push({id:l+"."+c.fullName,text:c.fullName})}else console.log("listmetadata results.fullName "+n.fullName),o.push({id:l+"."+n.fullName,text:n.fullName});else console.log("No children"),o=[];o.sort((function(e,t){return e.text>t.text?1:e.text===t.text?0:e.text<t.text?-1:void 0}));var i=e.metadataTypes.map((function(t){if(l===t.id){var a=t.isSelected;t.isRefreshedFromServer=!0;var n=t.children,r=0;t.children=o.map((function(e){if(a)e.isSelected=!0;else{var t=n.find((function(t){return t.id===e.id}));t?(e.isSelected=t.isSelected,e.isSelected&&r++):e.isSelected=!1}return e})),0!==o.length&&r===o.length&&(t.isSelected=!0,t.isIndeterminate=!1),e.selectedMetadataType=t}return t}));return e.metadataTypes=i,console.log(i),Object(Q.a)({},e)},ae=function(e,t){console.log("processComponentCheckBox invoked");var a=t.payload;return console.log(a),e.selectedMetadataType=a,Object(Q.a)({},e)},ne=function(e,t){console.log("processMetadataSelectAll invoked");var a=t.payload,n=e.vscode;return e.metadataTypes=a.metadataTypes,n.postMessage({command:"selectAll",selectedMetadata:a.parNodeArr,skippedMetadataTypes:a.skippedMetadataTypes}),console.log(e.metadataTypes),Object(Q.a)({},e)},le=function(e,t){return console.log("processMetadataClearAll invoked"),e.selectedMetadataType={id:"",children:[]},e.metadataTypes=e.metadataTypes.map((function(e){return e.isRefreshedFromServer=!1,e.children=[],e.isSelected=!1,e.isIndeterminate=!1,e})),console.log(e.metadataTypes),Object(Q.a)({},e)},oe=function(e,t){return e.vscode.postMessage({command:"UPDATE_PACKAGE_XML",metadataTypes:e.metadataTypes}),e},re=function(e,t){return e.vscode.postMessage({command:"COPY_TO_CLIPBOARD",metadataTypes:e.metadataTypes}),e},ce=function(e,t){return e.vscode.postMessage({command:"OPEN_URL",url:"https://youtu.be/uXwIMh8bK0A"}),e},ie=Object(i.a)((function(e){return{root:{flexGrow:1}}})),se=Object(n.createContext)();var de=function(){var e=ie(),t=Object(n.useReducer)(z,{vscode:me,metadataTypes:[],selectedMetadataType:{id:"",text:"",children:[]},isShowChildren:!1}),a=Object(c.a)(t,2),o=a[0],r=a[1];console.log(me);var i=document.querySelector("body").classList.contains("vscode-dark"),s=Object(K.a)({palette:{type:i?"dark":"light"}});return Object(n.useEffect)((function(){console.log("Inside INIT_LOAD_REQUEST useEffect() App.js"),r({type:"INIT_LOAD_REQUEST"})}),[o.vscode]),Object(n.useEffect)((function(){console.log("Inside messageEventListener useEffect() App.js");var e=function(e){var t=e.data;switch(console.log(e.data),t.command){case"metadataObjects":var a=t.metadataObjects;console.log("Inside App.js metadataObjects event listener "+a.length),r({type:"INIT_LOAD_RESPONSE",payload:t});break;case"listmetadata":console.log("Inside App.js listmetadata event listener"),r({type:"FETCH_CHILDREN_RESPONSE",payload:t})}};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[o.vscode]),l.a.createElement(Y.a,{theme:s},l.a.createElement(se.Provider,{value:{globalState:o,dispatch:r}},l.a.createElement("div",{className:e.root},l.a.createElement(W.a,{container:!0,spacing:1},l.a.createElement(W.a,{item:!0,xs:12},l.a.createElement(H.a,null,l.a.createElement(g,null))),l.a.createElement(W.a,{item:!0,xs:6},l.a.createElement(H.a,null,l.a.createElement(F,null))),l.a.createElement(W.a,{item:!0,xs:6},l.a.createElement(H.a,null,""!==o.selectedMetadataType.id&&l.a.createElement(G,{selectedMetadataType:o.selectedMetadataType,isShowChildren:o.isShowChildren})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.d(t,"vscode",(function(){return me}));var me=window.acquireVsCodeApi();r.a.render(l.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.5aff7432.chunk.js.map